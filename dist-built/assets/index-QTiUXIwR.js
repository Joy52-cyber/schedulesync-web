function zf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _m={exports:{}},Ol={},Em={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Gf=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Jf=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),Pd=Symbol.iterator;function Xf(e){return e===null||typeof e!="object"?null:(e=Pd&&e[Pd]||e["@@iterator"],typeof e=="function"?e:null)}var Tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pm=Object.assign,Lm={};function lr(e,t,n){this.props=e,this.context=t,this.refs=Lm,this.updater=n||Tm}lr.prototype.isReactComponent={};lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Am(){}Am.prototype=lr.prototype;function Xo(e,t,n){this.props=e,this.context=t,this.refs=Lm,this.updater=n||Tm}var Zo=Xo.prototype=new Am;Zo.constructor=Xo;Pm(Zo,lr.prototype);Zo.isPureReactComponent=!0;var Ld=Array.isArray,Rm=Object.prototype.hasOwnProperty,ec={current:null},Mm={key:!0,ref:!0,__self:!0,__source:!0};function Om(e,t,n){var r,a={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Rm.call(t,r)&&!Mm.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var o=Array(c),m=0;m<c;m++)o[m]=arguments[m+2];a.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)a[r]===void 0&&(a[r]=c[r]);return{$$typeof:ma,type:e,key:l,ref:i,props:a,_owner:ec.current}}function Zf(e,t){return{$$typeof:ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ma}function ep(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ad=/\/+/g;function ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ep(""+e.key):t.toString(36)}function Wa(e,t,n,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ma:case Bf:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+ui(i,0):r,Ld(a)?(n="",e!=null&&(n=e.replace(Ad,"$&/")+"/"),Wa(a,t,n,"",function(m){return m})):a!=null&&(tc(a)&&(a=Zf(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Ad,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",Ld(e))for(var c=0;c<e.length;c++){l=e[c];var o=r+ui(l,c);i+=Wa(l,t,n,o,a)}else if(o=Xf(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=r+ui(l,c++),i+=Wa(l,t,n,o,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function wa(e,t,n){if(e==null)return e;var r=[],a=0;return Wa(e,r,"","",function(l){return t.call(n,l,a++)}),r}function tp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},qa={transition:null},sp={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:qa,ReactCurrentOwner:ec};function Dm(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:wa,forEach:function(e,t,n){wa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wa(e,function(){t++}),t},toArray:function(e){return wa(e,function(t){return t})||[]},only:function(e){if(!tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=lr;ie.Fragment=Gf;ie.Profiler=Wf;ie.PureComponent=Xo;ie.StrictMode=Hf;ie.Suspense=Kf;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sp;ie.act=Dm;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pm({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=ec.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Rm.call(t,o)&&!Mm.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){c=Array(o);for(var m=0;m<o;m++)c[m]=arguments[m+2];r.children=c}return{$$typeof:ma,type:e.type,key:a,ref:l,props:r,_owner:i}};ie.createContext=function(e){return e={$$typeof:Vf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qf,_context:e},e.Consumer=e};ie.createElement=Om;ie.createFactory=function(e){var t=Om.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Yf,render:e}};ie.isValidElement=tc;ie.lazy=function(e){return{$$typeof:Qf,_payload:{_status:-1,_result:e},_init:tp}};ie.memo=function(e,t){return{$$typeof:Jf,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=qa.transition;qa.transition={};try{e()}finally{qa.transition=t}};ie.unstable_act=Dm;ie.useCallback=function(e,t){return it.current.useCallback(e,t)};ie.useContext=function(e){return it.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return it.current.useDeferredValue(e)};ie.useEffect=function(e,t){return it.current.useEffect(e,t)};ie.useId=function(){return it.current.useId()};ie.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return it.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};ie.useRef=function(e){return it.current.useRef(e)};ie.useState=function(e){return it.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return it.current.useTransition()};ie.version="18.3.1";Em.exports=ie;var p=Em.exports;const xe=Cm(p),np=zf({__proto__:null,default:xe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=p,ap=Symbol.for("react.element"),lp=Symbol.for("react.fragment"),ip=Object.prototype.hasOwnProperty,op=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cp={key:!0,ref:!0,__self:!0,__source:!0};function Im(e,t,n){var r,a={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ip.call(t,r)&&!cp.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:ap,type:e,key:l,ref:i,props:a,_owner:op.current}}Ol.Fragment=lp;Ol.jsx=Im;Ol.jsxs=Im;_m.exports=Ol;var s=_m.exports,Hi={},Um={exports:{}},Lt={},Fm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var B=R.length;R.push(I);e:for(;0<B;){var Z=B-1>>>1,te=R[Z];if(0<a(te,I))R[Z]=I,R[B]=te,B=Z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],B=R.pop();if(B!==I){R[0]=B;e:for(var Z=0,te=R.length,L=te>>>1;Z<L;){var U=2*(Z+1)-1,O=R[U],$=U+1,J=R[$];if(0>a(O,B))$<te&&0>a(J,O)?(R[Z]=J,R[$]=B,Z=$):(R[Z]=O,R[U]=B,Z=U);else if($<te&&0>a(J,B))R[Z]=J,R[$]=B,Z=$;else break e}}return I}function a(R,I){var B=R.sortIndex-I.sortIndex;return B!==0?B:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],m=[],u=1,x=null,h=3,j=!1,d=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var I=n(m);I!==null;){if(I.callback===null)r(m);else if(I.startTime<=R)r(m),I.sortIndex=I.expirationTime,t(o,I);else break;I=n(m)}}function k(R){if(v=!1,g(R),!d)if(n(o)!==null)d=!0,G(S);else{var I=n(m);I!==null&&X(k,I.startTime-R)}}function S(R,I){d=!1,v&&(v=!1,f(_),_=-1),j=!0;var B=h;try{for(g(I),x=n(o);x!==null&&(!(x.expirationTime>I)||R&&!V());){var Z=x.callback;if(typeof Z=="function"){x.callback=null,h=x.priorityLevel;var te=Z(x.expirationTime<=I);I=e.unstable_now(),typeof te=="function"?x.callback=te:x===n(o)&&r(o),g(I)}else r(o);x=n(o)}if(x!==null)var L=!0;else{var U=n(m);U!==null&&X(k,U.startTime-I),L=!1}return L}finally{x=null,h=B,j=!1}}var w=!1,N=null,_=-1,D=5,M=-1;function V(){return!(e.unstable_now()-M<D)}function A(){if(N!==null){var R=e.unstable_now();M=R;var I=!0;try{I=N(!0,R)}finally{I?C():(w=!1,N=null)}}else w=!1}var C;if(typeof y=="function")C=function(){y(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=A,C=function(){z.postMessage(null)}}else C=function(){b(A,0)};function G(R){N=R,w||(w=!0,C())}function X(R,I){_=b(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){d||j||(d=!0,G(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var B=h;h=I;try{return R()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return I()}finally{h=B}},e.unstable_scheduleCallback=function(R,I,B){var Z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,R={id:u++,callback:I,priorityLevel:R,startTime:B,expirationTime:te,sortIndex:-1},B>Z?(R.sortIndex=B,t(m,R),n(o)===null&&R===n(m)&&(v?(f(_),_=-1):v=!0,X(k,B-Z))):(R.sortIndex=te,t(o,R),d||j||(d=!0,G(S))),R},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(R){var I=h;return function(){var B=h;h=I;try{return R.apply(this,arguments)}finally{h=B}}}})($m);Fm.exports=$m;var dp=Fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=p,Pt=dp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zm=new Set,Wr={};function jn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Wr[e]=t,e=0;e<t.length;e++)zm.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=Object.prototype.hasOwnProperty,mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rd={},Md={};function xp(e){return Wi.call(Md,e)?!0:Wi.call(Rd,e)?!1:mp.test(e)?Md[e]=!0:(Rd[e]=!0,!1)}function hp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fp(e,t,n,r){if(t===null||typeof t>"u"||hp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sc,nc);Ve[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sc,nc);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sc,nc);Ve[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function rc(e,t,n,r){var a=Ve.hasOwnProperty(t)?Ve[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fp(t,n,a,r)&&(n=null),r||a===null?xp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _s=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),qi=Symbol.for("react.profiler"),Bm=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),Vi=Symbol.for("react.suspense"),Yi=Symbol.for("react.suspense_list"),ic=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),Hm=Symbol.for("react.offscreen"),Od=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,mi;function Er(e){if(mi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mi=t&&t[1]||""}return`
`+mi+e}var xi=!1;function hi(e,t){if(!e||xi)return"";xi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,c=l.length-1;1<=i&&0<=c&&a[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==l[c]){var o=`
`+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{xi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Er(e):""}function pp(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=hi(e.type,!1),e;case 11:return e=hi(e.type.render,!1),e;case 1:return e=hi(e.type,!0),e;default:return""}}function Ki(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Pn:return"Portal";case qi:return"Profiler";case ac:return"StrictMode";case Vi:return"Suspense";case Yi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gm:return(e.displayName||"Context")+".Consumer";case Bm:return(e._context.displayName||"Context")+".Provider";case lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ic:return t=e.displayName||null,t!==null?t:Ki(e.type)||"Memo";case Ls:t=e._payload,e=e._init;try{return Ki(e(t))}catch{}}return null}function gp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ki(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yp(e){var t=Wm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ka(e){e._valueTracker||(e._valueTracker=yp(e))}function qm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ji(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vm(e,t){t=t.checked,t!=null&&rc(e,"checked",t,!1)}function Qi(e,t){Vm(e,t);var n=Vs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xi(e,t.type,Vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Id(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xi(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Tr=Array.isArray;function Bn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vs(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ud(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Tr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vs(n)}}function Ym(e,t){var n=Vs(t.value),r=Vs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Km(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Km(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sa,Jm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bp=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(e){bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rr[t]=Rr[e]})});function Qm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rr.hasOwnProperty(e)&&Rr[e]?(""+t).trim():t+"px"}function Xm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Qm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var vp=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(e,t){if(t){if(vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function so(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ro=null,Gn=null,Hn=null;function $d(e){if(e=fa(e)){if(typeof ro!="function")throw Error(F(280));var t=e.stateNode;t&&(t=$l(t),ro(e.stateNode,e.type,t))}}function Zm(e){Gn?Hn?Hn.push(e):Hn=[e]:Gn=e}function ex(){if(Gn){var e=Gn,t=Hn;if(Hn=Gn=null,$d(e),t)for(e=0;e<t.length;e++)$d(t[e])}}function tx(e,t){return e(t)}function sx(){}var fi=!1;function nx(e,t,n){if(fi)return e(t,n);fi=!0;try{return tx(e,t,n)}finally{fi=!1,(Gn!==null||Hn!==null)&&(sx(),ex())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var r=$l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var ao=!1;if(js)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){ao=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{ao=!1}function jp(e,t,n,r,a,l,i,c,o){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(u){this.onError(u)}}var Mr=!1,cl=null,dl=!1,lo=null,wp={onError:function(e){Mr=!0,cl=e}};function Np(e,t,n,r,a,l,i,c,o){Mr=!1,cl=null,jp.apply(wp,arguments)}function kp(e,t,n,r,a,l,i,c,o){if(Np.apply(this,arguments),Mr){if(Mr){var m=cl;Mr=!1,cl=null}else throw Error(F(198));dl||(dl=!0,lo=m)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zd(e){if(wn(e)!==e)throw Error(F(188))}function Sp(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return zd(a),e;if(l===r)return zd(a),t;l=l.sibling}throw Error(F(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,c=a.child;c;){if(c===n){i=!0,n=a,r=l;break}if(c===r){i=!0,r=a,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,r=a;break}if(c===r){i=!0,r=l,n=a;break}c=c.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function ax(e){return e=Sp(e),e!==null?lx(e):null}function lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lx(e);if(t!==null)return t;e=e.sibling}return null}var ix=Pt.unstable_scheduleCallback,Bd=Pt.unstable_cancelCallback,Cp=Pt.unstable_shouldYield,_p=Pt.unstable_requestPaint,Ae=Pt.unstable_now,Ep=Pt.unstable_getCurrentPriorityLevel,cc=Pt.unstable_ImmediatePriority,ox=Pt.unstable_UserBlockingPriority,ul=Pt.unstable_NormalPriority,Tp=Pt.unstable_LowPriority,cx=Pt.unstable_IdlePriority,Dl=null,cs=null;function Pp(e){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Rp,Lp=Math.log,Ap=Math.LN2;function Rp(e){return e>>>=0,e===0?32:31-(Lp(e)/Ap|0)|0}var Ca=64,_a=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~a;c!==0?r=Pr(c):(l&=i,l!==0&&(r=Pr(l)))}else i=n&~a,i!==0?r=Pr(i):l!==0&&(r=Pr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jt(t),a=1<<n,r|=e[n],t&=~a;return r}function Mp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Op(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Jt(l),c=1<<i,o=a[i];o===-1?(!(c&n)||c&r)&&(a[i]=Mp(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function io(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dx(){var e=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),e}function pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function Dp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Jt(n),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~l}}function dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var ue=0;function ux(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mx,uc,xx,hx,fx,oo=!1,Ea=[],Us=null,Fs=null,$s=null,Yr=new Map,Kr=new Map,Rs=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(e,t){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(t.pointerId)}}function pr(e,t,n,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=fa(t),t!==null&&uc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Up(e,t,n,r,a){switch(t){case"focusin":return Us=pr(Us,e,t,n,r,a),!0;case"dragenter":return Fs=pr(Fs,e,t,n,r,a),!0;case"mouseover":return $s=pr($s,e,t,n,r,a),!0;case"pointerover":var l=a.pointerId;return Yr.set(l,pr(Yr.get(l)||null,e,t,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Kr.set(l,pr(Kr.get(l)||null,e,t,n,r,a)),!0}return!1}function px(e){var t=rn(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=rx(n),t!==null){e.blockedOn=t,fx(e.priority,function(){xx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);no=r,n.target.dispatchEvent(r),no=null}else return t=fa(n),t!==null&&uc(t),e.blockedOn=n,!1;t.shift()}return!0}function Hd(e,t,n){Va(e)&&n.delete(t)}function Fp(){oo=!1,Us!==null&&Va(Us)&&(Us=null),Fs!==null&&Va(Fs)&&(Fs=null),$s!==null&&Va($s)&&($s=null),Yr.forEach(Hd),Kr.forEach(Hd)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Fp)))}function Jr(e){function t(a){return gr(a,e)}if(0<Ea.length){gr(Ea[0],e);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Us!==null&&gr(Us,e),Fs!==null&&gr(Fs,e),$s!==null&&gr($s,e),Yr.forEach(t),Kr.forEach(t),n=0;n<Rs.length;n++)r=Rs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rs.length&&(n=Rs[0],n.blockedOn===null);)px(n),n.blockedOn===null&&Rs.shift()}var Wn=_s.ReactCurrentBatchConfig,xl=!0;function $p(e,t,n,r){var a=ue,l=Wn.transition;Wn.transition=null;try{ue=1,mc(e,t,n,r)}finally{ue=a,Wn.transition=l}}function zp(e,t,n,r){var a=ue,l=Wn.transition;Wn.transition=null;try{ue=4,mc(e,t,n,r)}finally{ue=a,Wn.transition=l}}function mc(e,t,n,r){if(xl){var a=co(e,t,n,r);if(a===null)Ci(e,t,r,hl,n),Gd(e,r);else if(Up(a,e,t,n,r))r.stopPropagation();else if(Gd(e,r),t&4&&-1<Ip.indexOf(e)){for(;a!==null;){var l=fa(a);if(l!==null&&mx(l),l=co(e,t,n,r),l===null&&Ci(e,t,r,hl,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else Ci(e,t,r,null,n)}}var hl=null;function co(e,t,n,r){if(hl=null,e=oc(r),e=rn(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hl=e,null}function gx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ep()){case cc:return 1;case ox:return 4;case ul:case Tp:return 16;case cx:return 536870912;default:return 16}default:return 16}}var Os=null,xc=null,Ya=null;function yx(){if(Ya)return Ya;var e,t=xc,n=t.length,r,a="value"in Os?Os.value:Os.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[l-r];r++);return Ya=a.slice(e,1<r?1-r:void 0)}function Ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function Wd(){return!1}function At(e){function t(n,r,a,l,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ta:Wd,this.isPropagationStopped=Wd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hc=At(ir),ha=_e({},ir,{view:0,detail:0}),Bp=At(ha),gi,yi,yr,Il=_e({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(gi=e.screenX-yr.screenX,yi=e.screenY-yr.screenY):yi=gi=0,yr=e),gi)},movementY:function(e){return"movementY"in e?e.movementY:yi}}),qd=At(Il),Gp=_e({},Il,{dataTransfer:0}),Hp=At(Gp),Wp=_e({},ha,{relatedTarget:0}),bi=At(Wp),qp=_e({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Vp=At(qp),Yp=_e({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=At(Yp),Jp=_e({},ir,{data:0}),Vd=At(Jp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zp[e])?!!t[e]:!1}function fc(){return e0}var t0=_e({},ha,{key:function(e){if(e.key){var t=Qp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?Ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0=At(t0),n0=_e({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=At(n0),r0=_e({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),a0=At(r0),l0=_e({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=At(l0),o0=_e({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=At(o0),d0=[9,13,27,32],pc=js&&"CompositionEvent"in window,Or=null;js&&"documentMode"in document&&(Or=document.documentMode);var u0=js&&"TextEvent"in window&&!Or,bx=js&&(!pc||Or&&8<Or&&11>=Or),Kd=" ",Jd=!1;function vx(e,t){switch(e){case"keyup":return d0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function m0(e,t){switch(e){case"compositionend":return jx(t);case"keypress":return t.which!==32?null:(Jd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Jd?null:e;default:return null}}function x0(e,t){if(An)return e==="compositionend"||!pc&&vx(e,t)?(e=yx(),Ya=xc=Os=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bx&&t.locale!=="ko"?null:t.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h0[e.type]:t==="textarea"}function wx(e,t,n,r){Zm(r),t=fl(t,"onChange"),0<t.length&&(n=new hc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dr=null,Qr=null;function f0(e){Rx(e,0)}function Ul(e){var t=On(e);if(qm(t))return e}function p0(e,t){if(e==="change")return t}var Nx=!1;if(js){var vi;if(js){var ji="oninput"in document;if(!ji){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),ji=typeof Xd.oninput=="function"}vi=ji}else vi=!1;Nx=vi&&(!document.documentMode||9<document.documentMode)}function Zd(){Dr&&(Dr.detachEvent("onpropertychange",kx),Qr=Dr=null)}function kx(e){if(e.propertyName==="value"&&Ul(Qr)){var t=[];wx(t,Qr,e,oc(e)),nx(f0,t)}}function g0(e,t,n){e==="focusin"?(Zd(),Dr=t,Qr=n,Dr.attachEvent("onpropertychange",kx)):e==="focusout"&&Zd()}function y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(Qr)}function b0(e,t){if(e==="click")return Ul(t)}function v0(e,t){if(e==="input"||e==="change")return Ul(t)}function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:j0;function Xr(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Wi.call(t,a)||!Xt(e[a],t[a]))return!1}return!0}function eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tu(e,t){var n=eu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eu(n)}}function Sx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cx(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w0(e){var t=Cx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sx(n.ownerDocument.documentElement,n)){if(r!==null&&gc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=tu(n,l);var i=tu(n,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N0=js&&"documentMode"in document&&11>=document.documentMode,Rn=null,uo=null,Ir=null,mo=!1;function su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mo||Rn==null||Rn!==ol(r)||(r=Rn,"selectionStart"in r&&gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Xr(Ir,r)||(Ir=r,r=fl(uo,"onSelect"),0<r.length&&(t=new hc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},wi={},_x={};js&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Fl(e){if(wi[e])return wi[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _x)return wi[e]=t[n];return e}var Ex=Fl("animationend"),Tx=Fl("animationiteration"),Px=Fl("animationstart"),Lx=Fl("transitionend"),Ax=new Map,nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){Ax.set(e,t),jn(t,[e])}for(var Ni=0;Ni<nu.length;Ni++){var ki=nu[Ni],k0=ki.toLowerCase(),S0=ki[0].toUpperCase()+ki.slice(1);Js(k0,"on"+S0)}Js(Ex,"onAnimationEnd");Js(Tx,"onAnimationIteration");Js(Px,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(Lx,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function ru(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kp(r,t,void 0,e),e.currentTarget=null}function Rx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var c=r[i],o=c.instance,m=c.currentTarget;if(c=c.listener,o!==l&&a.isPropagationStopped())break e;ru(a,c,m),l=o}else for(i=0;i<r.length;i++){if(c=r[i],o=c.instance,m=c.currentTarget,c=c.listener,o!==l&&a.isPropagationStopped())break e;ru(a,c,m),l=o}}}if(dl)throw e=lo,dl=!1,lo=null,e}function ye(e,t){var n=t[go];n===void 0&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Mx(t,e,2,!1),n.add(r))}function Si(e,t,n){var r=0;t&&(r|=4),Mx(n,e,r,t)}var La="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[La]){e[La]=!0,zm.forEach(function(n){n!=="selectionchange"&&(C0.has(n)||Si(n,!1,e),Si(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[La]||(t[La]=!0,Si("selectionchange",!1,t))}}function Mx(e,t,n,r){switch(gx(t)){case 1:var a=$p;break;case 4:a=zp;break;default:a=mc}n=a.bind(null,t,n,e),a=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ci(e,t,n,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var c=r.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===a||o.nodeType===8&&o.parentNode===a))return;i=i.return}for(;c!==null;){if(i=rn(c),i===null)return;if(o=i.tag,o===5||o===6){r=l=i;continue e}c=c.parentNode}}r=r.return}nx(function(){var m=l,u=oc(n),x=[];e:{var h=Ax.get(e);if(h!==void 0){var j=hc,d=e;switch(e){case"keypress":if(Ka(n)===0)break e;case"keydown":case"keyup":j=s0;break;case"focusin":d="focus",j=bi;break;case"focusout":d="blur",j=bi;break;case"beforeblur":case"afterblur":j=bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=a0;break;case Ex:case Tx:case Px:j=Vp;break;case Lx:j=i0;break;case"scroll":j=Bp;break;case"wheel":j=c0;break;case"copy":case"cut":case"paste":j=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Yd}var v=(t&4)!==0,b=!v&&e==="scroll",f=v?h!==null?h+"Capture":null:h;v=[];for(var y=m,g;y!==null;){g=y;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,f!==null&&(k=Vr(y,f),k!=null&&v.push(ea(y,k,g)))),b)break;y=y.return}0<v.length&&(h=new j(h,d,null,n,u),x.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",h&&n!==no&&(d=n.relatedTarget||n.fromElement)&&(rn(d)||d[ws]))break e;if((j||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,j?(d=n.relatedTarget||n.toElement,j=m,d=d?rn(d):null,d!==null&&(b=wn(d),d!==b||d.tag!==5&&d.tag!==6)&&(d=null)):(j=null,d=m),j!==d)){if(v=qd,k="onMouseLeave",f="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Yd,k="onPointerLeave",f="onPointerEnter",y="pointer"),b=j==null?h:On(j),g=d==null?h:On(d),h=new v(k,y+"leave",j,n,u),h.target=b,h.relatedTarget=g,k=null,rn(u)===m&&(v=new v(f,y+"enter",d,n,u),v.target=g,v.relatedTarget=b,k=v),b=k,j&&d)t:{for(v=j,f=d,y=0,g=v;g;g=_n(g))y++;for(g=0,k=f;k;k=_n(k))g++;for(;0<y-g;)v=_n(v),y--;for(;0<g-y;)f=_n(f),g--;for(;y--;){if(v===f||f!==null&&v===f.alternate)break t;v=_n(v),f=_n(f)}v=null}else v=null;j!==null&&au(x,h,j,v,!1),d!==null&&b!==null&&au(x,b,d,v,!0)}}e:{if(h=m?On(m):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var S=p0;else if(Qd(h))if(Nx)S=v0;else{S=y0;var w=g0}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=b0);if(S&&(S=S(e,m))){wx(x,S,n,u);break e}w&&w(e,h,m),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Xi(h,"number",h.value)}switch(w=m?On(m):window,e){case"focusin":(Qd(w)||w.contentEditable==="true")&&(Rn=w,uo=m,Ir=null);break;case"focusout":Ir=uo=Rn=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,su(x,n,u);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":su(x,n,u)}var N;if(pc)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else An?vx(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bx&&n.locale!=="ko"&&(An||_!=="onCompositionStart"?_==="onCompositionEnd"&&An&&(N=yx()):(Os=u,xc="value"in Os?Os.value:Os.textContent,An=!0)),w=fl(m,_),0<w.length&&(_=new Vd(_,e,null,n,u),x.push({event:_,listeners:w}),N?_.data=N:(N=jx(n),N!==null&&(_.data=N)))),(N=u0?m0(e,n):x0(e,n))&&(m=fl(m,"onBeforeInput"),0<m.length&&(u=new Vd("onBeforeInput","beforeinput",null,n,u),x.push({event:u,listeners:m}),u.data=N))}Rx(x,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Vr(e,n),l!=null&&r.unshift(ea(e,l,a)),l=Vr(e,t),l!=null&&r.push(ea(e,l,a))),e=e.return}return r}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function au(e,t,n,r,a){for(var l=t._reactName,i=[];n!==null&&n!==r;){var c=n,o=c.alternate,m=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&m!==null&&(c=m,a?(o=Vr(n,l),o!=null&&i.unshift(ea(n,o,c))):a||(o=Vr(n,l),o!=null&&i.push(ea(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var _0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function lu(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(E0,"")}function Aa(e,t,n){if(t=lu(t),lu(e)!==t&&n)throw Error(F(425))}function pl(){}var xo=null,ho=null;function fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var po=typeof setTimeout=="function"?setTimeout:void 0,T0=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(e){return iu.resolve(null).then(e).catch(L0)}:po;function L0(e){setTimeout(function(){throw e})}function _i(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Jr(t)}function zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ou(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),ls="__reactFiber$"+or,ta="__reactProps$"+or,ws="__reactContainer$"+or,go="__reactEvents$"+or,A0="__reactListeners$"+or,R0="__reactHandles$"+or;function rn(e){var t=e[ls];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ws]||n[ls]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ou(e);e!==null;){if(n=e[ls])return n;e=ou(e)}return t}e=n,n=e.parentNode}return null}function fa(e){return e=e[ls]||e[ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function On(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function $l(e){return e[ta]||null}var yo=[],Dn=-1;function Qs(e){return{current:e}}function be(e){0>Dn||(e.current=yo[Dn],yo[Dn]=null,Dn--)}function ge(e,t){Dn++,yo[Dn]=e.current,e.current=t}var Ys={},tt=Qs(Ys),ht=Qs(!1),hn=Ys;function Jn(e,t){var n=e.type.contextTypes;if(!n)return Ys;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ft(e){return e=e.childContextTypes,e!=null}function gl(){be(ht),be(tt)}function cu(e,t,n){if(tt.current!==Ys)throw Error(F(168));ge(tt,t),ge(ht,n)}function Ox(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(F(108,gp(e)||"Unknown",a));return _e({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,hn=tt.current,ge(tt,e),ge(ht,ht.current),!0}function du(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Ox(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,be(ht),be(tt),ge(tt,e)):be(ht),ge(ht,n)}var ps=null,zl=!1,Ei=!1;function Dx(e){ps===null?ps=[e]:ps.push(e)}function M0(e){zl=!0,Dx(e)}function Xs(){if(!Ei&&ps!==null){Ei=!0;var e=0,t=ue;try{var n=ps;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ps=null,zl=!1}catch(a){throw ps!==null&&(ps=ps.slice(e+1)),ix(cc,Xs),a}finally{ue=t,Ei=!1}}return null}var In=[],Un=0,bl=null,vl=0,Mt=[],Ot=0,fn=null,gs=1,ys="";function sn(e,t){In[Un++]=vl,In[Un++]=bl,bl=e,vl=t}function Ix(e,t,n){Mt[Ot++]=gs,Mt[Ot++]=ys,Mt[Ot++]=fn,fn=e;var r=gs;e=ys;var a=32-Jt(r)-1;r&=~(1<<a),n+=1;var l=32-Jt(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,gs=1<<32-Jt(t)+a|n<<a|r,ys=l+e}else gs=1<<l|n<<a|r,ys=e}function yc(e){e.return!==null&&(sn(e,1),Ix(e,1,0))}function bc(e){for(;e===bl;)bl=In[--Un],In[Un]=null,vl=In[--Un],In[Un]=null;for(;e===fn;)fn=Mt[--Ot],Mt[Ot]=null,ys=Mt[--Ot],Mt[Ot]=null,gs=Mt[--Ot],Mt[Ot]=null}var Tt=null,Et=null,je=!1,Kt=null;function Ux(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Et=zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:gs,overflow:ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Et=null,!0):!1;default:return!1}}function bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vo(e){if(je){var t=Et;if(t){var n=t;if(!uu(e,t)){if(bo(e))throw Error(F(418));t=zs(n.nextSibling);var r=Tt;t&&uu(e,t)?Ux(r,n):(e.flags=e.flags&-4097|2,je=!1,Tt=e)}}else{if(bo(e))throw Error(F(418));e.flags=e.flags&-4097|2,je=!1,Tt=e}}}function mu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Ra(e){if(e!==Tt)return!1;if(!je)return mu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fo(e.type,e.memoizedProps)),t&&(t=Et)){if(bo(e))throw Fx(),Error(F(418));for(;t;)Ux(e,t),t=zs(t.nextSibling)}if(mu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Tt?zs(e.stateNode.nextSibling):null;return!0}function Fx(){for(var e=Et;e;)e=zs(e.nextSibling)}function Qn(){Et=Tt=null,je=!1}function vc(e){Kt===null?Kt=[e]:Kt.push(e)}var O0=_s.ReactCurrentBatchConfig;function br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var c=a.refs;i===null?delete c[l]:c[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ma(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xu(e){var t=e._init;return t(e._payload)}function $x(e){function t(f,y){if(e){var g=f.deletions;g===null?(f.deletions=[y],f.flags|=16):g.push(y)}}function n(f,y){if(!e)return null;for(;y!==null;)t(f,y),y=y.sibling;return null}function r(f,y){for(f=new Map;y!==null;)y.key!==null?f.set(y.key,y):f.set(y.index,y),y=y.sibling;return f}function a(f,y){return f=Ws(f,y),f.index=0,f.sibling=null,f}function l(f,y,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<y?(f.flags|=2,y):g):(f.flags|=2,y)):(f.flags|=1048576,y)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,y,g,k){return y===null||y.tag!==6?(y=Oi(g,f.mode,k),y.return=f,y):(y=a(y,g),y.return=f,y)}function o(f,y,g,k){var S=g.type;return S===Ln?u(f,y,g.props.children,k,g.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ls&&xu(S)===y.type)?(k=a(y,g.props),k.ref=br(f,y,g),k.return=f,k):(k=sl(g.type,g.key,g.props,null,f.mode,k),k.ref=br(f,y,g),k.return=f,k)}function m(f,y,g,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Di(g,f.mode,k),y.return=f,y):(y=a(y,g.children||[]),y.return=f,y)}function u(f,y,g,k,S){return y===null||y.tag!==7?(y=dn(g,f.mode,k,S),y.return=f,y):(y=a(y,g),y.return=f,y)}function x(f,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Oi(""+y,f.mode,g),y.return=f,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:return g=sl(y.type,y.key,y.props,null,f.mode,g),g.ref=br(f,null,y),g.return=f,g;case Pn:return y=Di(y,f.mode,g),y.return=f,y;case Ls:var k=y._init;return x(f,k(y._payload),g)}if(Tr(y)||hr(y))return y=dn(y,f.mode,g,null),y.return=f,y;Ma(f,y)}return null}function h(f,y,g,k){var S=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:c(f,y,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Na:return g.key===S?o(f,y,g,k):null;case Pn:return g.key===S?m(f,y,g,k):null;case Ls:return S=g._init,h(f,y,S(g._payload),k)}if(Tr(g)||hr(g))return S!==null?null:u(f,y,g,k,null);Ma(f,g)}return null}function j(f,y,g,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(g)||null,c(y,f,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Na:return f=f.get(k.key===null?g:k.key)||null,o(y,f,k,S);case Pn:return f=f.get(k.key===null?g:k.key)||null,m(y,f,k,S);case Ls:var w=k._init;return j(f,y,g,w(k._payload),S)}if(Tr(k)||hr(k))return f=f.get(g)||null,u(y,f,k,S,null);Ma(y,k)}return null}function d(f,y,g,k){for(var S=null,w=null,N=y,_=y=0,D=null;N!==null&&_<g.length;_++){N.index>_?(D=N,N=null):D=N.sibling;var M=h(f,N,g[_],k);if(M===null){N===null&&(N=D);break}e&&N&&M.alternate===null&&t(f,N),y=l(M,y,_),w===null?S=M:w.sibling=M,w=M,N=D}if(_===g.length)return n(f,N),je&&sn(f,_),S;if(N===null){for(;_<g.length;_++)N=x(f,g[_],k),N!==null&&(y=l(N,y,_),w===null?S=N:w.sibling=N,w=N);return je&&sn(f,_),S}for(N=r(f,N);_<g.length;_++)D=j(N,f,_,g[_],k),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?_:D.key),y=l(D,y,_),w===null?S=D:w.sibling=D,w=D);return e&&N.forEach(function(V){return t(f,V)}),je&&sn(f,_),S}function v(f,y,g,k){var S=hr(g);if(typeof S!="function")throw Error(F(150));if(g=S.call(g),g==null)throw Error(F(151));for(var w=S=null,N=y,_=y=0,D=null,M=g.next();N!==null&&!M.done;_++,M=g.next()){N.index>_?(D=N,N=null):D=N.sibling;var V=h(f,N,M.value,k);if(V===null){N===null&&(N=D);break}e&&N&&V.alternate===null&&t(f,N),y=l(V,y,_),w===null?S=V:w.sibling=V,w=V,N=D}if(M.done)return n(f,N),je&&sn(f,_),S;if(N===null){for(;!M.done;_++,M=g.next())M=x(f,M.value,k),M!==null&&(y=l(M,y,_),w===null?S=M:w.sibling=M,w=M);return je&&sn(f,_),S}for(N=r(f,N);!M.done;_++,M=g.next())M=j(N,f,_,M.value,k),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?_:M.key),y=l(M,y,_),w===null?S=M:w.sibling=M,w=M);return e&&N.forEach(function(A){return t(f,A)}),je&&sn(f,_),S}function b(f,y,g,k){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Na:e:{for(var S=g.key,w=y;w!==null;){if(w.key===S){if(S=g.type,S===Ln){if(w.tag===7){n(f,w.sibling),y=a(w,g.props.children),y.return=f,f=y;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ls&&xu(S)===w.type){n(f,w.sibling),y=a(w,g.props),y.ref=br(f,w,g),y.return=f,f=y;break e}n(f,w);break}else t(f,w);w=w.sibling}g.type===Ln?(y=dn(g.props.children,f.mode,k,g.key),y.return=f,f=y):(k=sl(g.type,g.key,g.props,null,f.mode,k),k.ref=br(f,y,g),k.return=f,f=k)}return i(f);case Pn:e:{for(w=g.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(f,y.sibling),y=a(y,g.children||[]),y.return=f,f=y;break e}else{n(f,y);break}else t(f,y);y=y.sibling}y=Di(g,f.mode,k),y.return=f,f=y}return i(f);case Ls:return w=g._init,b(f,y,w(g._payload),k)}if(Tr(g))return d(f,y,g,k);if(hr(g))return v(f,y,g,k);Ma(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(f,y.sibling),y=a(y,g),y.return=f,f=y):(n(f,y),y=Oi(g,f.mode,k),y.return=f,f=y),i(f)):n(f,y)}return b}var Xn=$x(!0),zx=$x(!1),jl=Qs(null),wl=null,Fn=null,jc=null;function wc(){jc=Fn=wl=null}function Nc(e){var t=jl.current;be(jl),e._currentValue=t}function jo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){wl=e,jc=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(jc!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(wl===null)throw Error(F(308));Fn=e,wl.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var an=null;function kc(e){an===null?an=[e]:an.push(e)}function Bx(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,kc(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var As=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ns(e,n)}return a=r.interleaved,a===null?(t.next=t,kc(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ns(e,n)}function Ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}function hu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nl(e,t,n,r){var a=e.updateQueue;As=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var o=c,m=o.next;o.next=null,i===null?l=m:i.next=m,i=o;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==i&&(c===null?u.firstBaseUpdate=m:c.next=m,u.lastBaseUpdate=o))}if(l!==null){var x=a.baseState;i=0,u=m=o=null,c=l;do{var h=c.lane,j=c.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:j,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var d=e,v=c;switch(h=t,j=n,v.tag){case 1:if(d=v.payload,typeof d=="function"){x=d.call(j,x,h);break e}x=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=v.payload,h=typeof d=="function"?d.call(j,x,h):d,h==null)break e;x=_e({},x,h);break e;case 2:As=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[c]:h.push(c))}else j={eventTime:j,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(m=u=j,o=x):u=u.next=j,i|=h;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;h=c,c=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(o=x),a.baseState=o,a.firstBaseUpdate=m,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);gn|=i,e.lanes=i,e.memoizedState=x}}function fu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(F(191,a));a.call(r)}}}var pa={},ds=Qs(pa),sa=Qs(pa),na=Qs(pa);function ln(e){if(e===pa)throw Error(F(174));return e}function Cc(e,t){switch(ge(na,t),ge(sa,e),ge(ds,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eo(t,e)}be(ds),ge(ds,t)}function Zn(){be(ds),be(sa),be(na)}function Hx(e){ln(na.current);var t=ln(ds.current),n=eo(t,e.type);t!==n&&(ge(sa,e),ge(ds,n))}function _c(e){sa.current===e&&(be(ds),be(sa))}var ke=Qs(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ti=[];function Ec(){for(var e=0;e<Ti.length;e++)Ti[e]._workInProgressVersionPrimary=null;Ti.length=0}var Qa=_s.ReactCurrentDispatcher,Pi=_s.ReactCurrentBatchConfig,pn=0,Se=null,$e=null,Be=null,Sl=!1,Ur=!1,ra=0,D0=0;function Ke(){throw Error(F(321))}function Tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function Pc(e,t,n,r,a,l){if(pn=l,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=e===null||e.memoizedState===null?$0:z0,e=n(r,a),Ur){l=0;do{if(Ur=!1,ra=0,25<=l)throw Error(F(301));l+=1,Be=$e=null,t.updateQueue=null,Qa.current=B0,e=n(r,a)}while(Ur)}if(Qa.current=Cl,t=$e!==null&&$e.next!==null,pn=0,Be=$e=Se=null,Sl=!1,t)throw Error(F(300));return e}function Lc(){var e=ra!==0;return ra=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Se.memoizedState=Be=e:Be=Be.next=e,Be}function $t(){if($e===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Be===null?Se.memoizedState:Be.next;if(t!==null)Be=t,$e=e;else{if(e===null)throw Error(F(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Be===null?Se.memoizedState=Be=e:Be=Be.next=e}return Be}function aa(e,t){return typeof t=="function"?t(e):t}function Li(e){var t=$t(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=$e,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var c=i=null,o=null,m=l;do{var u=m.lane;if((pn&u)===u)o!==null&&(o=o.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var x={lane:u,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};o===null?(c=o=x,i=r):o=o.next=x,Se.lanes|=u,gn|=u}m=m.next}while(m!==null&&m!==l);o===null?i=r:o.next=c,Xt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do l=a.lane,Se.lanes|=l,gn|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ai(e){var t=$t(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Xt(l,t.memoizedState)||(xt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Wx(){}function qx(e,t){var n=Se,r=$t(),a=t(),l=!Xt(r.memoizedState,a);if(l&&(r.memoizedState=a,xt=!0),r=r.queue,Ac(Kx.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,la(9,Yx.bind(null,n,r,a,t),void 0,null),Ge===null)throw Error(F(349));pn&30||Vx(n,t,a)}return a}function Vx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yx(e,t,n,r){t.value=n,t.getSnapshot=r,Jx(t)&&Qx(e)}function Kx(e,t,n){return n(function(){Jx(t)&&Qx(e)})}function Jx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function Qx(e){var t=Ns(e,1);t!==null&&Qt(t,e,1,-1)}function pu(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},t.queue=e,e=e.dispatch=F0.bind(null,Se,e),[t.memoizedState,e]}function la(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xx(){return $t().memoizedState}function Xa(e,t,n,r){var a=as();Se.flags|=e,a.memoizedState=la(1|t,n,void 0,r===void 0?null:r)}function Bl(e,t,n,r){var a=$t();r=r===void 0?null:r;var l=void 0;if($e!==null){var i=$e.memoizedState;if(l=i.destroy,r!==null&&Tc(r,i.deps)){a.memoizedState=la(t,n,l,r);return}}Se.flags|=e,a.memoizedState=la(1|t,n,l,r)}function gu(e,t){return Xa(8390656,8,e,t)}function Ac(e,t){return Bl(2048,8,e,t)}function Zx(e,t){return Bl(4,2,e,t)}function eh(e,t){return Bl(4,4,e,t)}function th(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sh(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4,4,th.bind(null,t,e),n)}function Rc(){}function nh(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ah(e,t,n){return pn&21?(Xt(n,t)||(n=dx(),Se.lanes|=n,gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function I0(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Pi.transition;Pi.transition={};try{e(!1),t()}finally{ue=n,Pi.transition=r}}function lh(){return $t().memoizedState}function U0(e,t,n){var r=Hs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ih(e))oh(t,n);else if(n=Bx(e,t,n,r),n!==null){var a=at();Qt(n,e,r,a),ch(n,t,r)}}function F0(e,t,n){var r=Hs(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ih(e))oh(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,n);if(a.hasEagerState=!0,a.eagerState=c,Xt(c,i)){var o=t.interleaved;o===null?(a.next=a,kc(t)):(a.next=o.next,o.next=a),t.interleaved=a;return}}catch{}finally{}n=Bx(e,t,a,r),n!==null&&(a=at(),Qt(n,e,r,a),ch(n,t,r))}}function ih(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function oh(e,t){Ur=Sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ch(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}var Cl={readContext:Ft,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},$0={readContext:Ft,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:gu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xa(4194308,4,th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xa(4,2,e,t)},useMemo:function(e,t){var n=as();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U0.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:Rc,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=I0.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,a=as();if(je){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Ge===null)throw Error(F(349));pn&30||Vx(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,gu(Kx.bind(null,r,l,e),[e]),r.flags|=2048,la(9,Yx.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=as(),t=Ge.identifierPrefix;if(je){var n=ys,r=gs;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ra++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=D0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z0={readContext:Ft,useCallback:nh,useContext:Ft,useEffect:Ac,useImperativeHandle:sh,useInsertionEffect:Zx,useLayoutEffect:eh,useMemo:rh,useReducer:Li,useRef:Xx,useState:function(){return Li(aa)},useDebugValue:Rc,useDeferredValue:function(e){var t=$t();return ah(t,$e.memoizedState,e)},useTransition:function(){var e=Li(aa)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Wx,useSyncExternalStore:qx,useId:lh,unstable_isNewReconciler:!1},B0={readContext:Ft,useCallback:nh,useContext:Ft,useEffect:Ac,useImperativeHandle:sh,useInsertionEffect:Zx,useLayoutEffect:eh,useMemo:rh,useReducer:Ai,useRef:Xx,useState:function(){return Ai(aa)},useDebugValue:Rc,useDeferredValue:function(e){var t=$t();return $e===null?t.memoizedState=e:ah(t,$e.memoizedState,e)},useTransition:function(){var e=Ai(aa)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Wx,useSyncExternalStore:qx,useId:lh,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gl={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),a=Hs(e),l=bs(r,a);l.payload=t,n!=null&&(l.callback=n),t=Bs(e,l,a),t!==null&&(Qt(t,e,a,r),Ja(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),a=Hs(e),l=bs(r,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Bs(e,l,a),t!==null&&(Qt(t,e,a,r),Ja(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=Hs(e),a=bs(n,r);a.tag=2,t!=null&&(a.callback=t),t=Bs(e,a,r),t!==null&&(Qt(t,e,r,n),Ja(t,e,r))}};function yu(e,t,n,r,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Xr(n,r)||!Xr(a,l):!0}function dh(e,t,n){var r=!1,a=Ys,l=t.contextType;return typeof l=="object"&&l!==null?l=Ft(l):(a=ft(t)?hn:tt.current,r=t.contextTypes,l=(r=r!=null)?Jn(e,a):Ys),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function bu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gl.enqueueReplaceState(t,t.state,null)}function No(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Sc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Ft(l):(l=ft(t)?hn:tt.current,a.context=Jn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(wo(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gl.enqueueReplaceState(a,a.state,null),Nl(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function er(e,t){try{var n="",r=t;do n+=pp(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ri(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ko(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G0=typeof WeakMap=="function"?WeakMap:Map;function uh(e,t,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){El||(El=!0,Mo=r),ko(e,t)},n}function mh(e,t,n){n=bs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ko(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ko(e,t),typeof r!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function vu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G0;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=ng.bind(null,e,t,n),t.then(e,e))}function ju(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wu(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bs(-1,1),t.tag=2,Bs(n,t,1))),n.lanes|=1),e)}var H0=_s.ReactCurrentOwner,xt=!1;function rt(e,t,n,r){t.child=e===null?zx(t,null,n,r):Xn(t,e.child,n,r)}function Nu(e,t,n,r,a){n=n.render;var l=t.ref;return qn(t,a),r=Pc(e,t,n,r,l,a),n=Lc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ks(e,t,a)):(je&&n&&yc(t),t.flags|=1,rt(e,t,r,a),t.child)}function ku(e,t,n,r,a){if(e===null){var l=n.type;return typeof l=="function"&&!zc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,xh(e,t,l,r,a)):(e=sl(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(i,r)&&e.ref===t.ref)return ks(e,t,a)}return t.flags|=1,e=Ws(l,r),e.ref=t.ref,e.return=t,t.child=e}function xh(e,t,n,r,a){if(e!==null){var l=e.memoizedProps;if(Xr(l,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,ks(e,t,a)}return So(e,t,n,r,a)}function hh(e,t,n){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(zn,Ct),Ct|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(zn,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ge(zn,Ct),Ct|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ge(zn,Ct),Ct|=r;return rt(e,t,a,n),t.child}function fh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,a){var l=ft(n)?hn:tt.current;return l=Jn(t,l),qn(t,a),n=Pc(e,t,n,r,l,a),r=Lc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ks(e,t,a)):(je&&r&&yc(t),t.flags|=1,rt(e,t,n,a),t.child)}function Su(e,t,n,r,a){if(ft(n)){var l=!0;yl(t)}else l=!1;if(qn(t,a),t.stateNode===null)Za(e,t),dh(t,n,r),No(t,n,r,a),r=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=Ft(m):(m=ft(n)?hn:tt.current,m=Jn(t,m));var u=n.getDerivedStateFromProps,x=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==r||o!==m)&&bu(t,i,r,m),As=!1;var h=t.memoizedState;i.state=h,Nl(t,r,i,a),o=t.memoizedState,c!==r||h!==o||ht.current||As?(typeof u=="function"&&(wo(t,n,u,r),o=t.memoizedState),(c=As||yu(t,n,c,r,h,o,m))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=m,r=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Gx(e,t),c=t.memoizedProps,m=t.type===t.elementType?c:Vt(t.type,c),i.props=m,x=t.pendingProps,h=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=Ft(o):(o=ft(n)?hn:tt.current,o=Jn(t,o));var j=n.getDerivedStateFromProps;(u=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==x||h!==o)&&bu(t,i,r,o),As=!1,h=t.memoizedState,i.state=h,Nl(t,r,i,a);var d=t.memoizedState;c!==x||h!==d||ht.current||As?(typeof j=="function"&&(wo(t,n,j,r),d=t.memoizedState),(m=As||yu(t,n,m,r,h,d,o)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,d,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,d,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=o,r=m):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,l,a)}function Co(e,t,n,r,a,l){fh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&du(t,n,!1),ks(e,t,l);r=t.stateNode,H0.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Xn(t,e.child,null,l),t.child=Xn(t,null,c,l)):rt(e,t,c,l),t.memoizedState=r.state,a&&du(t,n,!0),t.child}function ph(e){var t=e.stateNode;t.pendingContext?cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cu(e,t.context,!1),Cc(e,t.containerInfo)}function Cu(e,t,n,r,a){return Qn(),vc(a),t.flags|=256,rt(e,t,n,r),t.child}var _o={dehydrated:null,treeContext:null,retryLane:0};function Eo(e){return{baseLanes:e,cachePool:null,transitions:null}}function gh(e,t,n){var r=t.pendingProps,a=ke.current,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ge(ke,a&1),e===null)return vo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ql(i,r,0,null),e=dn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Eo(n),t.memoizedState=_o,e):Mc(t,i));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return W0(e,t,i,r,c,a,n);if(l){l=r.fallback,i=t.mode,a=e.child,c=a.sibling;var o={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Ws(a,o),r.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=Ws(c,l):(l=dn(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Eo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=_o,r}return l=e.child,e=l.sibling,r=Ws(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mc(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&vc(r),Xn(t,e.child,null,n),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W0(e,t,n,r,a,l,i){if(n)return t.flags&256?(t.flags&=-257,r=Ri(Error(F(422))),Oa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=ql({mode:"visible",children:r.children},a,0,null),l=dn(l,a,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Xn(t,e.child,null,i),t.child.memoizedState=Eo(i),t.memoizedState=_o,l);if(!(t.mode&1))return Oa(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(F(419)),r=Ri(l,r,void 0),Oa(e,t,i,r)}if(c=(i&e.childLanes)!==0,xt||c){if(r=Ge,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Ns(e,a),Qt(r,e,a,-1))}return $c(),r=Ri(Error(F(421))),Oa(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=rg.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Et=zs(a.nextSibling),Tt=t,je=!0,Kt=null,e!==null&&(Mt[Ot++]=gs,Mt[Ot++]=ys,Mt[Ot++]=fn,gs=e.id,ys=e.overflow,fn=t),t=Mc(t,r.children),t.flags|=4096,t)}function _u(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jo(e.return,t,n)}function Mi(e,t,n,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function yh(e,t,n){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(rt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_u(e,n,t);else if(e.tag===19)_u(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&kl(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Mi(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kl(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Mi(t,!0,n,null,l);break;case"together":Mi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ks(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Ws(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ws(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q0(e,t,n){switch(t.tag){case 3:ph(t),Qn();break;case 5:Hx(t);break;case 1:ft(t.type)&&yl(t);break;case 4:Cc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ge(jl,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?gh(e,t,n):(ge(ke,ke.current&1),e=ks(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yh(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,hh(e,t,n)}return ks(e,t,n)}var bh,To,vh,jh;bh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};To=function(){};vh=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ln(ds.current);var l=null;switch(n){case"input":a=Ji(e,a),r=Ji(e,r),l=[];break;case"select":a=_e({},a,{value:void 0}),r=_e({},r,{value:void 0}),l=[];break;case"textarea":a=Zi(e,a),r=Zi(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}to(n,r);var i;n=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var c=a[m];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Wr.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var o=r[m];if(c=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&o!==c&&(o!=null||c!=null))if(m==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(l||(l=[]),l.push(m,n)),n=o;else m==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(m,o)):m==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(m,""+o):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(m)?(o!=null&&m==="onScroll"&&ye("scroll",e),l||c===o||(l=[])):(l=l||[]).push(m,o))}n&&(l=l||[]).push("style",n);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};jh=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function V0(e,t,n){var r=t.pendingProps;switch(bc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return ft(t.type)&&gl(),Je(t),null;case 3:return r=t.stateNode,Zn(),be(ht),be(tt),Ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kt!==null&&(Io(Kt),Kt=null))),To(e,t),Je(t),null;case 5:_c(t);var a=ln(na.current);if(n=t.type,e!==null&&t.stateNode!=null)vh(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Je(t),null}if(e=ln(ds.current),Ra(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ls]=t,r[ta]=l,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)ye(Lr[a],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Dd(r,l),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ye("invalid",r);break;case"textarea":Ud(r,l),ye("invalid",r)}to(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&Aa(r.textContent,c,e),a=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Aa(r.textContent,c,e),a=["children",""+c]):Wr.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&ye("scroll",r)}switch(n){case"input":ka(r),Id(r,l,!0);break;case"textarea":ka(r),Fd(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=pl)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Km(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ls]=t,e[ta]=r,bh(e,t,!1,!1),t.stateNode=e;e:{switch(i=so(n,r),n){case"dialog":ye("cancel",e),ye("close",e),a=r;break;case"iframe":case"object":case"embed":ye("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)ye(Lr[a],e);a=r;break;case"source":ye("error",e),a=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),a=r;break;case"details":ye("toggle",e),a=r;break;case"input":Dd(e,r),a=Ji(e,r),ye("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=_e({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Ud(e,r),a=Zi(e,r),ye("invalid",e);break;default:a=r}to(n,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?Xm(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Jm(e,o)):l==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&qr(e,o):typeof o=="number"&&qr(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Wr.hasOwnProperty(l)?o!=null&&l==="onScroll"&&ye("scroll",e):o!=null&&rc(e,l,o,i))}switch(n){case"input":ka(e),Id(e,r,!1);break;case"textarea":ka(e),Fd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vs(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Bn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Bn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)jh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=ln(na.current),ln(ds.current),Ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[ls]=t,(l=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=t,t.stateNode=r}return Je(t),null;case 13:if(be(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Et!==null&&t.mode&1&&!(t.flags&128))Fx(),Qn(),t.flags|=98560,l=!1;else if(l=Ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[ls]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),l=!1}else Kt!==null&&(Io(Kt),Kt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?ze===0&&(ze=3):$c())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Zn(),To(e,t),e===null&&Zr(t.stateNode.containerInfo),Je(t),null;case 10:return Nc(t.type._context),Je(t),null;case 17:return ft(t.type)&&gl(),Je(t),null;case 19:if(be(ke),l=t.memoizedState,l===null)return Je(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)vr(l,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=kl(e),i!==null){for(t.flags|=128,vr(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ae()>tr&&(t.flags|=128,r=!0,vr(l,!1),t.lanes=4194304)}else{if(!r)if(e=kl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!je)return Je(t),null}else 2*Ae()-l.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,vr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ae(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return Fc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Y0(e,t){switch(bc(t),t.tag){case 1:return ft(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),be(ht),be(tt),Ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _c(t),null;case 13:if(be(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ke),null;case 4:return Zn(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var Da=!1,Xe=!1,K0=typeof WeakSet=="function"?WeakSet:Set,Y=null;function $n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function Po(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var Eu=!1;function J0(e,t){if(xo=xl,e=Cx(),gc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,m=0,u=0,x=e,h=null;t:for(;;){for(var j;x!==n||a!==0&&x.nodeType!==3||(c=i+a),x!==l||r!==0&&x.nodeType!==3||(o=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(j=x.firstChild)!==null;)h=x,x=j;for(;;){if(x===e)break t;if(h===n&&++m===a&&(c=i),h===l&&++u===r&&(o=i),(j=x.nextSibling)!==null)break;x=h,h=x.parentNode}x=j}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(ho={focusedElem:e,selectionRange:n},xl=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var d=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var v=d.memoizedProps,b=d.memoizedState,f=t.stateNode,y=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vt(t.type,v),b);f.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(k){Ee(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return d=Eu,Eu=!1,d}function Fr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Po(t,n,l)}a=a.next}while(a!==r)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ls],delete t[ta],delete t[go],delete t[A0],delete t[R0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nh(e){return e.tag===5||e.tag===3||e.tag===4}function Tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Ao(e,t,n),e=e.sibling;e!==null;)Ao(e,t,n),e=e.sibling}function Ro(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ro(e,t,n),e=e.sibling;e!==null;)Ro(e,t,n),e=e.sibling}var He=null,Yt=!1;function Ps(e,t,n){for(n=n.child;n!==null;)kh(e,t,n),n=n.sibling}function kh(e,t,n){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:Xe||$n(n,t);case 6:var r=He,a=Yt;He=null,Ps(e,t,n),He=r,Yt=a,He!==null&&(Yt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Yt?(e=He,n=n.stateNode,e.nodeType===8?_i(e.parentNode,n):e.nodeType===1&&_i(e,n),Jr(e)):_i(He,n.stateNode));break;case 4:r=He,a=Yt,He=n.stateNode.containerInfo,Yt=!0,Ps(e,t,n),He=r,Yt=a;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Po(n,t,i),a=a.next}while(a!==r)}Ps(e,t,n);break;case 1:if(!Xe&&($n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ee(n,t,c)}Ps(e,t,n);break;case 21:Ps(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Ps(e,t,n),Xe=r):Ps(e,t,n);break;default:Ps(e,t,n)}}function Pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K0),t.forEach(function(r){var a=ag.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:He=c.stateNode,Yt=!1;break e;case 3:He=c.stateNode.containerInfo,Yt=!0;break e;case 4:He=c.stateNode.containerInfo,Yt=!0;break e}c=c.return}if(He===null)throw Error(F(160));kh(l,i,a),He=null,Yt=!1;var o=a.alternate;o!==null&&(o.return=null),a.return=null}catch(m){Ee(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}function Sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),ns(e),r&4){try{Fr(3,e,e.return),Hl(3,e)}catch(v){Ee(e,e.return,v)}try{Fr(5,e,e.return)}catch(v){Ee(e,e.return,v)}}break;case 1:qt(t,e),ns(e),r&512&&n!==null&&$n(n,n.return);break;case 5:if(qt(t,e),ns(e),r&512&&n!==null&&$n(n,n.return),e.flags&32){var a=e.stateNode;try{qr(a,"")}catch(v){Ee(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Vm(a,l),so(c,i);var m=so(c,l);for(i=0;i<o.length;i+=2){var u=o[i],x=o[i+1];u==="style"?Xm(a,x):u==="dangerouslySetInnerHTML"?Jm(a,x):u==="children"?qr(a,x):rc(a,u,x,m)}switch(c){case"input":Qi(a,l);break;case"textarea":Ym(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?Bn(a,!!l.multiple,j,!1):h!==!!l.multiple&&(l.defaultValue!=null?Bn(a,!!l.multiple,l.defaultValue,!0):Bn(a,!!l.multiple,l.multiple?[]:"",!1))}a[ta]=l}catch(v){Ee(e,e.return,v)}}break;case 6:if(qt(t,e),ns(e),r&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(v){Ee(e,e.return,v)}}break;case 3:if(qt(t,e),ns(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(v){Ee(e,e.return,v)}break;case 4:qt(t,e),ns(e);break;case 13:qt(t,e),ns(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ic=Ae())),r&4&&Pu(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(m=Xe)||u,qt(t,e),Xe=m):qt(t,e),ns(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!u&&e.mode&1)for(Y=e,u=e.child;u!==null;){for(x=Y=u;Y!==null;){switch(h=Y,j=h.child,h.tag){case 0:case 11:case 14:case 15:Fr(4,h,h.return);break;case 1:$n(h,h.return);var d=h.stateNode;if(typeof d.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(v){Ee(r,n,v)}}break;case 5:$n(h,h.return);break;case 22:if(h.memoizedState!==null){Au(x);continue}}j!==null?(j.return=h,Y=j):Au(x)}u=u.sibling}e:for(u=null,x=e;;){if(x.tag===5){if(u===null){u=x;try{a=x.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=x.stateNode,o=x.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Qm("display",i))}catch(v){Ee(e,e.return,v)}}}else if(x.tag===6){if(u===null)try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(v){Ee(e,e.return,v)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;u===x&&(u=null),x=x.return}u===x&&(u=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:qt(t,e),ns(e),r&4&&Pu(e);break;case 21:break;default:qt(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nh(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(qr(a,""),r.flags&=-33);var l=Tu(e);Ro(e,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,c=Tu(e);Ao(e,c,i);break;default:throw Error(F(161))}}catch(o){Ee(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q0(e,t,n){Y=e,Ch(e)}function Ch(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var a=Y,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Da;if(!i){var c=a.alternate,o=c!==null&&c.memoizedState!==null||Xe;c=Da;var m=Xe;if(Da=i,(Xe=o)&&!m)for(Y=a;Y!==null;)i=Y,o=i.child,i.tag===22&&i.memoizedState!==null?Ru(a):o!==null?(o.return=i,Y=o):Ru(a);for(;l!==null;)Y=l,Ch(l),l=l.sibling;Y=a,Da=c,Xe=m}Lu(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Y=l):Lu(e)}}function Lu(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&fu(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fu(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var u=m.memoizedState;if(u!==null){var x=u.dehydrated;x!==null&&Jr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Xe||t.flags&512&&Lo(t)}catch(h){Ee(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Au(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Ru(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(o){Ee(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(o){Ee(t,a,o)}}var l=t.return;try{Lo(t)}catch(o){Ee(t,l,o)}break;case 5:var i=t.return;try{Lo(t)}catch(o){Ee(t,i,o)}}}catch(o){Ee(t,t.return,o)}if(t===e){Y=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Y=c;break}Y=t.return}}var X0=Math.ceil,_l=_s.ReactCurrentDispatcher,Oc=_s.ReactCurrentOwner,Ut=_s.ReactCurrentBatchConfig,ce=0,Ge=null,Ue=null,We=0,Ct=0,zn=Qs(0),ze=0,ia=null,gn=0,Wl=0,Dc=0,$r=null,mt=null,Ic=0,tr=1/0,fs=null,El=!1,Mo=null,Gs=null,Ia=!1,Ds=null,Tl=0,zr=0,Oo=null,el=-1,tl=0;function at(){return ce&6?Ae():el!==-1?el:el=Ae()}function Hs(e){return e.mode&1?ce&2&&We!==0?We&-We:O0.transition!==null?(tl===0&&(tl=dx()),tl):(e=ue,e!==0||(e=window.event,e=e===void 0?16:gx(e.type)),e):1}function Qt(e,t,n,r){if(50<zr)throw zr=0,Oo=null,Error(F(185));xa(e,n,r),(!(ce&2)||e!==Ge)&&(e===Ge&&(!(ce&2)&&(Wl|=n),ze===4&&Ms(e,We)),pt(e,r),n===1&&ce===0&&!(t.mode&1)&&(tr=Ae()+500,zl&&Xs()))}function pt(e,t){var n=e.callbackNode;Op(e,t);var r=ml(e,e===Ge?We:0);if(r===0)n!==null&&Bd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bd(n),t===1)e.tag===0?M0(Mu.bind(null,e)):Dx(Mu.bind(null,e)),P0(function(){!(ce&6)&&Xs()}),n=null;else{switch(ux(r)){case 1:n=cc;break;case 4:n=ox;break;case 16:n=ul;break;case 536870912:n=cx;break;default:n=ul}n=Mh(n,_h.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _h(e,t){if(el=-1,tl=0,ce&6)throw Error(F(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var r=ml(e,e===Ge?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pl(e,r);else{t=r;var a=ce;ce|=2;var l=Th();(Ge!==e||We!==t)&&(fs=null,tr=Ae()+500,cn(e,t));do try{tg();break}catch(c){Eh(e,c)}while(!0);wc(),_l.current=l,ce=a,Ue!==null?t=0:(Ge=null,We=0,t=ze)}if(t!==0){if(t===2&&(a=io(e),a!==0&&(r=a,t=Do(e,a))),t===1)throw n=ia,cn(e,0),Ms(e,r),pt(e,Ae()),n;if(t===6)Ms(e,r);else{if(a=e.current.alternate,!(r&30)&&!Z0(a)&&(t=Pl(e,r),t===2&&(l=io(e),l!==0&&(r=l,t=Do(e,l))),t===1))throw n=ia,cn(e,0),Ms(e,r),pt(e,Ae()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:nn(e,mt,fs);break;case 3:if(Ms(e,r),(r&130023424)===r&&(t=Ic+500-Ae(),10<t)){if(ml(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=po(nn.bind(null,e,mt,fs),t);break}nn(e,mt,fs);break;case 4:if(Ms(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Jt(r);l=1<<i,i=t[i],i>a&&(a=i),r&=~l}if(r=a,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X0(r/1960))-r,10<r){e.timeoutHandle=po(nn.bind(null,e,mt,fs),r);break}nn(e,mt,fs);break;case 5:nn(e,mt,fs);break;default:throw Error(F(329))}}}return pt(e,Ae()),e.callbackNode===n?_h.bind(null,e):null}function Do(e,t){var n=$r;return e.current.memoizedState.isDehydrated&&(cn(e,t).flags|=256),e=Pl(e,t),e!==2&&(t=mt,mt=n,t!==null&&Io(t)),e}function Io(e){mt===null?mt=e:mt.push.apply(mt,e)}function Z0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!Xt(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t){for(t&=~Dc,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),r=1<<n;e[n]=-1,t&=~r}}function Mu(e){if(ce&6)throw Error(F(327));Vn();var t=ml(e,0);if(!(t&1))return pt(e,Ae()),null;var n=Pl(e,t);if(e.tag!==0&&n===2){var r=io(e);r!==0&&(t=r,n=Do(e,r))}if(n===1)throw n=ia,cn(e,0),Ms(e,t),pt(e,Ae()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,mt,fs),pt(e,Ae()),null}function Uc(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(tr=Ae()+500,zl&&Xs())}}function yn(e){Ds!==null&&Ds.tag===0&&!(ce&6)&&Vn();var t=ce;ce|=1;var n=Ut.transition,r=ue;try{if(Ut.transition=null,ue=1,e)return e()}finally{ue=r,Ut.transition=n,ce=t,!(ce&6)&&Xs()}}function Fc(){Ct=zn.current,be(zn)}function cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,T0(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(bc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:Zn(),be(ht),be(tt),Ec();break;case 5:_c(r);break;case 4:Zn();break;case 13:be(ke);break;case 19:be(ke);break;case 10:Nc(r.type._context);break;case 22:case 23:Fc()}n=n.return}if(Ge=e,Ue=e=Ws(e.current,null),We=Ct=t,ze=0,ia=null,Dc=Wl=gn=0,mt=$r=null,an!==null){for(t=0;t<an.length;t++)if(n=an[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}n.pending=r}an=null}return e}function Eh(e,t){do{var n=Ue;try{if(wc(),Qa.current=Cl,Sl){for(var r=Se.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Sl=!1}if(pn=0,Be=$e=Se=null,Ur=!1,ra=0,Oc.current=null,n===null||n.return===null){ze=1,ia=t,Ue=null;break}e:{var l=e,i=n.return,c=n,o=t;if(t=We,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o,u=c,x=u.tag;if(!(u.mode&1)&&(x===0||x===11||x===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var j=ju(i);if(j!==null){j.flags&=-257,wu(j,i,c,l,t),j.mode&1&&vu(l,m,t),t=j,o=m;var d=t.updateQueue;if(d===null){var v=new Set;v.add(o),t.updateQueue=v}else d.add(o);break e}else{if(!(t&1)){vu(l,m,t),$c();break e}o=Error(F(426))}}else if(je&&c.mode&1){var b=ju(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),wu(b,i,c,l,t),vc(er(o,c));break e}}l=o=er(o,c),ze!==4&&(ze=2),$r===null?$r=[l]:$r.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=uh(l,o,t);hu(l,f);break e;case 1:c=o;var y=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gs===null||!Gs.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=mh(l,c,t);hu(l,k);break e}}l=l.return}while(l!==null)}Lh(n)}catch(S){t=S,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Th(){var e=_l.current;return _l.current=Cl,e===null?Cl:e}function $c(){(ze===0||ze===3||ze===2)&&(ze=4),Ge===null||!(gn&268435455)&&!(Wl&268435455)||Ms(Ge,We)}function Pl(e,t){var n=ce;ce|=2;var r=Th();(Ge!==e||We!==t)&&(fs=null,cn(e,t));do try{eg();break}catch(a){Eh(e,a)}while(!0);if(wc(),ce=n,_l.current=r,Ue!==null)throw Error(F(261));return Ge=null,We=0,ze}function eg(){for(;Ue!==null;)Ph(Ue)}function tg(){for(;Ue!==null&&!Cp();)Ph(Ue)}function Ph(e){var t=Rh(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Lh(e):Ue=t,Oc.current=null}function Lh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y0(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ue=null;return}}else if(n=V0(n,t,Ct),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);ze===0&&(ze=5)}function nn(e,t,n){var r=ue,a=Ut.transition;try{Ut.transition=null,ue=1,sg(e,t,n,r)}finally{Ut.transition=a,ue=r}return null}function sg(e,t,n,r){do Vn();while(Ds!==null);if(ce&6)throw Error(F(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Dp(e,l),e===Ge&&(Ue=Ge=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ia||(Ia=!0,Mh(ul,function(){return Vn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ut.transition,Ut.transition=null;var i=ue;ue=1;var c=ce;ce|=4,Oc.current=null,J0(e,n),Sh(n,e),w0(ho),xl=!!xo,ho=xo=null,e.current=n,Q0(n),_p(),ce=c,ue=i,Ut.transition=l}else e.current=n;if(Ia&&(Ia=!1,Ds=e,Tl=a),l=e.pendingLanes,l===0&&(Gs=null),Pp(n.stateNode),pt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(El)throw El=!1,e=Mo,Mo=null,e;return Tl&1&&e.tag!==0&&Vn(),l=e.pendingLanes,l&1?e===Oo?zr++:(zr=0,Oo=e):zr=0,Xs(),null}function Vn(){if(Ds!==null){var e=ux(Tl),t=Ut.transition,n=ue;try{if(Ut.transition=null,ue=16>e?16:e,Ds===null)var r=!1;else{if(e=Ds,Ds=null,Tl=0,ce&6)throw Error(F(331));var a=ce;for(ce|=4,Y=e.current;Y!==null;){var l=Y,i=l.child;if(Y.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var m=c[o];for(Y=m;Y!==null;){var u=Y;switch(u.tag){case 0:case 11:case 15:Fr(8,u,l)}var x=u.child;if(x!==null)x.return=u,Y=x;else for(;Y!==null;){u=Y;var h=u.sibling,j=u.return;if(wh(u),u===m){Y=null;break}if(h!==null){h.return=j,Y=h;break}Y=j}}}var d=l.alternate;if(d!==null){var v=d.child;if(v!==null){d.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Y=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Y=i;else e:for(;Y!==null;){if(l=Y,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Fr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,Y=f;break e}Y=l.return}}var y=e.current;for(Y=y;Y!==null;){i=Y;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,Y=g;else e:for(i=y;Y!==null;){if(c=Y,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Hl(9,c)}}catch(S){Ee(c,c.return,S)}if(c===i){Y=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,Y=k;break e}Y=c.return}}if(ce=a,Xs(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Dl,e)}catch{}r=!0}return r}finally{ue=n,Ut.transition=t}}return!1}function Ou(e,t,n){t=er(n,t),t=uh(e,t,1),e=Bs(e,t,1),t=at(),e!==null&&(xa(e,1,t),pt(e,t))}function Ee(e,t,n){if(e.tag===3)Ou(e,e,n);else for(;t!==null;){if(t.tag===3){Ou(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){e=er(n,e),e=mh(t,e,1),t=Bs(t,e,1),e=at(),t!==null&&(xa(t,1,e),pt(t,e));break}}t=t.return}}function ng(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(We&n)===n&&(ze===4||ze===3&&(We&130023424)===We&&500>Ae()-Ic?cn(e,0):Dc|=n),pt(e,t)}function Ah(e,t){t===0&&(e.mode&1?(t=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):t=1);var n=at();e=Ns(e,t),e!==null&&(xa(e,t,n),pt(e,n))}function rg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function ag(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Ah(e,n)}var Rh;Rh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,q0(e,t,n);xt=!!(e.flags&131072)}else xt=!1,je&&t.flags&1048576&&Ix(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Za(e,t),e=t.pendingProps;var a=Jn(t,tt.current);qn(t,n),a=Pc(null,t,r,e,a,n);var l=Lc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(l=!0,yl(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Sc(t),a.updater=Gl,t.stateNode=a,a._reactInternals=t,No(t,r,e,n),t=Co(null,t,r,!0,l,n)):(t.tag=0,je&&l&&yc(t),rt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Za(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=ig(r),e=Vt(r,e),a){case 0:t=So(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=Nu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,Vt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),So(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),Su(e,t,r,a,n);case 3:e:{if(ph(t),e===null)throw Error(F(387));r=t.pendingProps,l=t.memoizedState,a=l.element,Gx(e,t),Nl(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=er(Error(F(423)),t),t=Cu(e,t,r,n,a);break e}else if(r!==a){a=er(Error(F(424)),t),t=Cu(e,t,r,n,a);break e}else for(Et=zs(t.stateNode.containerInfo.firstChild),Tt=t,je=!0,Kt=null,n=zx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===a){t=ks(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Hx(t),e===null&&vo(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,fo(r,a)?i=null:l!==null&&fo(r,l)&&(t.flags|=32),fh(e,t),rt(e,t,i,n),t.child;case 6:return e===null&&vo(t),null;case 13:return gh(e,t,n);case 4:return Cc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xn(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),Nu(e,t,r,a,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ge(jl,r._currentValue),r._currentValue=i,l!==null)if(Xt(l.value,i)){if(l.children===a.children&&!ht.current){t=ks(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(l.tag===1){o=bs(-1,n&-n),o.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var u=m.pending;u===null?o.next=o:(o.next=u.next,u.next=o),m.pending=o}}l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),jo(l.return,n,t),c.lanes|=n;break}o=o.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(F(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),jo(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}rt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,qn(t,n),a=Ft(a),r=r(a),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,a=Vt(r,t.pendingProps),a=Vt(r.type,a),ku(e,t,r,a,n);case 15:return xh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),Za(e,t),t.tag=1,ft(r)?(e=!0,yl(t)):e=!1,qn(t,n),dh(t,r,a),No(t,r,a,n),Co(null,t,r,!0,e,n);case 19:return yh(e,t,n);case 22:return hh(e,t,n)}throw Error(F(156,t.tag))};function Mh(e,t){return ix(e,t)}function lg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new lg(e,t,n,r)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ig(e){if(typeof e=="function")return zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lc)return 11;if(e===ic)return 14}return 2}function Ws(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sl(e,t,n,r,a,l){var i=2;if(r=e,typeof e=="function")zc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ln:return dn(n.children,a,l,t);case ac:i=8,a|=8;break;case qi:return e=Dt(12,n,t,a|2),e.elementType=qi,e.lanes=l,e;case Vi:return e=Dt(13,n,t,a),e.elementType=Vi,e.lanes=l,e;case Yi:return e=Dt(19,n,t,a),e.elementType=Yi,e.lanes=l,e;case Hm:return ql(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bm:i=10;break e;case Gm:i=9;break e;case lc:i=11;break e;case ic:i=14;break e;case Ls:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Dt(i,n,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function dn(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function ql(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=Hm,e.lanes=n,e.stateNode={isHidden:!1},e}function Oi(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Di(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function og(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,l,i,c,o){return e=new og(e,t,n,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Dt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(l),e}function cg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Oh(e){if(!e)return Ys;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(ft(n))return Ox(e,n,t)}return t}function Dh(e,t,n,r,a,l,i,c,o){return e=Bc(n,r,!0,e,a,l,i,c,o),e.context=Oh(null),n=e.current,r=at(),a=Hs(n),l=bs(r,a),l.callback=t??null,Bs(n,l,a),e.current.lanes=a,xa(e,a,r),pt(e,r),e}function Vl(e,t,n,r){var a=t.current,l=at(),i=Hs(a);return n=Oh(n),t.context===null?t.context=n:t.pendingContext=n,t=bs(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bs(a,t,i),e!==null&&(Qt(e,a,i,l),Ja(e,a,i)),i}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gc(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}function dg(){return null}var Ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}Yl.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Vl(e,t,null,null)};Yl.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Vl(null,e,null,null)}),t[ws]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=hx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rs.length&&t!==0&&t<Rs[n].priority;n++);Rs.splice(n,0,e),n===0&&px(e)}};function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iu(){}function ug(e,t,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var m=Ll(i);l.call(m)}}var i=Dh(t,r,e,0,null,!1,!1,"",Iu);return e._reactRootContainer=i,e[ws]=i.current,Zr(e.nodeType===8?e.parentNode:e),yn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var c=r;r=function(){var m=Ll(o);c.call(m)}}var o=Bc(e,0,!1,null,null,!1,!1,"",Iu);return e._reactRootContainer=o,e[ws]=o.current,Zr(e.nodeType===8?e.parentNode:e),yn(function(){Vl(t,o,n,r)}),o}function Jl(e,t,n,r,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var c=a;a=function(){var o=Ll(i);c.call(o)}}Vl(t,i,e,a)}else i=ug(n,t,e,a,r);return Ll(i)}mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pr(t.pendingLanes);n!==0&&(dc(t,n|1),pt(t,Ae()),!(ce&6)&&(tr=Ae()+500,Xs()))}break;case 13:yn(function(){var r=Ns(e,1);if(r!==null){var a=at();Qt(r,e,1,a)}}),Gc(e,1)}};uc=function(e){if(e.tag===13){var t=Ns(e,134217728);if(t!==null){var n=at();Qt(t,e,134217728,n)}Gc(e,134217728)}};xx=function(e){if(e.tag===13){var t=Hs(e),n=Ns(e,t);if(n!==null){var r=at();Qt(n,e,t,r)}Gc(e,t)}};hx=function(){return ue};fx=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};ro=function(e,t,n){switch(t){case"input":if(Qi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=$l(r);if(!a)throw Error(F(90));qm(r),Qi(r,a)}}}break;case"textarea":Ym(e,n);break;case"select":t=n.value,t!=null&&Bn(e,!!n.multiple,t,!1)}};tx=Uc;sx=yn;var mg={usingClientEntryPoint:!1,Events:[fa,On,$l,Zm,ex,Uc]},jr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xg={bundleType:jr.bundleType,version:jr.version,rendererPackageName:jr.rendererPackageName,rendererConfig:jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ax(e),e===null?null:e.stateNode},findFiberByHostInstance:jr.findFiberByHostInstance||dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Dl=Ua.inject(xg),cs=Ua}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mg;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(t))throw Error(F(200));return cg(e,t,null,n)};Lt.createRoot=function(e,t){if(!Wc(e))throw Error(F(299));var n=!1,r="",a=Ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,null,n,!1,r,a),e[ws]=t.current,Zr(e.nodeType===8?e.parentNode:e),new Hc(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=ax(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return yn(e)};Lt.hydrate=function(e,t,n){if(!Kl(t))throw Error(F(200));return Jl(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Wc(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",i=Ih;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Dh(t,null,e,1,n??null,a,!1,l,i),e[ws]=t.current,Zr(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yl(t)};Lt.render=function(e,t,n){if(!Kl(t))throw Error(F(200));return Jl(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(F(40));return e._reactRootContainer?(yn(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[ws]=null})}),!0):!1};Lt.unstable_batchedUpdates=Uc;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Jl(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uh)}catch(e){console.error(e)}}Uh(),Um.exports=Lt;var Fh=Um.exports,Uu=Fh;Hi.createRoot=Uu.createRoot,Hi.hydrateRoot=Uu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(this,arguments)}var Is;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Is||(Is={}));const Fu="popstate";function hg(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:i,hash:c}=r.location;return Uo("",{pathname:l,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Al(a)}return pg(t,n,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $h(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fg(){return Math.random().toString(36).substr(2,8)}function $u(e,t){return{usr:e.state,key:e.key,idx:t}}function Uo(e,t,n,r){return n===void 0&&(n=null),oa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cr(t):t,{state:n,key:t&&t.key||r||fg()})}function Al(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pg(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,c=Is.Pop,o=null,m=u();m==null&&(m=0,i.replaceState(oa({},i.state,{idx:m}),""));function u(){return(i.state||{idx:null}).idx}function x(){c=Is.Pop;let b=u(),f=b==null?null:b-m;m=b,o&&o({action:c,location:v.location,delta:f})}function h(b,f){c=Is.Push;let y=Uo(v.location,b,f);m=u()+1;let g=$u(y,m),k=v.createHref(y);try{i.pushState(g,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(k)}l&&o&&o({action:c,location:v.location,delta:1})}function j(b,f){c=Is.Replace;let y=Uo(v.location,b,f);m=u();let g=$u(y,m),k=v.createHref(y);i.replaceState(g,"",k),l&&o&&o({action:c,location:v.location,delta:0})}function d(b){let f=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof b=="string"?b:Al(b);return y=y.replace(/ $/,"%20"),Re(f,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,f)}let v={get action(){return c},get location(){return e(a,i)},listen(b){if(o)throw new Error("A history only accepts one active listener");return a.addEventListener(Fu,x),o=b,()=>{a.removeEventListener(Fu,x),o=null}},createHref(b){return t(a,b)},createURL:d,encodeLocation(b){let f=d(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:j,go(b){return i.go(b)}};return v}var zu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zu||(zu={}));function gg(e,t,n){return n===void 0&&(n="/"),yg(e,t,n)}function yg(e,t,n,r){let a=typeof t=="string"?cr(t):t,l=qc(a.pathname||"/",n);if(l==null)return null;let i=zh(e);bg(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let m=Lg(l);c=Eg(i[o],m)}return c}function zh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(Re(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let m=qs([r,o.relativePath]),u=n.concat(o);l.children&&l.children.length>0&&(Re(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),zh(l.children,t,u,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:Cg(m,l.index),routesMeta:u})};return e.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,i);else for(let o of Bh(l.path))a(l,i,o)}),t}function Bh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=Bh(r.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),a&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function bg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_g(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vg=/^:[\w-]+$/,jg=3,wg=2,Ng=1,kg=10,Sg=-2,Bu=e=>e==="*";function Cg(e,t){let n=e.split("/"),r=n.length;return n.some(Bu)&&(r+=Sg),t&&(r+=wg),n.filter(a=>!Bu(a)).reduce((a,l)=>a+(vg.test(l)?jg:l===""?Ng:kg),r)}function _g(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Eg(e,t,n){let{routesMeta:r}=e,a={},l="/",i=[];for(let c=0;c<r.length;++c){let o=r[c],m=c===r.length-1,u=l==="/"?t:t.slice(l.length)||"/",x=Tg({path:o.relativePath,caseSensitive:o.caseSensitive,end:m},u),h=o.route;if(!x)return null;Object.assign(a,x.params),i.push({params:a,pathname:qs([l,x.pathname]),pathnameBase:Og(qs([l,x.pathnameBase])),route:h}),x.pathnameBase!=="/"&&(l=qs([l,x.pathnameBase]))}return i}function Tg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Pg(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((m,u,x)=>{let{paramName:h,isOptional:j}=u;if(h==="*"){let v=c[x]||"";i=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const d=c[x];return j&&!d?m[h]=void 0:m[h]=(d||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:i,pattern:e}}function Pg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$h(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(r.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ag(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?cr(e):e;return{pathname:n?n.startsWith("/")?n:Rg(n,t):t,search:Dg(r),hash:Ig(a)}}function Rg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ii(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vc(e,t){let n=Mg(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yc(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=cr(e):(a=oa({},e),Re(!a.pathname||!a.pathname.includes("?"),Ii("?","pathname","search",a)),Re(!a.pathname||!a.pathname.includes("#"),Ii("#","pathname","hash",a)),Re(!a.search||!a.search.includes("#"),Ii("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,c;if(i==null)c=n;else{let x=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),x-=1;a.pathname=h.join("/")}c=x>=0?t[x]:"/"}let o=Ag(a,c),m=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(m||u)&&(o.pathname+="/"),o}const qs=e=>e.join("/").replace(/\/\/+/g,"/"),Og=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ig=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ug(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gh=["post","put","patch","delete"];new Set(Gh);const Fg=["get",...Gh];new Set(Fg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(this,arguments)}const Kc=p.createContext(null),$g=p.createContext(null),Zs=p.createContext(null),Ql=p.createContext(null),ms=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Hh=p.createContext(null);function zg(e,t){let{relative:n}=t===void 0?{}:t;dr()||Re(!1);let{basename:r,navigator:a}=p.useContext(Zs),{hash:l,pathname:i,search:c}=qh(e,{relative:n}),o=i;return r!=="/"&&(o=i==="/"?r:qs([r,i])),a.createHref({pathname:o,search:c,hash:l})}function dr(){return p.useContext(Ql)!=null}function ts(){return dr()||Re(!1),p.useContext(Ql).location}function Wh(e){p.useContext(Zs).static||p.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=p.useContext(ms);return e?sy():Bg()}function Bg(){dr()||Re(!1);let e=p.useContext(Kc),{basename:t,future:n,navigator:r}=p.useContext(Zs),{matches:a}=p.useContext(ms),{pathname:l}=ts(),i=JSON.stringify(Vc(a,n.v7_relativeSplatPath)),c=p.useRef(!1);return Wh(()=>{c.current=!0}),p.useCallback(function(m,u){if(u===void 0&&(u={}),!c.current)return;if(typeof m=="number"){r.go(m);return}let x=Yc(m,JSON.parse(i),l,u.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:qs([t,x.pathname])),(u.replace?r.replace:r.push)(x,u.state,u)},[t,r,i,l,e])}const Gg=p.createContext(null);function Hg(e){let t=p.useContext(ms).outlet;return t&&p.createElement(Gg.Provider,{value:e},t)}function en(){let{matches:e}=p.useContext(ms),t=e[e.length-1];return t?t.params:{}}function qh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Zs),{matches:a}=p.useContext(ms),{pathname:l}=ts(),i=JSON.stringify(Vc(a,r.v7_relativeSplatPath));return p.useMemo(()=>Yc(e,JSON.parse(i),l,n==="path"),[e,i,l,n])}function Wg(e,t){return qg(e,t)}function qg(e,t,n,r){dr()||Re(!1);let{navigator:a}=p.useContext(Zs),{matches:l}=p.useContext(ms),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let m=ts(),u;if(t){var x;let b=typeof t=="string"?cr(t):t;o==="/"||(x=b.pathname)!=null&&x.startsWith(o)||Re(!1),u=b}else u=m;let h=u.pathname||"/",j=h;if(o!=="/"){let b=o.replace(/^\//,"").split("/");j="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let d=gg(e,{pathname:j}),v=Qg(d&&d.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:qs([o,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?o:qs([o,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&v?p.createElement(Ql.Provider,{value:{location:ca({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Is.Pop}},v):v}function Vg(){let e=ty(),t=Ug(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,null)}const Yg=p.createElement(Vg,null);class Kg extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(ms.Provider,{value:this.props.routeContext},p.createElement(Hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jg(e){let{routeContext:t,match:n,children:r}=e,a=p.useContext(Kc);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ms.Provider,{value:t},r)}function Qg(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,c=(a=n)==null?void 0:a.errors;if(c!=null){let u=i.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);u>=0||Re(!1),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let x=i[u];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=u),x.route.id){let{loaderData:h,errors:j}=n,d=x.route.loader&&h[x.route.id]===void 0&&(!j||j[x.route.id]===void 0);if(x.route.lazy||d){o=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((u,x,h)=>{let j,d=!1,v=null,b=null;n&&(j=c&&x.route.id?c[x.route.id]:void 0,v=x.route.errorElement||Yg,o&&(m<0&&h===0?(ny("route-fallback"),d=!0,b=null):m===h&&(d=!0,b=x.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,h+1)),y=()=>{let g;return j?g=v:d?g=b:x.route.Component?g=p.createElement(x.route.Component,null):x.route.element?g=x.route.element:g=u,p.createElement(Jg,{match:x,routeContext:{outlet:u,matches:f,isDataRoute:n!=null},children:g})};return n&&(x.route.ErrorBoundary||x.route.errorElement||h===0)?p.createElement(Kg,{location:n.location,revalidation:n.revalidation,component:v,error:j,children:y(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):y()},null)}var Vh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vh||{}),Yh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yh||{});function Xg(e){let t=p.useContext(Kc);return t||Re(!1),t}function Zg(e){let t=p.useContext($g);return t||Re(!1),t}function ey(e){let t=p.useContext(ms);return t||Re(!1),t}function Kh(e){let t=ey(),n=t.matches[t.matches.length-1];return n.route.id||Re(!1),n.route.id}function ty(){var e;let t=p.useContext(Hh),n=Zg(),r=Kh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function sy(){let{router:e}=Xg(Vh.UseNavigateStable),t=Kh(Yh.UseNavigateStable),n=p.useRef(!1);return Wh(()=>{n.current=!0}),p.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ca({fromRouteId:t},l)))},[e,t])}const Gu={};function ny(e,t,n){Gu[e]||(Gu[e]=!0)}function ry(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nl(e){let{to:t,replace:n,state:r,relative:a}=e;dr()||Re(!1);let{future:l,static:i}=p.useContext(Zs),{matches:c}=p.useContext(ms),{pathname:o}=ts(),m=pe(),u=Yc(t,Vc(c,l.v7_relativeSplatPath),o,a==="path"),x=JSON.stringify(u);return p.useEffect(()=>m(JSON.parse(x),{replace:n,state:r,relative:a}),[m,x,a,n,r]),null}function ay(e){return Hg(e.context)}function re(e){Re(!1)}function ly(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Is.Pop,navigator:l,static:i=!1,future:c}=e;dr()&&Re(!1);let o=t.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:o,navigator:l,static:i,future:ca({v7_relativeSplatPath:!1},c)}),[o,c,l,i]);typeof r=="string"&&(r=cr(r));let{pathname:u="/",search:x="",hash:h="",state:j=null,key:d="default"}=r,v=p.useMemo(()=>{let b=qc(u,o);return b==null?null:{location:{pathname:b,search:x,hash:h,state:j,key:d},navigationType:a}},[o,u,x,h,j,d,a]);return v==null?null:p.createElement(Zs.Provider,{value:m},p.createElement(Ql.Provider,{children:n,value:v}))}function iy(e){let{children:t,location:n}=e;return Wg(Fo(t),n)}new Promise(()=>{});function Fo(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let l=[...t,a];if(r.type===p.Fragment){n.push.apply(n,Fo(r.props.children,l));return}r.type!==re&&Re(!1),!r.props.index||!r.props.children||Re(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Fo(r.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(this,arguments)}function oy(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function cy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dy(e,t){return e.button===0&&(!t||t==="_self")&&!cy(e)}function zo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function uy(e,t){let n=zo(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}const my=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xy="6";try{window.__reactRouterVersion=xy}catch{}const hy="startTransition",Hu=np[hy];function fy(e){let{basename:t,children:n,future:r,window:a}=e,l=p.useRef();l.current==null&&(l.current=hg({window:a,v5Compat:!0}));let i=l.current,[c,o]=p.useState({action:i.action,location:i.location}),{v7_startTransition:m}=r||{},u=p.useCallback(x=>{m&&Hu?Hu(()=>o(x)):o(x)},[o,m]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.useEffect(()=>ry(r),[r]),p.createElement(ly,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:i,future:r})}const py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=p.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:l,replace:i,state:c,target:o,to:m,preventScrollReset:u,viewTransition:x}=t,h=oy(t,my),{basename:j}=p.useContext(Zs),d,v=!1;if(typeof m=="string"&&gy.test(m)&&(d=m,py))try{let g=new URL(window.location.href),k=m.startsWith("//")?new URL(g.protocol+m):new URL(m),S=qc(k.pathname,j);k.origin===g.origin&&S!=null?m=S+k.search+k.hash:v=!0}catch{}let b=zg(m,{relative:a}),f=yy(m,{replace:i,state:c,target:o,preventScrollReset:u,relative:a,viewTransition:x});function y(g){r&&r(g),g.defaultPrevented||f(g)}return p.createElement("a",$o({},h,{href:d||b,onClick:v||l?r:y,ref:n,target:o}))});var Wu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wu||(Wu={}));var qu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qu||(qu={}));function yy(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:c}=t===void 0?{}:t,o=pe(),m=ts(),u=qh(e,{relative:i});return p.useCallback(x=>{if(dy(x,n)){x.preventDefault();let h=r!==void 0?r:Al(m)===Al(u);o(e,{replace:h,state:a,preventScrollReset:l,relative:i,viewTransition:c})}},[m,o,u,r,a,n,e,l,i,c])}function Nn(e){let t=p.useRef(zo(e)),n=p.useRef(!1),r=ts(),a=p.useMemo(()=>uy(r.search,n.current?null:t.current),[r.search]),l=pe(),i=p.useCallback((c,o)=>{const m=zo(typeof c=="function"?c(a):c);n.current=!0,l("?"+m,o)},[l,a]);return[a,i]}const Jh=p.createContext(null);function by({children:e}){const[t,n]=p.useState(null),[r,a]=p.useState(null),[l,i]=p.useState(!0);p.useEffect(()=>{try{const u=localStorage.getItem("token"),x=localStorage.getItem("user");if(console.log(" AuthContext hydrating:",{hasStoredToken:!!u,tokenLength:u==null?void 0:u.length,hasStoredUser:!!x,userValid:x?"valid JSON":"missing"}),u&&x){const h=JSON.parse(x);a(u),n(h),console.log(" Auth restored:",{user:h.email,tokenLength:u.length})}else console.log(" Auth not restored - missing data")}catch(u){console.error(" Error restoring auth from storage:",u),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{i(!1)}},[]);const c=(u,x)=>{a(u),n(x),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(x))},o=()=>{a(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},m=u=>{n(x=>{const h={...x,...u};return localStorage.setItem("user",JSON.stringify(h)),h})};return s.jsx(Jh.Provider,{value:{user:t,token:r,loading:l,login:c,logout:o,updateUser:m,isAuthenticated:!!t&&!!r},children:e})}function ga(){const e=p.useContext(Jh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...m},u)=>p.createElement("svg",{ref:u,...vy,width:a,height:a,stroke:r,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${jy(e)}`,c].join(" "),...m},[...t.map(([x,h])=>p.createElement(x,h)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=W("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=W("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=W("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=W("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=W("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=W("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=W("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=W("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=W("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=W("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=W("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=W("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=W("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=W("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=W("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=W("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=W("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=W("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=W("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=W("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=W("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=W("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=W("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=W("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=W("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=W("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=W("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ef(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wy}=Object.prototype,{getPrototypeOf:ed}=Object,{iterator:si,toStringTag:tf}=Symbol,ni=(e=>t=>{const n=Wy.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ss=e=>(e=e.toLowerCase(),t=>ni(t)===e),ri=e=>t=>typeof t===e,{isArray:mr}=Array,rr=ri("undefined");function ya(e){return e!==null&&!rr(e)&&e.constructor!==null&&!rr(e.constructor)&&bt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sf=ss("ArrayBuffer");function qy(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sf(e.buffer),t}const Vy=ri("string"),bt=ri("function"),nf=ri("number"),ba=e=>e!==null&&typeof e=="object",Yy=e=>e===!0||e===!1,rl=e=>{if(ni(e)!=="object")return!1;const t=ed(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tf in e)&&!(si in e)},Ky=e=>{if(!ba(e)||ya(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Jy=ss("Date"),Qy=ss("File"),Xy=ss("Blob"),Zy=ss("FileList"),eb=e=>ba(e)&&bt(e.pipe),tb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||bt(e.append)&&((t=ni(e))==="formdata"||t==="object"&&bt(e.toString)&&e.toString()==="[object FormData]"))},sb=ss("URLSearchParams"),[nb,rb,ab,lb]=["ReadableStream","Request","Response","Headers"].map(ss),ib=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function va(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),mr(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(ya(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let c;for(r=0;r<i;r++)c=l[r],t.call(null,e[c],c,e)}}function rf(e,t){if(ya(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const on=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,af=e=>!rr(e)&&e!==on;function Ho(){const{caseless:e,skipUndefined:t}=af(this)&&this||{},n={},r=(a,l)=>{const i=e&&rf(n,l)||l;rl(n[i])&&rl(a)?n[i]=Ho(n[i],a):rl(a)?n[i]=Ho({},a):mr(a)?n[i]=a.slice():(!t||!rr(a))&&(n[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&va(arguments[a],r);return n}const ob=(e,t,n,{allOwnKeys:r}={})=>(va(t,(a,l)=>{n&&bt(a)?e[l]=ef(a,n):e[l]=a},{allOwnKeys:r}),e),cb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),db=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ub=(e,t,n,r)=>{let a,l,i;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!r||r(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=n!==!1&&ed(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xb=e=>{if(!e)return null;if(mr(e))return e;let t=e.length;if(!nf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ed(Uint8Array)),fb=(e,t)=>{const r=(e&&e[si]).call(e);let a;for(;(a=r.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},pb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},gb=ss("HTMLFormElement"),yb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Qu=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),bb=ss("RegExp"),lf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};va(n,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(r[l]=i||a)}),Object.defineProperties(e,r)},vb=e=>{lf(e,(t,n)=>{if(bt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(bt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jb=(e,t)=>{const n={},r=a=>{a.forEach(l=>{n[l]=!0})};return mr(e)?r(e):r(String(e).split(t)),n},wb=()=>{},Nb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kb(e){return!!(e&&bt(e.append)&&e[tf]==="FormData"&&e[si])}const Sb=e=>{const t=new Array(10),n=(r,a)=>{if(ba(r)){if(t.indexOf(r)>=0)return;if(ya(r))return r;if(!("toJSON"in r)){t[a]=r;const l=mr(r)?[]:{};return va(r,(i,c)=>{const o=n(i,a+1);!rr(o)&&(l[c]=o)}),t[a]=void 0,l}}return r};return n(e,0)},Cb=ss("AsyncFunction"),_b=e=>e&&(ba(e)||bt(e))&&bt(e.then)&&bt(e.catch),of=((e,t)=>e?setImmediate:t?((n,r)=>(on.addEventListener("message",({source:a,data:l})=>{a===on&&l===n&&r.length&&r.shift()()},!1),a=>{r.push(a),on.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",bt(on.postMessage)),Eb=typeof queueMicrotask<"u"?queueMicrotask.bind(on):typeof process<"u"&&process.nextTick||of,Tb=e=>e!=null&&bt(e[si]),P={isArray:mr,isArrayBuffer:sf,isBuffer:ya,isFormData:tb,isArrayBufferView:qy,isString:Vy,isNumber:nf,isBoolean:Yy,isObject:ba,isPlainObject:rl,isEmptyObject:Ky,isReadableStream:nb,isRequest:rb,isResponse:ab,isHeaders:lb,isUndefined:rr,isDate:Jy,isFile:Qy,isBlob:Xy,isRegExp:bb,isFunction:bt,isStream:eb,isURLSearchParams:sb,isTypedArray:hb,isFileList:Zy,forEach:va,merge:Ho,extend:ob,trim:ib,stripBOM:cb,inherits:db,toFlatObject:ub,kindOf:ni,kindOfTest:ss,endsWith:mb,toArray:xb,forEachEntry:fb,matchAll:pb,isHTMLForm:gb,hasOwnProperty:Qu,hasOwnProp:Qu,reduceDescriptors:lf,freezeMethods:vb,toObjectSet:jb,toCamelCase:yb,noop:wb,toFiniteNumber:Nb,findKey:rf,global:on,isContextDefined:af,isSpecCompliantForm:kb,toJSONObject:Sb,isAsyncFn:Cb,isThenable:_b,setImmediate:of,asap:Eb,isIterable:Tb};function se(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}P.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const cf=se.prototype,df={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{df[e]={value:e}});Object.defineProperties(se,df);Object.defineProperty(cf,"isAxiosError",{value:!0});se.from=(e,t,n,r,a,l)=>{const i=Object.create(cf);P.toFlatObject(e,i,function(u){return u!==Error.prototype},m=>m!=="isAxiosError");const c=e&&e.message?e.message:"Error",o=t==null&&e?e.code:t;return se.call(i,c,o,n,r,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Pb=null;function Wo(e){return P.isPlainObject(e)||P.isArray(e)}function uf(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Xu(e,t,n){return e?e.concat(t).map(function(a,l){return a=uf(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function Lb(e){return P.isArray(e)&&!e.some(Wo)}const Ab=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function ai(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!P.isUndefined(b[v])});const r=n.metaTokens,a=n.visitor||u,l=n.dots,i=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(a))throw new TypeError("visitor must be a function");function m(d){if(d===null)return"";if(P.isDate(d))return d.toISOString();if(P.isBoolean(d))return d.toString();if(!o&&P.isBlob(d))throw new se("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(d)||P.isTypedArray(d)?o&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,v,b){let f=d;if(d&&!b&&typeof d=="object"){if(P.endsWith(v,"{}"))v=r?v:v.slice(0,-2),d=JSON.stringify(d);else if(P.isArray(d)&&Lb(d)||(P.isFileList(d)||P.endsWith(v,"[]"))&&(f=P.toArray(d)))return v=uf(v),f.forEach(function(g,k){!(P.isUndefined(g)||g===null)&&t.append(i===!0?Xu([v],k,l):i===null?v:v+"[]",m(g))}),!1}return Wo(d)?!0:(t.append(Xu(b,v,l),m(d)),!1)}const x=[],h=Object.assign(Ab,{defaultVisitor:u,convertValue:m,isVisitable:Wo});function j(d,v){if(!P.isUndefined(d)){if(x.indexOf(d)!==-1)throw Error("Circular reference detected in "+v.join("."));x.push(d),P.forEach(d,function(f,y){(!(P.isUndefined(f)||f===null)&&a.call(t,f,P.isString(y)?y.trim():y,v,h))===!0&&j(f,v?v.concat(y):[y])}),x.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Zu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function td(e,t){this._pairs=[],e&&ai(e,this,t)}const mf=td.prototype;mf.append=function(t,n){this._pairs.push([t,n])};mf.toString=function(t){const n=t?function(r){return t.call(this,r,Zu)}:Zu;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Rb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xf(e,t,n){if(!t)return e;const r=n&&n.encode||Rb;P.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=P.isURLSearchParams(t)?t.toString():new td(t,n).toString(r),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class em{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const hf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mb=typeof URLSearchParams<"u"?URLSearchParams:td,Ob=typeof FormData<"u"?FormData:null,Db=typeof Blob<"u"?Blob:null,Ib={isBrowser:!0,classes:{URLSearchParams:Mb,FormData:Ob,Blob:Db},protocols:["http","https","file","blob","url","data"]},sd=typeof window<"u"&&typeof document<"u",qo=typeof navigator=="object"&&navigator||void 0,Ub=sd&&(!qo||["ReactNative","NativeScript","NS"].indexOf(qo.product)<0),Fb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$b=sd&&window.location.href||"http://localhost",zb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sd,hasStandardBrowserEnv:Ub,hasStandardBrowserWebWorkerEnv:Fb,navigator:qo,origin:$b},Symbol.toStringTag,{value:"Module"})),Ze={...zb,...Ib};function Bb(e,t){return ai(e,new Ze.classes.URLSearchParams,{visitor:function(n,r,a,l){return Ze.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Gb(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hb(e){const t={},n=Object.keys(e);let r;const a=n.length;let l;for(r=0;r<a;r++)l=n[r],t[l]=e[l];return t}function ff(e){function t(n,r,a,l){let i=n[l++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),o=l>=n.length;return i=!i&&P.isArray(a)?a.length:i,o?(P.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!c):((!a[i]||!P.isObject(a[i]))&&(a[i]=[]),t(n,r,a[i],l)&&P.isArray(a[i])&&(a[i]=Hb(a[i])),!c)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,a)=>{t(Gb(r),a,n,0)}),n}return null}function Wb(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ja={transitional:hf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,l=P.isObject(t);if(l&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return a?JSON.stringify(ff(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bb(t,this.formSerializer).toString();if((c=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return ai(c?{"files[]":t}:t,o&&new o,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),Wb(t)):t}],transformResponse:[function(t){const n=this.transitional||ja.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?se.from(c,se.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{ja.headers[e]={}});const qb=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vb=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!n||t[n]&&qb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},tm=Symbol("internals");function wr(e){return e&&String(e).trim().toLowerCase()}function al(e){return e===!1||e==null?e:P.isArray(e)?e.map(al):String(e)}function Yb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Kb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ui(e,t,n,r,a){if(P.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function Jb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Qb(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,l,i){return this[r].call(this,t,a,l,i)},configurable:!0})})}let vt=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function l(c,o,m){const u=wr(o);if(!u)throw new Error("header name must be a non-empty string");const x=P.findKey(a,u);(!x||a[x]===void 0||m===!0||m===void 0&&a[x]!==!1)&&(a[x||o]=al(c))}const i=(c,o)=>P.forEach(c,(m,u)=>l(m,u,o));if(P.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(P.isString(t)&&(t=t.trim())&&!Kb(t))i(Vb(t),n);else if(P.isObject(t)&&P.isIterable(t)){let c={},o,m;for(const u of t){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[m=u[0]]=(o=c[m])?P.isArray(o)?[...o,u[1]]:[o,u[1]]:u[1]}i(c,n)}else t!=null&&l(n,t,r);return this}get(t,n){if(t=wr(t),t){const r=P.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Yb(a);if(P.isFunction(n))return n.call(this,a,r);if(P.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wr(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ui(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function l(i){if(i=wr(i),i){const c=P.findKey(r,i);c&&(!n||Ui(r,r[c],c,n))&&(delete r[c],a=!0)}}return P.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const l=n[r];(!t||Ui(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,r={};return P.forEach(this,(a,l)=>{const i=P.findKey(r,l);if(i){n[i]=al(a),delete n[l];return}const c=t?Jb(l):String(l).trim();c!==l&&delete n[l],n[c]=al(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[tm]=this[tm]={accessors:{}}).accessors,a=this.prototype;function l(i){const c=wr(i);r[c]||(Qb(a,i),r[c]=!0)}return P.isArray(t)?t.forEach(l):l(t),this}};vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(vt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(vt);function Fi(e,t){const n=this||ja,r=t||n,a=vt.from(r.headers);let l=r.data;return P.forEach(e,function(c){l=c.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function pf(e){return!!(e&&e.__CANCEL__)}function xr(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(xr,se,{__CANCEL__:!0});function gf(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Xb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Zb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(o){const m=Date.now(),u=r[l];i||(i=m),n[a]=o,r[a]=m;let x=l,h=0;for(;x!==a;)h+=n[x++],x=x%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),m-i<t)return;const j=u&&m-u;return j?Math.round(h*1e3/j):void 0}}function ev(e,t){let n=0,r=1e3/t,a,l;const i=(m,u=Date.now())=>{n=u,a=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const u=Date.now(),x=u-n;x>=r?i(m,u):(a=m,l||(l=setTimeout(()=>{l=null,i(a)},r-x)))},()=>a&&i(a)]}const Ml=(e,t,n=3)=>{let r=0;const a=Zb(50,250);return ev(l=>{const i=l.loaded,c=l.lengthComputable?l.total:void 0,o=i-r,m=a(o),u=i<=c;r=i;const x={loaded:i,total:c,progress:c?i/c:void 0,bytes:o,rate:m||void 0,estimated:m&&c&&u?(c-i)/m:void 0,event:l,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(x)},n)},sm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nm=e=>(...t)=>P.asap(()=>e(...t)),tv=Ze.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ze.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,sv=Ze.hasStandardBrowserEnv?{write(e,t,n,r,a,l){const i=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),P.isString(r)&&i.push("path="+r),P.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yf(e,t,n){let r=!nv(t);return e&&(r||n==!1)?rv(e,t):t}const rm=e=>e instanceof vt?{...e}:e;function vn(e,t){t=t||{};const n={};function r(m,u,x,h){return P.isPlainObject(m)&&P.isPlainObject(u)?P.merge.call({caseless:h},m,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function a(m,u,x,h){if(P.isUndefined(u)){if(!P.isUndefined(m))return r(void 0,m,x,h)}else return r(m,u,x,h)}function l(m,u){if(!P.isUndefined(u))return r(void 0,u)}function i(m,u){if(P.isUndefined(u)){if(!P.isUndefined(m))return r(void 0,m)}else return r(void 0,u)}function c(m,u,x){if(x in t)return r(m,u);if(x in e)return r(void 0,m)}const o={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(m,u,x)=>a(rm(m),rm(u),x,!0)};return P.forEach(Object.keys({...e,...t}),function(u){const x=o[u]||a,h=x(e[u],t[u],u);P.isUndefined(h)&&x!==c||(n[u]=h)}),n}const bf=e=>{const t=vn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:c}=t;if(t.headers=i=vt.from(i),t.url=xf(yf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),P.isFormData(n)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(P.isFunction(n.getHeaders)){const o=n.getHeaders(),m=["content-type","content-length"];Object.entries(o).forEach(([u,x])=>{m.includes(u.toLowerCase())&&i.set(u,x)})}}if(Ze.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&tv(t.url))){const o=a&&l&&sv.read(l);o&&i.set(a,o)}return t},av=typeof XMLHttpRequest<"u",lv=av&&function(e){return new Promise(function(n,r){const a=bf(e);let l=a.data;const i=vt.from(a.headers).normalize();let{responseType:c,onUploadProgress:o,onDownloadProgress:m}=a,u,x,h,j,d;function v(){j&&j(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function f(){if(!b)return;const g=vt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:g,config:e,request:b};gf(function(N){n(N),v()},function(N){r(N),v()},S),b=null}"onloadend"in b?b.onloadend=f:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(f)},b.onabort=function(){b&&(r(new se("Request aborted",se.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const S=k&&k.message?k.message:"Network Error",w=new se(S,se.ERR_NETWORK,e,b);w.event=k||null,r(w),b=null},b.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||hf;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),r(new se(k,S.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,b)),b=null},l===void 0&&i.setContentType(null),"setRequestHeader"in b&&P.forEach(i.toJSON(),function(k,S){b.setRequestHeader(S,k)}),P.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),c&&c!=="json"&&(b.responseType=a.responseType),m&&([h,d]=Ml(m,!0),b.addEventListener("progress",h)),o&&b.upload&&([x,j]=Ml(o),b.upload.addEventListener("progress",x),b.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(u=g=>{b&&(r(!g||g.type?new xr(null,e,b):g),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=Xb(a.url);if(y&&Ze.protocols.indexOf(y)===-1){r(new se("Unsupported protocol "+y+":",se.ERR_BAD_REQUEST,e));return}b.send(l||null)})},iv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const l=function(m){if(!a){a=!0,c();const u=m instanceof Error?m:this.reason;r.abort(u instanceof se?u:new xr(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:o}=r;return o.unsubscribe=()=>P.asap(c),o}},ov=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},cv=async function*(e,t){for await(const n of dv(e))yield*ov(n,t)},dv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},am=(e,t,n,r)=>{const a=cv(e,t);let l=0,i,c=o=>{i||(i=!0,r&&r(o))};return new ReadableStream({async pull(o){try{const{done:m,value:u}=await a.next();if(m){c(),o.close();return}let x=u.byteLength;if(n){let h=l+=x;n(h)}o.enqueue(new Uint8Array(u))}catch(m){throw c(m),m}},cancel(o){return c(o),a.return()}},{highWaterMark:2})},lm=64*1024,{isFunction:Fa}=P,uv=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:im,TextEncoder:om}=P.global,cm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mv=e=>{e=P.merge.call({skipUndefined:!0},uv,e);const{fetch:t,Request:n,Response:r}=e,a=t?Fa(t):typeof fetch=="function",l=Fa(n),i=Fa(r);if(!a)return!1;const c=a&&Fa(im),o=a&&(typeof om=="function"?(d=>v=>d.encode(v))(new om):async d=>new Uint8Array(await new n(d).arrayBuffer())),m=l&&c&&cm(()=>{let d=!1;const v=new n(Ze.origin,{body:new im,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!v}),u=i&&c&&cm(()=>P.isReadableStream(new r("").body)),x={stream:u&&(d=>d.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!x[d]&&(x[d]=(v,b)=>{let f=v&&v[d];if(f)return f.call(v);throw new se(`Response type '${d}' is not supported`,se.ERR_NOT_SUPPORT,b)})});const h=async d=>{if(d==null)return 0;if(P.isBlob(d))return d.size;if(P.isSpecCompliantForm(d))return(await new n(Ze.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(P.isArrayBufferView(d)||P.isArrayBuffer(d))return d.byteLength;if(P.isURLSearchParams(d)&&(d=d+""),P.isString(d))return(await o(d)).byteLength},j=async(d,v)=>{const b=P.toFiniteNumber(d.getContentLength());return b??h(v)};return async d=>{let{url:v,method:b,data:f,signal:y,cancelToken:g,timeout:k,onDownloadProgress:S,onUploadProgress:w,responseType:N,headers:_,withCredentials:D="same-origin",fetchOptions:M}=bf(d),V=t||fetch;N=N?(N+"").toLowerCase():"text";let A=iv([y,g&&g.toAbortSignal()],k),C=null;const T=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let z;try{if(w&&m&&b!=="get"&&b!=="head"&&(z=await j(_,f))!==0){let Z=new n(v,{method:"POST",body:f,duplex:"half"}),te;if(P.isFormData(f)&&(te=Z.headers.get("content-type"))&&_.setContentType(te),Z.body){const[L,U]=sm(z,Ml(nm(w)));f=am(Z.body,lm,L,U)}}P.isString(D)||(D=D?"include":"omit");const G=l&&"credentials"in n.prototype,X={...M,signal:A,method:b.toUpperCase(),headers:_.normalize().toJSON(),body:f,duplex:"half",credentials:G?D:void 0};C=l&&new n(v,X);let R=await(l?V(C,M):V(v,X));const I=u&&(N==="stream"||N==="response");if(u&&(S||I&&T)){const Z={};["status","statusText","headers"].forEach(O=>{Z[O]=R[O]});const te=P.toFiniteNumber(R.headers.get("content-length")),[L,U]=S&&sm(te,Ml(nm(S),!0))||[];R=new r(am(R.body,lm,L,()=>{U&&U(),T&&T()}),Z)}N=N||"text";let B=await x[P.findKey(x,N)||"text"](R,d);return!I&&T&&T(),await new Promise((Z,te)=>{gf(Z,te,{data:B,headers:vt.from(R.headers),status:R.status,statusText:R.statusText,config:d,request:C})})}catch(G){throw T&&T(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,d,C),{cause:G.cause||G}):se.from(G,G&&G.code,d,C)}}},xv=new Map,vf=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,l=[r,a,n];let i=l.length,c=i,o,m,u=xv;for(;c--;)o=l[c],m=u.get(o),m===void 0&&u.set(o,m=c?new Map:mv(t)),u=m;return m};vf();const Vo={http:Pb,xhr:lv,fetch:{get:vf}};P.forEach(Vo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dm=e=>`- ${e}`,hv=e=>P.isFunction(e)||e===null||e===!1,jf={getAdapter:(e,t)=>{e=P.isArray(e)?e:[e];const{length:n}=e;let r,a;const l={};for(let i=0;i<n;i++){r=e[i];let c;if(a=r,!hv(r)&&(a=Vo[(c=String(r)).toLowerCase()],a===void 0))throw new se(`Unknown adapter '${c}'`);if(a&&(P.isFunction(a)||(a=a.get(t))))break;l[c||"#"+i]=a}if(!a){const i=Object.entries(l).map(([o,m])=>`adapter ${o} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=n?i.length>1?`since :
`+i.map(dm).join(`
`):" "+dm(i[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:Vo};function $i(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xr(null,e)}function um(e){return $i(e),e.headers=vt.from(e.headers),e.data=Fi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jf.getAdapter(e.adapter||ja.adapter,e)(e).then(function(r){return $i(e),r.data=Fi.call(e,e.transformResponse,r),r.headers=vt.from(r.headers),r},function(r){return pf(r)||($i(e),r&&r.response&&(r.response.data=Fi.call(e,e.transformResponse,r.response),r.response.headers=vt.from(r.response.headers))),Promise.reject(r)})}const wf="1.12.2",li={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{li[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const mm={};li.transitional=function(t,n,r){function a(l,i){return"[Axios v"+wf+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,c)=>{if(t===!1)throw new se(a(i," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!mm[i]&&(mm[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,i,c):!0}};li.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fv(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const l=r[a],i=t[l];if(i){const c=e[l],o=c===void 0||i(c,l,e);if(o!==!0)throw new se("option "+l+" must be "+o,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+l,se.ERR_BAD_OPTION)}}const ll={assertOptions:fv,validators:li},rs=ll.validators;let xn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new em,response:new em}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=vn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:l}=n;r!==void 0&&ll.assertOptions(r,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1),a!=null&&(P.isFunction(a)?n.paramsSerializer={serialize:a}:ll.assertOptions(a,{encode:rs.function,serialize:rs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ll.assertOptions(n,{baseUrl:rs.spelling("baseURL"),withXsrfToken:rs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&P.merge(l.common,l[n.method]);l&&P.forEach(["delete","get","head","post","put","patch","common"],d=>{delete l[d]}),n.headers=vt.concat(i,l);const c=[];let o=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(o=o&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const m=[];this.interceptors.response.forEach(function(v){m.push(v.fulfilled,v.rejected)});let u,x=0,h;if(!o){const d=[um.bind(this),void 0];for(d.unshift(...c),d.push(...m),h=d.length,u=Promise.resolve(n);x<h;)u=u.then(d[x++],d[x++]);return u}h=c.length;let j=n;for(;x<h;){const d=c[x++],v=c[x++];try{j=d(j)}catch(b){v.call(this,b);break}}try{u=um.call(this,j)}catch(d){return Promise.reject(d)}for(x=0,h=m.length;x<h;)u=u.then(m[x++],m[x++]);return u}getUri(t){t=vn(this.defaults,t);const n=yf(t.baseURL,t.url,t.allowAbsoluteUrls);return xf(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){xn.prototype[t]=function(n,r){return this.request(vn(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(l,i,c){return this.request(vn(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}xn.prototype[t]=n(),xn.prototype[t+"Form"]=n(!0)});let pv=class Nf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(c=>{r.subscribe(c),l=c}).then(a);return i.cancel=function(){r.unsubscribe(l)},i},t(function(l,i,c){r.reason||(r.reason=new xr(l,i,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Nf(function(a){t=a}),cancel:t}}};function gv(e){return function(n){return e.apply(null,n)}}function yv(e){return P.isObject(e)&&e.isAxiosError===!0}const Yo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yo).forEach(([e,t])=>{Yo[t]=e});function kf(e){const t=new xn(e),n=ef(xn.prototype.request,t);return P.extend(n,xn.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return kf(vn(e,a))},n}const Me=kf(ja);Me.Axios=xn;Me.CanceledError=xr;Me.CancelToken=pv;Me.isCancel=pf;Me.VERSION=wf;Me.toFormData=ai;Me.AxiosError=se;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=gv;Me.isAxiosError=yv;Me.mergeConfig=vn;Me.AxiosHeaders=vt;Me.formToJSON=e=>ff(P.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=jf.getAdapter;Me.HttpStatusCode=Yo;Me.default=Me;const{Axios:aw,AxiosError:lw,CanceledError:iw,isCancel:ow,CancelToken:cw,VERSION:dw,all:uw,Cancel:mw,isAxiosError:xw,spread:hw,toFormData:fw,AxiosHeaders:pw,HttpStatusCode:gw,formToJSON:yw,getAdapter:bw,mergeConfig:vw}=Me;let Gr="https://schedulesync-web-production.up.railway.app";Gr=Gr.replace(/\/$/,"");const Sf=Gr.endsWith("/api")?Gr:`${Gr}/api`;console.log(" Final API Base URL:",Sf);const E=Me.create({baseURL:Sf});E.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});E.interceptors.response.use(e=>e,e=>{var t,n;return(((t=e.response)==null?void 0:t.status)===401||((n=e.response)==null?void 0:n.status)===403)&&(console.log(" Auth failed, clearing token and redirecting..."),localStorage.removeItem("token"),window.location.pathname.includes("/login")||(window.location.href="/login?error=session_expired")),Promise.reject(e)});const Es={login:(e,t)=>E.post("/auth/login",{email:e,password:t}),register:e=>E.post("/auth/register",e),me:()=>E.get("/auth/me"),verifyEmail:e=>E.get("/auth/verify-email",{params:{token:e}}),forgotPassword:e=>E.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>E.post("/auth/reset-password",{token:e,newPassword:t}),resendVerification:e=>E.post("/auth/resend-verification",{email:e}),updateProfile:e=>E.put("/users/profile",e),getGoogleUrl:()=>E.get("/auth/google/url")},is={getGoogleUrl:()=>E.get("/auth/google/url"),getMicrosoftUrl:()=>E.get("/auth/microsoft/url"),getCalendlyUrl:()=>E.get("/auth/calendly/url"),handleGoogleCallback:e=>E.post("/auth/google/callback",{code:e}),handleMicrosoftCallback:e=>E.post("/auth/microsoft/callback",{code:e}),handleCalendlyCallback:e=>E.post("/auth/calendly/callback",{code:e}),getGoogleGuestUrl:e=>E.get("/book/auth/google/url",{params:{bookingToken:e}}),getMicrosoftGuestUrl:e=>E.get("/book/auth/microsoft/url",{params:{bookingToken:e}}),guestGoogleAuth:(e,t)=>E.post("/book/auth/google",{code:e,bookingToken:t}),guestMicrosoftAuth:(e,t)=>E.post("/book/auth/microsoft",{code:e,bookingToken:t})},os={getAll:()=>E.get("/teams"),create:e=>E.post("/teams",e),get:e=>E.get(`/teams/${e}`),update:(e,t)=>E.put(`/teams/${e}`,t),delete:e=>E.delete(`/teams/${e}`),getMembers:e=>E.get(`/teams/${e}/members`),addMember:(e,t)=>E.post(`/teams/${e}/members`,t),removeMember:(e,t)=>E.delete(`/teams/${e}/members/${t}`),updateMember:(e,t,n)=>E.put(`/teams/${e}/members/${t}`,n),updateMemberStatus:(e,t,n)=>E.patch(`/teams/${e}/members/${t}/status`,{is_active:n}),updateMemberPricing:(e,t,n)=>E.put(`/teams/${e}/members/${t}/pricing`,n),updateMemberExternalLink:(e,t,n)=>E.put(`/teams/${e}/members/${t}/external-link`,n),list:()=>E.get("/teams")},bv={getSettings:(e,t)=>E.get(`/team-members/${t}/availability`),updateSettings:(e,t,n)=>E.put(`/team-members/${t}/availability`,n)},ua={list:e=>E.get("/bookings",{params:e}),getAll:e=>E.get("/bookings",{params:e}),getByToken:e=>E.get(`/book/${e}`),getSlots:(e,t)=>E.post(`/book/${e}/slots-with-status`,t),create:e=>E.post("/bookings",e),getManagementDetails:e=>E.get(`/bookings/manage/${e}`),rescheduleByToken:(e,t)=>E.post(`/bookings/manage/${e}/reschedule`,t),cancelByToken:(e,t)=>E.post(`/bookings/manage/${e}/cancel`,{reason:t})},Ko={getSettings:e=>E.get(`/teams/${e}/reminder-settings`),updateSettings:(e,t)=>E.put(`/teams/${e}/reminder-settings`,t),getStatus:()=>E.get("/reminders/status")},Ar={connectGoogle:()=>E.get("/auth/google/url"),disconnectGoogle:()=>E.post("/calendar/google/disconnect"),getStatus:()=>E.get("/calendar/status"),listEvents:(e,t)=>E.get(`/calendar/events?start=${e}&end=${t}`),syncEvents:()=>E.post("/calendar/sync")},vv={getConfig:()=>E.get("/payments/config"),getPricing:e=>E.get(`/book/${e}/pricing`),createIntent:e=>E.post("/payments/create-intent",e),confirmBooking:e=>E.post("/payments/confirm-booking",e),getPaymentStatus:e=>E.get(`/payments/status/${e}`)},jv={schedule:(e,t)=>E.post("/ai/schedule",{message:e,conversationHistory:t}),confirm:e=>E.post("/ai/schedule/confirm",e),suggest:e=>E.post("/ai/suggest",{preferences:e})},wv={sendMessage:async(e,t=[])=>E.post("/ai/schedule",{message:e,conversationHistory:t}),confirmBooking:async e=>E.post("/ai/schedule/confirm",e),suggestTimes:async(e=30,t=null,n=null)=>E.post("/ai/suggest",{duration:e,attendeeEmail:t,notes:n})},Nv={generate:e=>E.post("/single-use-links",e),getRecent:()=>E.get("/single-use-links/recent"),get:e=>E.get(`/single-use-links/${e}`),revoke:e=>E.delete(`/single-use-links/${e}`)},nd={getAll:()=>E.get("/event-types"),list:e=>E.get(`/event-types?member_id=${e}`),create:e=>E.post("/event-types",e),get:e=>E.get(`/event-types/${e}`),update:(e,t)=>E.put(`/event-types/${e}`,t),delete:e=>E.delete(`/event-types/${e}`),toggle:(e,t)=>E.patch(`/event-types/${e}/toggle`,{active:t})},vs=nd,kv={getAll:()=>E.get("/email-templates"),get:e=>E.get(`/email-templates/${e}`),create:e=>E.post("/email-templates",e),update:(e,t)=>E.put(`/email-templates/${e}`,t),delete:e=>E.delete(`/email-templates/${e}`),toggleFavorite:e=>E.patch(`/email-templates/${e}/favorite`),listForAI:e=>E.get("/chatgpt/email-templates",{params:{type:e}}),findTemplate:(e,t)=>E.get("/chatgpt/find-template",{params:{query:e,type:t}}),sendWithTemplate:e=>E.post("/chatgpt/send-email",e)},Sv={getDashboard:()=>E.get("/analytics/dashboard"),getBookingStats:(e,t)=>E.get(`/analytics/bookings?start=${e}&end=${t}`),getTeamStats:e=>E.get(`/analytics/teams/${e}`),getMemberStats:e=>E.get(`/analytics/members/${e}`),exportData:(e="csv")=>E.get(`/analytics/export?format=${e}`)},Tn={list:()=>E.get("/notifications"),markAsRead:e=>E.put(`/notifications/${e}/read`),markAllAsRead:()=>E.put("/notifications/read-all"),delete:e=>E.delete(`/notifications/${e}`),getUnreadCount:()=>E.get("/notifications/unread-count")},ii={get:()=>E.get("/user/timezone"),update:e=>E.put("/user/timezone",{timezone:e}),list:()=>E.get("/timezones"),detect:()=>E.get("/timezones/detect"),convert:(e,t,n)=>E.post("/timezones/convert",{fromTimezone:e,toTimezone:t,datetime:n})},Hr={getToken:()=>E.get("/user/jwt-token"),refreshToken:()=>E.post("/user/refresh-chatgpt-token"),testConnection:()=>E.get("/user/test-chatgpt-connection"),getSetupGuide:()=>E.get("/user/chatgpt-setup-guide"),getSchema:()=>E.get("/user/chatgpt-openapi-schema")},Cv={getProfile:()=>E.get("/profile"),updateProfile:e=>E.put("/profile",e),updatePassword:e=>E.put("/profile/password",e),deleteAccount:()=>E.delete("/profile"),usage:()=>E.get("/user/usage"),limits:()=>E.get("/user/limits")};is.getGoogleUrl;is.handleGoogleCallback;E.auth=Es;E.oauth=is;E.teams=os;E.bookings=ua;E.availability=bv;E.reminders=Ko;E.calendar=Ar;E.payments=vv;E.ai=jv;E.aiScheduler=wv;E.singleUseLinks=Nv;E.eventTypes=nd;E.events=vs;E.emailTemplates=kv;E.analytics=Sv;E.notifications=Tn;E.timezone=ii;E.user=Cv;E.chatgptIntegration=Hr;const rd=p.createContext(null),Nr={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},_v=({notification:e,onClose:t})=>{const n={success:s.jsx(de,{className:"w-5 h-5 text-green-500"}),error:s.jsx(It,{className:"w-5 h-5 text-red-500"}),info:s.jsx(Qh,{className:"w-5 h-5 text-blue-500"}),warning:s.jsx(Rl,{className:"w-5 h-5 text-yellow-500"})},r={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200",warning:"bg-yellow-50 border-yellow-200"};return p.useEffect(()=>{if(e.duration===1/0)return;const a=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(a)},[e.id,e.duration,t]),s.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border shadow-lg ${r[e.type]} animate-in slide-in-from-right duration-300`,children:[n[e.type],s.jsxs("div",{className:"flex-1",children:[e.title&&s.jsx("h4",{className:"font-semibold text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.message})]}),s.jsx("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-gray-600",children:s.jsx(lt,{className:"w-4 h-4"})})]})};function Ev({children:e}){const[t,n]=p.useState([]),r=(N,_,D="",M=5e3)=>{const A={id:Date.now(),type:N,message:_,title:D,duration:M};n(C=>[...C,A])},a=p.useState([]),l=N=>{n(_=>_.filter(D=>D.id!==N))},i=(N,_="Success")=>r(Nr.SUCCESS,N,_),c=(N,_="Error")=>r(Nr.ERROR,N,_),o=(N,_="Info")=>r(Nr.INFO,N,_),w={success:i,error:c,info:o,warning:(N,_="Warning")=>r(Nr.WARNING,N,_),notify:(N,_,D,M)=>r(N,_,D,M),confirm:async(N,_="Confirm Action")=>new Promise(D=>{const M=Date.now(),V={id:M,type:Nr.WARNING,message:N,title:_,duration:1/0,actions:[{label:"Confirm",onClick:()=>{l(M),D(!0)},className:"bg-blue-600 text-white"},{label:"Cancel",onClick:()=>{l(M),D(!1)},className:"bg-gray-200 text-gray-800"}]};n(A=>[...A,V])}),prompt:async(N,_="Input Required",D="")=>new Promise(M=>{const V=window.prompt(N,D);M(V)}),bookingCreated:N=>{i(`Booking confirmed for ${N.date} at ${N.time}`,"Booking Confirmed")},bookingCancelled:N=>{o(`Your booking for ${N.date} has been cancelled`,"Booking Cancelled")},bookingUpdated:N=>{o(`Your booking has been updated to ${N.date} at ${N.time}`,"Booking Updated")},paymentSuccess:N=>{i(`Payment of $${N} processed successfully`,"Payment Successful")},paymentFailed:N=>{c(N||"Payment could not be processed. Please try again.","Payment Failed")},teamInvite:N=>{o(`You've been invited to join ${N}`,"Team Invitation")},teamMemberAdded:N=>{i(`${N} has been added to the team`,"Team Updated")},calendarSynced:()=>{i("Your calendar has been synchronized successfully","Calendar Synced")},calendarSyncFailed:N=>{N(N||"Failed to sync calendar. Please try again.","Sync Failed")},notifications:a};return s.jsxs(rd.Provider,{value:w,children:[e,s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",children:s.jsx("div",{className:"pointer-events-auto space-y-2",children:t.map(N=>s.jsx(_v,{notification:N,onClose:l},N.id))})})]})}function oi(){const e=p.useContext(rd);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e}function Tv(){const[e,t]=p.useState(!1),[n,r]=p.useState([]),[a,l]=p.useState(0),[i,c]=p.useState(!1),[o,m]=p.useState(!1),u=p.useContext(rd);if(!u)return console.error("NotificationBell must be used within NotificationProvider"),null;const x=10,h=o?n:n.slice(0,x),j=n.length>x&&!o,d=async()=>{c(!0);try{const S=await Tn.list();r(S.data.notifications||[])}catch(S){console.error("Failed to fetch notifications:",S)}finally{c(!1)}},v=async()=>{try{const S=await Tn.getUnreadCount();l(S.data.count||0)}catch(S){console.error("Failed to fetch unread count:",S)}};p.useEffect(()=>{v();const S=setInterval(v,3e4);return()=>clearInterval(S)},[]),p.useEffect(()=>{e&&(d(),m(!1))},[e]);const b=S=>{const w=new Date(S),_=Math.floor((new Date-w)/1e3);return _<60?"Just now":_<3600?`${Math.floor(_/60)}m ago`:_<86400?`${Math.floor(_/3600)}h ago`:_<604800?`${Math.floor(_/86400)}d ago`:w.toLocaleDateString()},f=async(S,w)=>{S.stopPropagation();try{await Tn.markAsRead(w.id),r(N=>N.map(_=>_.id===w.id?{..._,is_read:!0}:_)),l(N=>Math.max(0,N-1))}catch(N){console.error("Failed to mark as read:",N),u.error("Failed to mark notification as read")}},y=async()=>{try{await Tn.markAllAsRead(),r(S=>S.map(w=>({...w,is_read:!0}))),l(0),u.success("All notifications marked as read")}catch(S){console.error("Failed to mark all as read:",S),u.error("Failed to mark all as read")}},g=async(S,w)=>{S.stopPropagation();try{await Tn.delete(w),r(_=>_.filter(D=>D.id!==w));const N=n.find(_=>_.id===w);N&&!N.is_read&&l(_=>Math.max(0,_-1)),u.success("Notification deleted")}catch(N){console.error("Failed to delete notification:",N),u.error("Failed to delete notification")}},k=S=>{switch(S){case"booking":return"";case"payment":return"";case"reminder":return"";case"team":return"";case"calendar":return"";default:return""}};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>t(!e),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(Vu,{className:"w-5 h-5"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]}),e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border z-50 max-h-[600px] flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Notifications",n.length>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-500 font-normal",children:["(",n.length,")"]})]}),n.length>0&&a>0&&s.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:i?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(Q,{className:"w-6 h-6 animate-spin text-gray-400"})}):n.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Vu,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"font-medium",children:"No notifications yet"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We'll notify you when something happens"})]}):s.jsx("div",{className:"divide-y",children:h.map(S=>s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${S.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 text-2xl",children:k(S.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:S.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b(S.created_at)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!S.is_read&&s.jsx("button",{onClick:w=>f(w,S),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Mark as read",children:s.jsx(de,{className:"w-4 h-4"})}),s.jsx("button",{onClick:w=>g(w,S.id),className:"p-1 text-gray-400 hover:bg-gray-200 rounded",title:"Delete",children:s.jsx(lt,{className:"w-4 h-4"})})]})]})})]})},S.id))})}),j&&s.jsx("div",{className:"p-3 border-t bg-gray-50",children:s.jsxs("button",{onClick:()=>m(!0),className:"block w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium py-1",children:["Show ",n.length-x," more notifications"]})}),o&&n.length>x&&s.jsx("div",{className:"p-3 border-t bg-gray-50",children:s.jsx("button",{onClick:()=>m(!1),className:"block w-full text-center text-sm text-gray-600 hover:text-gray-800 font-medium py-1",children:"Show less"})})]})]})]})}function Pv(){var h;const[e,t]=p.useState(!1),n=ts(),r=pe(),{user:a,logout:l}=ga(),i=["jaybersales95@gmail.com"],c=((h=a==null?void 0:a.email)==null?void 0:h.toLowerCase())||"",o=i.includes(c),m=[{name:"Dashboard",path:"/dashboard",icon:Ty},{name:"Event Types",path:"/events",icon:Ce},{name:"Teams",path:"/teams",icon:Cs},{name:"Bookings",path:"/bookings",icon:ae},{name:"My Link",path:"/my-links",icon:Xc},{name:"Settings",path:"/settings",icon:bn}];o&&m.push({name:"Admin Panel",path:"/admin",icon:Bo});const u=()=>{l(),r("/")},x=()=>a!=null&&a.name?a.name.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2):a!=null&&a.email?a.email[0].toUpperCase():"U";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:[s.jsx("div",{className:"mx-auto px-3 sm:px-4 lg:px-6",children:s.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[s.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:s.jsx(gt,{to:"/",className:"flex items-center gap-2 sm:gap-3",children:s.jsx("span",{className:"text-base sm:text-lg font-bold tracking-tight text-gray-900",children:"ScheduleSync"})})}),s.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:m.map(j=>{const d=j.icon,v=n.pathname===j.path,b=j.path==="/admin";return s.jsxs(gt,{to:j.path,className:`flex items-center gap-2 px-3 xl:px-4 py-2 rounded-lg font-medium transition-colors text-sm ${v?b?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600":b?"text-red-600 hover:bg-red-50":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(d,{className:"h-4 w-4 xl:h-5 xl:w-5"}),s.jsx("span",{className:"hidden xl:inline",children:j.name})]},j.name)})}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Tv,{})}),s.jsxs("div",{className:"hidden sm:block text-right",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate max-w-[150px]",children:(a==null?void 0:a.name)||"User"}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 truncate max-w-[150px]",children:a==null?void 0:a.email})]}),s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-xs sm:text-sm",children:x()})}),s.jsxs("button",{onClick:u,className:"hidden lg:flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium text-sm",children:[s.jsx(Yu,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Logout"})]}),s.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e?s.jsx(lt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"}):s.jsx(Ay,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"})})]})]})}),e&&s.jsx("div",{className:"lg:hidden border-t border-gray-200 bg-white shadow-2xl",children:s.jsxs("div",{className:"px-3 sm:px-4 py-3 space-y-2",children:[s.jsxs("div",{className:"sm:hidden px-4 py-3 bg-gray-50 rounded-lg mb-2",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(a==null?void 0:a.name)||"User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:a==null?void 0:a.email})]}),m.map(j=>{const d=j.icon,v=n.pathname===j.path,b=j.path==="/admin";return s.jsxs(gt,{to:j.path,onClick:()=>t(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${v?b?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600":b?"text-red-600 hover:bg-red-50":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(d,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:j.name})]},j.name)}),s.jsxs("button",{onClick:()=>{t(!1),u()},className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium mt-2",children:[s.jsx(Yu,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Logout"})]})]})})]}),s.jsx("main",{className:"mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 max-w-[1600px]",children:s.jsx(ay,{})})]})}function zi({children:e}){const{isAuthenticated:t,user:n,loading:r}=ga(),a=ts();if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Checking your session"})]})});if(!t)return s.jsx(nl,{to:"/login",replace:!0,state:{from:a.pathname+a.search}});const l=n?`onboardingCompleted:${n.id||n.email}`:null,i=l&&localStorage.getItem(l)==="true",c=(n==null?void 0:n.hasCompletedOnboarding)===!0||i,o=a.pathname==="/onboarding";return!c&&!o?s.jsx(nl,{to:"/onboarding",replace:!0}):c&&o?s.jsx(nl,{to:"/dashboard",replace:!0}):e}function Lv({onLogin:e,mode:t="page"}){const[n,r]=p.useState(""),[a,l]=p.useState(""),[i,c]=p.useState(!1),[o,m]=p.useState(!1),[u,x]=p.useState(""),h=t==="panel",j=async b=>{var f,y;b.preventDefault(),x(""),m(!0);try{console.log(" Attempting login:",n);const g=await E.auth.login(n,a);console.log(" Login response:",g.data),g.data.success&&e&&e(g.data.token,g.data.user)}catch(g){console.error(" Login error:",g),x(((y=(f=g.response)==null?void 0:f.data)==null?void 0:y.error)||"Login failed. Please try again.")}finally{m(!1)}},d=async()=>{var b,f,y,g,k,S;try{x(""),console.log(" Google login clicked");const w=await E.oauth.getGoogleUrl();if(console.log(" Google OAuth URL response:",w.data),w.data.url)console.log(" Redirecting to:",w.data.url),window.location.href=w.data.url;else throw new Error("No URL in response")}catch(w){console.error(" Google auth error:",w),console.error(" Error details:",{message:w.message,response:(b=w.response)==null?void 0:b.data,status:(f=w.response)==null?void 0:f.status}),x(((g=(y=w.response)==null?void 0:y.data)==null?void 0:g.error)||((S=(k=w.response)==null?void 0:k.data)==null?void 0:S.message)||"Failed to start Google login")}},v=async()=>{var b,f,y,g,k,S,w,N;try{x(""),m(!0),console.log(" Microsoft login clicked"),console.log(" API Base URL:",E.defaults.baseURL);const _=await E.oauth.getMicrosoftUrl();if(console.log(" Microsoft OAuth URL response:",_.data),_.data.error){x(_.data.message||_.data.error),console.error(" Microsoft returned error:",_.data),m(!1);return}if(_.data.url)console.log(" Redirecting to:",_.data.url),window.location.href=_.data.url;else throw new Error("No URL in response")}catch(_){console.error(" Microsoft auth error:",_),console.error(" Error details:",{message:_.message,response:(b=_.response)==null?void 0:b.data,status:(f=_.response)==null?void 0:f.status,statusText:(y=_.response)==null?void 0:y.statusText}),((g=_.response)==null?void 0:g.status)===503?x(" Microsoft integration is not yet configured. Please contact support or use another sign-in method."):x(((S=(k=_.response)==null?void 0:k.data)==null?void 0:S.message)||((N=(w=_.response)==null?void 0:w.data)==null?void 0:N.error)||"Failed to start Microsoft login. Please try again or use another method."),m(!1)}};return s.jsxs("div",{className:"space-y-6",children:[!h&&s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"flex justify-center mb-4 mt-4",children:s.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(zt,{className:"h-5 w-5 text-white"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Sign in to your ScheduleSync account"})]}),u&&s.jsx("div",{className:"p-3 bg-red-50 border-2 border-red-200 text-red-700 rounded-xl text-sm",children:u}),o&&s.jsx("div",{className:"p-3 bg-blue-50 border-2 border-blue-200 text-blue-700 rounded-xl text-sm",children:"Connecting to OAuth provider..."}),s.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-md p-5",children:[s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold text-gray-700",children:"Email address"}),s.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:b=>r(b.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-100 outline-none text-sm transition-all",required:!0})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold text-gray-700",children:"Password"}),s.jsx("input",{id:"password",type:"password",placeholder:"",value:a,onChange:b=>l(b.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-100 outline-none text-sm transition-all",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:b=>c(b.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Remember me"})]}),s.jsx(gt,{to:"/forgot-password",className:"text-xs text-purple-600 hover:text-purple-700 font-semibold",children:"Forgot password?"})]}),s.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2.5 rounded-xl text-sm font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o?"Signing in...":"Sign in",!o&&s.jsx(_t,{className:"h-4 w-4"})]})]}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center",children:s.jsx("span",{className:"bg-white px-3 text-[11px] text-gray-500 uppercase tracking-wide",children:"Or continue with"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{type:"button",onClick:d,disabled:o,className:"w-full bg-white border-2 border-gray-200 text-gray-700 py-2.5 rounded-xl text-sm font-semibold hover:bg-gray-50 hover:border-gray-300 transition-all flex items-center justify-center gap-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),s.jsxs("button",{type:"button",onClick:v,disabled:o,className:"w-full bg-white border-2 border-indigo-200 text-indigo-700 py-2.5 rounded-xl text-sm font-semibold hover:bg-indigo-50 hover:border-indigo-300 transition-all flex items-center justify-center gap-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxs("span",{className:"flex h-3.5 w-3.5 flex-wrap gap-[1px]",children:[s.jsx("span",{className:"h-1.5 w-1.5 bg-red-500"}),s.jsx("span",{className:"h-1.5 w-1.5 bg-green-500"}),s.jsx("span",{className:"h-1.5 w-1.5 bg-blue-500"}),s.jsx("span",{className:"h-1.5 w-1.5 bg-yellow-400"})]}),"Continue with Microsoft"]})]})]}),s.jsxs("p",{className:"text-xs text-gray-600 "+(h?"text-left":"text-center"),children:["Don't have an account?"," ",s.jsx(gt,{to:"/register",className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Sign up for free"})]})]})}function Av({isOpen:e,onClose:t}){const{login:n}=ga(),r=(a,l)=>{n(a,l);const i=(l==null?void 0:l.has_completed_onboarding)||(l==null?void 0:l.hasCompletedOnboarding),c=l?`onboardingCompleted:${l.id||l.email}`:null;i&&c&&localStorage.setItem(c,"true");const o=i?"/dashboard":"/onboarding";window.location.href=o};return e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[s.jsx("div",{className:"flex-1 bg-black/30 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"w-full max-w-sm sm:max-w-md h-full bg-white shadow-2xl border-l border-gray-200 flex flex-col animate-slide-in-right",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-semibold",children:"SS"}),s.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Log in to ScheduleSync"})]}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-full hover:bg-gray-100 text-gray-500",children:s.jsx(lt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3",children:s.jsx(Lv,{onLogin:r,mode:"panel"})})]})]}),s.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in-right {
          animation: slideInRight 0.25s ease-out;
        }
      `})]}):null}function xm({defaultLoginOpen:e=!1}){const[t,n]=p.useState(e),[r,a]=p.useState(""),[l,i]=p.useState(null),[c,o]=p.useState(!1),m=pe(),u=d=>{if(a(d),o(!1),!d){i(null);return}try{const v=d.startsWith("http")?d:`https://${d}`,b=new URL(v),f=b.hostname.toLowerCase(),y=b.pathname.toLowerCase();let g=null;f.includes("calendly.com")?g="calendly":f.includes("cal.com")?g="cal.com":f.includes("hubspot")?g="hubspot":f.includes("google.com")&&y.includes("calendar")?g="google-calendar":f.includes("meet.google.com")?g="google-meet":f.includes("outlook.")||f.includes("office.com")||f.includes("microsoft.")?g="microsoft":(f.includes("eyeball.games")||f.includes("trucal.xyz"))&&(g="schedulesync"),i(g)}catch{i(null)}},x=d=>{d.preventDefault(),r&&(localStorage.setItem("importedLink",r),u(r),o(!0))},h=()=>{if(!l)return null;let d="",v="";switch(l){case"calendly":d="Calendly link detected",v="Connect this link to keep your existing flows.";break;case"cal.com":d="Cal.com link detected",v="Plug this link in to keep things in sync.";break;case"hubspot":d="HubSpot link detected",v="Connect HubSpot to keep existing flows.";break;case"google-calendar":d="Google Calendar detected",v="Connect directly to stay in sync.";break;case"google-meet":d="Google Meet detected",v="Connect Calendar for auto Meet links.";break;case"microsoft":d="Outlook detected",v="Connect Outlook to sync availability.";break;case"schedulesync":d="ScheduleSync link",v="Log in to manage this link.";break;default:return null}return s.jsxs("div",{className:"mt-3 inline-flex items-start gap-2 max-w-md text-left text-xs bg-white/10 border border-white/25 rounded-xl px-3 py-2 text-white/90 animate-in fade-in slide-in-from-top-2 backdrop-blur-sm",children:[s.jsx(es,{className:"w-3.5 h-3.5 mt-0.5 text-amber-300 shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:d}),s.jsx("div",{className:"text-white/80 text-[11px] leading-tight",children:v})]})]})},j=()=>{if(!c)return null;const d=l==="calendly";return s.jsxs("div",{className:"mt-3 w-full max-w-sm bg-white/10 border border-white/25 rounded-xl p-3 text-white/90 animate-in fade-in slide-in-from-top-2 backdrop-blur-sm",children:[s.jsx("div",{className:"font-bold text-center mb-2 text-xs",children:"How do you want to connect?"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>n(!0),className:"w-full flex items-center justify-between rounded-lg bg-white text-slate-900 px-3 py-2 text-xs font-bold hover:bg-slate-100 transition-all",children:[s.jsx("span",{children:"Connect Google / Outlook"}),s.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Recommended"})]}),d&&s.jsxs("button",{type:"button",onClick:()=>n(!0),className:"w-full flex items-center justify-between rounded-lg bg-sky-100 text-sky-900 px-3 py-2 text-xs font-bold hover:bg-sky-200 transition-all",children:[s.jsx("span",{children:"Connect Calendly"}),s.jsx("span",{className:"text-[10px] text-sky-700 font-medium",children:"Uses existing link"})]}),s.jsxs("button",{type:"button",onClick:()=>m("/register"),className:"w-full flex items-center justify-between rounded-lg bg-white/10 text-white px-3 py-2 text-xs font-bold border border-white/20 hover:bg-white/20 transition-all",children:[s.jsx("span",{children:"Continue without connecting"}),s.jsx("span",{className:"text-[10px] text-white/60 font-medium",children:"Set up later"})]})]}),s.jsxs("div",{className:"text-center mt-2 text-[10px] text-white/60",children:["Already have an account? ",s.jsx("button",{onClick:()=>n(!0),className:"text-white font-semibold hover:underline ml-1",children:"Sign in"})]})]})};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50 font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[s.jsx(Av,{isOpen:t,onClose:()=>n(!1)}),s.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 text-white overflow-hidden pb-16",children:[s.jsx("header",{className:"relative z-20 border-b border-white/10 bg-white/5 backdrop-blur-md",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-md bg-white/20 flex items-center justify-center border border-white/30 shadow-inner",children:s.jsx(ae,{className:"w-3.5 h-3.5 text-white"})}),s.jsx("span",{className:"font-bold text-sm tracking-tight",children:"ScheduleSync"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>n(!0),className:"text-xs font-medium text-white/80 hover:text-white transition-colors",children:"Log in"}),s.jsx("button",{onClick:()=>m("/register"),className:"text-xs font-bold text-indigo-600 bg-white rounded-full px-3 py-1 hover:bg-indigo-50 transition-all shadow-sm",children:"Get Started"})]})]})}),s.jsxs("section",{className:"relative z-10 max-w-2xl mx-auto px-4 pt-12 pb-10 text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full bg-white/10 border border-white/20 text-white text-[10px] font-bold uppercase tracking-wider mb-4 backdrop-blur-sm",children:[s.jsx(Fe,{className:"w-3 h-3 mr-1.5 text-yellow-300"}),"AI-Powered Scheduling"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight leading-tight mb-3 drop-shadow-md",children:"Scheduling made effortless."}),s.jsx("p",{className:"text-sm text-white/80 max-w-md mx-auto mb-6 leading-relaxed font-medium",children:"Share your link, let people book a time, and never worry about double bookings again."}),s.jsxs("div",{className:"max-w-sm mx-auto flex flex-col items-center w-full",children:[s.jsxs("div",{className:"relative w-full group",children:[s.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur opacity-20 group-hover:opacity-30 transition duration-700"}),s.jsxs("form",{onSubmit:x,className:"relative flex w-full",children:[s.jsx("input",{type:"text",value:r,onChange:d=>u(d.target.value),placeholder:"Paste your booking link...",className:"w-full bg-white text-slate-900 placeholder:text-slate-400 text-sm font-medium rounded-full pl-4 pr-10 py-2.5 focus:outline-none shadow-xl transition-all"}),s.jsx("button",{type:"submit",className:"absolute right-1 top-1 bottom-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors shadow-md",children:s.jsx(_t,{className:"w-4 h-4"})})]})]}),l&&s.jsxs("div",{className:"w-full animate-in fade-in slide-in-from-top-2 duration-300 flex flex-col items-center",children:[!c&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 text-[10px] font-bold text-white shadow-sm",children:[s.jsx(de,{className:"w-3 h-3 text-emerald-300"}),"Link Detected"]}),h(),j()]}),!l&&s.jsxs("button",{onClick:()=>m("/register"),className:"mt-4 text-xs font-medium text-white/60 hover:text-white transition-colors flex items-center gap-1.5 group",children:[s.jsx(jt,{className:"w-3 h-3 opacity-60 group-hover:opacity-100 transition-opacity"}),s.jsx("span",{children:"Don't have a link? Start from scratch"})]})]})]})]}),s.jsx("section",{className:"py-10 px-4 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-900",children:"Why teams switch to ScheduleSync"})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100 hover:shadow-md transition-all",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mb-2",children:s.jsx(es,{className:"w-4 h-4 text-blue-600"})}),s.jsx("h3",{className:"font-bold text-slate-900 text-xs mb-1",children:"Instant Setup"}),s.jsx("p",{className:"text-slate-600 text-[11px] leading-relaxed",children:"Connect Google, Outlook, or Apple Calendar in one click. We auto-detect your busy slots instantly."})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100 hover:shadow-md transition-all",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mb-2",children:s.jsx(Ks,{className:"w-4 h-4 text-purple-600"})}),s.jsx("h3",{className:"font-bold text-slate-900 text-xs mb-1",children:"Conflict Protection"}),s.jsx("p",{className:"text-slate-600 text-[11px] leading-relaxed",children:"Our algorithm checks across all your connected calendars to ensure you never get double-booked."})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100 hover:shadow-md transition-all",children:[s.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-lg flex items-center justify-center mb-2",children:s.jsx($y,{className:"w-4 h-4 text-pink-600"})}),s.jsx("h3",{className:"font-bold text-slate-900 text-xs mb-1",children:"Mobile Optimized"}),s.jsx("p",{className:"text-slate-600 text-[11px] leading-relaxed",children:"Your booking page looks perfect on any device, making it easy for clients to book on the go."})]})]})]})}),s.jsx("section",{className:"py-8 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto bg-slate-900 rounded-xl overflow-hidden relative px-6 py-8 text-center shadow-lg",children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:"Ready to take back your time?"}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:s.jsxs("button",{onClick:()=>m("/register"),className:"w-full sm:w-auto px-5 py-2 bg-white text-slate-900 rounded-full text-xs font-bold hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2",children:["Start for Free ",s.jsx(_t,{className:"w-3 h-3"})]})})]})})}),s.jsx("footer",{className:"bg-white border-t border-slate-100 py-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-3 text-[10px] text-slate-500 font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-900",children:"ScheduleSync"}),s.jsxs("span",{children:[" ",new Date().getFullYear()]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{className:"hover:text-slate-900 cursor-pointer transition-colors",children:"Privacy"}),s.jsx("span",{className:"hover:text-slate-900 cursor-pointer transition-colors",children:"Terms"})]})]})})]})}function Rv(){const e=pe(),[t,n]=p.useState({name:"",email:"",password:""}),[r,a]=p.useState(!1),[l,i]=p.useState(""),c=m=>n({...t,[m.target.name]:m.target.value}),o=async m=>{var u,x;m.preventDefault(),a(!0),i("");try{(await Es.register(t)).data.success&&e("/login")}catch(h){i(((x=(u=h.response)==null?void 0:u.data)==null?void 0:x.error)||"Something went wrong")}a(!1)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4 py-8",children:s.jsxs("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-purple-100 p-8",children:[s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-2 shadow-md",children:s.jsx(ae,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create your account"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Start using ScheduleSync for free"})]}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l&&s.jsx("div",{className:"p-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded",children:l}),s.jsx("input",{name:"name",placeholder:"Full name",value:t.name,onChange:c,required:!0,className:"w-full px-3 py-2.5 rounded-lg border bg-white border-purple-200 focus:border-purple-400 focus:ring-2 focus:ring-purple-100 outline-none text-sm"}),s.jsx("input",{name:"email",type:"email",placeholder:"Email address",value:t.email,onChange:c,required:!0,className:"w-full px-3 py-2.5 rounded-lg border bg-white border-purple-200 focus:border-purple-400 focus:ring-2 focus:ring-purple-100 outline-none text-sm"}),s.jsx("input",{name:"password",type:"password",placeholder:"Create a password",value:t.password,onChange:c,required:!0,className:"w-full px-3 py-2.5 rounded-lg border bg-white border-purple-200 focus:border-purple-400 focus:ring-2 focus:ring-purple-100 outline-none text-sm"}),s.jsx("button",{type:"submit",disabled:r,className:"w-full px-4 py-2.5 rounded-lg text-sm font-semibold text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-sm disabled:opacity-60 disabled:cursor-not-allowed",children:r?"Creating account...":"Create account"})]}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",s.jsx(gt,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Log in"})]}),s.jsx("p",{className:"text-center text-xs text-gray-500 mt-3",children:"No credit card required"})]})})}function Mv(){const[e,t]=p.useState(""),[n,r]=p.useState("idle"),[a,l]=p.useState(""),i=async c=>{var o,m;c.preventDefault(),r("loading"),l("");try{await Es.forgotPassword(e),r("success"),l("If this email is registered, weve sent a reset link to your inbox.")}catch(u){console.error("Forgot password error:",u),r("error"),l(((m=(o=u.response)==null?void 0:o.data)==null?void 0:m.error)||"Something went wrong. Please try again in a moment.")}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(ae,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"ScheduleSync"})]}),s.jsxs("div",{className:"bg-white/90 border border-purple-100 shadow-lg rounded-2xl px-6 py-8",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Forgot your password?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Enter the email associated with your account and well send you a reset link."}),n==="success"&&s.jsxs("div",{className:"mb-4 flex items-start gap-2 rounded-xl border border-green-100 bg-green-50 px-3 py-2 text-sm text-green-800",children:[s.jsx(Qe,{className:"w-4 h-4 mt-0.5"}),s.jsx("p",{children:a})]}),n==="error"&&s.jsx("div",{className:"mb-4 rounded-xl border border-red-100 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-gray-600",children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-400",children:s.jsx(zt,{className:"w-4 h-4"})}),s.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:c=>t(c.target.value),placeholder:"you@example.com",className:"w-full rounded-xl border border-gray-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500"})]})]}),s.jsx("button",{type:"submit",disabled:n==="loading",className:"w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:from-blue-600 hover:to-purple-700 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n==="loading"?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"w-4 h-4 animate-spin"}),"Sending reset link"]}):"Send reset link"})]}),s.jsxs("div",{className:"mt-6 flex justify-between text-xs text-gray-500",children:[s.jsx(gt,{to:"/login",className:"hover:text-purple-600 font-medium",children:"Back to login"}),s.jsx(gt,{to:"/register",className:"hover:text-purple-600 font-medium",children:"Create an account"})]})]})]})})}function Ov(){const[e]=Nn(),t=pe(),n=e.get("token"),[r,a]=p.useState(""),[l,i]=p.useState(""),[c,o]=p.useState(!1),[m,u]=p.useState(""),[x,h]=p.useState(!1),j=async d=>{var v,b;if(d.preventDefault(),u(""),r.length<6){u("Password must be at least 6 characters");return}if(r!==l){u("Passwords do not match");return}if(!n){u("Invalid reset token");return}o(!0);try{await E.post("/auth/reset-password",{token:n,password:r}),h(!0),setTimeout(()=>t("/login"),2e3)}catch(f){u(((b=(v=f.response)==null?void 0:v.data)==null?void 0:b.error)||"Failed to reset password")}finally{o(!1)}};return n?x?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Qe,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset. Redirecting to login..."}),s.jsx(Q,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(ae,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-600",children:"Enter your new password below"})]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsx("input",{id:"password",type:"password",value:r,onChange:d=>a(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter new password",required:!0,minLength:6,disabled:c}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),s.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:d=>i(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Confirm new password",required:!0,minLength:6,disabled:c})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-5 w-5 animate-spin"}),"Resetting Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Br,{className:"h-5 w-5"}),"Reset Password"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(gt,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Back to Login"})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Br,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),s.jsx(gt,{to:"/forgot-password",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Request New Link"})]})})})}function Dv(){const[e]=Nn(),[t,n]=p.useState("loading"),[r,a]=p.useState(""),l=e.get("token");return p.useEffect(()=>{(async()=>{var c,o,m;if(!l){n("error"),a("Missing verification token.");return}try{const u=await Es.verifyEmail(l);n("success"),a(((c=u.data)==null?void 0:c.message)||"Your email has been verified successfully.")}catch(u){console.error("Verify error:",u),n("error"),a(((m=(o=u.response)==null?void 0:o.data)==null?void 0:m.error)||"We could not verify your email. The link may have expired or already been used.")}})()},[l]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(ae,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"ScheduleSync"})]}),s.jsxs("div",{className:"bg-white/90 border border-purple-100 shadow-lg rounded-2xl px-6 py-8 text-center",children:[t==="loading"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center",children:s.jsx(Q,{className:"w-6 h-6 text-blue-600 animate-spin"})})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying your email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we confirm your email address."})]}),t==="success"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center",children:s.jsx(Qe,{className:"w-6 h-6 text-green-600"})})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email verified"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:r}),s.jsx(gt,{to:"/login",className:"inline-flex items-center justify-center w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:from-blue-600 hover:to-purple-700 transition-colors",children:"Continue to login"})]}),t==="error"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center",children:s.jsx(It,{className:"w-6 h-6 text-red-600"})})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification failed"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:r}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(gt,{to:"/login",className:"inline-flex items-center justify-center w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:from-blue-600 hover:to-purple-700 transition-colors",children:"Go to login"}),s.jsx(gt,{to:"/register",className:"inline-flex items-center justify-center w-full rounded-xl border border-gray-200 px-4 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-colors",children:"Create a new account"})]})]})]})]})})}const $a=new Set;let En=!1;function kr({onLogin:e}){const t=pe(),[n]=Nn(),r=ts();return p.useEffect(()=>{const a=n.get("code"),l=n.get("state"),i=n.get("error"),c=r.pathname||"";let o="google";if(c.includes("microsoft")?o="microsoft":c.includes("calendly")&&(o="calendly"),console.log("?? OAuthCallback mounted:",{hasCode:!!a,state:l,error:i,provider:o,path:c}),i){console.error("? OAuth error from provider:",i),t("/login?error=oauth_failed",{replace:!0});return}if(!a){console.error("? No OAuth code in URL"),t("/login",{replace:!0});return}if(En){console.log("?? Already processing a request, ignoring duplicate");return}if($a.has(a)){console.log("?? This code already processed, redirecting to dashboard"),t("/dashboard",{replace:!0});return}if(En=!0,$a.add(a),console.log("?? Code marked as processing for provider:",o),window.history.replaceState({},"",r.pathname),l!=null&&l.startsWith("guest-booking:")){console.log("?? Booking OAuth flow");const m=l.split(":"),u=m[1];m[2],En=!1,t(`/book/${u}?code=${a}&state=${l}`,{replace:!0});return}return console.log("?? Dashboard OAuth flow - processing login for:",o),(async()=>{var m,u,x,h,j,d,v;try{let b;if(o==="google")console.log("?? Calling backend /auth/google/callback ..."),b=await is.handleGoogleCallback(a);else if(o==="microsoft")console.log("?? Calling backend /auth/microsoft/callback ..."),b=await is.handleMicrosoftCallback(a);else if(o==="calendly")console.log("?? Calling backend /auth/calendly/callback ..."),b=await is.handleCalendlyCallback(a);else throw new Error(`Unsupported provider: ${o}`);const f=b.data;console.log("? Raw OAuth backend response:",f);let y=(f==null?void 0:f.token)??(f==null?void 0:f.accessToken)??(f==null?void 0:f.jwt)??((m=f==null?void 0:f.data)==null?void 0:m.token)??null,g=(f==null?void 0:f.user)??((u=f==null?void 0:f.data)==null?void 0:u.user)??(f==null?void 0:f.currentUser)??null;if(!g){console.warn(`?? No user object returned for provider ${o}. Response:`,f),En=!1,$a.delete(a);const k=(f==null?void 0:f.message)||(f==null?void 0:f.error)||"Authentication failed. Please sign in again.";t(`/login?error=${encodeURIComponent(k)}`,{replace:!0});return}y||console.warn(`?? No token in OAuth response for ${o}, proceeding with user only`),console.log("?? Updating app state via onLogin..."),typeof e=="function"?e(y||"",g):console.warn("?? onLogin prop is not a function"),En=!1}catch(b){console.error("? OAuth failed:",{message:b.message,response:(x=b.response)==null?void 0:x.data}),En=!1,$a.delete(a);const f=((j=(h=b.response)==null?void 0:h.data)==null?void 0:j.hint)||((v=(d=b.response)==null?void 0:d.data)==null?void 0:v.error)||"Authentication failed. Please try again.";t(`/login?error=${encodeURIComponent(f)}`,{replace:!0})}})(),()=>{console.log("?? OAuthCallback unmounting")}},[t,n,r,e]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-purple-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q,{className:"h-12 w-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg font-medium",children:"Signing you in..."}),s.jsx("p",{className:"text-white text-sm mt-2 opacity-80",children:"This should only take a moment"})]})})}function Iv(){var y;const e=pe(),{updateUser:t,user:n}=ga(),[r,a]=p.useState(1),[l,i]=p.useState(!1),[c,o]=p.useState(""),[m,u]=p.useState(!1),[x,h]=p.useState({username:((y=n==null?void 0:n.email)==null?void 0:y.split("@")[0])||"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,availableFrom:"09:00",availableTo:"17:00",workDays:["Mon","Tue","Wed","Thu","Fri"]}),j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=n?`onboardingCompleted:${n.id||n.email}`:null;p.useEffect(()=>{if(!n)return;d&&localStorage.getItem(d)==="true"||n.hasCompletedOnboarding?e("/dashboard",{replace:!0}):u(!0)},[n,d,e]);const v=()=>{r<3&&a(g=>g+1)},b=g=>{h(k=>{const S=k.workDays.includes(g)?k.workDays.filter(w=>w!==g):[...k.workDays,g];return{...k,workDays:S}})},f=async()=>{var g,k;i(!0),o("");try{await E.put("/users/profile",{username:x.username,timezone:x.timezone,availability:{start:x.availableFrom,end:x.availableTo,days:x.workDays},has_completed_onboarding:!0}),t({...n,username:x.username,hasCompletedOnboarding:!0}),d&&localStorage.setItem(d,"true"),e("/dashboard",{replace:!0})}catch(S){console.error("Onboarding failed:",S),o(((k=(g=S==null?void 0:S.response)==null?void 0:g.data)==null?void 0:k.error)||"Failed to save profile. Please try again.")}finally{i(!1)}};return!n||!m?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(Q,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4 font-sans",children:s.jsxs("div",{className:"w-full max-w-lg bg-white/90 backdrop-blur-xl border border-purple-100 shadow-2xl rounded-3xl overflow-hidden transition-all duration-500",children:[s.jsx("div",{className:"bg-gray-100 h-1.5 w-full",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-500 ease-out",style:{width:`${r/3*100}%`}})}),s.jsxs("div",{className:"p-8 sm:p-10",children:[c&&s.jsx("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-sm rounded-xl border border-red-200 text-center",children:c}),r===1&&s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-14 h-14 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:s.jsx(Zt,{size:28})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Welcome to ScheduleSync!"}),s.jsx("p",{className:"text-gray-500",children:"Let's claim your unique booking link."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 ml-1",children:"Create your URL"}),s.jsxs("div",{className:"flex rounded-xl shadow-sm ring-1 ring-gray-200 focus-within:ring-2 focus-within:ring-purple-500 transition-all overflow-hidden",children:[s.jsx("span",{className:"inline-flex items-center px-4 bg-gray-50 text-gray-500 sm:text-sm font-medium border-r border-gray-200",children:"schedulesync.com/"}),s.jsx("input",{type:"text",value:x.username,onChange:g=>h({...x,username:g.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"flex-1 min-w-0 block w-full px-4 py-3 bg-white border-0 focus:ring-0 sm:text-sm text-gray-900 placeholder-gray-400",placeholder:"john-doe"})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-400 ml-1",children:"This will be your public profile link."})]}),s.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-xl flex items-start gap-3 border border-blue-100",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(us,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Timezone Detected"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-0.5",children:["We've set your timezone to"," ",s.jsx("strong",{children:x.timezone}),"."]})]})]}),s.jsxs("button",{onClick:v,disabled:!x.username,className:"w-full py-4 px-6 bg-gray-900 text-white rounded-xl font-bold text-lg hover:bg-gray-800 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 shadow-lg",children:["Next Step ",s.jsx(mn,{size:20})]})]}),r===2&&s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-14 h-14 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:s.jsx(Ce,{size:28})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Set availability"}),s.jsx("p",{className:"text-gray-500",children:"Define your standard working hours."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Start Time"}),s.jsx("div",{className:"relative",children:s.jsxs("select",{value:x.availableFrom,onChange:g=>h({...x,availableFrom:g.target.value}),className:"block w-full pl-4 pr-10 py-3 text-base border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent sm:text-sm rounded-xl bg-gray-50",children:[s.jsx("option",{value:"08:00",children:"08:00 AM"}),s.jsx("option",{value:"09:00",children:"09:00 AM"}),s.jsx("option",{value:"10:00",children:"10:00 AM"})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide",children:"End Time"}),s.jsx("div",{className:"relative",children:s.jsxs("select",{value:x.availableTo,onChange:g=>h({...x,availableTo:g.target.value}),className:"block w-full pl-4 pr-10 py-3 text-base border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent sm:text-sm rounded-xl bg-gray-50",children:[s.jsx("option",{value:"16:00",children:"04:00 PM"}),s.jsx("option",{value:"17:00",children:"05:00 PM"}),s.jsx("option",{value:"18:00",children:"06:00 PM"})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Available Days"}),s.jsx("div",{className:"flex justify-between gap-2",children:j.map(g=>{const k=x.workDays.includes(g);return s.jsx("button",{type:"button",onClick:()=>b(g),className:`w-10 h-10 rounded-full text-xs font-bold transition-all duration-200 ${k?"bg-purple-600 text-white shadow-md transform scale-110":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:g.charAt(0)},g)})})]}),s.jsxs("button",{onClick:v,className:"w-full py-4 px-6 bg-gray-900 text-white rounded-xl font-bold text-lg hover:bg-gray-800 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-2 shadow-lg",children:["Next Step ",s.jsx(mn,{size:20})]})]}),r===3&&s.jsxs("div",{className:"text-center space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[s.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-green-100 rounded-full animate-ping opacity-25"}),s.jsx("div",{className:"relative w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center shadow-sm",children:s.jsx(Qe,{size:48,strokeWidth:2.5})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"You're all set!"}),s.jsx("p",{className:"text-gray-500 max-w-xs mx-auto",children:"We've created your booking page and a default 30-min meeting type."})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl border border-gray-200 transform transition-transform hover:scale-[1.02] cursor-default",children:[s.jsxs("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-bold mb-2 flex items-center justify-center gap-2",children:[s.jsx(Fe,{size:12,className:"text-purple-500"})," Your Personal Link"]}),s.jsxs("p",{className:"text-lg font-bold text-purple-600 break-all",children:["schedulesync.com/",x.username]})]}),s.jsx("button",{onClick:f,disabled:l,className:"w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold text-lg hover:shadow-xl hover:scale-[1.02] transition-all disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-3",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Q,{size:20,className:"animate-spin"})," Setting up dashboard..."]}):s.jsxs(s.Fragment,{children:["Go to Dashboard ",s.jsx(mn,{size:20})]})})]})]})]})})}function Uv(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,l]=p.useState(""),[i,c]=p.useState(""),o=pe();p.useEffect(()=>{m()},[]);const m=async()=>{var h;try{r(!0);const j=await E.get("/admin/users");t(j.data.users)}catch(j){console.error("Failed to load users:",j),((h=j.response)==null?void 0:h.status)===403?l("Access Denied: You are not an admin."):l("Failed to load user list.")}finally{r(!1)}},u=async(h,j)=>{var d,v;if(window.confirm(`Are you sure you want to PERMANENTLY delete ${j}? This will remove all their teams and bookings. This cannot be undone.`))try{t(b=>b.filter(f=>f.id!==h)),await E.delete(`/admin/users/${h}`),alert(`User ${j} deleted successfully.`)}catch(b){console.error("Delete failed:",b),alert("Failed to delete user: "+(((v=(d=b.response)==null?void 0:d.data)==null?void 0:v.error)||b.message)),m()}},x=e.filter(h=>h.email.toLowerCase().includes(i.toLowerCase())||h.name&&h.name.toLowerCase().includes(i.toLowerCase()));return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(Q,{className:"h-8 w-8 animate-spin text-blue-600"})}):a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md border border-red-100",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Bo,{size:32})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsx("button",{onClick:()=>o("/dashboard"),className:"px-6 py-2 bg-gray-900 text-white rounded-xl hover:bg-gray-800 transition-colors",children:"Back to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6 sm:p-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Bo,{className:"text-blue-600"}),"Admin Panel"]}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage system users and data."})]}),s.jsxs("div",{className:"bg-white px-4 py-2 rounded-xl border shadow-sm text-sm font-medium text-gray-600",children:["Total Users: ",s.jsx("span",{className:"text-gray-900 font-bold",children:e.length})]})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Zc,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:i,onChange:h=>c(h.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm shadow-sm"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(h=>{var j;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:((j=h.name)==null?void 0:j[0])||h.email[0].toUpperCase()})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name||"No Name"}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(zt,{size:12})," ",h.email]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(Cs,{size:12,className:"mr-1"})," ",h.team_count||0," Teams"]}),s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(ae,{size:12,className:"mr-1"})," ",h.booking_count||0," Bookings"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`capitalize px-2 py-1 rounded-md text-xs border ${h.provider==="google"?"bg-white border-gray-200":"bg-gray-100"}`,children:h.provider||"Email"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>u(h.id,h.email),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 p-2 rounded-lg transition-colors",title:"Delete User",children:s.jsx(xs,{size:18})})})]},h.id)})})]})}),x.length===0&&s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No users found matching your search."})]})]})})}function Fv(){console.log(" AISchedulerChat component is rendering!");const e=` Hi! I'm your AI scheduling assistant.

I can help you:

 Book meetings ("Schedule with john@email.com tomorrow at 2pm")
 Find available times ("When can I meet this week?")  
 View your bookings ("Show my upcoming meetings")
 Send professional emails ("Send reminder to client@company.com")

What would you like to do?`,t=()=>({role:"assistant",content:e,timestamp:new Date,isGreeting:!0}),[n,r]=p.useState(()=>{const A=localStorage.getItem("aiChat_isOpen");return A?JSON.parse(A):!1}),[a,l]=p.useState(!1),[i,c]=p.useState(""),[o,m]=p.useState({ai_queries_used:0,ai_queries_limit:3,loading:!0}),[u,x]=p.useState(()=>{try{const A=localStorage.getItem("aiChat_history");if(A){const C=JSON.parse(A);if(C&&C.length>0){const T=C.map(G=>({...G,timestamp:new Date(G.timestamp)}));if(T.some(G=>G.isGreeting||G.role==="assistant"&&G.content.includes("Hi! I'm your AI scheduling assistant")))return T}}}catch(A){console.error("Error loading chat history:",A)}return[t()]}),[h,j]=p.useState(!1),[d,v]=p.useState(()=>{const A=localStorage.getItem("aiChat_pendingBooking");return A?JSON.parse(A):null}),b=p.useRef(null),f=()=>{var A;(A=b.current)==null||A.scrollIntoView({behavior:"smooth"})},y=async()=>{try{console.log(" Fetching AI usage...");const A=await E.get("/user/usage");console.log(" Usage response:",A.data),m({ai_queries_used:A.data.ai_queries_used||0,ai_queries_limit:A.data.ai_queries_limit||3,loading:!1})}catch(A){console.error(" Failed to fetch usage:",A),m({ai_queries_used:0,ai_queries_limit:3,loading:!1})}};p.useEffect(()=>{setTimeout(()=>{if(u.length===0){const A=t();x([A]),localStorage.setItem("aiChat_history",JSON.stringify([A]))}},200)},[]),p.useEffect(()=>{const A=u.some(C=>C.isGreeting||C.role==="assistant"&&C.content.includes("Hi! I'm your AI scheduling assistant"));if(u.length===0||!A){const C=t();x([C])}},[u]),p.useEffect(()=>{u.length>0&&localStorage.setItem("aiChat_history",JSON.stringify(u))},[u]),p.useEffect(()=>{d?localStorage.setItem("aiChat_pendingBooking",JSON.stringify(d)):localStorage.removeItem("aiChat_pendingBooking")},[d]),p.useEffect(()=>{localStorage.setItem("aiChat_isOpen",JSON.stringify(n))},[n]),p.useEffect(()=>{f()},[u]),p.useEffect(()=>{n&&y()},[n]);const g=async()=>{var C,T,z;if(!i.trim()||h)return;if(o.ai_queries_used>=o.ai_queries_limit){x(G=>[...G,{role:"assistant",content:` You've reached your AI query limit (${o.ai_queries_limit}). Please upgrade your plan to continue using AI features.`,timestamp:new Date}]);return}const A=i.trim();c(""),x(G=>[...G,{role:"user",content:A,timestamp:new Date}]),j(!0);try{let G=A;d&&(G=`[Current pending booking: "${d.title}" on ${d.date} at ${d.time} for ${d.duration} minutes with ${d.attendee_email}]

User says: ${A}`),console.log(" Sending AI request:",G);const R=(await E.ai.schedule(G,u)).data;if(console.log(" AI response received:",R),R.usage&&(console.log(" Updating usage state:",R.usage),m(I=>({...I,ai_queries_used:R.usage.ai_queries_used,ai_queries_limit:R.usage.ai_queries_limit}))),R.type==="update_pending"&&((C=R.data)!=null&&C.updatedBooking))v(R.data.updatedBooking),x(I=>[...I,{role:"assistant",content:R.message,timestamp:new Date}]);else if(R.type==="confirmation"&&((T=R.data)!=null&&T.bookingData)){const I=R.data.bookingData;v({title:I.title||"Meeting",date:I.date,time:I.time,attendees:I.attendees||[I.attendee_email],attendee_email:I.attendee_email||((z=I.attendees)==null?void 0:z[0]),duration:I.duration||30,notes:I.notes||""}),x(B=>[...B,{role:"assistant",content:R.message,timestamp:new Date}])}else{const I=R.message||R.response||"I understood your request.";x(B=>[...B,{role:"assistant",content:I,timestamp:new Date}])}}catch(G){console.error("AI chat error:",G),x(X=>[...X,{role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date}])}finally{j(!1)}},k=async()=>{var A,C,T;if(d){j(!0);try{const z=new Date(`${d.date}T${d.time}`),G=new Date(z.getTime()+d.duration*6e4),X=d.attendees||[d.attendee_email],R={title:d.title||"Meeting",start_time:z.toISOString(),end_time:G.toISOString(),attendees:X,attendee_email:X[0],attendee_name:X[0].split("@")[0],notes:d.notes||""};console.log(" Sending AI booking request:",R);const I=await E.post("/chatgpt/book-meeting",R);console.log(" AI booking response:",I.data),x(B=>[...B,{role:"assistant",content:` Booking Confirmed!

 ${d.title||"Meeting"}
 ${D(z)}
 ${X.join(", ")}

Confirmation emails sent!`,timestamp:new Date,isConfirmation:!0}]),v(null)}catch(z){console.error(" AI booking error:",z),console.error(" Error response:",(A=z.response)==null?void 0:A.data);let G=" Failed to create booking. ";(T=(C=z.response)==null?void 0:C.data)!=null&&T.error?G+=z.response.data.error:G+="Please try again later.",x(X=>[...X,{role:"assistant",content:G,timestamp:new Date}])}finally{j(!1)}}},S=()=>{v(null),x(A=>[...A,{role:"assistant",content:"Booking cancelled. How else can I help you?",timestamp:new Date}])},w=()=>{const A=t();x([A]),v(null),localStorage.removeItem("aiChat_pendingBooking"),setTimeout(()=>{localStorage.setItem("aiChat_history",JSON.stringify([A]))},100)},N=()=>{const A=t();x([A]),v(null),localStorage.removeItem("aiChat_pendingBooking"),setTimeout(()=>{localStorage.setItem("aiChat_history",JSON.stringify([A]))},100)},_=A=>{const C=u.filter((T,z)=>z!==A);if(C.length===0||!C.some(T=>T.isGreeting)){const T=t();x([T]),setTimeout(()=>{localStorage.setItem("aiChat_history",JSON.stringify([T]))},100)}else x(C)},D=A=>A.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),M=A=>new Date(A).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),V=A=>A.replace(/\*\*/g,"");return n?s.jsx("div",{className:"fixed bottom-0 right-0 sm:bottom-6 sm:right-6 z-[99998] w-full sm:w-auto",children:s.jsxs("div",{className:`
        w-full sm:w-96 
        bg-white 
        rounded-none sm:rounded-3xl 
        shadow-2xl 
        border-0 sm:border-2 sm:border-purple-200 
        overflow-hidden 
        transition-all 
        flex flex-col 
        ${a?"h-16":"h-screen sm:h-[550px]"}
        max-h-screen
      `,children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-3 sm:p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(Fe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm sm:text-base",children:"AI Scheduler"}),s.jsx("p",{className:"text-xs text-purple-200",children:"Natural language booking"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded-lg px-2 py-1",children:[s.jsx(es,{className:"h-3 w-3 text-yellow-300"}),o.loading?s.jsx("span",{className:"text-xs text-white",children:"..."}):s.jsxs("span",{className:"text-xs text-white font-medium",children:[o.ai_queries_used,"/",o.ai_queries_limit]})]}),s.jsx("button",{onClick:()=>l(!a),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:a?"Expand":"Minimize",children:a?s.jsx(Ly,{className:"h-4 w-4 text-white"}):s.jsx(My,{className:"h-4 w-4 text-white"})}),s.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Close",children:s.jsx(lt,{className:"h-4 w-4 text-white"})})]})]}),!a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50",children:[!o.loading&&o.ai_queries_used>=o.ai_queries_limit-1&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(es,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-sm text-yellow-700 font-medium",children:o.ai_queries_used>=o.ai_queries_limit?`You've reached your AI query limit (${o.ai_queries_limit})`:`Only ${o.ai_queries_limit-o.ai_queries_used} AI query remaining`})]}),o.ai_queries_used>=o.ai_queries_limit&&s.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Upgrade your plan to continue using AI features."})]}),u.length<=1&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Try saying:"}),s.jsx("div",{className:"space-y-2",children:["Book a meeting with john@email.com tomorrow at 2pm","Find available times this week","Show my bookings","Send reminder to client@company.com"].map((A,C)=>s.jsxs("button",{onClick:()=>c(A),className:"block w-full text-left text-xs sm:text-sm p-2 sm:p-3 bg-white rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors",children:['"',A,'"']},C))})]}),u.length>1&&s.jsxs("div",{className:"flex justify-center mb-4 gap-2 sm:gap-3 p-2 bg-gray-100 rounded-lg",children:[s.jsxs("button",{onClick:w,className:"text-xs text-red-600 hover:text-red-700 bg-red-50 hover:bg-red-100 flex items-center gap-1 transition-colors px-3 py-2 rounded-lg border border-red-200",children:[s.jsx(xs,{className:"h-3 w-3"}),"Clear All"]}),s.jsxs("button",{onClick:N,className:"text-xs text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 flex items-center gap-1 transition-colors px-3 py-2 rounded-lg border border-blue-200",children:[s.jsx(Uy,{className:"h-3 w-3"}),"Reset"]})]}),u.map((A,C)=>s.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"} group`,children:s.jsxs("div",{className:`max-w-[85%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 relative ${A.role==="user"?"bg-purple-600 text-white rounded-br-md":"bg-white text-gray-800 border border-gray-200 rounded-bl-md shadow-sm"}`,children:[s.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap",children:V(A.content)}),s.jsx("p",{className:`text-xs mt-1 ${A.role==="user"?"text-purple-200":"text-gray-400"}`,children:M(A.timestamp)}),C>0&&!A.isGreeting&&s.jsx("button",{onClick:()=>_(C),className:`absolute -top-2 -right-2 w-5 h-5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-xs ${A.role==="user"?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-400 hover:bg-red-500 text-white"}`,title:"Delete",children:""})]})},C)),h&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white rounded-2xl px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 shadow-sm",children:s.jsx(Q,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin text-purple-600"})})}),s.jsx("div",{ref:b})]}),d&&s.jsx("div",{className:"p-3 sm:p-4 bg-purple-50 border-t border-purple-200",children:s.jsxs("div",{className:"bg-white rounded-xl p-3 sm:p-4 border-2 border-purple-300 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base flex items-center gap-2",children:[s.jsx(ae,{className:"h-4 w-4 text-purple-600"}),"Confirm Booking"]}),s.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-red-500",children:s.jsx(lt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-3 text-sm mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Yn,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("input",{type:"text",value:d.title,onChange:A=>v({...d,title:A.target.value}),className:"flex-1 bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm focus:ring-1 focus:ring-purple-500",placeholder:"Meeting title"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ae,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("input",{type:"date",value:d.date,onChange:A=>v({...d,date:A.target.value}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm focus:ring-1 focus:ring-purple-500"}),s.jsx("input",{type:"time",value:d.time,onChange:A=>v({...d,time:A.target.value}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm focus:ring-1 focus:ring-purple-500"})]}),s.jsxs("div",{className:"text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zt,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium",children:"Attendees:"})]}),s.jsxs("div",{className:"space-y-2 pl-6",children:[(d.attendees||[d.attendee_email]).map((A,C)=>{var T;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"email",value:A,onChange:z=>{const G=[...d.attendees||[d.attendee_email]];G[C]=z.target.value,v({...d,attendees:G,attendee_email:G[0]})},className:"flex-1 bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm focus:ring-1 focus:ring-purple-500",placeholder:"attendee@email.com"}),((T=d.attendees)==null?void 0:T.length)>1&&s.jsx("button",{onClick:()=>{const z=(d.attendees||[]).filter((G,X)=>X!==C);v({...d,attendees:z,attendee_email:z[0]})},className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(lt,{className:"h-4 w-4"})})]},C)}),s.jsx("button",{onClick:()=>{const A=d.attendees||[d.attendee_email];v({...d,attendees:[...A,""]})},className:"text-purple-600 hover:text-purple-700 text-sm flex items-center gap-1 mt-2",children:"+ Add another attendee"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ce,{className:"h-4 w-4 flex-shrink-0"}),s.jsxs("select",{value:d.duration,onChange:A=>v({...d,duration:parseInt(A.target.value)}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm focus:ring-1 focus:ring-purple-500",children:[s.jsx("option",{value:15,children:"15 minutes"}),s.jsx("option",{value:30,children:"30 minutes"}),s.jsx("option",{value:45,children:"45 minutes"}),s.jsx("option",{value:60,children:"1 hour"}),s.jsx("option",{value:90,children:"1.5 hours"}),s.jsx("option",{value:120,children:"2 hours"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:k,disabled:h,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 sm:py-3 px-4 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors disabled:opacity-50 text-sm sm:text-base",children:h?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"h-4 w-4"}),"Confirm"]})}),s.jsxs("button",{onClick:S,disabled:h,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 sm:py-3 px-4 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors disabled:opacity-50 text-sm sm:text-base",children:[s.jsx(It,{className:"h-4 w-4"}),"Cancel"]})]})]})}),s.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-white",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:A=>c(A.target.value),onKeyPress:A=>A.key==="Enter"&&g(),placeholder:"Try: 'Book a call with...' ",className:"flex-1 px-3 sm:px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",disabled:h||o.ai_queries_used>=o.ai_queries_limit}),s.jsx("button",{onClick:g,disabled:h||!i.trim()||o.ai_queries_used>=o.ai_queries_limit,className:"p-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-300 text-white rounded-xl transition-colors",title:o.ai_queries_used>=o.ai_queries_limit?"AI query limit reached":"Send message",children:h?s.jsx(Q,{className:"h-5 w-5 animate-spin"}):s.jsx(Fy,{className:"h-5 w-5"})})]})})]})]})}):s.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 h-14 w-14 sm:h-16 sm:w-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full shadow-2xl hover:shadow-3xl transition-all hover:scale-110 flex items-center justify-center group animate-bounce",style:{animationDuration:"2s",zIndex:99999},children:[s.jsx(Fe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white group-hover:rotate-12 transition-transform"}),s.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 sm:h-5 sm:w-5 bg-red-500 rounded-full border-2 border-white animate-pulse flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"AI"})})]})}var Cf="clover",$v=function(t){return t===3?"v3":t},_f="https://js.stripe.com",zv="".concat(_f,"/").concat(Cf,"/stripe.js"),Bv=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Gv=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Hv=function(t){return Bv.test(t)||Gv.test(t)},Wv=function(){for(var t=document.querySelectorAll('script[src^="'.concat(_f,'"]')),n=0;n<t.length;n++){var r=t[n];if(Hv(r.src))return r}return null},hm=function(t){var n="",r=document.createElement("script");r.src="".concat(zv).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},qv=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:n})},Sr=null,za=null,Ba=null,Vv=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Yv=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Kv=function(t){return Sr!==null?Sr:(Sr=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var a=Wv();if(!(a&&t)){if(!a)a=hm(t);else if(a&&Ba!==null&&za!==null){var l;a.removeEventListener("load",Ba),a.removeEventListener("error",za),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=hm(t)}}Ba=Yv(n,r),za=Vv(r),a.addEventListener("load",Ba),a.addEventListener("error",za)}catch(i){r(i);return}}),Sr.catch(function(n){return Sr=null,Promise.reject(n)}))},Jv=function(t,n,r){if(t===null)return null;var a=n[0],l=a.match(/^pk_test/),i=$v(t.version),c=Cf;l&&i!==c&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=t.apply(void 0,n);return qv(o,r),o},Cr,Ef=!1,Tf=function(){return Cr||(Cr=Kv(null).catch(function(t){return Cr=null,Promise.reject(t)}),Cr)};Promise.resolve().then(function(){return Tf()}).catch(function(e){Ef||console.warn(e)});var Pf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ef=!0;var a=Date.now();return Tf().then(function(l){return Jv(l,n,a)})},Lf={exports:{}},Qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xv=Qv,Zv=Xv;function Af(){}function Rf(){}Rf.resetWarningCache=Af;var ej=function(){function e(r,a,l,i,c,o){if(o!==Zv){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rf,resetWarningCache:Af};return n.PropTypes=n,n};Lf.exports=ej();var tj=Lf.exports;const fe=Cm(tj);function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(n),!0).forEach(function(r){Mf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function il(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sj(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function nj(e,t){if(e==null)return{};var n=sj(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Of(e,t){return rj(e)||aj(e,t)||lj(e,t)||ij()}function rj(e){if(Array.isArray(e))return e}function aj(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],a=!0,l=!1,i,c;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));a=!0);}catch(o){l=!0,c=o}finally{try{!a&&n.return!=null&&n.return()}finally{if(l)throw c}}return r}}function lj(e,t){if(e){if(typeof e=="string")return gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gm(e,t)}}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ij(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt=function(t,n,r){var a=!!r,l=xe.useRef(r);xe.useEffect(function(){l.current=r},[r]),xe.useEffect(function(){if(!a||!t)return function(){};var i=function(){l.current&&l.current.apply(l,arguments)};return t.on(n,i),function(){t.off(n,i)}},[a,n,t,l])},Jo=function(t){var n=xe.useRef(t);return xe.useEffect(function(){n.current=t},[t]),n.current},ar=function(t){return t!==null&&il(t)==="object"},oj=function(t){return ar(t)&&typeof t.then=="function"},cj=function(t){return ar(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},ym="[object Object]",dj=function e(t,n){if(!ar(t)||!ar(n))return t===n;var r=Array.isArray(t),a=Array.isArray(n);if(r!==a)return!1;var l=Object.prototype.toString.call(t)===ym,i=Object.prototype.toString.call(n)===ym;if(l!==i)return!1;if(!l&&!r)return t===n;var c=Object.keys(t),o=Object.keys(n);if(c.length!==o.length)return!1;for(var m={},u=0;u<c.length;u+=1)m[c[u]]=!0;for(var x=0;x<o.length;x+=1)m[o[x]]=!0;var h=Object.keys(m);if(h.length!==c.length)return!1;var j=t,d=n,v=function(f){return e(j[f],d[f])};return h.every(v)},Df=function(t,n,r){return ar(t)?Object.keys(t).reduce(function(a,l){var i=!ar(n)||!dj(t[l],n[l]);return r.includes(l)?(i&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),a):i?pm(pm({},a||{}),{},Mf({},l,t[l])):a},null):null},If="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",bm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:If;if(t===null||cj(t))return t;throw new Error(n)},uj=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:If;if(oj(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return bm(a,n)})};var r=bm(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},mj=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.4.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},ci=xe.createContext(null);ci.displayName="ElementsContext";var Uf=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},ad=function(t){var n=t.stripe,r=t.options,a=t.children,l=xe.useMemo(function(){return uj(n)},[n]),i=xe.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),c=Of(i,2),o=c[0],m=c[1];xe.useEffect(function(){var h=!0,j=function(v){m(function(b){return b.stripe?b:{stripe:v,elements:v.elements(r)}})};return l.tag==="async"&&!o.stripe?l.stripePromise.then(function(d){d&&h&&j(d)}):l.tag==="sync"&&!o.stripe&&j(l.stripe),function(){h=!1}},[l,o,r]);var u=Jo(n);xe.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var x=Jo(r);return xe.useEffect(function(){if(o.elements){var h=Df(r,x,["clientSecret","fonts"]);h&&o.elements.update(h)}},[r,x,o.elements]),xe.useEffect(function(){mj(o.stripe)},[o.stripe]),xe.createElement(ci.Provider,{value:o},a)};ad.propTypes={stripe:fe.any,options:fe.object};var xj=function(t){var n=xe.useContext(ci);return Uf(n,t)},hj=function(){var t=xj("calls useElements()"),n=t.elements;return n};fe.func.isRequired;var Ff=xe.createContext(null);Ff.displayName="CheckoutContext";fe.any,fe.shape({clientSecret:fe.oneOfType([fe.string,fe.instanceOf(Promise)]).isRequired,elementsOptions:fe.object}).isRequired;var Qo=function(t){var n=xe.useContext(Ff),r=xe.useContext(ci);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return Uf(r,t)},fj=["mode"],pj=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},wt=function(t,n){var r="".concat(pj(t),"Element"),a=function(o){var m=o.id,u=o.className,x=o.options,h=x===void 0?{}:x,j=o.onBlur,d=o.onFocus,v=o.onReady,b=o.onChange,f=o.onEscape,y=o.onClick,g=o.onLoadError,k=o.onLoaderStart,S=o.onNetworksChange,w=o.onConfirm,N=o.onCancel,_=o.onShippingAddressChange,D=o.onShippingRateChange,M=o.onSavedPaymentMethodRemove,V=o.onSavedPaymentMethodUpdate,A=Qo("mounts <".concat(r,">")),C="elements"in A?A.elements:null,T="checkoutState"in A?A.checkoutState:null,z=(T==null?void 0:T.type)==="success"||(T==null?void 0:T.type)==="loading"?T.sdk:null,G=xe.useState(null),X=Of(G,2),R=X[0],I=X[1],B=xe.useRef(null),Z=xe.useRef(null);nt(R,"blur",j),nt(R,"focus",d),nt(R,"escape",f),nt(R,"click",y),nt(R,"loaderror",g),nt(R,"loaderstart",k),nt(R,"networkschange",S),nt(R,"confirm",w),nt(R,"cancel",N),nt(R,"shippingaddresschange",_),nt(R,"shippingratechange",D),nt(R,"savedpaymentmethodremove",M),nt(R,"savedpaymentmethodupdate",V),nt(R,"change",b);var te;v&&(t==="expressCheckout"?te=v:te=function(){v(R)}),nt(R,"ready",te),xe.useLayoutEffect(function(){if(B.current===null&&Z.current!==null&&(C||z)){var U=null;if(z)switch(t){case"paymentForm":U=z.createPaymentFormElement();break;case"payment":U=z.createPaymentElement(h);break;case"address":if("mode"in h){var O=h.mode,$=nj(h,fj);if(O==="shipping")U=z.createShippingAddressElement($);else if(O==="billing")U=z.createBillingAddressElement($);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":U=z.createExpressCheckoutElement(h);break;case"currencySelector":U=z.createCurrencySelectorElement();break;case"taxId":U=z.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else C&&(U=C.create(t,h));B.current=U,I(U),U&&U.mount(Z.current)}},[C,z,h]);var L=Jo(h);return xe.useEffect(function(){if(B.current){var U=Df(h,L,["paymentRequest"]);U&&"update"in B.current&&B.current.update(U)}},[h,L]),xe.useLayoutEffect(function(){return function(){if(B.current&&typeof B.current.destroy=="function")try{B.current.destroy(),B.current=null}catch{}}},[]),xe.createElement("div",{id:m,className:u,ref:Z})},l=function(o){Qo("mounts <".concat(r,">"));var m=o.id,u=o.className;return xe.createElement("div",{id:m,className:u})},i=n?l:a;return i.propTypes={id:fe.string,className:fe.string,onChange:fe.func,onBlur:fe.func,onFocus:fe.func,onReady:fe.func,onEscape:fe.func,onClick:fe.func,onLoadError:fe.func,onLoaderStart:fe.func,onNetworksChange:fe.func,onConfirm:fe.func,onCancel:fe.func,onShippingAddressChange:fe.func,onShippingRateChange:fe.func,onSavedPaymentMethodRemove:fe.func,onSavedPaymentMethodUpdate:fe.func,options:fe.object},i.displayName=r,i.__elementType=t,i},Nt=typeof window>"u",gj=xe.createContext(null);gj.displayName="EmbeddedCheckoutProviderContext";var yj=function(){var t=Qo("calls useStripe()"),n=t.stripe;return n};wt("auBankAccount",Nt);var vm=wt("card",Nt);wt("cardNumber",Nt);wt("cardExpiry",Nt);wt("cardCvc",Nt);wt("iban",Nt);wt("payment",Nt);wt("expressCheckout",Nt);wt("paymentRequestButton",Nt);wt("linkAuthentication",Nt);wt("address",Nt);wt("shippingAddress",Nt);wt("paymentMethodMessaging",Nt);wt("taxId",Nt);function $f({plan:e,onSuccess:t,onCancel:n}){const r=yj(),a=hj(),[l,i]=p.useState(!1),[c,o]=p.useState(null),m=async x=>{if(x.preventDefault(),!r||!a){o("Stripe is not loaded. Please refresh the page.");return}i(!0),o(null);try{console.log(" Creating subscription for plan:",e.id);const h=await fetch("/api/subscriptions/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan_id:e.id})}),j=await h.json();if(console.log(" Backend response:",j),!h.ok)throw new Error(j.error||"Subscription creation failed");if(j.client_secret&&j.client_secret!=="simulated_success"){console.log(" Processing Stripe payment...");const d=a.getElement(vm),{error:v,paymentIntent:b}=await r.confirmCardPayment(j.client_secret,{payment_method:{card:d,billing_details:{name:"Subscription User"}}});if(v)throw new Error(v.message);b.status==="succeeded"&&(console.log(" Payment successful!"),t(e))}else console.log(" Simulated payment success"),t(e)}catch(h){console.error(" Subscription error:",h),o(h.message)}finally{i(!1)}},u={style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"},fontFamily:"system-ui, -apple-system, sans-serif"},invalid:{color:"#ef4444"}},hidePostalCode:!1};return s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Fe,{className:"h-5 w-5 text-blue-600"}),s.jsxs("h3",{className:"font-bold text-blue-900",children:[e.name," Plan"]})]}),s.jsxs("p",{className:"text-3xl font-black text-gray-900 mb-1",children:["$",e.price,s.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})}),s.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"What you'll get:"}),s.jsx("ul",{className:"space-y-1",children:e.features.slice(0,3).map((x,h)=>s.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[s.jsx("span",{className:"text-green-500 mr-2 text-xs",children:""}),x]},h))})]}),s.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-5",children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Xl,{className:"h-5 w-5 text-blue-600"}),"Payment Information"]}),s.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-lg bg-gray-50",children:s.jsx(vm,{options:u})}),s.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-gray-500",children:[s.jsx(Br,{className:"h-4 w-4"}),s.jsx("span",{children:"Secured by Stripe  Cancel anytime"})]})]}),c&&s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Payment Error"}),s.jsx("p",{className:"text-red-800 text-sm mt-1",children:c})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:n,disabled:l,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!r||l,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Br,{className:"h-5 w-5"}),"Pay $",e.price,"/month"]})})]}),s.jsxs("div",{className:"text-center pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Br,{className:"h-4 w-4"}),s.jsx("span",{children:"SSL Encrypted"})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("span",{children:"Powered by Stripe"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" 30-day money-back guarantee  Cancel anytime"})]})]})})}var bj={};const vj=()=>{const e=typeof window<"u"&&window.__VITE_STRIPE_KEY__,t=bj.REACT_APP_STRIPE_PUBLISHABLE_KEY,r=e||t||"pk_test_51...your_actual_key_here";return console.log(" Using Stripe key:","Found"),r},jj=vj(),wj=Pf(jj),Nj=({isOpen:e,onClose:t,currentTier:n="free"})=>{const[r,a]=p.useState(null),[l,i]=p.useState("select"),c=[{id:"pro",name:"Pro",price:15,description:"Perfect for individuals",features:[" UNLIMITED ChatGPT queries"," 500 bookings/month"," Unlimited booking links"," AI optimization"," Priority support"],color:"blue",popular:!0},{id:"team",name:"Team",price:45,description:"Best for organizations",features:[" Everything in Pro"," Unlimited team members"," Round-robin scheduling"," Admin dashboard"," Phone support"],color:"purple",popular:!1}],o=x=>{a(x),i("payment")},m=x=>{alert(`Successfully upgraded to ${x.name} plan!`),i("select"),t(),window.location.reload()},u=()=>{i("select"),a(null)};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l==="select"?"Upgrade Your Plan":`Subscribe to ${r==null?void 0:r.name}`}),s.jsx("p",{className:"text-gray-600 mt-1",children:l==="select"?"Unlock unlimited ChatGPT and advanced features":"Complete your payment to upgrade"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]})}),s.jsx("div",{className:"p-6",children:l==="select"?s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c.map(x=>s.jsxs("div",{className:`relative border-2 rounded-xl p-6 cursor-pointer transition-all hover:shadow-lg ${x.popular?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>o(x),children:[x.popular&&s.jsx("div",{className:"absolute -top-3 left-6 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:x.name}),s.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",x.price,s.jsx("span",{className:"text-lg text-gray-500",children:"/month"})]}),s.jsx("p",{className:"text-gray-600 text-sm",children:x.description})]}),s.jsx("ul",{className:"space-y-2 mb-6",children:x.features.map((h,j)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"text-green-500 mr-2",children:""}),h]},j))}),s.jsxs("button",{className:`w-full py-3 rounded-lg font-medium ${x.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:["Choose ",x.name]})]},x.id))}):s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("button",{onClick:u,className:"mb-4 text-blue-600 hover:text-blue-700 text-sm",children:" Back to plans"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-center",children:[s.jsxs("h3",{className:"font-bold text-lg",children:[r.name," Plan"]}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",r.price,"/month"]}),s.jsx("p",{className:"text-sm text-gray-600",children:r.description})]}),"// In SubscriptionUpgradeModal.jsx, replace the Elements wrapper:",s.jsx(ad,{stripe:wj,children:s.jsx($f,{plan:r,onSuccess:m,onCancel:u})})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:" Secure payment powered by Stripe  Cancel anytime  30-day money-back guarantee"})})]})}):null};function kj(){var G,X,R,I,B,Z,te,L,U,O,$,J,ne,oe,H,me,we,hs,Sn,Cn,Ts,Gt,q,he,st,Oe,Ne,ct,kt,K,le,Te,ve,De,Pe,Ye,Le,Rt,dt,Ht,tn,Wt,St,ld,id,od,cd,dd,ud,md,xd,hd,fd,pd,gd,yd,bd,vd,jd,wd,Nd,kd,Sd,Cd,_d,Ed,Td;const e=pe(),t=oi(),[n,r]=p.useState({totalBookings:0,upcomingBookings:0,activeTeams:0}),[a,l]=p.useState([]),[i,c]=p.useState(!0),[o,m]=p.useState(""),[u,x]=p.useState(null),[h,j]=p.useState(!1),[d,v]=p.useState({tier:"free",current_bookings:0,limits:{soft:50,grace:60,hard:70},status:{withinLimit:!0},upgrade_recommended:!1}),[b,f]=p.useState(!1);p.useEffect(()=>{y()},[]);const y=async()=>{c(!0),await Promise.all([g(),k(),S(),w(),N()]),c(!1)},g=async()=>{try{const ee=await E.get("/dashboard/stats");r(ee.data.stats||{totalBookings:0,upcomingBookings:0,activeTeams:0}),l(ee.data.recentBookings||[])}catch(ee){console.error("Dashboard load error:",ee),t.error("Failed to load dashboard data")}},k=async()=>{try{const ee=await ii.get();ee.data.timezone&&m(ee.data.timezone)}catch(ee){console.error("Timezone load error:",ee)}},S=async()=>{try{const Ie=(await Es.me()).data.user||null;x(Ie);const ut=await E.user.usage();x(di=>({...di,usage:{ai_queries_used:ut.data.ai_queries_used,ai_queries_limit:ut.data.ai_queries_limit,chatgpt_used:ut.data.ai_queries_used,chatgpt_limit:ut.data.ai_queries_limit,chatgpt_queries_used:ut.data.ai_queries_used,chatgpt_queries_limit:ut.data.ai_queries_limit}}))}catch(ee){console.error("Profile load error:",ee),t.error("Failed to load profile")}},w=async()=>{try{const ee=await E.user.limits();v(ee.data)}catch(ee){console.error("Limit status load error:",ee),v(Ie=>({...Ie,current_bookings:n.totalBookings}))}},N=async()=>{try{const ee=await Hr.getToken();f(!!ee.data.jwt_token)}catch{f(!1)}},_=ee=>({"America/New_York":"Eastern Time (ET)","America/Chicago":"Central Time (CT)","America/Denver":"Mountain Time (MT)","America/Los_Angeles":"Pacific Time (PT)","Europe/London":"London (GMT)","Europe/Paris":"Paris (CET)","Asia/Singapore":"Singapore (SGT)","Asia/Tokyo":"Tokyo (JST)","Asia/Shanghai":"Shanghai (CST)","Asia/Manila":"Manila (PHT)","Australia/Sydney":"Sydney (AEDT)"})[ee]||ee||"Not set",D=ee=>{const Ie={confirmed:s.jsx(Qe,{className:"h-4 w-4"}),pending:s.jsx(qe,{className:"h-4 w-4"}),cancelled:s.jsx(It,{className:"h-4 w-4"})};return Ie[ee]||Ie.confirmed},M=ee=>{const Ie={confirmed:"bg-green-100 text-green-700 border-green-200",pending:"bg-yellow-100 text-yellow-700 border-yellow-200",cancelled:"bg-red-100 text-red-700 border-red-200"};return Ie[ee]||Ie.confirmed},V=()=>{const{current_bookings:ee,limits:Ie,status:ut,tier:di}=d;return di!=="free"||ut.withinLimit?null:ut.overGraceLimit||ut.hardBlocked?s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-4 rounded-xl mb-6 border-2 border-red-400 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg flex items-center gap-2",children:" Account Limited - Immediate Action Required"}),s.jsxs("p",{className:"text-red-100",children:["You've used ",ee,"/",Ie.grace," bookings and exceeded your grace period. New bookings are blocked and AI scheduling is disabled."]})]}),s.jsx("button",{onClick:()=>e("/billing"),className:"bg-white text-red-600 px-4 py-2 rounded-lg font-bold hover:bg-red-50 transition-colors",children:" Upgrade Now"})]})}):ut.inGracePeriod?s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-500 text-white p-4 rounded-xl mb-6 border-2 border-orange-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg flex items-center gap-2",children:" Over Booking Limit - Grace Period Active"}),s.jsxs("p",{className:"text-orange-100",children:["You've exceeded your ",Ie.soft," booking limit (",ee,"/",Ie.grace,"). AI scheduling is now disabled. Only ",Ie.grace-ee," bookings remaining before account suspension."]})]}),s.jsx("button",{onClick:()=>e("/billing"),className:"bg-white text-orange-600 px-4 py-2 rounded-lg font-bold hover:bg-orange-50 transition-colors",children:" Upgrade to Pro"})]})}):null};if(i)return s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your dashboard..."})]})});const A=[{label:"Total Bookings",value:n.totalBookings,icon:ae,color:"text-blue-600",bg:"bg-blue-50"},{label:"Upcoming",value:n.upcomingBookings,icon:Ce,color:"text-yellow-600",bg:"bg-yellow-50"},{label:"Active Teams",value:n.activeTeams,icon:Cs,color:"text-purple-600",bg:"bg-purple-50"}],C=(d==null?void 0:d.tier)||(u==null?void 0:u.tier)||"free",T=(u==null?void 0:u.usage)||{ai_queries_used:0,ai_queries_limit:10},z=(d==null?void 0:d.current_bookings)||n.totalBookings;return s.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(ae,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back",u!=null&&u.name?`, ${u.name}`:"","! Here's what's happening today."]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>e("/availability"),className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold flex items-center gap-2 shadow-sm",children:[s.jsx(Ce,{className:"h-4 w-4"}),"Availability"]}),b?s.jsxs("button",{onClick:()=>e("/settings?tab=integrations"),className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-xl hover:bg-purple-200 transition-all text-sm font-medium flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4"}),"ChatGPT "]}):s.jsxs("button",{onClick:()=>e("/settings?tab=integrations"),className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-all text-sm font-medium flex items-center gap-2",children:[s.jsx(bn,{className:"h-4 w-4"}),"Setup ChatGPT"]}),C!=="team"&&C!=="pro"&&s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border ${(G=d.status)!=null&&G.inGracePeriod||(X=d.status)!=null&&X.overGraceLimit?"bg-red-50 border-red-200":(R=d.status)!=null&&R.upgrade_recommended||T.ai_queries_used>=T.ai_queries_limit-2?"bg-orange-50 border-orange-200":"bg-purple-50 border-purple-200"}`,children:[s.jsxs("span",{className:`text-sm font-medium ${(I=d.status)!=null&&I.inGracePeriod||(B=d.status)!=null&&B.overGraceLimit?"text-red-700":(Z=d.status)!=null&&Z.upgrade_recommended||T.ai_queries_used>=T.ai_queries_limit-2?"text-orange-700":"text-purple-700"}`,children:[T.ai_queries_used||0,"/",T.ai_queries_limit||10," AI queries"]}),((T.ai_queries_used||0)>=(T.ai_queries_limit||10)-2||((te=d.status)==null?void 0:te.upgrade_recommended))&&s.jsx("button",{onClick:()=>e("/billing"),className:`text-xs px-2 py-1 rounded-lg font-semibold transition-colors ${(L=d.status)!=null&&L.inGracePeriod||(U=d.status)!=null&&U.overGraceLimit?"bg-red-600 text-white hover:bg-red-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:(O=d.status)!=null&&O.inGracePeriod||($=d.status)!=null&&$.overGraceLimit?"Restore":"Upgrade"})]}),(C==="pro"||C==="team")&&s.jsxs("button",{onClick:()=>e("/billing"),className:"px-3 py-2 bg-green-100 text-green-700 rounded-xl hover:bg-green-200 transition-all text-sm font-medium flex items-center gap-2",children:[s.jsx(Xl,{className:"h-4 w-4"}),C==="pro"?"Pro":"Team"," "]})]})]})})}),s.jsx("main",{className:"w-full",children:s.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 py-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(V,{}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-purple-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 text-lg flex items-center gap-2",children:[s.jsx(da,{className:"h-5 w-5 text-purple-600"})," Usage This Month"]}),C!=="team"&&s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(J=d.status)!=null&&J.overGraceLimit||(ne=d.status)!=null&&ne.hardBlocked?"bg-red-100 text-red-700":(oe=d.status)!=null&&oe.inGracePeriod?"bg-orange-100 text-orange-700":C==="free"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:[C==="free"?"Free Plan":C==="pro"?"Pro Plan":"Team Plan",((H=d.status)==null?void 0:H.inGracePeriod)&&" - Grace Period",(((me=d.status)==null?void 0:me.overGraceLimit)||((we=d.status)==null?void 0:we.hardBlocked))&&" - Limited"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`bg-white rounded-lg p-4 border-2 ${(hs=d.status)!=null&&hs.inGracePeriod||(Sn=d.status)!=null&&Sn.overGraceLimit?"border-red-300 bg-red-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4"})," AI Queries"]}),((Cn=d.status)==null?void 0:Cn.inGracePeriod)&&s.jsx("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded font-medium",children:"DISABLED"}),C==="free"&&T.ai_queries_used>=T.ai_queries_limit-2&&!((Ts=d.status)!=null&&Ts.inGracePeriod)&&s.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded font-medium",children:"Almost full!"})]}),s.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[C==="team"||C==="pro"?" Unlimited":`${T.ai_queries_used||0}/${T.ai_queries_limit||10}`," "]}),C!=="team"&&C!=="pro"&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${(Gt=d.status)!=null&&Gt.inGracePeriod?"bg-red-500":"bg-purple-600"}`,style:{width:`${Math.min(100,(T.ai_queries_used||0)/(T.ai_queries_limit||10)*100)}%`}})}),((q=d.status)==null?void 0:q.inGracePeriod)&&s.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:"AI disabled due to booking limit exceeded"})]}),s.jsxs("div",{className:`bg-white rounded-lg p-4 border-2 ${(he=d.status)!=null&&he.overGraceLimit||(st=d.status)!=null&&st.hardBlocked?"border-red-300 bg-red-50":(Oe=d.status)!=null&&Oe.inGracePeriod?"border-orange-300 bg-orange-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(ae,{className:"h-4 w-4"})," Bookings"]}),((Ne=d.status)==null?void 0:Ne.overGraceLimit)&&s.jsx("span",{className:"text-xs text-red-700 bg-red-200 px-2 py-1 rounded font-bold",children:"BLOCKED"}),((ct=d.status)==null?void 0:ct.inGracePeriod)&&s.jsx("span",{className:"text-xs text-orange-700 bg-orange-200 px-2 py-1 rounded font-medium",children:"OVER LIMIT"})]}),s.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:[C==="team"||C==="pro"?" Unlimited":`${z}/${(kt=d.status)!=null&&kt.inGracePeriod||(K=d.status)!=null&&K.overGraceLimit?((le=d.limits)==null?void 0:le.grace)||60:((Te=d.limits)==null?void 0:Te.soft)||50}`," "]}),C!=="team"&&C!=="pro"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${(ve=d.status)!=null&&ve.overGraceLimit||(De=d.status)!=null&&De.hardBlocked?"bg-red-600":(Pe=d.status)!=null&&Pe.inGracePeriod?"bg-orange-500":z>=(((Ye=d.limits)==null?void 0:Ye.soft)||50)*.8?"bg-yellow-500":"bg-blue-600"}`,style:{width:`${Math.min(100,z/((Le=d.status)!=null&&Le.inGracePeriod||(Rt=d.status)!=null&&Rt.overGraceLimit?((dt=d.limits)==null?void 0:dt.grace)||60:((Ht=d.limits)==null?void 0:Ht.soft)||50)*100)}%`}})}),((tn=d.status)==null?void 0:tn.overGraceLimit)&&s.jsx("p",{className:"text-xs text-red-700 font-bold",children:"Account limited - New bookings blocked"}),((Wt=d.status)==null?void 0:Wt.inGracePeriod)&&s.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Grace period - ",(((St=d.limits)==null?void 0:St.grace)||60)-z," remaining before suspension"]}),z>=(((ld=d.limits)==null?void 0:ld.soft)||50)*.8&&((id=d.status)==null?void 0:id.withinLimit)&&s.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:"Approaching limit - Consider upgrading"})]})]})]}),C!=="team"&&C!=="pro"&&(((od=d.status)==null?void 0:od.upgrade_recommended)||T.ai_queries_used>=T.ai_queries_limit-3||z>=(((cd=d.limits)==null?void 0:cd.soft)||50)*.8)&&s.jsx("div",{className:`mt-4 rounded-lg p-4 text-white ${(dd=d.status)!=null&&dd.overGraceLimit||(ud=d.status)!=null&&ud.hardBlocked?"bg-gradient-to-r from-red-600 to-red-700":(md=d.status)!=null&&md.inGracePeriod?"bg-gradient-to-r from-orange-600 to-red-600":"bg-gradient-to-r from-purple-600 to-pink-600"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold flex items-center gap-2",children:(xd=d.status)!=null&&xd.overGraceLimit||(hd=d.status)!=null&&hd.hardBlocked?s.jsx(s.Fragment,{children:" Immediate Upgrade Required"}):(fd=d.status)!=null&&fd.inGracePeriod?s.jsx(s.Fragment,{children:" Upgrade to Restore Features"}):s.jsx(s.Fragment,{children:" Upgrade Recommended"})}),s.jsx("p",{className:"text-sm opacity-90",children:(pd=d.status)!=null&&pd.overGraceLimit||(gd=d.status)!=null&&gd.hardBlocked?"Your account is suspended. Upgrade to restore access.":(yd=d.status)!=null&&yd.inGracePeriod?"You're in grace period. Upgrade to restore AI + get unlimited bookings.":"Get unlimited AI queries + unlimited bookings with Pro plan for just $12/month."})]}),s.jsx("button",{onClick:()=>e("/billing"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${(bd=d.status)!=null&&bd.overGraceLimit||(vd=d.status)!=null&&vd.hardBlocked?"bg-white text-red-600 hover:bg-red-50":"bg-white text-purple-600 hover:bg-gray-100"}`,children:(jd=d.status)!=null&&jd.overGraceLimit||(wd=d.status)!=null&&wd.hardBlocked?" Restore Access":(Nd=d.status)!=null&&Nd.inGracePeriod?" Restore Features":" Upgrade - $12/mo"})]})})]}),C==="free"&&!((kd=d.status)!=null&&kd.inGracePeriod)&&!((Sd=d.status)!=null&&Sd.overGraceLimit)&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-xl mb-2 flex items-center gap-2",children:[s.jsx(ti,{className:"h-5 w-5"})," Supercharge Your Scheduling"]}),s.jsx("p",{className:"text-purple-100 mb-4",children:"Unlimited AI assistance + unlimited bookings + advanced features for busy professionals"}),s.jsxs("ul",{className:"text-sm text-purple-100 space-y-1 mb-4",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(es,{className:"h-3 w-3"})," Unlimited AI queries (vs ",T.ai_queries_limit||10,"/month)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ae,{className:"h-3 w-3"})," Unlimited bookings (vs ",((Cd=d.limits)==null?void 0:Cd.soft)||50,"/month)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(zt,{className:"h-3 w-3"})," Advanced email templates"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-3 w-3"})," Priority support"]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"$12"}),s.jsx("div",{className:"text-sm text-purple-200",children:"per month"})]})]}),s.jsx("button",{onClick:()=>e("/billing"),className:"w-full bg-white text-purple-600 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors mt-4",children:"Upgrade to Pro - Only $12/month"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:s.jsx(us,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Timezone"}),s.jsx("p",{className:"text-sm text-gray-600",children:_(o)})]})]}),s.jsxs("button",{onClick:()=>e("/settings"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1 hover:gap-2 transition-all",children:["Change",s.jsx(mn,{className:"h-4 w-4"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map((ee,Ie)=>s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-2 border-gray-100 hover:shadow-xl transition-all",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-gray-600 text-sm font-medium",children:ee.label}),s.jsx("p",{className:`text-3xl font-bold ${ee.color}`,children:ee.value})]}),s.jsx("div",{className:`${ee.bg} h-14 w-14 rounded-xl flex items-center justify-center shadow-md`,children:s.jsx(ee.icon,{className:`h-7 w-7 ${ee.color}`})})]})},Ie))}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-2 border-gray-100",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Bookings"}),s.jsxs("button",{onClick:()=>e("/bookings"),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-xl transition-all font-semibold text-sm flex items-center gap-1",children:["View All ",s.jsx(mn,{className:"h-4 w-4"})]})]}),a.length===0?s.jsxs("div",{className:"text-center py-10",children:[s.jsx(ae,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No bookings yet"}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Share your booking link to get started"}),C==="free"&&s.jsx("p",{className:"text-gray-400 text-xs mt-2",children:" Upgrade to Pro for unlimited AI scheduling assistance"})]}):s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(ee=>{var Ie,ut;return s.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl border-2 border-gray-100 hover:border-blue-300 transition-all cursor-pointer",onClick:()=>e("/bookings"),children:s.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-md",children:((ut=(Ie=ee.attendee_name)==null?void 0:Ie.charAt(0))==null?void 0:ut.toUpperCase())||"G"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-gray-900 font-bold truncate",children:ee.attendee_name}),s.jsxs("span",{className:`text-xs font-semibold px-2 py-1 rounded-full border flex items-center gap-1 ${M(ee.status)}`,children:[D(ee.status)," ",ee.status]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ae,{className:"h-3 w-3"}),new Date(ee.start_time).toLocaleDateString()]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{children:new Date(ee.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]})]})},ee.id)}),C==="free"&&z>=(((_d=d.limits)==null?void 0:_d.soft)||50)*.6&&!((Ed=d.status)!=null&&Ed.inGracePeriod)&&s.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-purple-800 flex items-center gap-2",children:[s.jsx(da,{className:"h-4 w-4"})," You're at ",z,"/",((Td=d.limits)==null?void 0:Td.soft)||50," bookings this month.",s.jsx("button",{onClick:()=>e("/billing"),className:"text-purple-600 underline ml-1 font-medium hover:text-purple-700",children:"Upgrade to Pro"}),"for unlimited bookings + AI queries for just $12/month."]})})]})]})})]})})}),s.jsx(Nj,{isOpen:h,onClose:()=>j(!1),currentTier:C}),s.jsx(Fv,{})]})}function Sj(){const e=pe(),[t,n]=p.useState([]),[r,a]=p.useState([]),[l,i]=p.useState(!0),[c,o]=p.useState(""),[m,u]=p.useState("all"),[x,h]=p.useState(null);p.useEffect(()=>{(async()=>{try{const v=await ua.list();n(v.data.bookings||[])}catch(v){console.error("Error loading bookings:",v)}finally{i(!1)}})()},[]),p.useEffect(()=>{let d=[...t];if(c){const v=c.toLowerCase();d=d.filter(b=>{var f,y;return((f=b.attendee_name)==null?void 0:f.toLowerCase().includes(v))||((y=b.attendee_email)==null?void 0:y.toLowerCase().includes(v))})}m!=="all"&&(d=d.filter(v=>v.status===m)),a(d)},[t,c,m]);const j=d=>{const v={confirmed:{bg:"bg-green-100",text:"text-green-800",Icon:de},cancelled:{bg:"bg-red-100",text:"text-red-800",Icon:It},pending:{bg:"bg-yellow-100",text:"text-yellow-800",Icon:qe}},b=v[d]||v.pending,{Icon:f}=b;return s.jsxs("span",{className:`${b.bg} ${b.text} px-3 py-1 rounded-full text-xs font-semibold inline-flex items-center gap-1 whitespace-nowrap`,children:[s.jsx(f,{className:"h-3 w-3"}),(d==null?void 0:d.charAt(0).toUpperCase())+(d==null?void 0:d.slice(1))]})};return l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsx(Q,{className:"h-12 w-12 animate-spin text-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Manage all your scheduled appointments"})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border-2 border-gray-100",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:c,onChange:d=>o(d.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_y,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),s.jsxs("select",{value:m,onChange:d=>u(d.target.value),className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none text-sm sm:text-base appearance-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),r.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border-2 border-gray-100",children:[s.jsx(ae,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:c||m!=="all"?"No bookings match your filters":"No bookings yet"})]}):s.jsx("div",{className:"space-y-4",children:r.map(d=>s.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all border-2 border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(Zt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.attendee_name||"No name"}),s.jsx("p",{className:"text-sm text-gray-600",children:d.attendee_email})]})]}),s.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto",children:[j(d.status),s.jsx("button",{onClick:()=>h(d),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Qc,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ae,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:new Date(d.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Ce,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:new Date(d.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),d.meet_link&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("a",{href:d.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700",children:"Join Meeting"})]})]}),d.notes&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-600 italic",children:d.notes})})]})},d.id))})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-purple-600 p-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Booking Details"}),s.jsx("button",{onClick:()=>h(null),className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30",children:s.jsx(lt,{className:"h-5 w-5 text-white"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-xl",children:[s.jsx(Zt,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:x.attendee_name}),s.jsx("p",{className:"text-sm text-gray-600",children:x.attendee_email})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-purple-50 rounded-xl",children:[s.jsx(ae,{className:"h-6 w-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:new Date(x.start_time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(x.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," ","-"," ",new Date(x.end_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]}),x.meet_link&&s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-green-50 rounded-xl",children:[s.jsx(Bt,{className:"h-6 w-6 text-green-600 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Video Conference"}),s.jsx("a",{href:x.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:x.meet_link})]})]}),x.notes&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-700",children:x.notes})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{onClick:()=>e(`/manage/${x.booking_token}`),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 font-semibold",children:"Manage Booking"})})]})]})})]})}const Cj={google_meet:Bt,zoom:Bt,phone:ei,in_person:Jc,custom:us};function _j(){const e=pe(),[t,n]=p.useState([]),[r,a]=p.useState(!0),[l,i]=p.useState(null),[c,o]=p.useState(null);p.useEffect(()=>{m()},[]);const m=async()=>{a(!0);try{const[d,v]=await Promise.all([Es.me(),vs.getAll()]);i(d.data.user||d.data);const b=v.data.eventTypes||v.data.event_types||v.data||[];n(Array.isArray(b)?b:[])}catch(d){console.error("Failed to load data:",d)}finally{a(!1)}},u=(d,v)=>{var y;d.stopPropagation();const b=(l==null?void 0:l.username)||((y=l==null?void 0:l.email)==null?void 0:y.split("@")[0])||"user",f=`${window.location.origin}/book/${b}/${v.slug}`;navigator.clipboard.writeText(f),o(v.id),setTimeout(()=>o(null),2e3)},x=d=>{const v={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",red:"bg-red-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",gray:"bg-gray-500"};return v[d]||v.blue},h=async(d,v)=>{d.stopPropagation();try{await vs.toggle(v.id,!v.is_active),n(b=>b.map(f=>f.id===v.id?{...f,is_active:!f.is_active}:f))}catch(b){console.error("Failed to toggle",b),alert("Failed to update status")}},j=d=>Cj[d]||sr;return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Q,{className:"animate-spin text-blue-600 h-8 w-8"})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(ae,{className:"h-8 w-8 text-blue-600"}),"Event Types"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Create templates to share your availability with different durations and settings."})]}),s.jsxs("button",{onClick:()=>e("/events/new"),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all",children:[s.jsx(jt,{className:"h-5 w-5"})," New Event Type"]})]}),t.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Event Types"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:t.length})]}),s.jsx(Fe,{className:"h-8 w-8 text-blue-600 opacity-50"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:t.filter(d=>d.is_active).length})]}),s.jsx(da,{className:"h-8 w-8 text-green-600 opacity-50"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Avg Duration"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[Math.round(t.reduce((d,v)=>d+v.duration,0)/t.length)," min"]})]}),s.jsx(Ce,{className:"h-8 w-8 text-purple-600 opacity-50"})]})})]}),t.length===0?s.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[s.jsx(ae,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Event Types Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first event type to start accepting bookings."}),s.jsxs("button",{onClick:()=>e("/events/new"),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700",children:[s.jsx(jt,{className:"h-5 w-5"})," Create Event Type"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>{const v=j(d.location_type),b=x(d.color);return s.jsxs("div",{onClick:()=>e(`/events/${d.id}`,{state:{event:d}}),className:`group bg-white rounded-2xl shadow-sm border-2 border-gray-200 overflow-hidden hover:shadow-xl hover:border-blue-300 transition-all cursor-pointer ${d.is_active?"":"opacity-60"}`,children:[s.jsx("div",{className:`h-2 w-full ${b}`}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:d.title}),d.description&&s.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:d.description})]})}),s.jsxs("div",{className:"space-y-2.5 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{className:"font-medium",children:[d.duration," minutes"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{children:d.location||"Google Meet"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-mono text-xs",children:["/",d.slug]})]})]}),(d.buffer_before>0||d.buffer_after>0||d.max_bookings_per_day||d.require_approval)&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[d.buffer_before>0&&s.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded",children:[d.buffer_before,"m buffer"]}),d.max_bookings_per_day&&s.jsxs("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded",children:["Max ",d.max_bookings_per_day,"/day"]}),d.require_approval&&s.jsx("span",{className:"px-2 py-1 bg-yellow-50 text-yellow-700 text-xs font-medium rounded",children:"Approval required"})]})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:f=>{f.stopPropagation(),e(`/events/${d.id}/edit`,{state:{event:d}})},className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[s.jsx(Zh,{className:"h-3.5 w-3.5"}),"Edit"]}),s.jsx("button",{onClick:f=>u(f,d),className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",title:"Copy Booking Link",children:c===d.id?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-3.5 w-3.5 text-green-600"}),s.jsx("span",{className:"text-green-600",children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ss,{className:"h-3.5 w-3.5"}),"Copy"]})})]}),s.jsx("button",{onClick:f=>h(f,d),className:`text-xs font-semibold px-3 py-1.5 rounded-lg transition-all ${d.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.is_active?"Active":"Inactive"})]})]})]},d.id)})})]})}function jm(){const e=pe(),t=ts(),{id:n}=en(),r=!!n,[a,l]=p.useState(!1),[i,c]=p.useState(!1),[o,m]=p.useState(!1),[u,x]=p.useState({title:"",slug:"",description:"",duration:30,location:"",location_type:"google_meet",color:"blue",is_active:!0,buffer_before:0,buffer_after:0,max_bookings_per_day:null,require_approval:!1}),h=[{name:"blue",hex:"#3B82F6",bg:"bg-blue-500"},{name:"purple",hex:"#A855F7",bg:"bg-purple-500"},{name:"green",hex:"#10B981",bg:"bg-green-500"},{name:"red",hex:"#EF4444",bg:"bg-red-500"},{name:"orange",hex:"#F97316",bg:"bg-orange-500"},{name:"pink",hex:"#EC4899",bg:"bg-pink-500"},{name:"indigo",hex:"#6366F1",bg:"bg-indigo-500"},{name:"yellow",hex:"#EAB308",bg:"bg-yellow-500"}],j=[{value:"google_meet",label:"Google Meet",icon:Bt,auto:!0},{value:"zoom",label:"Zoom",icon:Bt,auto:!1},{value:"phone",label:"Phone Call",icon:ei,auto:!1},{value:"in_person",label:"In Person",icon:Jc,auto:!1},{value:"custom",label:"Custom Link",icon:us,auto:!1}],d=[{name:"15-min Quick Chat",duration:15,slug:"quick-chat",description:"Brief introductory conversation"},{name:"30-min Meeting",duration:30,slug:"meeting",description:"Standard meeting for discussions"},{name:"60-min Consultation",duration:60,slug:"consultation",description:"In-depth consultation session"},{name:"45-min Discovery Call",duration:45,slug:"discovery",description:"Learn about needs and goals"}];p.useEffect(()=>{var w;r&&((w=t.state)!=null&&w.event?v(t.state.event):b())},[n]);const v=w=>{x({title:w.title||w.name||"",slug:w.slug||"",description:w.description||"",duration:w.duration||30,location:w.location||"",location_type:w.location_type||"google_meet",color:w.color||"blue",is_active:w.is_active!==!1,buffer_before:w.buffer_before||0,buffer_after:w.buffer_after||0,max_bookings_per_day:w.max_bookings_per_day||null,require_approval:w.require_approval||!1,price:w.price||0,currency:w.currency||"USD"}),(w.buffer_before||w.buffer_after||w.max_bookings_per_day||w.require_approval)&&m(!0)},b=async()=>{l(!0);try{const w=await vs.getAll(),_=(w.data.eventTypes||w.data.event_types||w.data||[]).find(D=>String(D.id)===String(n));_?v(_):(alert("Event type not found"),e("/events"))}catch(w){console.error("Failed to load event type:",w),e("/events")}finally{l(!1)}},f=w=>{const N=w.target.value;!u.slug||u.slug===y(u.title)?x(_=>({..._,title:N,slug:y(N)})):x(_=>({..._,title:N}))},y=w=>w.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/(^-|-$)/g,""),g=w=>{confirm(`Apply template "${w.name}"? This will overwrite some fields.`)&&x(N=>({...N,title:w.name,slug:w.slug,duration:w.duration,description:w.description}))},k=async w=>{var N,_;if(w.preventDefault(),!u.title.trim())return alert("Event name is required");if(!u.slug.trim())return alert("URL Slug is required");c(!0);try{const D={...u,title:u.title.trim(),slug:u.slug.trim(),location:u.location.trim(),buffer_before:parseInt(u.buffer_before)||0,buffer_after:parseInt(u.buffer_after)||0,max_bookings_per_day:u.max_bookings_per_day?parseInt(u.max_bookings_per_day):null,price:parseFloat(u.price)||0};r?await vs.update(n,D):await vs.create(D),e("/events")}catch(D){console.error("Failed to save:",D),alert("Failed to save: "+(((_=(N=D.response)==null?void 0:N.data)==null?void 0:_.error)||D.message))}finally{c(!1)}};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Q,{className:"animate-spin text-blue-600 h-8 w-8"})});const S=j.find(w=>w.value===u.location_type);return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e("/events"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(ur,{className:"h-4 w-4"})," Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r?"Edit Event Type":"Create Event Type"}),s.jsx("p",{className:"text-gray-600 mt-2",children:r?"Update the settings for this meeting template.":"Define a new meeting template with custom settings."})]}),!r&&s.jsxs("div",{className:"bg-blue-50 rounded-2xl border border-blue-200 p-6 mb-6",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(es,{className:"h-4 w-4"}),"Quick Start Templates"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:d.map((w,N)=>s.jsxs("button",{type:"button",onClick:()=>g(w),className:"p-3 bg-white border border-blue-200 rounded-xl hover:border-blue-400 hover:shadow-sm transition-all text-left",children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:w.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.duration," min"]})]},N))})]}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:"Event Name *"}),s.jsx("input",{type:"text",value:u.title,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 30-Minute Strategy Session",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Xh,{className:"h-4 w-4 text-gray-400"}),"URL Slug *"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"px-4 py-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-xl text-gray-500 text-sm font-medium",children:"yourname/"}),s.jsx("input",{type:"text",value:u.slug,onChange:w=>x({...u,slug:y(w.target.value)}),className:"flex-1 px-4 py-3 border border-gray-300 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"strategy-session",required:!0})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"This will be the shareable booking link."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Description"}),s.jsx("textarea",{value:u.description,onChange:w=>x({...u,description:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What should invitees know about this meeting?"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3",children:[s.jsx(Dy,{className:"h-4 w-4 text-gray-400"}),"Event Color"]}),s.jsx("div",{className:"flex gap-3",children:h.map(w=>s.jsx("button",{type:"button",onClick:()=>x({...u,color:w.name}),className:`w-10 h-10 rounded-full ${w.bg} transition-all ${u.color===w.name?"ring-4 ring-offset-2 ring-gray-300 scale-110":"hover:scale-105 opacity-70 hover:opacity-100"}`,title:w.name},w.name))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-purple-600"}),"Meeting Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ce,{className:"h-4 w-4 text-gray-400"}),"Duration *"]}),s.jsxs("select",{value:u.duration,onChange:w=>x({...u,duration:parseInt(w.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:15,children:"15 minutes"}),s.jsx("option",{value:30,children:"30 minutes"}),s.jsx("option",{value:45,children:"45 minutes"}),s.jsx("option",{value:60,children:"1 hour"}),s.jsx("option",{value:90,children:"1.5 hours"}),s.jsx("option",{value:120,children:"2 hours"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(sr,{className:"h-4 w-4 text-gray-400"}),"Location Type"]}),s.jsx("select",{value:u.location_type,onChange:w=>x({...u,location_type:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(w=>s.jsxs("option",{value:w.value,children:[w.label," ",w.auto?"(Auto)":""]},w.value))})]})]}),!(S!=null&&S.auto)&&s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Location Details"}),s.jsx("input",{type:"text",value:u.location,onChange:w=>x({...u,location:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:u.location_type==="phone"?"Phone number or instructions":u.location_type==="zoom"?"Zoom meeting link":u.location_type==="in_person"?"Address or meeting place":"Enter custom location or link"})]})]}),o&&s.jsxs("div",{className:"px-6 pb-6 space-y-5 border-t border-gray-100 pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Buffer Before (minutes)"}),s.jsx("input",{type:"number",min:"0",max:"60",value:u.buffer_before,onChange:w=>x({...u,buffer_before:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"0"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Time before the meeting starts"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Buffer After (minutes)"}),s.jsx("input",{type:"number",min:"0",max:"60",value:u.buffer_after,onChange:w=>x({...u,buffer_after:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"0"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Time after the meeting ends"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Max Bookings Per Day"}),s.jsx("input",{type:"number",min:"1",value:u.max_bookings_per_day||"",onChange:w=>x({...u,max_bookings_per_day:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"Unlimited"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Leave empty for unlimited bookings"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Booking Approval"}),s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-xl cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:u.require_approval,onChange:w=>x({...u,require_approval:w.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Require manual approval"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Advanced Settings Info"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Buffer times prevent back-to-back meetings. Booking limits help manage your availability."})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/events"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"animate-spin h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"h-5 w-5"}),r?"Update Event Type":"Create Event Type"]})})]})]})]})}const Ej={google_meet:Bt,zoom:Bt,phone:ei,in_person:Jc,custom:Xh},wm={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",red:"bg-red-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",gray:"bg-gray-500"};function Tj(){var g,k;const e=pe(),t=ts(),{id:n}=en(),[r,a]=p.useState(((g=t.state)==null?void 0:g.event)||null),[l,i]=p.useState(null),[c,o]=p.useState(!((k=t.state)!=null&&k.event)),[m,u]=p.useState(!1);p.useEffect(()=>{var S;x(),(S=t.state)!=null&&S.event||h()},[n]);const x=async()=>{try{const S=await Es.me();i(S.data.user||S.data)}catch(S){console.error("Failed to load user:",S)}},h=async()=>{o(!0);try{const S=await vs.getAll(),N=(S.data.eventTypes||S.data.event_types||S.data||[]).find(_=>String(_.id)===String(n));N?a(N):e("/events")}catch{e("/events")}finally{o(!1)}},j=async()=>{if(confirm(`Delete "${r.title}"? This cannot be undone.`))try{await vs.delete(n),e("/events")}catch(S){alert("Failed to delete: "+S.message)}},d=()=>{var w;const S=(l==null?void 0:l.username)||((w=l==null?void 0:l.email)==null?void 0:w.split("@")[0])||"user";return`${window.location.origin}/book/${S}/${(r==null?void 0:r.slug)||""}`},v=()=>{navigator.clipboard.writeText(d()),u(!0),setTimeout(()=>u(!1),2e3)},b=async()=>{try{await vs.update(n,{is_active:!r.is_active}),a({...r,is_active:!r.is_active})}catch{alert("Failed to update status")}},f=r!=null&&r.location_type&&Ej[r.location_type]||sr;if(c||!r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Q,{className:"animate-spin text-blue-600 h-8 w-8"})});const y=wm[r.color]||wm.blue;return s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>e("/events"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(ur,{className:"h-4 w-4"})," Back to Event Types"]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${y}`}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.title}),r.is_active?s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:"Active"}):s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs font-semibold rounded-full",children:"Inactive"})]}),s.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:s.jsxs("span",{className:"text-gray-400",children:["/",r.slug]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:b,className:`px-4 py-2 border rounded-xl font-medium transition-colors ${r.is_active?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-green-200 text-green-700 hover:bg-green-50"}`,children:r.is_active?"Disable":"Enable"}),s.jsxs("button",{onClick:()=>e(`/events/${n}/edit`,{state:{event:r}}),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:[s.jsx(Zh,{className:"h-4 w-4"})," Edit"]}),s.jsx("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 rounded-xl hover:bg-red-50 font-medium transition-colors",children:s.jsx(xs,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Fe,{className:"h-5 w-5 text-blue-600"}),"Event Overview"]}),r.description?s.jsx("p",{className:"text-gray-600 mb-6",children:r.description}):s.jsx("p",{className:"text-gray-400 italic mb-6",children:"No description provided."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:s.jsx(Ce,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[r.duration," min"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:s.jsx(f,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:r.location||"Auto-generated"})]})]})]})]}),(r.buffer_before>0||r.buffer_after>0||r.max_bookings_per_day||r.require_approval)&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-gray-600"}),"Booking Rules"]}),s.jsxs("div",{className:"space-y-3",children:[r.buffer_before>0&&s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Buffer before"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[r.buffer_before," min"]})]}),r.buffer_after>0&&s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Buffer after"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[r.buffer_after," min"]})]}),r.max_bookings_per_day&&s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Max bookings per day"}),s.jsx("span",{className:"font-medium text-gray-900",children:r.max_bookings_per_day})]}),r.require_approval&&s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Require approval"}),s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded",children:"Yes"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl border border-blue-200 p-4 sm:p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5"})," Share Event"]}),s.jsx("p",{className:"text-xs sm:text-sm text-blue-700 mb-4",children:"Share this link to let people book this specific meeting type."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:v,className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 bg-white border border-blue-200 rounded-xl hover:border-blue-300 transition-all text-blue-800 font-medium shadow-sm text-sm",children:[s.jsx("span",{children:m?"Copied!":"Copy Link"}),m?s.jsx(et,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}):s.jsx(Ss,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"})]}),s.jsxs("a",{href:d(),target:"_blank",rel:"noreferrer",className:"w-full flex items-center justify-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium shadow-md transition-colors text-sm",children:[s.jsx(yt,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Preview Page"]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:s.jsx("div",{className:"bg-white rounded-lg p-2 overflow-x-auto scrollbar-thin",children:s.jsx("code",{className:"text-[10px] sm:text-xs text-blue-600 whitespace-nowrap block",children:d()})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(ae,{className:"h-5 w-5 text-gray-600"}),"Booking Stats"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Bookings"}),s.jsx("span",{className:"font-bold text-2xl text-gray-900",children:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"This month"}),s.jsx("span",{className:"font-semibold text-gray-700",children:"0"})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-4 italic",children:"Coming soon: View detailed booking analytics"})]})]})]})]})}const Nm=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];function Pj(){const[e,t]=p.useState(!0),[n,r]=p.useState(!1),[a,l]=p.useState(!1),[i,c]=p.useState(null),[o,m]=p.useState({name:"",email:"",timezone:"America/New_York"}),[u,x]=p.useState({workingHours:{monday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},tuesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},wednesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},thursday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},friday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},saturday:{enabled:!1,slots:[{start:"09:00",end:"17:00"}]},sunday:{enabled:!1,slots:[{start:"09:00",end:"17:00"}]}},bufferTime:0});p.useEffect(()=>{h()},[]);const h=async()=>{try{const k=(await Es.me()).data.user;m({name:k.name,email:k.email,timezone:k.timezone||"America/New_York"});const w=(await E.get("/teams")).data.teams.find(N=>N.name.includes("Personal Bookings"));if(w){const _=(await E.get(`/teams/${w.id}/members`)).data.members.find(D=>D.user_id===k.id);if(_){c(_.id);const M=(await E.get(`/team-members/${_.id}/availability`)).data.member;if(M!=null&&M.working_hours){const V={};Object.keys(M.working_hours).forEach(A=>{const C=M.working_hours[A];C!=null&&C.slots?V[A]=C:V[A]={enabled:(C==null?void 0:C.enabled)??!1,slots:[{start:(C==null?void 0:C.start)||"09:00",end:(C==null?void 0:C.end)||"17:00"}]}}),Nm.forEach(({key:A})=>{V[A]||(V[A]=u.workingHours[A])}),x({workingHours:V,bufferTime:M.buffer_time||0})}}}}catch(g){console.error("Error loading availability:",g)}finally{t(!1)}},j=async()=>{r(!0);try{await ii.update({timezone:o.timezone}),i&&await E.put(`/team-members/${i}/availability`,{working_hours:u.workingHours,buffer_time:u.bufferTime}),l(!0),setTimeout(()=>l(!1),2e3)}catch(g){console.error("Error saving availability:",g),alert("Failed to save changes")}finally{r(!1)}},d=g=>{x(k=>({...k,workingHours:{...k.workingHours,[g]:{...k.workingHours[g],enabled:!k.workingHours[g].enabled}}}))},v=(g,k,S,w)=>{const N=[...u.workingHours[g].slots];N[k]={...N[k],[S]:w},x(_=>({..._,workingHours:{..._.workingHours,[g]:{..._.workingHours[g],slots:N}}}))},b=g=>{const k=[...u.workingHours[g].slots,{start:"09:00",end:"17:00"}];x(S=>({...S,workingHours:{...S.workingHours,[g]:{...S.workingHours[g],slots:k}}}))},f=(g,k)=>{const S=u.workingHours[g].slots.filter((w,N)=>N!==k);x(w=>({...w,workingHours:{...w.workingHours,[g]:{...w.workingHours[g],slots:S}}}))};if(e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50/30",children:s.jsx(Q,{className:"h-8 w-8 animate-spin text-blue-600"})});return s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Availability"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1 max-w-xl",children:"Configure your weekly schedule. You can add multiple time blocks per day (e.g., 9am12pm and 2pm5pm)."})]}),s.jsxs("button",{onClick:j,disabled:n,className:"bg-blue-600 text-white px-6 py-2.5 rounded-full hover:bg-blue-700 transition-all flex items-center gap-2 font-semibold text-sm shadow-sm disabled:opacity-70",children:[n?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):a?s.jsx(et,{className:"h-4 w-4"}):s.jsx(kn,{className:"h-4 w-4"}),n?"Saving...":a?"Saved":"Save changes"]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wide flex items-center gap-2 mb-1",children:[s.jsx(us,{className:"h-4 w-4 text-gray-400"})," Timezone"]}),s.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Your availability is stored in this timezone and automatically converted for guests."})]}),s.jsxs("div",{className:"w-full sm:w-72 relative",children:[s.jsx(us,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),s.jsxs("select",{value:o.timezone,onChange:g=>m({...o,timezone:g.target.value}),className:"w-full pl-9 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-sm",children:[s.jsx("option",{value:"America/New_York",children:"Eastern Time"}),s.jsx("option",{value:"America/Chicago",children:"Central Time"}),s.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx("option",{value:"Europe/London",children:"London"}),s.jsx("option",{value:"Asia/Singapore",children:"Singapore"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-5 sm:p-6 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Weekly working hours"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set your start and end times for each day."})]}),s.jsxs("button",{onClick:()=>y(),className:"inline-flex items-center gap-1.5 rounded-full border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-50",children:[s.jsx(Ss,{className:"h-3 w-3"})," Copy Monday to weekdays"]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:Nm.map(g=>{const k=u.workingHours[g.key],S=["saturday","sunday"].includes(g.key);return s.jsxs("div",{className:`flex flex-col md:flex-row items-start gap-4 px-6 py-4 ${S?"bg-gray-50/50":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3 w-32 flex-shrink-0",children:[s.jsx("input",{type:"checkbox",checked:k.enabled,onChange:()=>d(g.key),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:g.label})]}),s.jsx("div",{className:"flex-1 w-full",children:k.enabled?s.jsxs("div",{className:"space-y-3 w-full",children:[k.slots.map((w,N)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-lg px-2 py-1 shadow-sm",children:[s.jsx("input",{type:"time",value:w.start,onChange:_=>v(g.key,N,"start",_.target.value),className:"border-none outline-none text-sm font-medium text-gray-700 w-24"}),s.jsx("span",{className:"text-gray-400",children:"-"}),s.jsx("input",{type:"time",value:w.end,onChange:_=>v(g.key,N,"end",_.target.value),className:"border-none outline-none text-sm font-medium text-gray-700 w-24"})]}),s.jsx("button",{type:"button",onClick:()=>f(g.key,N),className:"p-1.5 hover:bg-red-50 text-red-500 rounded-md transition-colors",title:"Remove slot",children:s.jsx(xs,{className:"h-4 w-4"})})]},N)),s.jsxs("button",{type:"button",onClick:()=>b(g.key),className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 mt-1",children:[s.jsx(jt,{className:"h-3 w-3"}),s.jsx("span",{children:"Add time block"})]})]}):s.jsx("span",{className:"text-sm text-gray-400 italic",children:"Unavailable"})})]},g.key)})})]})]})});function y(){const g=[...u.workingHours.monday.slots],k={...u.workingHours};Object.keys(k).forEach(S=>{["saturday","sunday"].includes(S)||(k[S]={enabled:!0,slots:JSON.parse(JSON.stringify(g))})}),x(S=>({...S,workingHours:k}))}}function Lj(){const e=pe(),[t,n]=p.useState(1),[r,a]=p.useState(""),[l,i]=p.useState(!1),[c,o]=p.useState(null),[m,u]=p.useState(""),x=async()=>{var j,d;if(!r.trim()){u("Please enter your Calendly API key");return}i(!0),u("");try{const v=await E.post("/import/calendly",{api_key:r,import_event_types:!0,import_availability:!0,import_bookings_days:90});o(v.data),n(3)}catch(v){console.error("Import error:",v),u(((d=(j=v.response)==null?void 0:j.data)==null?void 0:d.error)||"Failed to import from Calendly. Please check your API key and try again.")}finally{i(!1)}},h=()=>{e("/dashboard")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl mb-6 shadow-lg",children:s.jsx(Go,{className:"h-10 w-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Migrate from Calendly"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Import your event types, availability settings, and booking history in minutes"})]}),s.jsx("div",{className:"flex items-center justify-center mb-12",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`flex items-center gap-2 ${t>=1?"text-purple-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${t>=1?"bg-purple-600 text-white":"bg-gray-200"}`,children:"1"}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Setup"})]}),s.jsx(_t,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{className:`flex items-center gap-2 ${t>=2?"text-purple-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${t>=2?"bg-purple-600 text-white":"bg-gray-200"}`,children:"2"}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Import"})]}),s.jsx(_t,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{className:`flex items-center gap-2 ${t>=3?"text-purple-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${t>=3?"bg-purple-600 text-white":"bg-gray-200"}`,children:"3"}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Review"})]}),s.jsx(_t,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{className:`flex items-center gap-2 ${t>=4?"text-purple-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${t>=4?"bg-purple-600 text-white":"bg-gray-200"}`,children:"4"}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Complete"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-100 p-8",children:[t===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Get Your Calendly API Key"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Follow these steps to get your Calendly API key. Don't worry, it's safe and read-only!"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4 p-4 bg-purple-50 rounded-xl border border-purple-200",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Visit Calendly Integrations"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Go to your Calendly account  Integrations  API & Webhooks"}),s.jsxs("a",{href:"https://calendly.com/integrations/api_webhooks",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700 font-medium",children:[s.jsx(yt,{className:"h-4 w-4"}),"Open Calendly Settings"]})]})]}),s.jsxs("div",{className:"flex gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Generate Personal Access Token"}),s.jsx("p",{className:"text-sm text-gray-600",children:'Click "Create Token" and copy it. Make sure to select "Read" permissions.'})]})]}),s.jsxs("div",{className:"flex gap-4 p-4 bg-green-50 rounded-xl border border-green-200",children:[s.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Paste Below & Import"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Paste your token below and we'll import everything automatically."})]})]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Security Note:"}),s.jsx("p",{children:"We only use your API key once to import your data. We don't store it. After import, you can revoke the token in Calendly if you wish."})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs("button",{onClick:()=>n(2),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold flex items-center gap-2",children:["Next: Enter API Key",s.jsx(_t,{className:"h-5 w-5"})]})})]}),t===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Enter Your Calendly API Key"}),s.jsx("p",{className:"text-gray-600",children:"Paste your Calendly Personal Access Token below to begin the import."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Calendly API Key"}),s.jsx("input",{type:"text",value:r,onChange:j=>a(j.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none transition-all font-mono text-sm"})]}),m&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:m})]}),s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What we'll import:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-blue-600"}),"Event types (meeting durations, descriptions, settings)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-blue-600"}),"Availability schedule (weekly hours)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-blue-600"}),"Past bookings (last 90 days for analytics)"]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-semibold",children:"Back"}),s.jsx("button",{onClick:x,disabled:l||!r.trim(),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zl,{className:"h-5 w-5"}),"Start Import"]})})]})]}),t===3&&c&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:s.jsx(de,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Import Complete! "}),s.jsx("p",{className:"text-gray-600",children:"We've successfully imported your Calendly data into ScheduleSync."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-6 bg-purple-50 rounded-xl border border-purple-200 text-center",children:[s.jsx(ae,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),s.jsx("p",{className:"text-3xl font-bold text-purple-900 mb-1",children:c.event_types||0}),s.jsx("p",{className:"text-sm text-purple-700",children:"Event Types"})]}),s.jsxs("div",{className:"p-6 bg-blue-50 rounded-xl border border-blue-200 text-center",children:[s.jsx(Ce,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mb-1",children:c.availability_rules||0}),s.jsx("p",{className:"text-sm text-blue-700",children:"Availability Rules"})]}),s.jsxs("div",{className:"p-6 bg-green-50 rounded-xl border border-green-200 text-center",children:[s.jsx(Cs,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-3xl font-bold text-green-900 mb-1",children:c.bookings||0}),s.jsx("p",{className:"text-sm text-green-700",children:"Past Bookings"})]})]}),c.warnings&&c.warnings.length>0&&s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Import Notes:"}),s.jsx("ul",{className:"space-y-1 text-sm text-yellow-800",children:c.warnings.map((j,d)=>s.jsxs("li",{children:[" ",j]},d))})]})]})}),s.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:[s.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Fe,{className:"h-5 w-5 text-purple-600"}),"What's Next?"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Review your imported event types in the dashboard"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Customize your availability settings if needed"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Update your booking links on your website/social media"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xs,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"font-medium",children:"Optional: Cancel your Calendly subscription and delete your account"})]})]})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsxs("button",{onClick:h,className:"px-10 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-bold text-lg flex items-center gap-2",children:["Go to Dashboard",s.jsx(_t,{className:"h-6 w-6"})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Need help?"," ",s.jsx("a",{href:"mailto:support@schedulesync.com",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Contact Support"})]})})]})})}const Ga=[{id:"reminder",label:"Reminder",emoji:""},{id:"confirmation",label:"Confirmation",emoji:""},{id:"follow_up",label:"Follow-up",emoji:""},{id:"reschedule",label:"Reschedule",emoji:""},{id:"cancellation",label:"Cancellation",emoji:""},{id:"other",label:"Other",emoji:""}],Aj=[{key:"guestName",label:"Guest Name"},{key:"guestEmail",label:"Guest Email"},{key:"organizerName",label:"Your Name"},{key:"meetingDate",label:"Meeting Date"},{key:"meetingTime",label:"Meeting Time"},{key:"meetingLink",label:"Meeting Link"},{key:"bookingLink",label:"Booking Link"}],Rj=[{id:"professional",label:"Professional",emoji:""},{id:"professional but friendly",label:"Professional & Friendly",emoji:""},{id:"casual",label:"Casual",emoji:""},{id:"warm",label:"Warm",emoji:""},{id:"formal",label:"Formal",emoji:""}],_r=[{id:"default_1",name:"Friendly Reminder",type:"reminder",subject:"Quick reminder: We meet tomorrow! ",body:`Hey {{guestName}}!

Just a friendly heads up  we're scheduled to meet tomorrow!

 {{meetingDate}} at {{meetingTime}}
 {{meetingLink}}

Looking forward to it!

{{organizerName}}`,is_default:!0,is_favorite:!0,usage_count:23,effectiveness:87},{id:"default_2",name:"Professional Reminder",type:"reminder",subject:"Reminder: Upcoming meeting on {{meetingDate}}",body:`Dear {{guestName}},

This is a reminder about your upcoming meeting.

Date: {{meetingDate}}
Time: {{meetingTime}}
Meeting Link: {{meetingLink}}

Best regards,
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:15,effectiveness:82},{id:"default_3",name:"Thank You Follow-up",type:"follow_up",subject:"Great talking with you! ",body:`Hi {{guestName}},

Thank you for taking the time to meet with me today! I really enjoyed our conversation.

If you need anything else, feel free to book another time: {{bookingLink}}

Talk soon!
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:31,effectiveness:91},{id:"default_4",name:"Meeting Confirmed",type:"confirmation",subject:"Your meeting is confirmed! ",body:`Hi {{guestName}},

Great news! Your meeting has been confirmed.

 {{meetingDate}}
 {{meetingTime}}
 {{meetingLink}}

See you soon!
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:45,effectiveness:94},{id:"default_5",name:"Need to Reschedule",type:"reschedule",subject:"Can we reschedule?",body:`Hi {{guestName}},

I'm sorry, but I need to reschedule our meeting on {{meetingDate}}.

Please pick a new time that works for you: {{bookingLink}}

Apologies for any inconvenience!
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:8,effectiveness:78}];function Mj(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,l]=p.useState(!1),[i,c]=p.useState(""),[o,m]=p.useState("all"),[u,x]=p.useState(!1),[h,j]=p.useState(null),[d,v]=p.useState(!1),[b,f]=p.useState(null),[y,g]=p.useState(!1),[k,S]=p.useState(!1),[w,N]=p.useState({description:"",type:"other",tone:"professional but friendly"}),[_,D]=p.useState([]);p.useEffect(()=>{M(),V()},[]);const M=async()=>{try{const U=(await E.get("/email-templates")).data.templates||[],O=[..._r,...U.map($=>({...$,is_default:!1}))];t(O)}catch(L){console.error("Failed to load templates:",L),t(_r)}finally{r(!1)}},V=async()=>{try{const L=new Date().getHours(),U=new Date().getDay(),O=[];(L>17||U===5)&&O.push({template:_r.find(J=>J.type==="follow_up"),reason:"Popular for end-of-day follow-ups"}),L>=9&&L<=11&&O.push({template:_r.find(J=>J.type==="reminder"),reason:"Perfect timing for meeting reminders"});const $=_r.reduce((J,ne)=>(ne.effectiveness||0)>(J.effectiveness||0)?ne:J);O.find(J=>{var ne;return((ne=J.template)==null?void 0:ne.id)===$.id})||O.push({template:$,reason:`${$.effectiveness}% effectiveness rate`}),D(O.slice(0,3))}catch(L){console.error("Failed to load smart suggestions:",L)}},A=async()=>{var L,U;if(!w.description.trim()){alert("Please describe the template you want to create");return}S(!0);try{const $=(await E.post("/ai/generate-template",w)).data.template;j({...$,id:null,is_default:!1,is_favorite:!1,generated_by_ai:!0}),g(!1),x(!0),N({description:"",type:"other",tone:"professional but friendly"})}catch(O){console.error("AI generation failed:",O),alert(((U=(L=O.response)==null?void 0:L.data)==null?void 0:U.error)||"Failed to generate template")}finally{S(!1)}},T=[...e.filter(L=>{const U=i===""||L.name.toLowerCase().includes(i.toLowerCase()),O=o==="all"||L.type===o;return U&&O})].sort((L,U)=>L.is_favorite&&!U.is_favorite?-1:!L.is_favorite&&U.is_favorite?1:L.effectiveness&&U.effectiveness?U.effectiveness-L.effectiveness:L.name.localeCompare(U.name)),z=async L=>{const U=e.find(O=>O.id===L);if(t(O=>O.map($=>$.id===L?{...$,is_favorite:!$.is_favorite}:$)),U&&!U.is_default)try{await E.patch(`/email-templates/${L}/favorite`)}catch(O){console.error("Failed to update favorite:",O)}},G=(L=null)=>{j(L?{...L,id:L.is_default?null:L.id,name:L.is_default?`${L.name} (My Version)`:L.name,is_default:!1}:{id:null,name:"",type:"other",subject:"",body:"",is_favorite:!1}),x(!0)},X=async()=>{if(!h.name||!h.subject||!h.body){alert("Please fill in all fields");return}l(!0);try{h.id?await E.put(`/email-templates/${h.id}`,h):await E.post("/email-templates",h),await M(),x(!1)}catch(L){console.error("Save failed:",L),alert("Failed to save template")}finally{l(!1)}},R=async L=>{if(confirm("Delete this template?"))try{await E.delete(`/email-templates/${L}`),await M()}catch(U){console.error("Delete failed:",U)}},I=L=>{const U=document.getElementById("template-body");if(!U||!h)return;const O=U.selectionStart,$=U.selectionEnd,J=h.body,ne=J.substring(0,O)+`{{${L}}}`+J.substring($);j({...h,body:ne}),setTimeout(()=>{U.focus();const oe=O+L.length+4;U.setSelectionRange(oe,oe)},0)},B=L=>{var U;return((U=Ga.find(O=>O.id===L))==null?void 0:U.emoji)||""},Z=L=>L>=90?"text-green-600 bg-green-50":L>=80?"text-blue-600 bg-blue-50":L>=70?"text-yellow-600 bg-yellow-50":"text-gray-600 bg-gray-50",te=L=>{const U={guestName:"John Smith",guestEmail:"john@example.com",organizerName:"You",meetingDate:"Monday, Jan 20, 2025",meetingTime:"2:00 PM",meetingLink:"https://meet.google.com/abc-xyz",bookingLink:"https://schedulesync.app/book/you"};let O=L.subject,$=L.body;Object.entries(U).forEach(([J,ne])=>{const oe=new RegExp(`\\{\\{${J}\\}\\}`,"g");O=O.replace(oe,ne),$=$.replace(oe,ne)}),f({...L,subject:O,body:$}),v(!0)};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(Q,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(zt,{className:"h-8 w-8 text-blue-600"}),"Email Templates"]}),s.jsxs("p",{className:"text-gray-600 mt-1 flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4"}),"Your AI assistant uses these when sending emails"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>g(!0),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 flex items-center gap-2 font-semibold shadow-sm",children:[s.jsx(Fe,{className:"h-5 w-5"}),"AI Generate"]}),s.jsxs("button",{onClick:()=>G(),className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 flex items-center gap-2 font-semibold shadow-sm",children:[s.jsx(jt,{className:"h-5 w-5"}),"New Template"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[_.length>0&&s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(zy,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-green-900 mb-2",children:" Recommended for you:"}),s.jsx("div",{className:"space-y-2",children:_.map((L,U)=>{var O;return s.jsx("div",{className:"bg-white p-2 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:(O=L.template)==null?void 0:O.name}),s.jsx("p",{className:"text-xs text-green-700",children:L.reason})]}),s.jsx("button",{onClick:()=>G(L.template),className:"text-green-600 hover:text-green-700",children:s.jsx(Ku,{className:"h-4 w-4"})})]})},U)})})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Fe,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-purple-900",children:"How it works with AI"}),s.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Say: ",s.jsx("span",{className:"font-mono bg-white px-2 py-0.5 rounded",children:'"Send John a friendly reminder"'}),s.jsx("br",{}),"Your AI picks the best template automatically!"]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search templates...",value:i,onChange:L=>c(L.target.value),className:"w-full pl-10 pr-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),s.jsxs("select",{value:o,onChange:L=>m(L.target.value),className:"px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none bg-white",children:[s.jsx("option",{value:"all",children:"All Types"}),Ga.map(L=>s.jsxs("option",{value:L.id,children:[L.emoji," ",L.label]},L.id))]})]}),T.length===0?s.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border-2 border-dashed border-gray-200",children:[s.jsx(Yn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"No templates found"}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium",children:" Generate with AI"}),s.jsx("button",{onClick:()=>G(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium",children:"Create Manual"})]})]}):s.jsx("div",{className:"space-y-3",children:T.map(L=>s.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-100 hover:border-blue-200 transition-all overflow-hidden",children:s.jsxs("div",{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"text-2xl",children:B(L.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:L.name}),L.is_default&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full",children:"Built-in"}),L.generated_by_ai&&s.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full flex items-center gap-1",children:[s.jsx(Ju,{className:"h-3 w-3"}),"AI"]})]}),s.jsx("p",{className:"text-sm text-gray-500 truncate mb-1",children:L.subject}),s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[L.usage_count&&s.jsxs("span",{className:"text-gray-600",children:[" Used ",L.usage_count," times"]}),L.effectiveness&&s.jsxs("span",{className:`px-2 py-0.5 rounded-full ${Z(L.effectiveness)}`,children:[L.effectiveness,"% effective"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>z(L.id),className:"p-2 hover:bg-gray-100 rounded-lg",title:L.is_favorite?"Remove from favorites":"Add to favorites",children:s.jsx(ti,{className:`h-5 w-5 ${L.is_favorite?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})}),s.jsx("button",{onClick:()=>te(L),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Preview",children:s.jsx(Qc,{className:"h-5 w-5 text-gray-500"})}),s.jsx("button",{onClick:()=>G(L),className:"p-2 hover:bg-gray-100 rounded-lg",title:L.is_default?"Duplicate & Edit":"Edit",children:s.jsx(Ku,{className:"h-5 w-5 text-gray-500"})}),!L.is_default&&s.jsx("button",{onClick:()=>R(L.id),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:s.jsx(xs,{className:"h-5 w-5 text-red-500"})})]})]})},L.id))})]}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between text-white rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fe,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-lg font-bold",children:"AI Template Generator"})]}),s.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:s.jsx(lt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Describe your template *"}),s.jsx("textarea",{value:w.description,onChange:L=>N({...w,description:L.target.value}),placeholder:"e.g., Professional follow-up for sales meetings with warm tone",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 outline-none resize-none"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be specific about purpose, tone, and style"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ga.map(L=>s.jsxs("button",{onClick:()=>N({...w,type:L.id}),className:`px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${w.type===L.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[L.emoji," ",L.label]},L.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tone"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Rj.map(L=>s.jsxs("button",{onClick:()=>N({...w,tone:L.id}),className:`px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${w.tone===L.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[L.emoji," ",L.label]},L.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 border-t px-6 py-4 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>g(!1),className:"px-5 py-2.5 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50",children:"Cancel"}),s.jsxs("button",{onClick:A,disabled:k||!w.description.trim(),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 flex items-center gap-2",children:[k?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):s.jsx(Fe,{className:"h-4 w-4"}),k?"Generating...":"Generate Template"]})]})]})}),u&&h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[h.generated_by_ai&&s.jsx(Ju,{className:"h-5 w-5 text-purple-600"}),h.id?"Edit Template":"New Template"]}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(lt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[h.generated_by_ai&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fe,{className:"h-4 w-4 text-purple-600"}),s.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Generated by AI - Feel free to customize as needed!"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Name *"}),s.jsx("input",{type:"text",value:h.name,onChange:L=>j({...h,name:L.target.value}),placeholder:"e.g., Friendly Reminder",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Ga.map(L=>s.jsxs("button",{onClick:()=>j({...h,type:L.id}),className:`px-4 py-2 rounded-lg border-2 text-sm font-medium transition-all ${h.type===L.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[L.emoji," ",L.label]},L.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Subject *"}),s.jsx("input",{type:"text",value:h.subject,onChange:L=>j({...h,subject:L.target.value}),placeholder:"e.g., Quick reminder about tomorrow! ",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Body *"}),s.jsx("textarea",{id:"template-body",value:h.body,onChange:L=>j({...h,body:L.target.value}),rows:8,placeholder:"Write your email here...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none resize-none"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(Py,{className:"h-4 w-4"}),"Insert Variables (click to add)"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Aj.map(L=>s.jsxs("button",{onClick:()=>I(L.key),className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-300 transition-all",children:[s.jsx("span",{className:"font-mono text-blue-600",children:`{{${L.key}}}`}),s.jsxs("span",{className:"text-gray-400 ml-1",children:["(",L.label,")"]})]},L.key))})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>x(!1),className:"px-5 py-2.5 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50",children:"Cancel"}),s.jsxs("button",{onClick:X,disabled:a,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[a?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"}),a?"Saving...":"Save Template"]})]})]})}),d&&b&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-xl w-full shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-100 px-6 py-4 flex items-center justify-between border-b",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Preview"}),s.jsx("p",{className:"font-semibold text-gray-900",children:b.name})]}),s.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-200 rounded-lg",children:s.jsx(lt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"SUBJECT"}),s.jsx("p",{className:"text-gray-900 font-medium",children:b.subject})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"BODY"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 whitespace-pre-wrap text-gray-800 text-sm",children:b.body})]})]}),s.jsx("div",{className:"bg-gray-50 border-t px-6 py-4 flex justify-end",children:s.jsx("button",{onClick:()=>{v(!1);const L=e.find(U=>U.id===b.id||U.name===b.name);L&&G(L)},className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:"Edit This Template"})})]})})]})}function Oj(){pe();const e=oi(),[t,n]=p.useState(null),[r,a]=p.useState(""),[l,i]=p.useState(""),[c,o]=p.useState(!1),[m,u]=p.useState([]),[x,h]=p.useState(!1),[j,d]=p.useState(""),[v,b]=p.useState(!0);p.useEffect(()=>{f()},[]);const f=async()=>{b(!0),await Promise.all([y(),g()]),b(!1)},y=async()=>{try{const M=(await E.get("/auth/me")).data.user;n(M),M!=null&&M.booking_token&&a(`${window.location.origin}/book/${M.booking_token}`)}catch(D){console.error("Failed to load profile:",D),e.error("Failed to load profile")}},g=async()=>{try{const D=await E.singleUseLinks.getRecent();u(D.data.links||[])}catch(D){console.error("Load single-use links error:",D)}},k=async()=>{o(!0);try{await E.get("/my-booking-link"),await y(),e.success("Booking link created successfully! ")}catch(D){console.error("Generate link error:",D),e.error("Could not generate booking link")}finally{o(!1)}},S=()=>{r&&(navigator.clipboard.writeText(r),i("permanent"),e.success("Link copied to clipboard! "),setTimeout(()=>i(""),2e3))},w=async()=>{h(!0);try{const D=await E.singleUseLinks.generate({name:j.trim()||null});d(""),await g(),e.success("Single-use link generated! ")}catch(D){console.error("Generate single-use link error:",D),e.error("Could not generate single-use link")}finally{h(!1)}},N=D=>{const M=`${window.location.origin}/book/${D}`;navigator.clipboard.writeText(M),i(D),e.success("Single-use link copied! "),setTimeout(()=>i(""),2e3)},_=D=>{const M=new Date,V=new Date(D.expires_at);return D.used?{label:"Used",color:"bg-gray-100 text-gray-600",icon:Qe}:V<M?{label:"Expired",color:"bg-red-100 text-red-600",icon:It}:{label:`Active (${Math.floor((V-M)/(1e3*60*60))}h left)`,color:"bg-green-100 text-green-600",icon:Ce}};return v?s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your links..."})]})}):s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:s.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Links"}),s.jsx("p",{className:"text-gray-600",children:"Manage your booking links and share them with clients"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-blue-50/50 rounded-2xl border border-blue-200 p-6 shadow-sm",children:[s.jsxs("h2",{className:"text-xl font-bold text-blue-900 flex items-center gap-3 mb-4",children:[s.jsx(Xc,{className:"h-6 w-6"}),"Permanent Link"]}),s.jsx("p",{className:"text-blue-700 text-sm mb-4",children:" Unlimited uses  Never expires  Perfect for email signatures and social media"}),r?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-mono text-sm text-blue-700 bg-white border border-blue-200 rounded-lg px-4 py-3 break-all",children:r}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:S,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors shadow-sm",children:[l==="permanent"?s.jsx(et,{className:"h-4 w-4"}):s.jsx(Ss,{className:"h-4 w-4"}),l==="permanent"?"Copied!":"Copy Link"]}),s.jsx("button",{onClick:()=>window.open(r,"_blank"),className:"px-6 py-3 bg-white text-blue-600 border border-blue-300 rounded-xl hover:bg-blue-50 transition-colors",children:s.jsx(yt,{className:"h-4 w-4"})})]})]}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"You don't have a personal booking link yet."}),s.jsx("button",{onClick:k,disabled:c,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"animate-spin h-5 w-5"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fe,{className:"h-5 w-5"}),"Create Link"]})})]})})]}),s.jsxs("div",{className:"bg-purple-50/50 rounded-2xl border border-purple-200 p-6 shadow-sm",children:[s.jsxs("h2",{className:"text-xl font-bold text-purple-900 flex items-center gap-3 mb-2",children:[s.jsx(Gy,{className:"h-6 w-6"}),"Single-Use Links"]}),s.jsx("p",{className:"text-purple-700 text-sm mb-4",children:" One-time use  Expires in 24h  Perfect for specific clients"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Name this link (optional) - e.g., 'Client ABC'",value:j,onChange:D=>d(D.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:50}),s.jsx("button",{onClick:w,disabled:x,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"animate-spin h-5 w-5"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jt,{className:"h-5 w-5"}),"Generate Link"]})})]})]})]}),m.length>0&&s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Single-Use Links"}),s.jsx("div",{className:"space-y-3",children:m.map(D=>{const M=_(D),V=M.icon,A=!D.used&&new Date(D.expires_at)>new Date;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsxs("div",{className:`px-3 py-1 rounded-lg ${M.color} text-sm font-medium flex items-center gap-2`,children:[s.jsx(V,{className:"h-4 w-4"}),M.label]}),D.name?s.jsx("span",{className:"font-medium text-gray-900 truncate",children:D.name}):s.jsxs("code",{className:"text-sm text-gray-600 font-mono truncate",children:[D.token.substring(0,16),"..."]}),s.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0",children:new Date(D.created_at).toLocaleDateString()})]}),A&&s.jsx("button",{onClick:()=>N(D.token),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center gap-2",children:l===D.token?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-4 w-4"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ss,{className:"h-4 w-4"}),"Copy"]})})]},D.token)})})]})]})})}function Dj(){const e=pe(),t=oi(),[n,r]=p.useState(!0),[a,l]=p.useState(null),[i,c]=p.useState(null),[o,m]=p.useState({ai_queries_used:0,ai_queries_limit:10}),[u,x]=p.useState({current_bookings:0,limits:{soft:50}}),[h,j]=p.useState([]),[d,v]=p.useState(!1);p.useEffect(()=>{b()},[]);const b=async()=>{r(!0);try{await Promise.all([f(),y(),g(),k(),S()])}catch(C){console.error("Failed to load billing data:",C),t.error("Failed to load billing information")}finally{r(!1)}},f=async()=>{try{const C=await E.auth.me();l(C.data.user)}catch(C){console.error("Profile load error:",C)}},y=async()=>{try{const C=await E.get("/billing/subscription");c(C.data)}catch(C){console.error("Subscription load error:",C)}},g=async()=>{try{const C=await E.user.usage();m(C.data)}catch(C){console.error("Usage load error:",C)}},k=async()=>{try{const C=await E.user.limits();x(C.data)}catch(C){console.error("Limits load error:",C)}},S=async()=>{try{const C=await E.get("/billing/invoices");j(C.data.invoices||[])}catch(C){console.error("Invoices load error:",C)}},w=async C=>{try{const T=await E.post("/billing/create-checkout",{plan:C});window.location.href=T.data.checkout_url}catch(T){console.error("Upgrade error:",T),t.error("Failed to start upgrade process")}},N=async()=>{try{await E.post("/billing/cancel"),t.success("Subscription cancelled successfully"),v(!1),b()}catch(C){console.error("Cancel error:",C),t.error("Failed to cancel subscription")}},_=async()=>{try{await E.post("/billing/reactivate"),t.success("Subscription reactivated successfully"),b()}catch(C){console.error("Reactivate error:",C),t.error("Failed to reactivate subscription")}},D=async C=>{try{const T=await E.get(`/billing/invoices/${C}/download`,{responseType:"blob"}),z=window.URL.createObjectURL(new Blob([T.data])),G=document.createElement("a");G.href=z,G.setAttribute("download",`invoice-${C}.pdf`),document.body.appendChild(G),G.click(),G.remove(),t.success("Invoice downloaded")}catch(T){console.error("Download error:",T),t.error("Failed to download invoice")}};if(n)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nr,{className:"h-8 w-8 animate-spin text-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading billing information..."})]})});const M=(a==null?void 0:a.tier)||"free",V=(i==null?void 0:i.status)==="active",A=(i==null?void 0:i.status)==="cancelled";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/settings"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ur,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing & Subscription"}),s.jsx("p",{className:"text-gray-600",children:"Manage your plan and billing information"})]})]})})}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Current Plan"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M==="free"?"bg-gray-100 text-gray-700":M==="pro"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:M==="free"?" Free Plan":M==="pro"?" Pro Plan":" Team Plan"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Usage This Month"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4"}),"AI Queries"]}),s.jsx("span",{className:"text-sm font-medium",children:M==="free"?`${o.ai_queries_used}/${o.ai_queries_limit}`:" Unlimited"})]}),M==="free"&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${Math.min(100,o.ai_queries_used/o.ai_queries_limit*100)}%`}})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(ae,{className:"h-4 w-4"}),"Bookings"]}),s.jsx("span",{className:"text-sm font-medium",children:M==="free"?`${u.current_bookings}/${u.limits.soft}`:" Unlimited"})]}),M==="free"&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min(100,u.current_bookings/u.limits.soft*100)}%`}})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Subscription Details"}),i?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Status"}),s.jsx("span",{className:`font-medium ${V?"text-green-600":A?"text-red-600":"text-yellow-600"}`,children:V?" Active":A?" Cancelled":" Pending"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Price"}),s.jsxs("span",{className:"font-medium",children:["$",i.price,"/month"]})]}),i.next_billing_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:A?"Ends":"Next billing"}),s.jsx("span",{className:"font-medium",children:new Date(i.next_billing_date).toLocaleDateString()})]})]}):s.jsxs("div",{className:"text-gray-500 text-center py-4",children:[s.jsx(Xl,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{children:"No active subscription"})]})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[M==="free"&&s.jsxs("button",{onClick:()=>w("pro"),className:"bg-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(es,{className:"h-4 w-4"}),"Upgrade to Pro - $12/month"]}),M==="pro"&&s.jsxs("button",{onClick:()=>w("team"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Cs,{className:"h-4 w-4"}),"Upgrade to Team - $25/month"]}),i&&V&&s.jsx("button",{onClick:()=>v(!0),className:"bg-red-100 text-red-700 px-6 py-2 rounded-lg font-medium hover:bg-red-200 transition-colors",children:"Cancel Subscription"}),i&&A&&s.jsx("button",{onClick:_,className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Reactivate Subscription"}),i&&s.jsxs("button",{onClick:()=>window.open(i.manage_url,"_blank"),className:"bg-gray-100 text-gray-700 px-6 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Manage Billing"]})]})]}),M==="free"&&s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Available Plans"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border-2 border-purple-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-purple-600 mb-2",children:" Pro Plan"}),s.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$12",s.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),s.jsx("p",{className:"text-gray-600",children:"Perfect for busy professionals"})]}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Unlimited AI queries"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Unlimited bookings"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Advanced email templates"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Priority support"})]})]}),s.jsx("button",{onClick:()=>w("pro"),className:"w-full bg-purple-600 text-white py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Upgrade to Pro"})]}),s.jsxs("div",{className:"border-2 border-blue-200 rounded-xl p-6 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-blue-600 mb-2",children:" Team Plan"}),s.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$25",s.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),s.jsx("p",{className:"text-gray-600",children:"For teams and organizations"})]}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Everything in Pro"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Team collaboration"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Advanced analytics"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Qe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"White-label options"})]})]}),s.jsx("button",{onClick:()=>w("team"),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Upgrade to Team"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Billing History"}),h.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Iy,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No invoices yet"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Your billing history will appear here"})]}):s.jsx("div",{className:"space-y-3",children:h.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${C.status==="paid"?"bg-green-100":C.status==="pending"?"bg-yellow-100":"bg-red-100"}`,children:C.status==="paid"?s.jsx(Qe,{className:"h-4 w-4 text-green-600"}):C.status==="pending"?s.jsx(Rl,{className:"h-4 w-4 text-yellow-600"}):s.jsx(It,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["$",C.amount," - ",C.description]}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(C.date).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${C.status==="paid"?"text-green-600":C.status==="pending"?"text-yellow-600":"text-red-600"}`,children:C.status==="paid"?"Paid":C.status==="pending"?"Pending":"Failed"}),C.status==="paid"&&s.jsx("button",{onClick:()=>D(C.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Download Invoice",children:s.jsx(Zl,{className:"h-4 w-4"})})]})]},C.id))})]})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Rl,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Cancel Subscription?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You'll lose access to Pro features at the end of your current billing period. You can reactivate anytime."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:N,className:"w-full bg-red-600 text-white py-3 rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Yes, Cancel Subscription"}),s.jsx("button",{onClick:()=>v(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Keep Subscription"})]})]})})})]})}function Ij(){const e=pe(),[t,n]=p.useState([]),[r,a]=p.useState(!0),[l,i]=p.useState(!1),[c,o]=p.useState(null),[m,u]=p.useState({name:"",description:""});p.useEffect(()=>{h()},[]);const x=b=>{if(!b)return!1;if(b.is_personal===!0)return!0;const f=(b.name||"").toLowerCase();return!!(f.includes("personal")&&f.includes("booking"))},h=async()=>{try{const f=(await os.getAll()).data.teams||[];console.log(" Raw teams from API:",f);const y=[...f].sort((g,k)=>{const S=x(g),w=x(k);return S&&!w?-1:!S&&w?1:(g.name||"").localeCompare(k.name||"")});console.log(" Sorted teams (personal first):",y.map(g=>({id:g.id,name:g.name,is_personal:g.is_personal,booking_token:g.booking_token,team_booking_token:g.team_booking_token}))),n(y)}catch(b){console.error(" Error loading teams:",b)}finally{a(!1)}},j=b=>x(b)?b.booking_token?{url:`${window.location.origin}/book/${b.booking_token}`,token:b.booking_token}:null:b.team_booking_token?{url:`${window.location.origin}/book/${b.team_booking_token}`,token:b.team_booking_token}:null,d=b=>{const f=j(b);if(!f){alert(" Booking link not available. Please refresh the page or contact support."),console.error(" No booking token for team:",b.id);return}console.log(" Copying booking link:",f.url),navigator.clipboard.writeText(f.url).then(()=>{console.log(" Link copied successfully"),o(f.token),setTimeout(()=>o(null),2e3)}).catch(y=>{console.error(" Failed to copy:",y),alert("Failed to copy link. Please try again.")})},v=async b=>{b.preventDefault();try{await os.create(m),i(!1),u({name:"",description:""}),h()}catch(f){console.error(" Error creating team:",f),alert("Failed to create team. Please try again.")}};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading teams..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Teams"}),s.jsx("p",{className:"text-gray-600",children:"Manage your scheduling teams and members"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all flex items-center gap-2 font-semibold",children:[s.jsx(jt,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Create Team"})]})]}),t.length===0?s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center border-2 border-gray-100",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Cs,{className:"h-10 w-10 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No teams yet"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create your first team to start managing group bookings"}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold",children:[s.jsx(jt,{className:"h-5 w-5"}),"Create Your First Team"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>{var k;const f=x(b),y=j(b),g=!!y;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all border-2 border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:`p-6 relative ${f?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:[f&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs("span",{className:"bg-white/30 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[s.jsx(ti,{className:"h-3 w-3 fill-white"}),"Personal"]})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("button",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors",children:s.jsx(Oy,{className:"h-4 w-4 text-white"})})}),s.jsx("div",{className:`w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 ${f?"mt-8":""}`,children:s.jsx(Cs,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:b.name}),s.jsx("p",{className:`text-sm line-clamp-2 ${f?"text-green-100":"text-blue-100"}`,children:b.description||"No description"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.member_count||0}),s.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.booking_count||0}),s.jsx("p",{className:"text-xs text-gray-600",children:"Bookings"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((k=b.booking_mode)==null?void 0:k.substring(0,2).toUpperCase())||"RR"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Mode"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>e(`/teams/${b.id}/members`),className:"w-full bg-blue-600 text-white px-4 py-3 rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-semibold",children:[s.jsx(bn,{className:"h-4 w-4"}),"Manage Team"]}),s.jsx("button",{onClick:()=>d(b),disabled:!g,className:`w-full px-4 py-3 rounded-xl transition-all flex items-center justify-center gap-2 font-semibold ${g?c===(y==null?void 0:y.token)?"bg-green-100 text-green-700 border-2 border-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:g?c===(y==null?void 0:y.token)?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-green-600",children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ss,{className:"h-4 w-4"}),"Copy ",f?"Link":"Team Link"]}):s.jsxs(s.Fragment,{children:[s.jsx(qe,{className:"h-4 w-4"}),"No Link"]})})]})]})]},b.id)})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Team"}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name *"}),s.jsx("input",{type:"text",required:!0,value:m.name,onChange:b=>u({...m,name:b.target.value}),placeholder:"Sales Team",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:m.description,onChange:b=>u({...m,description:b.target.value}),placeholder:"Book time with our sales team",rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all",children:"Create"})]})]})]})})]})}function Uj(){const{teamId:e}=en(),t=pe(),[n,r]=p.useState(!0),[a,l]=p.useState(!1),[i,c]=p.useState(!1),[o,m]=p.useState({name:"",description:"",duration:30,mode:"round-robin",bufferTime:0,leadTime:60});p.useEffect(()=>{u()},[e]);const u=async()=>{try{const d=(await os.getAll()).data.teams.find(v=>v.id===parseInt(e));m(d||o)}catch(j){console.error("Error loading team:",j)}finally{r(!1)}},x=async()=>{try{l(!0),await os.update(e,o),c(!0),setTimeout(()=>c(!1),2e3)}catch(j){console.error("Error saving team:",j)}finally{l(!1)}},h=async()=>{if(confirm("Are you sure you want to delete this team? This cannot be undone."))try{await os.delete(e),t("/teams")}catch(j){console.error("Error deleting team:",j)}};return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsx(Q,{className:"h-12 w-12 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/teams"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 font-semibold",children:[s.jsx(ur,{className:"h-4 w-4"}),"Back to Teams"]}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Team Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure your team's booking preferences"})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:s.jsx(bn,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:o.name}),s.jsx("p",{className:"text-blue-100",children:o.description})]})]})}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name"}),s.jsx("input",{type:"text",value:o.name,onChange:j=>m({...o,name:j.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Sales Team"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:o.description,onChange:j=>m({...o,description:j.target.value}),rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all",placeholder:"Book time with our sales team"})]})]}),s.jsxs("div",{className:"space-y-6 pt-6 border-t-2 border-gray-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-purple-600"}),"Scheduling Settings"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Meeting Duration (minutes)"}),s.jsx("input",{type:"number",value:o.duration,onChange:j=>m({...o,duration:parseInt(j.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Scheduling Mode"}),s.jsxs("select",{value:o.mode,onChange:j=>m({...o,mode:j.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[s.jsx("option",{value:"round-robin",children:"Round Robin"}),s.jsx("option",{value:"collective",children:"Collective"}),s.jsx("option",{value:"first-available",children:"First Available"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Buffer Time (minutes)"}),s.jsx("input",{type:"number",value:o.bufferTime,onChange:j=>m({...o,bufferTime:parseInt(j.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Lead Time (minutes)"}),s.jsx("input",{type:"number",value:o.leadTime,onChange:j=>m({...o,leadTime:parseInt(j.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-100 rounded-xl p-6",children:[s.jsxs("h4",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(es,{className:"h-4 w-4"}),"Scheduling Mode Explained"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold",children:"Round Robin:"}),s.jsx("span",{children:"Distributes bookings evenly among team members."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold",children:"Collective:"}),s.jsx("span",{children:"All team members must be available for the meeting."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold",children:"First Available:"}),s.jsx("span",{children:"Books with the first available team member."})]})]})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{onClick:x,disabled:a,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-5 w-5 animate-spin"}),"Saving..."]}):i?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-5 w-5"}),"Saved!"]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"h-5 w-5"}),"Save Changes"]})}),s.jsxs("button",{onClick:h,className:"bg-white border-2 border-red-500 text-red-600 px-8 py-4 rounded-xl hover:bg-red-50 transition-all flex items-center justify-center gap-2 font-bold",children:[s.jsx(xs,{className:"h-5 w-5"}),"Delete Team"]})]})]})})}function Fj({isOpen:e,onClose:t,member:n,teamId:r,onSave:a}){var u,x;const[l,i]=p.useState({name:"",role:"member",priority:1,is_active:!0}),[c,o]=p.useState(!1);p.useEffect(()=>{n&&i({name:n.user_name||n.name||"",role:n.role||"member",priority:n.priority||1,is_active:n.is_active!==!1})},[n]);const m=async h=>{var j,d;if(h.preventDefault(),!!n){o(!0);try{const v=await E.patch(`/teams/${r}/members/${n.id}`,{name:l.name||null,role:l.role,priority:parseInt(l.priority,10),is_active:l.is_active});a&&a(v.data.member),alert("Member updated successfully!"),t()}catch(v){console.error("Error updating member:",v),alert(((d=(j=v.response)==null?void 0:j.data)==null?void 0:d.error)||"Failed to update member")}finally{o(!1)}}};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Zt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Member Settings"}),s.jsx("p",{className:"text-blue-100 text-sm",children:n.user_name||n.name||n.email})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(lt,{className:"h-5 w-5 text-white"})})]})}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:((u=n.user_name)==null?void 0:u.charAt(0))||((x=n.name)==null?void 0:x.charAt(0))||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:n.user_name||n.name||"Unknown"}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:n.user_email||n.email})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"h-4 w-4"}),"Display Name (Optional)"]})}),s.jsx("input",{type:"text",value:l.name,onChange:h=>i({...l,name:h.target.value}),placeholder:"Leave empty to use account name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Override the name from their account for this team"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),"Role"]})}),s.jsxs("select",{value:l.role,onChange:h=>i({...l,role:h.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admins can manage team settings and members"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(da,{className:"h-4 w-4"}),"Priority"]})}),s.jsx("input",{type:"number",min:"1",max:"100",value:l.priority,onChange:h=>i({...l,priority:h.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority members get bookings first in round-robin mode"})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.is_active,onChange:h=>i({...l,is_active:h.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Active Member"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Inactive members won't receive bookings"})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,disabled:c,className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"h-4 w-4"}),"Save Changes"]})})]})]})]})})}function $j(){const{teamId:e}=en(),t=pe(),[n,r]=p.useState(!0),[a,l]=p.useState(null),[i,c]=p.useState([]),[o,m]=p.useState(!1),[u,x]=p.useState(!1),[h,j]=p.useState(null),[d,v]=p.useState({email:"",name:"",role:"member"});p.useEffect(()=>{b()},[e]);const b=async()=>{try{const[N,_]=await Promise.all([os.getAll(),os.getMembers(e)]),D=N.data.teams.find(M=>M.id===parseInt(e,10));l(D||null),c(_.data.members||[])}catch(N){console.error("Error loading team members:",N)}finally{r(!1)}},f=async N=>{var _,D;if(N.preventDefault(),!d.email){alert("Email is required");return}try{const M=await E.post(`/teams/${e}/members`,{email:d.email,name:d.name||null,role:d.role});c(V=>[...V,M.data.member]),m(!1),v({email:"",name:"",role:"member"}),alert("Member added successfully!")}catch(M){console.error("Error adding member:",M);const V=((D=(_=M.response)==null?void 0:_.data)==null?void 0:D.error)||"Failed to add member";V.includes("already exists")?alert(" This member already exists in the team!"):alert(`Error: ${V}`)}},y=async N=>{if(window.confirm("Remove this member from the team?"))try{await os.removeMember(e,N),b()}catch(_){console.error("Error removing member:",_)}},g=async(N,_)=>{try{await os.updateMemberStatus(e,N,!_),b()}catch(D){console.error("Error updating member:",D)}},k=N=>{if(!N)return;const _=`${window.location.origin}/book/${N}`;navigator.clipboard.writeText(_),alert("Booking link copied to clipboard!")},S=N=>{j(N),x(!0)},w=N=>{c(i.map(_=>_.id===N.id?{..._,...N}:_))};return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsx(Q,{className:"h-12 w-12 animate-spin text-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/teams"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 font-semibold",children:[s.jsx(ur,{className:"h-4 w-4"}),"Back to Teams"]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Team Members"}),s.jsxs("p",{className:"text-gray-600",children:[(a==null?void 0:a.name)||"Team","  Manage your team members"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>t(`/teams/${e}/settings`),className:"bg-white border-2 border-gray-300 text-gray-700 px-5 py-2.5 rounded-xl hover:bg-gray-50 transition-all flex items-center gap-2 font-semibold",children:[s.jsx(bn,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Team Settings"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-5 py-2.5 rounded-xl hover:shadow-lg transition-all flex items-center gap-2 font-semibold",children:[s.jsx(jt,{className:"h-5 w-5"}),"Add Member"]})]})]})]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center border-2 border-gray-100",children:[s.jsx(Cs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No members yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Add team members to start scheduling"}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold",children:[s.jsx(jt,{className:"h-5 w-5"}),"Add Your First Member"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(N=>{var _,D;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow border-2 border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:((_=N.user_name)==null?void 0:_.charAt(0))||((D=N.name)==null?void 0:D.charAt(0))||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-bold text-gray-900 truncate",children:N.user_name||N.name||"Unknown"}),N.role==="admin"&&s.jsx(Sy,{className:"h-4 w-4 text-yellow-500 flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:N.user_email||N.email})]})]})}),s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[N.is_active?s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2.5 py-1 rounded-full text-xs font-semibold",children:[s.jsx(de,{className:"h-3 w-3"}),"Active"]}):s.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-semibold",children:[s.jsx(It,{className:"h-3 w-3"}),"Inactive"]}),s.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2.5 py-1 rounded-full text-xs font-semibold capitalize",children:[s.jsx(Ks,{className:"h-3 w-3"}),N.role||"member"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx("p",{className:"text-xl font-bold text-gray-900",children:N.booking_count||0}),s.jsx("p",{className:"text-xs text-gray-500",children:"Bookings"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx("p",{className:"text-xl font-bold text-gray-900",children:N.priority||1}),s.jsx("p",{className:"text-xs text-gray-500",children:"Priority"})]})]}),s.jsx("div",{className:"mb-4",children:N.booking_token?s.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"text-xs text-blue-700 font-mono truncate",children:["/book/",N.booking_token.substring(0,12),"..."]}),s.jsxs("button",{onClick:()=>k(N.booking_token),className:"flex items-center gap-1 text-xs bg-blue-600 text-white px-2.5 py-1 rounded-lg hover:bg-blue-700 transition-colors font-medium flex-shrink-0",children:[s.jsx(Ss,{className:"h-3 w-3"}),"Copy"]})]})}):s.jsx("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-200",children:s.jsx("span",{className:"text-xs text-gray-400",children:"No booking link yet"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>S(N),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2.5 rounded-xl hover:shadow-lg transition-all text-sm font-semibold flex items-center justify-center gap-2",children:[s.jsx(bn,{className:"h-4 w-4"}),"Member Settings"]}),s.jsxs("button",{onClick:()=>t(`/teams/${e}/members/${N.id}/availability`),className:"w-full bg-blue-50 text-blue-700 px-4 py-2 rounded-xl hover:bg-blue-100 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[s.jsx(ae,{className:"h-4 w-4"}),"Availability"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>g(N.id,N.is_active),className:`flex-1 px-4 py-2 rounded-xl transition-colors text-sm font-semibold ${N.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:N.is_active?"Deactivate":"Activate"}),s.jsx("button",{onClick:()=>y(N.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors",title:"Remove member",children:s.jsx(xs,{className:"h-4 w-4"})})]})]})]})]},N.id)})})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Add Team Member"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(zt,{className:"h-4 w-4"}),"Email Address"]})}),s.jsx("input",{type:"email",required:!0,value:d.email,onChange:N=>v({...d,email:N.target.value}),placeholder:"member@example.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),"Role"]})}),s.jsxs("select",{value:d.role,onChange:N=>v({...d,role:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all",children:"Add Member"})]})]})]})}),s.jsx(Fj,{isOpen:u,onClose:()=>{x(!1),j(null)},member:h,teamId:parseInt(e,10),onSave:w})]})}const Bi=[{value:"America/New_York",label:"Eastern Time (ET)",offset:"UTC-5"},{value:"America/Chicago",label:"Central Time (CT)",offset:"UTC-6"},{value:"America/Denver",label:"Mountain Time (MT)",offset:"UTC-7"},{value:"America/Los_Angeles",label:"Pacific Time (PT)",offset:"UTC-8"},{value:"America/Anchorage",label:"Alaska Time (AKT)",offset:"UTC-9"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",offset:"UTC-10"},{value:"Europe/London",label:"London (GMT)",offset:"UTC+0"},{value:"Europe/Paris",label:"Paris (CET)",offset:"UTC+1"},{value:"Europe/Berlin",label:"Berlin (CET)",offset:"UTC+1"},{value:"Europe/Madrid",label:"Madrid (CET)",offset:"UTC+1"},{value:"Europe/Rome",label:"Rome (CET)",offset:"UTC+1"},{value:"Europe/Athens",label:"Athens (EET)",offset:"UTC+2"},{value:"Europe/Moscow",label:"Moscow (MSK)",offset:"UTC+3"},{value:"Asia/Dubai",label:"Dubai (GST)",offset:"UTC+4"},{value:"Asia/Kolkata",label:"India (IST)",offset:"UTC+5:30"},{value:"Asia/Bangkok",label:"Bangkok (ICT)",offset:"UTC+7"},{value:"Asia/Singapore",label:"Singapore (SGT)",offset:"UTC+8"},{value:"Asia/Manila",label:"Manila (PHT)",offset:"UTC+8"},{value:"Asia/Hong_Kong",label:"Hong Kong (HKT)",offset:"UTC+8"},{value:"Asia/Shanghai",label:"Shanghai (CST)",offset:"UTC+8"},{value:"Asia/Tokyo",label:"Tokyo (JST)",offset:"UTC+9"},{value:"Asia/Seoul",label:"Seoul (KST)",offset:"UTC+9"},{value:"Australia/Perth",label:"Perth (AWST)",offset:"UTC+8"},{value:"Australia/Adelaide",label:"Adelaide (ACST)",offset:"UTC+9:30"},{value:"Australia/Brisbane",label:"Brisbane (AEST)",offset:"UTC+10"},{value:"Australia/Sydney",label:"Sydney (AEDT)",offset:"UTC+11"},{value:"Australia/Melbourne",label:"Melbourne (AEDT)",offset:"UTC+11"},{value:"Pacific/Auckland",label:"Auckland (NZDT)",offset:"UTC+13"},{value:"Pacific/Fiji",label:"Fiji (FJT)",offset:"UTC+12"}],zj=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return console.error("Failed to detect timezone:",e),"America/New_York"}};function Bj({value:e,onChange:t,showLabel:n=!0}){var x;const[r,a]=p.useState(!1),[l,i]=p.useState(""),[c,o]=p.useState(null);p.useEffect(()=>{const h=zj();o(h),!e&&t&&t(h)},[]);const m=Bi.filter(h=>h.label.toLowerCase().includes(l.toLowerCase())||h.value.toLowerCase().includes(l.toLowerCase())),u=Bi.find(h=>h.value===e);return s.jsxs("div",{className:"relative",children:[n&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(us,{className:"inline h-4 w-4 mr-1"}),"Timezone"]}),s.jsx("button",{type:"button",onClick:()=>a(!r),className:"w-full px-4 py-3 text-left bg-white border-2 border-gray-300 rounded-xl hover:border-blue-500 focus:border-blue-500 focus:outline-none transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:(u==null?void 0:u.label)||"Select timezone"}),s.jsx("p",{className:"text-xs text-gray-500",children:(u==null?void 0:u.offset)||"Choose your timezone"})]})]}),s.jsx("svg",{className:`h-5 w-5 text-gray-400 transition-transform ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),s.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-96 overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b border-gray-200",children:s.jsx("input",{type:"text",placeholder:"Search timezones...",value:l,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})}),c&&c!==e&&s.jsx("div",{className:"p-2 bg-blue-50 border-b border-blue-100",children:s.jsx("button",{type:"button",onClick:()=>{t(c),a(!1)},className:"w-full text-left px-3 py-2 hover:bg-blue-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sr,{className:"h-4 w-4 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Use detected timezone"}),s.jsx("p",{className:"text-xs text-blue-700",children:(x=Bi.find(h=>h.value===c))==null?void 0:x.label})]})]})})}),s.jsx("div",{className:"overflow-y-auto max-h-80",children:m.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No timezones found"}):m.map(h=>s.jsx("button",{type:"button",onClick:()=>{t(h.value),a(!1),i("")},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0 ${e===h.value?"bg-blue-50":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-medium ${e===h.value?"text-blue-600":"text-gray-900"}`,children:h.label}),s.jsx("p",{className:"text-xs text-gray-500",children:h.offset})]}),e===h.value&&s.jsx(et,{className:"h-5 w-5 text-blue-600"})]})},h.value))})]})]})]})}function Gj(){const{teamId:e,memberId:t}=en(),n=pe(),[r,a]=p.useState(!0),[l,i]=p.useState(!1),[c,o]=p.useState(null),[m,u]=p.useState("America/New_York"),[x,h]=p.useState(0),[j,d]=p.useState(0),[v,b]=p.useState(30),[f,y]=p.useState(null),[g,k]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[S,w]=p.useState([]),[N,_]=p.useState(null),D=[{key:"monday",label:"Mon",full:"Monday"},{key:"tuesday",label:"Tue",full:"Tuesday"},{key:"wednesday",label:"Wed",full:"Wednesday"},{key:"thursday",label:"Thu",full:"Thursday"},{key:"friday",label:"Fri",full:"Friday"},{key:"saturday",label:"Sat",full:"Saturday"},{key:"sunday",label:"Sun",full:"Sunday"}],M=[{value:0,label:"None",desc:"Back-to-back OK"},{value:5,label:"5min",desc:"Quick break"},{value:10,label:"10min",desc:"Short buffer"},{value:15,label:"15min",desc:"Standard"},{value:30,label:"30min",desc:"Extended"},{value:60,label:"1hr",desc:"Full hour"}],V=[{value:0,label:"None",desc:"Instant booking"},{value:2,label:"2hrs",desc:"Same day OK"},{value:4,label:"4hrs",desc:"Half day notice"},{value:24,label:"24hrs",desc:"1 day notice"},{value:48,label:"48hrs",desc:"2 days notice"},{value:168,label:"1wk",desc:"Weekly planning"}],A=[{value:7,label:"1wk",desc:"Short term"},{value:14,label:"2wks",desc:"Biweekly"},{value:30,label:"1mo",desc:"Monthly"},{value:60,label:"2mo",desc:"Quarterly"},{value:90,label:"3mo",desc:"Long term"},{value:180,label:"6mo",desc:"Extended"}],C=[{value:null,label:"Unlimited",desc:"No limit"},{value:1,label:"1",desc:"One per day"},{value:2,label:"2",desc:"Two max"},{value:3,label:"3",desc:"Three max"},{value:5,label:"5",desc:"Five max"},{value:10,label:"10",desc:"Ten max"}],T=(O,$="success")=>{_({message:O,type:$}),setTimeout(()=>_(null),2e3)},z=O=>{if(!O)return"";const $=new Date(O),J=$.getFullYear(),ne=String($.getMonth()+1).padStart(2,"0"),oe=String($.getDate()).padStart(2,"0"),H=String($.getHours()).padStart(2,"0"),me=String($.getMinutes()).padStart(2,"0");return`${J}-${ne}-${oe}T${H}:${me}`};p.useEffect(()=>{G()},[t]);const G=async()=>{try{a(!0);const $=(await E.availability.getSettings(e,t)).data;o($.member),h($.member.buffer_time||0),d($.member.lead_time_hours||0),b($.member.booking_horizon_days||30),y($.member.daily_booking_cap||null),$.member.working_hours&&k($.member.working_hours);const J=($.blocked_times||[]).map(ne=>({...ne,start_time:z(ne.start_time),end_time:z(ne.end_time)}));w(J);try{const ne=await E.timezone.getMemberTimezone(t);ne.data.timezone&&u(ne.data.timezone)}catch{console.warn("Timezone load failed (Backend 404 likely). Using default.")}}catch(O){console.error("Error loading availability:",O),T("Failed to load settings","error")}finally{a(!1)}},X=async()=>{var O,$;try{i(!0);const J=S.filter(oe=>oe.start_time&&oe.end_time).map(oe=>({start_time:new Date(oe.start_time).toISOString(),end_time:new Date(oe.end_time).toISOString(),reason:oe.reason||null})),ne={buffer_time:x,lead_time_hours:j,booking_horizon_days:v,daily_booking_cap:f,working_hours:g,blocked_times:J};console.log(" Saving availability to",`/team-members/${t}/availability`,ne),await E.availability.updateSettings(e,t,ne);try{console.log(" Saving member timezone to",`/team-members/${t}/timezone`,m),await E.timezone.updateMemberTimezone(t,m)}catch(oe){console.warn(" Timezone save failed (non-fatal):",(O=oe==null?void 0:oe.response)==null?void 0:O.status,(($=oe==null?void 0:oe.response)==null?void 0:$.data)||oe.message)}T(" Availability saved!")}catch(J){console.error(" Error saving availability:",J),J.response&&(console.error(" Status:",J.response.status),console.error(" Response data:",J.response.data)),T("Save failed","error")}finally{i(!1)}},R=O=>{k({...g,[O]:{...g[O],enabled:!g[O].enabled}})},I=(O,$,J)=>{k({...g,[O]:{...g[O],[$]:J}})},B=()=>{w([...S,{id:`temp-${Date.now()}`,start_time:"",end_time:"",reason:""}])},Z=O=>{w(S.filter(($,J)=>J!==O))},te=(O,$,J)=>{const ne=[...S];ne[O][$]=J,w(ne)},L=()=>{const O={...g};Object.keys(O).forEach($=>O[$].enabled=!0),k(O)},U=()=>{const O={...g};O.saturday.enabled=!1,O.sunday.enabled=!1,Object.keys(O).forEach($=>{$!=="saturday"&&$!=="sunday"&&(O[$].enabled=!0)}),k(O)};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center",children:s.jsx(Q,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 p-4 sm:p-8",children:[N&&s.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:s.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl shadow-2xl font-semibold ${N.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:[N.type==="error"?s.jsx(qe,{className:"h-5 w-5"}):s.jsx(de,{className:"h-5 w-5"}),N.message]})}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[s.jsx(ur,{className:"h-4 w-4"})," Back"]}),s.jsxs("button",{onClick:X,disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[l?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"}),"Save"]})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsx(Bj,{value:m,onChange:u})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center gap-3",children:[s.jsx(Ce,{className:"h-6 w-6 text-white"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Buffer Time"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Gap between meetings"})]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-3 gap-3",children:M.map(O=>s.jsxs("button",{onClick:()=>h(O.value),className:`p-3 rounded-xl border-2 text-left transition-all ${x===O.value?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300"}`,children:[s.jsx("p",{className:"font-bold text-gray-900",children:O.label}),s.jsx("p",{className:"text-xs text-gray-600",children:O.desc})]},O.value))})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 px-6 py-4 flex items-center gap-3",children:[s.jsx(es,{className:"h-6 w-6 text-white"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Lead Time"}),s.jsx("p",{className:"text-green-100 text-sm",children:"Minimum notice required"})]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.map(O=>s.jsxs("button",{onClick:()=>d(O.value),className:`p-3 rounded-xl border-2 text-left transition-all ${j===O.value?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-green-300"}`,children:[s.jsx("p",{className:"font-bold text-gray-900",children:O.label}),s.jsx("p",{className:"text-xs text-gray-600",children:O.desc})]},O.value))})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 px-6 py-4 flex items-center gap-3",children:[s.jsx(da,{className:"h-6 w-6 text-white"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Booking Window"}),s.jsx("p",{className:"text-purple-100 text-sm",children:"How far in advance guests can book"})]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-3 gap-3",children:A.map(O=>s.jsxs("button",{onClick:()=>b(O.value),className:`p-3 rounded-xl border-2 text-left transition-all ${v===O.value?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300"}`,children:[s.jsx("p",{className:"font-bold text-gray-900",children:O.label}),s.jsx("p",{className:"text-xs text-gray-600",children:O.desc})]},O.value))})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-6 py-4 flex items-center gap-3",children:[s.jsx(Ks,{className:"h-6 w-6 text-white"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Daily Limit"}),s.jsx("p",{className:"text-orange-100 text-sm",children:"Prevent burnout by capping meetings"})]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:C.map(O=>s.jsxs("button",{onClick:()=>y(O.value),className:`w-full p-3 rounded-xl border-2 text-left transition-all ${f===O.value?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 bg-white hover:border-orange-300"}`,children:[s.jsx("p",{className:"font-bold text-gray-900 break-words",children:O.label}),s.jsx("p",{className:"text-xs text-gray-600",children:O.desc})]},O.label))})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-4 py-2.5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{className:"h-5 w-5 text-white"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-bold text-white",children:"Working Hours"}),s.jsx("p",{className:"text-indigo-100 text-xs",children:"When you're available"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:L,className:"px-2.5 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg text-xs font-medium",children:"All Days"}),s.jsx("button",{onClick:U,className:"px-2.5 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg text-xs font-medium",children:"Weekdays"})]})]}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-2",children:D.map(O=>s.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"checkbox",checked:g[O.key].enabled,onChange:()=>R(O.key),className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium w-24",children:O.full})]}),g[O.key].enabled?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"time",value:g[O.key].start,onChange:$=>I(O.key,"start",$.target.value),className:"w-24 border border-gray-300 rounded-lg px-2 py-1 text-sm"}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"time",value:g[O.key].end,onChange:$=>I(O.key,"end",$.target.value),className:"w-24 border border-gray-300 rounded-lg px-2 py-1 text-sm"})]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"Unavailable"})]},O.key))})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Blocked times"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Periods when you are never bookable (vacation, breaks, events)."})]})]}),s.jsxs("button",{type:"button",onClick:B,className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700",children:[s.jsx(jt,{className:"h-4 w-4"}),"Add block"]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[S.length===0&&s.jsx("p",{className:"text-xs text-gray-500",children:"No blocked times yet. Add one to keep certain periods unavailable."}),S.map((O,$)=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start"}),s.jsx("input",{type:"datetime-local",value:O.start_time||"",onChange:J=>te($,"start_time",J.target.value),className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End"}),s.jsx("input",{type:"datetime-local",value:O.end_time||"",onChange:J=>te($,"end_time",J.target.value),className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Reason (optional)"}),s.jsx("input",{type:"text",value:O.reason||"",onChange:J=>te($,"reason",J.target.value),placeholder:"Vacation, lunch, focus time...",className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]}),s.jsx("button",{type:"button",onClick:()=>Z($),className:"self-start sm:self-auto px-2 py-2 text-red-500 hover:text-red-600",children:s.jsx(xs,{className:"h-4 w-4"})})]},O.id||$))]})]})]})]})}function Hj(){const[e]=Nn(),t=oi(),[n,r]=p.useState(!0),[a,l]=p.useState(!1),[i,c]=p.useState(!1),[o,m]=p.useState(e.get("tab")||"profile"),[u,x]=p.useState({name:"",email:"",timezone:"America/New_York"}),[h,j]=p.useState(null),[d,v]=p.useState({enabled:!0,hoursBefore:24,sendToHost:!0,sendToGuest:!0}),[b,f]=p.useState(!1),[y,g]=p.useState({google:{connected:!1,email:null,lastSync:null},microsoft:{connected:!1,email:null,lastSync:null}}),[k,S]=p.useState(!1),[w,N]=p.useState(!1),[_,D]=p.useState(""),[M,V]=p.useState(""),[A,C]=p.useState(null),[T,z]=p.useState(!1),[G,X]=p.useState(!1),[R,I]=p.useState(!1),[B,Z]=p.useState(!1),[te,L]=p.useState(!1);p.useEffect(()=>{U()},[]),p.useEffect(()=>{const q=e.get("tab");q&&m(q)},[e]);const U=async()=>{var q;try{const st=(await Es.me()).data.user;x({name:st.name,email:st.email,timezone:st.timezone||"America/New_York"});const Ne=(await E.get("/teams")).data.teams.find(ct=>ct.name.includes("Personal Bookings"));if(Ne){j(Ne.id);try{f(!0);const ct=await Ko.getSettings(Ne.id),kt=((q=ct.data)==null?void 0:q.settings)||ct.data||{};v({enabled:kt.enabled??!0,hoursBefore:kt.hours_before??24,sendToHost:kt.send_to_host??!0,sendToGuest:kt.send_to_guest??!0})}catch(ct){console.error("Error loading reminder settings:",ct)}finally{f(!1)}}await O(),o==="integrations"&&await $()}catch(he){console.error("Error loading settings:",he)}finally{r(!1)}},O=async()=>{var q,he,st,Oe,Ne,ct;try{S(!0);const K=(await Ar.getStatus()).data;g({google:{connected:((q=K.google)==null?void 0:q.connected)||!1,email:((he=K.google)==null?void 0:he.email)||null,lastSync:((st=K.google)==null?void 0:st.last_sync)||null},microsoft:{connected:((Oe=K.microsoft)==null?void 0:Oe.connected)||!1,email:((Ne=K.microsoft)==null?void 0:Ne.email)||null,lastSync:((ct=K.microsoft)==null?void 0:ct.last_sync)||null}})}catch(kt){console.error("Error loading calendar status:",kt)}finally{S(!1)}},$=async()=>{z(!0);try{const q=await Hr.getToken();q.data.jwt_token&&(D(q.data.jwt_token),V(q.data.expires_in||"90 days"),C(q.data.setup_status))}catch(q){console.error("ChatGPT token load error:",q)}finally{z(!1)}},J=async()=>{try{await navigator.clipboard.writeText(_),X(!0),t.success("ChatGPT token copied to clipboard! "),setTimeout(()=>X(!1),2e3)}catch(q){console.error("Error copying ChatGPT token:",q),t.error("Could not copy token. Please select and copy manually.")}},ne=async()=>{I(!0);try{const q=await Hr.refreshToken();q.data.jwt_token&&(D(q.data.jwt_token),V(q.data.expires_in||"90 days"),t.success("ChatGPT token refreshed successfully! "))}catch(q){console.error("Error refreshing ChatGPT token:",q),t.error("Could not refresh ChatGPT token")}finally{I(!1)}},oe=async()=>{Z(!0);try{const q=await Hr.testConnection();q.data.connection_status==="READY"?t.success(" ChatGPT connection ready! All tests passed."):(t.warning(" Some issues found. Check your ScheduleSync setup."),console.log("Test results:",q.data.tests))}catch(q){console.error("Error testing ChatGPT connection:",q),t.error(" Connection test failed")}finally{Z(!1)}},H=async()=>{try{const he=await(await fetch("/api/user/chatgpt-openapi-schema")).json(),st=new Blob([JSON.stringify(he,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(st),Ne=document.createElement("a");Ne.href=Oe,Ne.download="schedulesync-chatgpt-api-schema.json",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(Oe),t.success(" API schema downloaded!")}catch(q){console.error("Error downloading schema:",q),t.error("Could not download API schema")}},me=async()=>{try{const he=(await Ar.connectGoogle()).data.url;window.location.href=he}catch(q){console.error("Error connecting Google:",q),alert("Failed to connect Google Calendar")}},we=async()=>{try{const he=(await E.oauth.getMicrosoftUrl()).data.url;window.location.href=he}catch(q){console.error("Error connecting Microsoft:",q),alert("Failed to connect Microsoft Calendar")}},hs=async()=>{if(confirm("Disconnect Google Calendar? This will stop syncing your events."))try{await Ar.disconnectGoogle(),await O(),alert("Google Calendar disconnected successfully!")}catch(q){console.error("Error disconnecting Google:",q),alert("Failed to disconnect Google Calendar")}},Sn=async()=>{try{N(!0),await Ar.syncEvents(),await O(),alert("Calendar synced successfully!")}catch(q){console.error("Error syncing calendar:",q),alert("Failed to sync calendar")}finally{N(!1)}},Cn=async()=>{l(!0);try{await ii.update(u.timezone),h&&await Ko.updateSettings(h,{enabled:d.enabled,hours_before:d.hoursBefore,send_to_host:d.sendToHost,send_to_guest:d.sendToGuest}),c(!0),setTimeout(()=>c(!1),2e3)}catch(q){console.error("Error saving:",q),alert("Failed to save settings")}finally{l(!1)}},Ts=q=>{if(!q)return"Never";const he=new Date(q),Oe=new Date-he,Ne=Math.floor(Oe/6e4);return Ne<1?"Just now":Ne<60?`${Ne}m ago`:Ne<1440?`${Math.floor(Ne/60)}h ago`:he.toLocaleDateString()},Gt=async q=>{m(q),q==="integrations"&&!_&&await $()};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Q,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your profile, calendars, integrations and notifications"})]}),o!=="calendars"&&o!=="integrations"&&o!=="email-templates"&&s.jsxs("button",{onClick:Cn,disabled:a,className:"bg-blue-600 text-white px-6 py-2.5 rounded-full hover:bg-blue-700 transition-all flex items-center gap-2 font-bold text-sm shadow-sm disabled:opacity-70",children:[a?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):i?s.jsx(et,{className:"h-4 w-4"}):s.jsx(kn,{className:"h-4 w-4"}),a?"Saving...":i?"Saved":"Save Changes"]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>Gt("profile"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${o==="profile"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Zt,{size:18})," Profile"]}),s.jsxs("button",{onClick:()=>Gt("calendars"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${o==="calendars"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(ae,{size:18})," Calendar Connections"]}),s.jsxs("button",{onClick:()=>Gt("integrations"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${o==="integrations"?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Xc,{size:18})," Integrations",_&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-green-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>Gt("notifications"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${o==="notifications"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(zt,{size:18})," Notifications"]}),s.jsxs("button",{onClick:()=>Gt("email-templates"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${o==="email-templates"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(Yn,{size:18})," Email Templates"]}),s.jsxs(gt,{to:"/billing",className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:bg-gray-50",children:[s.jsx(Xl,{size:18,className:"text-gray-400"}),s.jsx("span",{children:"Billing & Subscription"})]})]})}),s.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm min-h-[400px]",children:[o==="profile"&&s.jsxs("div",{className:"p-8 max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Profile Details"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:u.email,disabled:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timezone"}),s.jsxs("div",{className:"relative",children:[s.jsx(us,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:u.timezone,onChange:q=>x({...u,timezone:q.target.value}),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[s.jsx("option",{value:"America/New_York",children:"Eastern Time"}),s.jsx("option",{value:"America/Chicago",children:"Central Time"}),s.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx("option",{value:"Europe/London",children:"London"}),s.jsx("option",{value:"Asia/Singapore",children:"Singapore"}),s.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"}),s.jsx("option",{value:"Australia/Sydney",children:"Sydney"})]})]})]})]})]}),o==="integrations"&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Integrations"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect external services to enhance your scheduling workflow"})]}),s.jsxs("div",{className:"space-y-6 max-w-4xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-2xl border-2 border-indigo-200 p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(un,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["ChatGPT Integration",s.jsx(Fe,{className:"h-5 w-5 text-yellow-500"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Connect your ScheduleSync to ChatGPT for AI-powered scheduling"})]})]}),(A==null?void 0:A.has_booking_setup)&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg border border-green-200",children:[s.jsx(de,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Ready for ChatGPT"})]})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl border border-white/50 p-5 mb-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Ey,{className:"h-5 w-5 text-indigo-600"}),"Your API Token"]}),s.jsxs("button",{onClick:ne,disabled:R,className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center gap-1 transition-all disabled:opacity-50",children:[R?s.jsx(Q,{className:"h-4 w-4 animate-spin"}):s.jsx(nr,{className:"h-4 w-4"}),"Refresh"]})]}),T?s.jsxs("div",{className:"flex items-center gap-2 p-4",children:[s.jsx(Q,{className:"h-4 w-4 animate-spin text-indigo-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Loading token..."})]}):_?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs break-all border",children:_}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ce,{className:"h-3 w-3"}),"Expires in: ",M]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ks,{className:"h-3 w-3"}),"Use as Bearer Token"]})]}),s.jsx("button",{onClick:J,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center gap-2 transition-all shadow-sm",children:G?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"h-4 w-4"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ss,{className:"h-4 w-4"}),"Copy Token"]})})]})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(un,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"ChatGPT integration not available"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-5",children:[s.jsx("button",{onClick:oe,disabled:B||!_,className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:B?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(By,{className:"h-4 w-4"}),"Test Connection"]})}),s.jsxs("button",{onClick:H,disabled:!_,className:"px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[s.jsx(Zl,{className:"h-4 w-4"}),"Download Schema"]}),s.jsxs("button",{onClick:()=>L(!0),className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all shadow-sm",children:[s.jsx(Ny,{className:"h-4 w-4"}),"Setup Guide"]})]}),s.jsxs("div",{className:"p-4 bg-white/60 backdrop-blur-sm rounded-lg border border-white/50",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(es,{className:"h-4 w-4 text-yellow-500"}),"Quick Setup"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs",children:"1"}),s.jsx("span",{className:"text-gray-700",children:"Copy token above"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs",children:"2"}),s.jsx("span",{className:"text-gray-700",children:"Create ChatGPT GPT"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs",children:"3"}),s.jsx("span",{className:"text-gray-700",children:"Import our API schema"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-xs",children:""}),s.jsx("span",{className:"text-gray-700",children:"Start scheduling!"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 opacity-60",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:s.jsx(zt,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-700",children:"Slack Integration"}),s.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full font-semibold",children:"Coming Soon"})]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Schedule meetings directly from Slack channels"})]}),s.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 opacity-60",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:s.jsx(ae,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-700",children:"Microsoft Teams"}),s.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full font-semibold",children:"Coming Soon"})]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enterprise-grade Teams integration"})]})]})]})]}),o==="calendars"&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Calendar Connections"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect your calendars to prevent double bookings and improve scheduling suggestions."})]}),k?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Q,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-4 max-w-2xl",children:[s.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(ae,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Google Calendar"}),y.google.connected?s.jsxs("div",{className:"space-y-1 mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:y.google.email}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Last synced: ",Ts(y.google.lastSync)]})]}):s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not connected"})]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:y.google.connected?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Sn,disabled:w,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center gap-2 disabled:opacity-50",children:[s.jsx(nr,{className:`h-4 w-4 ${w?"animate-spin":""}`}),"Sync Now"]}),s.jsxs("button",{onClick:hs,className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium flex items-center gap-2",children:[s.jsx(Hy,{className:"h-4 w-4"}),"Disconnect"]})]}):s.jsxs("button",{onClick:me,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Connect"]})})]})}),s.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(ae,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Microsoft Outlook"}),y.microsoft.connected?s.jsxs("div",{className:"space-y-1 mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:y.microsoft.email}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Last synced: ",Ts(y.microsoft.lastSync)]})]}):s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not connected"})]})]}),s.jsx("div",{children:y.microsoft.connected?s.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-400 rounded-lg text-sm font-medium cursor-not-allowed",disabled:!0,children:"Connected"}):s.jsxs("button",{onClick:we,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Connect"]})})]})}),s.jsx("div",{className:"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 hover:border-purple-400 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Go,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Import from Calendly"}),s.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded-full font-semibold",children:"NEW"})]}),s.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"Migrate your event types, availability, and booking history in 2 minutes"}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-purple-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(de,{className:"h-3 w-3"}),"Event Types"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(de,{className:"h-3 w-3"}),"Availability"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(de,{className:"h-3 w-3"}),"Past Bookings"]})]})]})]}),s.jsxs("button",{onClick:()=>window.location.href="/import/calendly",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium flex items-center gap-2 whitespace-nowrap",children:[s.jsx(Go,{className:"h-4 w-4"}),"Start Import"]})]})}),s.jsx("div",{className:"mt-6 rounded-lg border border-blue-100 bg-blue-50 px-4 py-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"How calendar sync works:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:" We check your calendar for conflicts before showing available time slots"}),s.jsx("li",{children:" Your calendar data stays private - we only check for busy/free status"}),s.jsx("li",{children:" Sync happens automatically every 15 minutes"}),s.jsx("li",{children:' You can manually sync anytime using the "Sync Now" button'})]})]})]})})]})]}),o==="notifications"&&s.jsxs("div",{className:"p-8 max-w-xl space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Email reminders"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Control reminder emails sent before each meeting."})]}),s.jsx("button",{type:"button",onClick:()=>v(q=>({...q,enabled:!q.enabled})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${d.enabled?"bg-blue-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${d.enabled?"translate-x-5":"translate-x-1"}`})})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Q,{className:"h-4 w-4 animate-spin"}),"Loading reminder settings"]}),s.jsxs("div",{className:`space-y-6 mt-4 ${d.enabled?"":"opacity-60 pointer-events-none"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"When should we send the reminder?"}),s.jsxs("select",{value:d.hoursBefore,onChange:q=>v(he=>({...he,hoursBefore:Number(q.target.value)})),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-sm",children:[s.jsx("option",{value:1,children:"1 hour before"}),s.jsx("option",{value:3,children:"3 hours before"}),s.jsx("option",{value:6,children:"6 hours before"}),s.jsx("option",{value:24,children:"24 hours before"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Applies to all upcoming meetings booked through your personal link."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Who should receive reminders?"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("input",{type:"checkbox",checked:d.sendToHost,onChange:q=>v(he=>({...he,sendToHost:q.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Send to me (host)"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("input",{type:"checkbox",checked:d.sendToGuest,onChange:q=>v(he=>({...he,sendToGuest:q.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{children:"Send to guest"})]})]})]}),s.jsxs("div",{className:"rounded-lg border border-blue-50 bg-blue-50/50 px-4 py-3 text-xs text-blue-800 flex gap-2",children:[s.jsx(qe,{className:"h-4 w-4 mt-0.5"}),s.jsx("p",{children:"Reminders will only be sent for future bookings that have a valid guest email and are not cancelled."})]})]})]}),o==="email-templates"&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Email Templates"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Customize the emails sent to you and your guests"})]}),s.jsxs("div",{className:"max-w-2xl",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-2xl border-2 border-blue-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(Yn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Personalize Your Booking Emails"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Create custom email templates for booking confirmations, reminders, cancellations, and more. Add your branding and personalized messages."}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-xs font-medium text-blue-700 border border-blue-200",children:" Booking Confirmations"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-xs font-medium text-purple-700 border border-purple-200",children:" Reminders"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-xs font-medium text-red-700 border border-red-200",children:" Cancellations"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-xs font-medium text-green-700 border border-green-200",children:" Reschedules"})]}),s.jsxs("a",{href:"/email-templates",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors shadow-sm",children:[s.jsx(Yn,{className:"h-5 w-5"}),"Manage Email Templates"]})]})]})}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-amber-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Tips for great email templates:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsxs("li",{children:[" Use variables like ",s.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"{{attendee_name}}"})," to personalize emails"]}),s.jsx("li",{children:" Keep subject lines clear and include key info like date/time"}),s.jsx("li",{children:" Always include a link for guests to manage their booking"}),s.jsx("li",{children:" Preview your templates before setting them as default"})]})]})]})})]})]})]})]}),te&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6 relative",children:[s.jsx("button",{onClick:()=>L(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(lt,{className:"h-5 w-5 text-gray-500"})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(un,{className:"h-8 w-8 text-indigo-600"}),"ChatGPT Integration Setup Guide"]}),s.jsx("p",{className:"text-gray-600",children:"Follow these steps to connect your ScheduleSync to ChatGPT"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"border border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Copy Your JWT Token"}),s.jsx("p",{className:"text-gray-600 mb-3",children:'Use the token from the section above. Click "Copy Token" to copy it to your clipboard.'}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This token expires in 90 days. You can refresh it anytime."]})})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create ChatGPT Custom GPT"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Go to ChatGPT and create a new custom GPT."}),s.jsxs("a",{href:"https://chat.openai.com/gpts/discovery",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:[s.jsx(yt,{className:"h-4 w-4"}),"Open ChatGPT GPTs"]})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configure Your GPT"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name:"}),s.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-sm",children:"AI Meeting Booker"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description:"}),s.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-sm",children:"The fastest way to a confirmed meeting"})]})]})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add API Actions"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Import our API schema and configure authentication."}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:'Click "Actions" in your GPT configuration'}),s.jsx("li",{children:'Click "Create new action"'}),s.jsx("li",{children:"Download and import our API schema (button above)"}),s.jsx("li",{children:'Set Authentication to "Bearer"'}),s.jsx("li",{children:"Paste your JWT token as the Bearer token"})]})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Test Your Integration"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Try these commands in your ChatGPT:"}),s.jsx("div",{className:"space-y-2",children:[`"What's my booking link?"`,'"Create a temp link for John"','"Find meeting times for next week"',`"Who's on my team?"`].map((q,he)=>s.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-sm",children:q},he))})]})]})})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Need help? Test your connection above or contact support."}),s.jsx("button",{onClick:()=>L(!1),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors",children:"Got it!"})]})})]})})]})}function Wj(){const[e,t]=p.useState(!0),[n,r]=p.useState([]),[a,l]=p.useState(!1);p.useEffect(()=>{i()},[]);const i=async()=>{try{const x=await(await fetch("https://schedulesync-web-production.up.railway.app/api/calendars",{credentials:"include"})).json();r(x.calendars||[])}catch(u){console.error("Error loading calendars:",u)}finally{t(!1)}},c=()=>{window.location.href="https://schedulesync-web-production.up.railway.app/api/auth/google/calendar"},o=async u=>{try{l(!0),await fetch(`https://schedulesync-web-production.up.railway.app/api/calendars/${u}/sync`,{method:"POST",credentials:"include"}),i()}catch(x){console.error("Error syncing calendar:",x)}finally{l(!1)}},m=async u=>{if(confirm("Disconnect this calendar? Your availability will no longer sync."))try{await fetch(`https://schedulesync-web-production.up.railway.app/api/calendars/${u}`,{method:"DELETE",credentials:"include"}),i()}catch(x){console.error("Error disconnecting calendar:",x)}};return e?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsx(Q,{className:"h-12 w-12 animate-spin text-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Calendar Settings"}),s.jsx("p",{className:"text-gray-600",children:"Connect and manage your calendar integrations"})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[s.jsx(ae,{className:"h-6 w-6"}),"Connected Calendars"]})}),s.jsx("div",{className:"p-8",children:n.length===0?s.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[s.jsx(ae,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"No calendars connected"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Connect your calendar to sync availability"}),s.jsxs("button",{onClick:c,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold text-sm sm:text-base",children:[s.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect Google Calendar"]})]}):s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.map(u=>s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 sm:p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(ae,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[u.calendar_name||"Primary Calendar",u.is_primary&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-semibold",children:"Primary"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:u.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.sync_status==="active"?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[s.jsx(de,{className:"h-3 w-3"}),"Synced"]}):s.jsxs("span",{className:"flex items-center gap-1 text-xs text-yellow-600",children:[s.jsx(qe,{className:"h-3 w-3"}),"Sync pending"]}),u.last_sync&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Last sync: ",new Date(u.last_sync).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[s.jsx("button",{onClick:()=>o(u.id),disabled:a,className:"p-2 sm:p-2.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",title:"Sync now",children:s.jsx(nr,{className:`h-5 w-5 ${a?"animate-spin":""}`})}),s.jsx("button",{onClick:()=>m(u.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Disconnect",children:s.jsx(xs,{className:"h-5 w-5"})})]})]},u.id)),s.jsxs("button",{onClick:c,className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-gray-600 hover:text-blue-600 font-semibold flex items-center justify-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Add Another Calendar"]})]})})]}),s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-100 rounded-2xl p-6",children:[s.jsxs("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(qe,{className:"h-5 w-5"}),"How Calendar Sync Works"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"We only check if you're free or busy - event details stay private"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Bookings are automatically synced to your calendar"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Changes update in real-time to prevent double-booking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(de,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"You can disconnect at any time from this page"})]})]})]})]})})}function qj({slots:e,onSelectDate:t,onClose:n,selectedDate:r}){const[a,l]=p.useState(new Date),[i,c]=p.useState({});p.useEffect(()=>{console.log(" Normalizing slots for calendar modal..."),console.log(" Original slot keys (first 5):",Object.keys(e).slice(0,5));const b={};let f=0,y=0;for(const[g,k]of Object.entries(e))try{const S=new Date(g);if(isNaN(S.getTime())){console.warn(" Invalid date:",g),y++;continue}const w=S.getFullYear(),N=String(S.getMonth()+1).padStart(2,"0"),_=String(S.getDate()).padStart(2,"0"),D=`${w}-${N}-${_}`;b[D]=k,f<5&&console.log(` Converted: "${g}"  "${D}" (${k.length} slots)`),f++}catch(S){console.error(" Error normalizing date:",g,S),y++}console.log(` Normalization complete: Success: ${f} dates, Failed: ${y} dates`),c(b)},[e]),p.useEffect(()=>{if(Object.keys(i).length===0)return;const b=Object.keys(i).filter(S=>{const w=i[S];return w&&w.some(N=>N.status==="available")}).sort();if(b.length===0)return;const f=b[0],[y,g]=f.split("-").map(Number),k=new Date(y,g-1,1);l(k)},[i]);const o=b=>{const f=b.getFullYear(),y=String(b.getMonth()+1).padStart(2,"0"),g=String(b.getDate()).padStart(2,"0");return`${f}-${y}-${g}`},m=b=>{const f=i[b];return f?f.filter(y=>y.status==="available").length:0},u=b=>{const f=new Date;return b.getDate()===f.getDate()&&b.getMonth()===f.getMonth()&&b.getFullYear()===f.getFullYear()},x=b=>{const f=new Date;f.setHours(0,0,0,0);const y=new Date(b);return y.setHours(0,0,0,0),y<f},h=b=>{console.log(" Date clicked in modal:",b),t(b),n()},j=()=>{const b=a.getFullYear(),f=a.getMonth(),y=new Date(b,f,1),k=new Date(b,f+1,0).getDate(),S=y.getDay(),w=[];for(let N=0;N<S;N++)w.push(s.jsx("div",{className:"h-16 sm:h-20"},`empty-${N}`));for(let N=1;N<=k;N++){const _=new Date(b,f,N),D=o(_),M=m(D),V=M>0,A=u(_),C=x(_),T=r===D;w.push(s.jsxs("div",{onClick:()=>{!C&&V&&h(D)},className:`h-16 sm:h-20 rounded-lg border-2 transition-all relative group ${T?"border-blue-500 bg-blue-50 shadow-md ring-2 ring-blue-200":V&&!C?"border-gray-200 hover:border-blue-300 hover:bg-blue-50 hover:shadow-md cursor-pointer active:scale-95":"border-gray-100 bg-gray-50 cursor-not-allowed opacity-50"}`,children:[s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-1 pointer-events-none",children:[s.jsx("span",{className:`text-base sm:text-lg font-semibold ${A?"text-blue-600":V&&!C?"text-gray-900":"text-gray-400"}`,children:N}),V&&!C&&s.jsxs("div",{className:"flex items-center gap-0.5 mt-1",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${T?"bg-blue-500":"bg-green-500"}`}),s.jsx("span",{className:`text-[10px] font-medium ${T?"text-blue-600":"text-green-600"}`,children:M})]}),A&&s.jsx("span",{className:"text-[9px] text-blue-600 font-bold uppercase mt-0.5",children:"Today"}),T&&s.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),V&&!C&&s.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 shadow-lg",children:[M," slot",M!==1?"s":""," available",s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:s.jsx("div",{className:"border-4 border-transparent border-t-gray-900"})})]})]},N))}return w},d=Object.values(i).reduce((b,f)=>b+f.filter(y=>y.status==="available").length,0),v=Object.keys(i).filter(b=>{const[f,y]=b.split("-").map(Number);return f===a.getFullYear()&&y===a.getMonth()+1&&m(b)>0}).length;return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-[9999]",onClick:n,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 rounded-t-2xl z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:s.jsx(ae,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Select a Date"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:[d," total slots available"]})]})]}),s.jsx("div",{onClick:n,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors cursor-pointer",children:s.jsx(lt,{className:"h-5 w-5 text-gray-500"})})]}),v>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 sm:p-3 flex items-start gap-2",children:[s.jsx(Qh,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-xs sm:text-sm text-green-800",children:[s.jsxs("span",{className:"font-semibold",children:[v," day",v!==1?"s":""]})," with available slots in ",a.toLocaleDateString("en-US",{month:"long"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{onClick:()=>l(new Date(a.getFullYear(),a.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:s.jsx(ky,{className:"h-5 w-5 text-gray-600"})}),s.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx("div",{onClick:()=>l(new Date(a.getFullYear(),a.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:s.jsx(mn,{className:"h-5 w-5 text-gray-600"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(b=>s.jsx("div",{className:"text-center text-xs font-semibold text-gray-500 py-2",children:b},b))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:j()}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Legend:"}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Available slots"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Selected date"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"No slots"})]})]})]})]})]})})}function Vj(e){return Fh.createPortal(s.jsx(qj,{...e}),document.body)}function Yj({bookingToken:e,guestCalendar:t=null,duration:n=30,onSlotSelected:r,timezone:a="UTC"}){var M,V,A;const[l,i]=p.useState({}),[c,o]=p.useState({}),[m,u]=p.useState(null),[x,h]=p.useState(null),[j,d]=p.useState(!0),[v,b]=p.useState(null),[f,y]=p.useState(!1),[g,k]=p.useState(!1),S=(t==null?void 0:t.signedIn)===!0;p.useEffect(()=>{if(!l||Object.keys(l).length===0){o({});return}const C={};for(const[T,z]of Object.entries(l))try{const G=new Date(T);if(!isNaN(G.getTime())){const X=G.getFullYear(),R=String(G.getMonth()+1).padStart(2,"0"),I=String(G.getDate()).padStart(2,"0"),B=`${X}-${R}-${I}`;C[B]=z}}catch(G){console.warn("Error normalizing date:",T,G)}o(C)},[l]),p.useEffect(()=>{if(Object.keys(c).length!==0)if(m){if(!c[m]){const C=Object.keys(c).sort().find(T=>c[T].some(z=>z.status==="available"));C&&u(C)}}else{const C=Object.keys(c).sort().find(T=>c[T].some(z=>z.status==="available"));C&&(console.log(" Auto-selecting first available date:",C),u(C))}},[c]),p.useEffect(()=>{w()},[e,t,n,a]);const w=async()=>{try{d(!0),console.log(" Using timezone:",a);const T=(await ua.getSlots(e,{guestAccessToken:t==null?void 0:t.accessToken,guestRefreshToken:t==null?void 0:t.refreshToken,duration:n,timezone:a})).data;console.log(" Loaded slots:",{totalDates:Object.keys(T.slots).length,availableSlots:T.summary.availableSlots,hasGuestCalendar:S}),i(T.slots),b(T.summary)}catch(C){console.error(" Error loading slots:",C)}finally{d(!1)}},N=(C,T)=>{if(T)return{button:"border-blue-600 bg-blue-600",text:"text-white",badge:"bg-white/20 text-white",icon:"text-white"};if(!S)return{button:"border-gray-300 bg-white hover:bg-gray-50 hover:border-gray-400 hover:shadow-md",text:"text-gray-900",badge:"bg-gray-500 text-white",icon:"text-gray-600"};const z={green:{button:"border-green-500 bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 hover:shadow-md",text:"text-green-900",badge:"bg-green-500 text-white",icon:"text-green-600"},blue:{button:"border-blue-500 bg-gradient-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 hover:shadow-md",text:"text-blue-900",badge:"bg-blue-500 text-white",icon:"text-blue-600"},purple:{button:"border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 hover:shadow-md",text:"text-purple-900",badge:"bg-purple-500 text-white",icon:"text-purple-600"},yellow:{button:"border-yellow-500 bg-gradient-to-br from-yellow-50 to-orange-50 hover:from-yellow-100 hover:to-orange-100 hover:shadow-md",text:"text-yellow-900",badge:"bg-yellow-500 text-white",icon:"text-yellow-600"},gray:{button:"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:shadow-md",text:"text-gray-900",badge:"bg-gray-500 text-white",icon:"text-gray-600"}};return z[C]||z.gray},_=C=>C>=90?s.jsx(ti,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-current"}):C>=80?s.jsx(Fe,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):C>=70?s.jsx(es,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):s.jsx(et,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),D=C=>{console.log(" SmartSlotPicker: Date received:",C);try{let T;if(/^\d{4}-\d{2}-\d{2}$/.test(C))T=C;else{const z=new Date(C);if(isNaN(z.getTime()))return console.error(" Invalid date format:",C),!1;{const G=z.getFullYear(),X=String(z.getMonth()+1).padStart(2,"0"),R=String(z.getDate()).padStart(2,"0");T=`${G}-${X}-${R}`}}console.log(" Normalized date:",T),u(T),h(null)}catch(T){console.error(" Error normalizing date:",T)}return!1};return j?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[s.jsx(Q,{className:"h-8 w-8 sm:h-10 sm:w-10 animate-spin text-blue-600 mb-3"}),s.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:S?"Finding best times for both of you...":"Loading availability..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("div",{className:`flex items-center gap-2 ${m?"text-green-600":"text-blue-600 font-semibold"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${m?"bg-green-100":"bg-blue-100"}`,children:m?s.jsx(et,{className:"h-4 w-4"}):s.jsx("span",{className:"text-xs font-bold",children:"1"})}),s.jsx("span",{children:"Pick a date"})]}),s.jsx(_t,{className:"h-4 w-4 text-slate-300"}),s.jsxs("div",{className:`flex items-center gap-2 ${m?"text-blue-600 font-semibold":"text-slate-400"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${m?"bg-blue-100":"bg-slate-100"}`,children:s.jsx("span",{className:"text-xs font-bold",children:"2"})}),s.jsx("span",{children:"Choose a time"})]})]}),v&&v.availableSlots>0&&s.jsx("div",{className:`border-2 rounded-xl p-4 ${S?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${S?"bg-green-500":"bg-blue-500"}`,children:s.jsx(ae,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:`text-base font-bold ${S?"text-green-900":"text-blue-900"}`,children:[v.availableSlots," available slot",v.availableSlots!==1?"s":""," found"]}),S?s.jsx("p",{className:"text-sm text-green-700 mt-0.5",children:" Showing mutual availability with AI-ranked suggestions"}):s.jsx("p",{className:"text-sm text-blue-700 mt-0.5",children:"Showing all available times. Connect your calendar next time for personalized suggestions!"})]})]})}),v&&v.availableSlots===0&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-yellow-900",children:["No available slots in the next ",((M=v.settings)==null?void 0:M.horizonDays)||30," days"]}),s.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Try connecting your calendar or contact the organizer directly"})]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),"Select a date"]}),m&&c[m]&&s.jsxs("span",{className:"text-sm text-green-600 font-medium flex items-center gap-1",children:[s.jsx(et,{className:"h-4 w-4"}),new Date((V=c[m][0])==null?void 0:V.start).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsx("button",{type:"button",onClick:C=>{C.preventDefault(),C.stopPropagation(),k(!0)},className:"w-full p-6 border-2 border-dashed border-blue-300 rounded-2xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(ae,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-700",children:m?"Change Date":"Open Calendar"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Browse available dates in calendar view"})]})]})})]}),m&&c[m]&&s.jsxs("div",{className:"pt-6 border-t-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-blue-600",children:"2"})}),"Choose your time"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:[n," min slots"]}),s.jsx("button",{type:"button",onClick:()=>y(!f),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Cy,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Hide unavailable"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qc,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Show all"})]})})]})]}),s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("span",{className:"font-semibold",children:new Date((A=c[m][0])==null?void 0:A.start).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),s.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",c[m].filter(C=>C.status==="available").length," times available"]})]})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 max-h-[60vh] overflow-y-auto",children:c[m].filter(C=>C.status==="available"?!0:f).map((C,T)=>{const z=(x==null?void 0:x.start)===C.start;if(C.status==="available"){const X=N(C.matchColor,z),R=()=>_(C.matchScore);return s.jsxs("button",{type:"button",onClick:I=>{I.preventDefault(),I.stopPropagation(),h(C),r(C),console.log(" Slot selected:",C.time,"Match score:",C.matchScore)},className:`relative p-4 rounded-lg border-2 text-left transition-all min-h-[100px] active:scale-95 ${X.button}`,children:[S&&C.matchScore&&C.matchScore>=70&&!z&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full ${X.badge} shadow-sm`,children:[s.jsx(R,{}),s.jsxs("span",{className:"text-[10px] font-bold",children:[C.matchScore,"%"]})]})}),s.jsxs("div",{className:"flex items-start justify-between gap-1 mb-2",children:[s.jsx("span",{className:`text-lg font-bold ${X.text}`,children:C.time}),z&&s.jsx(et,{className:"h-5 w-5 text-white flex-shrink-0"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:`text-xs font-bold ${z?"text-white":X.text}`,children:z?"Selected":S&&C.matchLabel?C.matchLabel:"Available"}),!z&&S&&C.matchScore&&s.jsxs("div",{className:`flex items-center gap-1 ${X.icon}`,children:[C.matchScore>=90&&s.jsx("span",{className:"text-[10px] font-medium",children:"Excellent time!"}),C.matchScore>=80&&C.matchScore<90&&s.jsx("span",{className:"text-[10px] font-medium",children:"Great choice"}),C.matchScore>=70&&C.matchScore<80&&s.jsx("span",{className:"text-[10px] font-medium",children:"Good option"}),C.matchScore<70&&C.matchScore>=60&&s.jsx("span",{className:"text-[10px] font-medium",children:"Fair match"})]})]})]},T)}else return s.jsxs("button",{type:"button",disabled:!0,className:"p-3 rounded-lg border border-gray-200 bg-gray-50 text-left opacity-60 cursor-not-allowed min-h-[100px]",title:C.details,children:[s.jsx("div",{className:"flex items-center justify-between gap-1",children:s.jsx("span",{className:"text-sm font-medium text-gray-600",children:C.time})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 truncate",children:[C.reason==="organizer_busy"&&" Busy",C.reason==="guest_busy"&&" You're busy",C.reason==="outside_hours"&&" Off hours",C.reason==="lead_time"&&" Too soon",C.reason==="buffer"&&" Buffer",C.reason==="daily_cap"&&" Daily limit",C.reason==="blocked"&&" Blocked"]})]},T)})})]}),g&&s.jsx(Vj,{slots:l,onSelectDate:D,onClose:()=>k(!1),selectedDate:m})]})}const Gi=({children:e,className:t=""})=>s.jsx("div",{className:`animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-forwards ${t}`,children:e});function km(){var kt;const e=en(),[t,n]=Nn(),r=pe(),a=e.username&&e.eventSlug,l=e.token,i=e.username,c=e.eventSlug,[o,m]=p.useState(!0),[u,x]=p.useState(!1),[h,j]=p.useState(!1),[d,v]=p.useState(!1),[b,f]=p.useState(!1),[y,g]=p.useState(!1),[k,S]=p.useState(null),[w,N]=p.useState(null),[_,D]=p.useState(null),[M,V]=p.useState(null),[A,C]=p.useState([]),[T,z]=p.useState(null),[G,X]=p.useState(""),[R,I]=p.useState("loading"),[B,Z]=p.useState(null),[te,L]=p.useState(!1),[U,O]=p.useState({attendee_name:"",attendee_email:"",notes:""}),[$,J]=p.useState([]),[ne,oe]=p.useState(""),[H,me]=p.useState(""),[we,hs]=p.useState(null);p.useEffect(()=>{try{const K=Intl.DateTimeFormat().resolvedOptions().timeZone;me(K),console.log(" Guest timezone detected:",K)}catch(K){console.error("Failed to detect timezone:",K),me("UTC")}},[]),p.useEffect(()=>{if(a)return;const K=t.get("reschedule");K&&(g(!0),S(K))},[l,a]),p.useEffect(()=>{Sn()},[]),p.useEffect(()=>{if(a)return;const K=t.get("code"),le=t.get("state");!K||!(le!=null&&le.startsWith("guest-booking:"))||!l||te||(L(!0),console.log(" Processing OAuth callback..."),(async()=>{try{X("");const Te=le.split(":")[2]||"google";console.log(" Calling OAuth with provider:",Te);let ve;Te==="microsoft"?ve=await is.guestMicrosoftAuth(K,l):ve=await is.guestGoogleAuth(K,l);const De=ve.data;console.log(" OAuth successful:",De.email),Z({signedIn:!0,hasCalendarAccess:De.hasCalendarAccess||!1,provider:Te,email:De.email||"",name:De.name||"",accessToken:De.accessToken,refreshToken:De.refreshToken}),O(dt=>({...dt,attendee_name:De.name||dt.attendee_name,attendee_email:De.email||dt.attendee_email}));const Pe=t.get("type"),Ye=t.get("reschedule");let Le=`/book/${l}`;const Rt=new URLSearchParams;Pe&&Rt.set("type",Pe),Ye&&Rt.set("reschedule",Ye),Rt.toString()&&(Le+=`?${Rt.toString()}`),r(Le,{replace:!0})}catch(Te){console.error(" Guest OAuth failed:",Te),X("Failed to connect calendar. Please try again."),I("calendar-choice");const ve=new URLSearchParams(t);ve.delete("code"),ve.delete("state"),r(`/book/${l}?${ve.toString()}`,{replace:!0})}})())},[t,l,r,te,a]),p.useEffect(()=>{if(a||!(B!=null&&B.signedIn)||A.length===0)return;const K=localStorage.getItem("schedulesync_oauth_return");if(K)try{const le=JSON.parse(K);if(console.log(" Restoring saved state:",le),Date.now()-le.timestamp>5*60*1e3){console.log(" Saved state expired, ignoring"),localStorage.removeItem("schedulesync_oauth_return");return}if(le.eventTypeId){const Te=A.find(ve=>ve.id===le.eventTypeId);if(Te){console.log(" Restored event type:",Te.title),z(Te);const ve=new URLSearchParams(t);ve.set("type",le.eventTypeSlug),n(ve,{replace:!0})}}le.step&&(console.log(" Restored step:",le.step),I(le.step)),localStorage.removeItem("schedulesync_oauth_return")}catch(le){console.error("Failed to restore state:",le),localStorage.removeItem("schedulesync_oauth_return")}},[B==null?void 0:B.signedIn,A,t,n,a]);const Sn=async()=>{var K,le,Te,ve,De,Pe;try{if(m(!0),a){console.log(" Loading public event type:",i,c);const Wt=await fetch(`/api/public/booking/${i}/${c}`);if(!Wt.ok)throw new Error("Event type not found");const St=await Wt.json();console.log(" Public event type loaded:",St),N(St.host),V({name:St.host.name,user_name:St.host.username,id:St.host.username}),D({name:`${St.host.name}'s Events`,id:"public"}),z(St.eventType),C([St.eventType]),I("form"),m(!1);return}const Ye=await ua.getByToken(l),Le=((K=Ye.data)==null?void 0:K.data)||Ye.data||{};if(!Le.team||!Le.member)throw new Error("Missing info");if(Le.member.external_booking_link&&!y){j(!0),V(Le.member),setTimeout(()=>{window.location.href=Le.member.external_booking_link},1500);return}D(Le.team),V(Le.member);const Rt=Le.isDirectLink===!0||Le.skipEventTypes===!0||Le.linkType==="member"||y;if(f(Rt),Rt){C([]),z(null),I("calendar-choice");return}let dt=Le.eventTypes||[];dt.length===0&&!Rt&&(dt=(await nd.getAll()).data.eventTypes||[]);const Ht=dt.filter(Wt=>Wt.is_active!==!1);C(Ht);const tn=t.get("type");if(tn){const Wt=Ht.find(St=>St.slug===tn);Wt?(z(Wt),I("calendar-choice")):I(Ht.length>0?"event-select":"calendar-choice")}else Ht.length===1?(z(Ht[0]),I("calendar-choice")):Ht.length>1?I("event-select"):I("calendar-choice")}catch(Ye){if(console.error(" Error loading booking info:",Ye),((le=Ye.response)==null?void 0:le.status)===410||((ve=(Te=Ye.response)==null?void 0:Te.data)==null?void 0:ve.code)==="LINK_USED"){v(!0),m(!1);return}X(Ye.message||((Pe=(De=Ye.response)==null?void 0:De.data)==null?void 0:Pe.error)||"Invalid booking link")}finally{m(!1)}},Cn=K=>{z(K);const le=new URLSearchParams(t);le.set("type",K.slug),n(le),I("calendar-choice")},Ts=async K=>{try{if(T){const ve={token:l,eventTypeId:T.id,eventTypeSlug:T.slug,step:"form",timestamp:Date.now()};console.log(" Saving state before OAuth:",ve),localStorage.setItem("schedulesync_oauth_return",JSON.stringify(ve))}let le;K==="google"?le=await is.getGoogleGuestUrl(l):K==="microsoft"&&(le=await is.getMicrosoftGuestUrl(l));const Te=le.data.url;console.log(" Redirecting to OAuth:",Te),window.location.href=Te}catch(le){console.error(" OAuth URL generation failed:",le),X("Failed to connect calendar. Please try again.")}},Gt=()=>{if(!ne.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ne)){alert("Please enter a valid email address");return}if($.includes(ne)||ne===U.attendee_email){alert("This email is already added");return}J([...$,ne]),oe("")},q=K=>{J($.filter(le=>le!==K))},he=async K=>{var le,Te,ve;if(K.preventDefault(),!!we)try{if(x(!0),a){const Le=await fetch("/api/public/booking/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,event_slug:c,start_time:we.start,end_time:we.end,attendee_name:U.attendee_name,attendee_email:U.attendee_email,notes:U.notes,additional_attendees:$,guest_timezone:H})});if(!Le.ok){const tn=await Le.json();throw new Error(tn.error||"Failed to create booking")}const dt=(await Le.json()).booking,Ht={id:dt.id,start_time:we.start,end_time:we.end,attendee_name:U.attendee_name,attendee_email:U.attendee_email,additional_attendees:$,guest_timezone:H,organizer_name:w.name,team_name:_.name,event_type:T.title,duration:T.duration,notes:U.notes,meet_link:dt.meet_link,manage_token:dt.manage_token,is_reschedule:!1};r(`/booking-confirmation?data=${encodeURIComponent(JSON.stringify(Ht))}`);return}const Pe=(await ua.create({token:l,slot:we,...U,additional_attendees:$,guest_timezone:H,event_type_id:T==null?void 0:T.id,event_type_slug:T==null?void 0:T.slug,reschedule_token:k})).data.booking,Ye={id:Pe==null?void 0:Pe.id,start_time:we.start,end_time:we.end,attendee_name:U.attendee_name,attendee_email:U.attendee_email,additional_attendees:$,guest_timezone:H,organizer_name:(M==null?void 0:M.name)||(M==null?void 0:M.user_name),team_name:_==null?void 0:_.name,event_type:(T==null?void 0:T.title)||(T==null?void 0:T.name),duration:(T==null?void 0:T.duration)||30,notes:U.notes,meet_link:Pe==null?void 0:Pe.meet_link,booking_token:(Pe==null?void 0:Pe.booking_token)||l,manage_token:Pe==null?void 0:Pe.manage_token,is_reschedule:y};r(`/booking-confirmation?data=${encodeURIComponent(JSON.stringify(Ye))}`)}catch(De){console.error(" Booking failed:",De),((le=De.response)==null?void 0:le.status)===410?v(!0):alert(De.message||((ve=(Te=De.response)==null?void 0:Te.data)==null?void 0:ve.error)||"Failed to create booking.")}finally{x(!1)}},st=(T==null?void 0:T.duration)||(M==null?void 0:M.default_duration)||30,Oe=(w==null?void 0:w.name)||(M==null?void 0:M.name)||(M==null?void 0:M.user_name),Ne=((kt=Oe==null?void 0:Oe[0])==null?void 0:kt.toUpperCase())||"U",ct=a?`public:${i}:${c}`:l;return o||h?s.jsx(Kj,{redirecting:h,memberName:Oe}):d?s.jsx(Jj,{}):G&&!_?s.jsx(Qj,{error:G}):s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 md:p-6 font-sans",children:s.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] border border-slate-100",children:[s.jsxs("div",{className:"md:w-1/3 bg-slate-50 border-r border-slate-200 p-8 flex flex-col relative",children:[y&&s.jsxs("div",{className:"mb-6 bg-amber-50 border border-amber-200 rounded-xl p-3 flex gap-3 items-start",children:[s.jsx(nr,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-amber-800 uppercase tracking-wide mb-1",children:"Rescheduling"}),s.jsx("p",{className:"text-sm text-amber-700 leading-tight",children:"Your original booking will be cancelled once you confirm a new time."})]})]}),s.jsxs("div",{className:"flex-1 mt-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-blue-200 mb-4",children:Ne}),s.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Book a meeting with"}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:Oe}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:_==null?void 0:_.name})]}),T?s.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4 duration-500",children:[s.jsx("div",{className:"h-px bg-slate-200 w-full"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:T.title}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Ce,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:[st," min"]})]}),T.location&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(sr,{className:"h-4 w-4"}),s.jsx("span",{children:T.location})]})]})]}),T.description&&s.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:T.description})]}):s.jsx("div",{className:"mt-8 p-4 bg-blue-50/50 rounded-xl border border-blue-100",children:s.jsx("p",{className:"text-sm text-blue-700",children:"Please select a meeting type from the list to continue."})})]}),s.jsx("div",{className:"mt-auto pt-6 text-xs text-slate-300 font-medium",children:"Powered by ScheduleSync"})]}),s.jsxs("div",{className:"md:w-2/3 bg-white p-6 md:p-10 overflow-y-auto relative",children:[R==="event-select"&&!a&&s.jsxs(Gi,{className:"max-w-xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Select a Meeting Type"}),s.jsx("p",{className:"text-slate-500 mb-8",children:"Choose the type of meeting you'd like to schedule."}),s.jsx("div",{className:"grid gap-4",children:A.map(K=>s.jsxs("button",{onClick:()=>Cn(K),className:"group relative flex items-center gap-4 p-5 rounded-2xl border border-slate-200 hover:border-blue-500 hover:shadow-lg hover:shadow-blue-50 transition-all text-left bg-white",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-blue-50 text-blue-600 group-hover:scale-110 transition-transform",children:s.jsx(Ce,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-slate-900 text-lg group-hover:text-blue-700 transition-colors",children:K.title}),s.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[K.duration," minutes"]})]}),s.jsx(mn,{className:"h-5 w-5 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]},K.id))})]}),R==="calendar-choice"&&!a&&s.jsxs(Gi,{className:"max-w-lg mx-auto py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Fe,{className:"h-8 w-8 text-indigo-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Check for conflicts?"}),s.jsxs("p",{className:"text-slate-500 mt-2",children:["Sign in to overlay your calendar availability on top of ",Oe==null?void 0:Oe.split(" ")[0],"'s schedule."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>Ts("google"),className:"w-full flex items-center p-4 rounded-xl border border-slate-200 hover:border-red-200 hover:bg-red-50/30 transition-all group",children:[s.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"",className:"h-6 w-6 mr-4"}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("span",{className:"block font-semibold text-slate-900",children:"Connect Google Calendar"}),s.jsx("span",{className:"block text-xs text-slate-500",children:"We'll only read your busy times"})]}),s.jsx(_t,{className:"h-5 w-5 text-slate-300 group-hover:text-red-500 transition-colors"})]}),s.jsxs("button",{onClick:()=>Ts("microsoft"),className:"w-full flex items-center p-4 rounded-xl border border-slate-200 hover:border-blue-200 hover:bg-blue-50/30 transition-all group",children:[s.jsxs("div",{className:"h-6 w-6 mr-4 grid grid-cols-2 gap-0.5",children:[s.jsx("div",{className:"bg-[#f35325]"}),s.jsx("div",{className:"bg-[#81bc06]"}),s.jsx("div",{className:"bg-[#05a6f0]"}),s.jsx("div",{className:"bg-[#ffba08]"})]}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("span",{className:"block font-semibold text-slate-900",children:"Connect Outlook / Office 365"}),s.jsx("span",{className:"block text-xs text-slate-500",children:"We'll only read your busy times"})]}),s.jsx(_t,{className:"h-5 w-5 text-slate-300 group-hover:text-blue-500 transition-colors"})]}),s.jsxs("div",{className:"relative py-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-100"})}),s.jsx("div",{className:"relative flex justify-center",children:s.jsx("span",{className:"bg-white px-2 text-xs text-slate-400 uppercase tracking-wide",children:"Or"})})]}),s.jsx("button",{onClick:()=>I("form"),className:"w-full py-4 text-slate-600 font-medium hover:text-slate-900 hover:bg-slate-50 rounded-xl transition-colors",children:"Skip and select time manually"})]})]}),R==="form"&&s.jsxs(Gi,{className:"h-full flex flex-col",children:[(B==null?void 0:B.signedIn)&&s.jsxs("div",{className:"mb-3 inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-medium self-start",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Using your calendar: ",B.email]}),H&&s.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full text-sm font-medium self-start",children:[s.jsx(Ce,{className:"h-4 w-4"}),"Your timezone: ",H]}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:we?"Finalize Booking":"Select a Time"}),!we&&s.jsx("div",{className:"flex-1",children:s.jsx(Yj,{bookingToken:ct,guestCalendar:B,onSlotSelected:hs,duration:st,timezone:H})}),we&&s.jsxs("div",{className:"max-w-lg mx-auto w-full animate-in slide-in-from-right-8 duration-300",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 mb-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase tracking-wide",children:"Selected Time"}),s.jsx("p",{className:"text-blue-900 font-semibold mt-1",children:new Date(we.start).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),s.jsxs("p",{className:"text-blue-800 text-sm",children:[new Date(we.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(we.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("button",{onClick:()=>hs(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"Change"})]}),s.jsxs("form",{onSubmit:he,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Name"}),s.jsx("input",{type:"text",required:!0,value:U.attendee_name,onChange:K=>O({...U,attendee_name:K.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",required:!0,value:U.attendee_email,onChange:K=>O({...U,attendee_email:K.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Additional Notes"}),s.jsx("textarea",{value:U.notes,onChange:K=>O({...U,notes:K.target.value}),rows:"3",className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none",placeholder:"Anything specific you want to discuss?"})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Invite Others to This Meeting"}),$.length>0&&s.jsx("div",{className:"space-y-2 mb-3",children:$.map((K,le)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 px-3 py-2 rounded-lg group",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-700",children:K})]}),s.jsx("button",{type:"button",onClick:()=>q(K),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Remove attendee",children:s.jsx(lt,{className:"h-4 w-4"})})]},le))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"email",value:ne,onChange:K=>oe(K.target.value),onKeyPress:K=>{K.key==="Enter"&&(K.preventDefault(),Gt())},className:"flex-1 px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all text-sm",placeholder:"colleague@example.com"}),s.jsxs("button",{type:"button",onClick:Gt,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors font-medium text-sm flex items-center gap-1",children:[s.jsx(jt,{className:"h-4 w-4"}),"Add"]})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Additional attendees will receive calendar invites and meeting details"})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full mt-4 bg-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-200 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-5 w-5 animate-spin"}),y?"Confirming...":"Booking..."]}):s.jsx(s.Fragment,{children:y?"Confirm Reschedule":"Confirm Booking"})})]})]})]})]})]})})}function Kj({redirecting:e,memberName:t}){return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center animate-pulse",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e?s.jsx(yt,{className:"h-8 w-8 text-blue-600"}):s.jsx(Q,{className:"h-8 w-8 text-blue-600 animate-spin"})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e?`Redirecting to ${t}...`:"Loading availability..."})]})})}function Jj(){return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center border border-slate-100",children:[s.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(wy,{className:"h-10 w-10 text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link Already Used"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This single-use booking link has already been used or has expired."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please request a new link from the organizer if you need to book another time."})]})})}function Qj({error:e}){return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center border border-slate-100",children:[s.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Rl,{className:"h-10 w-10 text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e||"This booking link is invalid or has expired. Please check your email for the correct link or contact the organizer."}),s.jsx("p",{className:"text-sm text-gray-500",children:"You can safely close this page."})]})})}function Xj(){const{token:e}=en(),t=pe(),[n,r]=p.useState(!0),[a,l]=p.useState(null),[i,c]=p.useState(!1),[o,m]=p.useState(!1),[u,x]=p.useState("");p.useEffect(()=>{h()},[e]);const h=async()=>{try{const S=await(await fetch(`https://schedulesync-web-production.up.railway.app/api/bookings/manage/${e}`)).json();console.log(" Booking data loaded:",S),l(S.booking)}catch(k){console.error("Error loading booking:",k)}finally{r(!1)}},j=async()=>{try{c(!0),await fetch(`https://schedulesync-web-production.up.railway.app/api/bookings/manage/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:u||"Cancelled by guest"})}),m(!1),await h()}catch(k){console.error("Error cancelling booking:",k),alert("Failed to cancel booking. Please try again.")}finally{c(!1)}},d=()=>{const k=a.member_booking_token||a.booking_token||a.team_member_token;k?t(`/book/${k}?reschedule=${e}`):alert("Unable to reschedule online. Please contact the organizer directly.")},v=k=>new Date(k).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=k=>new Date(k).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),f=()=>{if(!a)return"";const k=new Date(a.start_time),S=new Date(a.end_time);return`${Math.round((S-k)/(1e3*60))} min`};if(n)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your booking..."})]})});if(!a)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 text-center max-w-md border-2 border-gray-100",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(It,{className:"h-10 w-10 text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This booking link is invalid or has expired. Please check your email for the correct link or contact the organizer."}),s.jsx("p",{className:"text-sm text-gray-400",children:"You can safely close this page."})]})});const y=a.status==="cancelled",g=new Date(a.start_time)<new Date;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-12 px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Manage Your Booking"}),s.jsx("p",{className:"text-gray-600",children:"View details or make changes to your scheduled meeting"})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100 mb-6",children:[s.jsxs("div",{className:`p-6 ${y?"bg-red-500":g?"bg-gray-500":"bg-gradient-to-r from-blue-500 to-purple-600"}`,children:[s.jsx("div",{className:"flex items-center justify-center gap-3 text-white",children:y?s.jsxs(s.Fragment,{children:[s.jsx(It,{className:"h-7 w-7"}),s.jsx("span",{className:"text-2xl font-bold",children:"Cancelled"})]}):g?s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"h-7 w-7"}),s.jsx("span",{className:"text-2xl font-bold",children:"Completed"})]}):s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"h-7 w-7"}),s.jsx("span",{className:"text-2xl font-bold",children:"Confirmed"})]})}),!y&&!g&&s.jsx("p",{className:"text-center text-blue-100 mt-2 text-sm",children:"Your meeting is scheduled and ready"})]}),s.jsxs("div",{className:"p-8 space-y-5",children:[s.jsxs("div",{className:"flex items-start gap-4 p-5 bg-blue-50 rounded-2xl",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(ae,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Date & Time"}),s.jsx("p",{className:"text-gray-700 font-medium",children:v(a.start_time)}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsxs("span",{className:"text-gray-600",children:[b(a.start_time)," - ",b(a.end_time)]}),s.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs font-semibold flex items-center gap-1",children:[s.jsx(Ce,{className:"h-3 w-3"}),f()]})]})]})]}),s.jsxs("div",{className:"flex items-start gap-4 p-5 bg-purple-50 rounded-2xl",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(Zt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Meeting With"}),s.jsx("p",{className:"text-gray-700 font-medium",children:a.organizer_name}),a.organizer_email&&s.jsx("p",{className:"text-gray-500 text-sm",children:a.organizer_email})]})]}),s.jsxs("div",{className:"flex items-start gap-4 p-5 bg-green-50 rounded-2xl",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(zt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Your Information"}),s.jsx("p",{className:"text-gray-700 font-medium",children:a.attendee_name}),s.jsx("p",{className:"text-gray-500 text-sm",children:a.attendee_email})]})]}),a.meet_link&&!y&&s.jsxs("div",{className:"flex items-start gap-4 p-5 bg-amber-50 rounded-2xl",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(Bt,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Video Conference"}),s.jsxs("a",{href:a.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-amber-100 hover:bg-amber-200 text-amber-800 px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Join Google Meet"]})]})]}),a.notes&&s.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl",children:[s.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.notes})]})]})]}),!y&&!g&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Need to make changes?"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:d,disabled:i,className:"bg-blue-600 text-white px-6 py-4 rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:[s.jsx(nr,{className:"h-5 w-5"}),"Reschedule Meeting"]}),s.jsxs("button",{onClick:()=>m(!0),disabled:i,className:"bg-white border-2 border-red-200 text-red-600 px-6 py-4 rounded-xl hover:bg-red-50 transition-colors flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:[s.jsx(It,{className:"h-5 w-5"}),"Cancel Meeting"]})]})]}),y&&s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qe,{className:"h-6 w-6 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-red-800 mb-1",children:"This meeting has been cancelled"}),s.jsx("p",{className:"text-red-700 text-sm",children:"If you'd like to schedule a new meeting, please contact the organizer for a new booking link."})]})]})}),g&&!y&&s.jsx("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-2xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(de,{className:"h-6 w-6 text-gray-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"This meeting has already taken place"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thank you for attending! If you need to schedule another meeting, please contact the organizer."})]})]})}),s.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[s.jsx("p",{children:"You can safely close this page."}),s.jsxs("p",{className:"mt-2",children:["Powered by ",s.jsx("span",{className:"font-semibold text-blue-600",children:"ScheduleSync"})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(It,{className:"h-8 w-8 text-red-500"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cancel Meeting?"}),s.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to cancel your meeting with ",a.organizer_name,"?"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation (optional)"}),s.jsx("textarea",{value:u,onChange:k=>x(k.target.value),placeholder:"Let them know why you're cancelling...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500 outline-none transition-colors resize-none"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>m(!1),disabled:i,className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Keep Meeting"}),s.jsx("button",{onClick:j,disabled:i,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-semibold transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-4 w-4 animate-spin"}),"Cancelling..."]}):"Yes, Cancel"})]})]})})]})}function Zj(){const[e]=Nn(),t=pe(),[n,r]=p.useState("processing"),a=e.get("redirect_status");return p.useEffect(()=>{a==="succeeded"?(r("success"),setTimeout(()=>t("/booking-success"),3e3)):r(a==="failed"?"failed":"processing")},[a,t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white shadow-xl rounded-2xl p-8 text-center",children:[n==="success"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600",children:"Redirecting you to your booking confirmation..."})]}),n==="failed"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong with your payment. Please try again."}),s.jsx("button",{onClick:()=>t(-1),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700",children:"Go Back"})]}),n==="processing"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Payment..."}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your transaction."})]})]})})}console.log("LOADING PURPLE UI VERSION - BUILD 2024-11-22-V3");function ew(){var J,ne,oe;const{token:e}=en(),t=pe(),[n,r]=p.useState(!0),[a,l]=p.useState(null),[i,c]=p.useState(null),[o,m]=p.useState(null),[u,x]=p.useState({}),[h,j]=p.useState({name:"",email:"",phone:"",notes:""}),[d,v]=p.useState(!1),[b,f]=p.useState(!1),[y,g]=p.useState(!1),[k,S]=p.useState(null),[w,N]=p.useState(!1),[_,D]=p.useState(""),[M,V]=p.useState(!1),[A,C]=p.useState(null),[T,z]=p.useState(null),[G,X]=p.useState(!1),[R,I]=p.useState(null);p.useEffect(()=>{e&&(B(),Z())},[e]),p.useEffect(()=>{a&&!w&&te()},[a,A]);const B=async()=>{try{r(!0),S(null);const H=await E.get(`/book/${e}`);l(H.data.data)}catch(H){console.error("Error loading booking data:",H),S("Failed to load booking page. Invalid or expired link.")}finally{r(!1)}},Z=async()=>{try{const me=await(await fetch(`/api/book/${e}/pricing`)).json();if(z(me),me.paymentRequired&&me.price>0){const hs=await(await fetch("/api/payments/config")).json();I(Pf(hs.publishableKey))}}catch(H){console.error("Error loading pricing:",H)}},te=async()=>{try{N(!0);const H=await E.post(`/book/${e}/slots-with-status`,{guestAccessToken:A,guestRefreshToken:null,duration:30,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone});x(H.data.slots||{});const me=Object.keys(H.data.slots||{});me.length>0&&!i&&c(me[0])}catch(H){console.error("Error loading slots:",H)}finally{N(!1)}},L=async H=>{try{f(!0),(await E.post("/api/payments/confirm-booking",{paymentIntentId:H,bookingToken:e,slot:o,attendeeName:h.name,attendeeEmail:h.email,notes:h.notes})).data.success&&(g(!0),X(!1))}catch(me){console.error("Booking error:",me),alert("Failed to create booking after payment. Please contact support.")}finally{f(!1)}},U=async H=>{if(H.preventDefault(),!o||!d){alert("Please select a time slot and agree to terms");return}if(T!=null&&T.paymentRequired&&(T==null?void 0:T.price)>0){X(!0);return}try{f(!0),(await E.post("/api/bookings",{token:e,slot:o,attendee_name:h.name,attendee_email:h.email,notes:h.notes})).data.success&&g(!0)}catch(me){console.error("Booking error:",me),alert("Failed to create booking")}finally{f(!1)}},O=Object.keys(u).slice(0,7).map(H=>{var we;const me=new Date((we=u[H][0])==null?void 0:we.start);return{key:H,label:H.split(",")[0],day:me.getDate(),month:me.toLocaleDateString("en-US",{month:"short"})}}),$=H=>({USD:"$",EUR:"",GBP:"",AUD:"A$",CAD:"C$"})[H]||H;return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Q,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading booking page..."})]})}):k?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full border-2 border-red-200",children:[s.jsx(qe,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 text-center mb-6",children:k}),s.jsx("button",{onClick:()=>t("/"),className:"w-full px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700",children:"Go to Homepage"})]})}):y?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full border-2 border-green-200",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(et,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-3",children:"Booking Confirmed!"}),s.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Check your email for confirmation and calendar invite."}),s.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold",children:"Done"})]})}):a?(J=a==null?void 0:a.member)!=null&&J.external_booking_link?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[s.jsx(yt,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"External Booking"}),s.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["This member uses ",a.member.external_booking_platform," for bookings."]}),s.jsxs("a",{href:a.member.external_booking_link,target:"_blank",rel:"noopener noreferrer",className:"w-full px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2",children:["Continue to Booking",s.jsx(yt,{className:"h-4 w-4"})]})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 py-12 px-4",children:[s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center text-white text-2xl font-bold",children:((oe=(ne=a.member.name)==null?void 0:ne[0])==null?void 0:oe.toUpperCase())||"U"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h2",{className:"text-gray-900 text-xl font-bold",children:a.member.name}),(T==null?void 0:T.paymentRequired)&&s.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[s.jsx(Fe,{className:"h-3 w-3"}),"Premium"]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.team.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Ce,{className:"h-4 w-4"}),s.jsx("span",{children:"30 min"}),(T==null?void 0:T.paymentRequired)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"text-purple-600 font-semibold",children:[$(T.currency),T.price]})]})]})]})]})}),O.length>0&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-8 w-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Qe,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-green-900 mb-1 font-semibold",children:"Availability Confirmed"}),s.jsx("p",{className:"text-green-700 text-sm",children:M?"Great! We found times that work for both calendars.":"Multiple time slots are available for booking."})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ae,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"text-gray-900 font-bold",children:"Select a Date"})]}),w?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Q,{className:"h-8 w-8 animate-spin text-purple-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Loading available dates..."})]}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:O.map(H=>s.jsxs("button",{onClick:()=>c(H.key),className:`p-4 rounded-xl border-2 transition-all text-center ${i===H.key?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50"}`,children:[s.jsx("div",{className:`text-2xl mb-1 font-bold ${i===H.key?"text-purple-600":"text-gray-900"}`,children:H.day}),s.jsx("div",{className:`text-xs ${i===H.key?"text-purple-600":"text-gray-600"}`,children:H.label})]},H.key))})]}),i&&u[i]&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"text-gray-900 font-bold",children:"Available Times"})]}),s.jsxs("span",{className:"text-xs bg-gray-100 px-3 py-1 rounded-full",children:[u[i].filter(H=>H.status==="available").length," slots"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-80 overflow-y-auto pr-2",children:u[i].map((H,me)=>s.jsxs("button",{onClick:()=>H.status==="available"&&m(H),disabled:H.status!=="available",className:`p-4 rounded-xl border-2 transition-all ${H.status!=="available"?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":o===H?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-400 hover:bg-green-50/50"}`,children:[s.jsx("div",{className:`mb-1 font-semibold ${H.status!=="available"?"text-gray-400":o===H?"text-green-700":"text-gray-900"}`,children:H.time}),H.matchScore&&H.status==="available"&&s.jsx("div",{className:`text-xs ${H.matchScore>=80?"text-green-600":H.matchScore>=60?"text-blue-600":"text-gray-600"}`,children:H.matchLabel}),H.status!=="available"&&s.jsx("div",{className:"text-xs text-gray-400",children:H.details||"Unavailable"})]},me))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Zt,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"text-gray-900 font-bold",children:"Your Information"})]}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"John Doe",value:h.name,onChange:H=>j({...h,name:H.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"email",placeholder:"john@example.com",value:h.email,onChange:H=>j({...h,email:H.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none",required:!0})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ei,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"tel",placeholder:"+1 (555) 000-0000",value:h.phone,onChange:H=>j({...h,phone:H.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Additional Notes"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ry,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx("textarea",{placeholder:"Any specific topics or questions?",value:h.notes,onChange:H=>j({...h,notes:H.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none min-h-24 resize-none"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("input",{type:"checkbox",id:"terms",checked:d,onChange:H=>v(H.target.checked),className:"mt-1 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-relaxed cursor-pointer",children:"I agree to the terms and conditions. I will receive a confirmation email after booking."})]}),s.jsx("button",{type:"submit",disabled:!o||!d||b,className:"w-full h-14 bg-gradient-to-r from-purple-500 via-purple-600 to-pink-500 hover:from-purple-600 hover:via-purple-700 hover:to-pink-600 text-white rounded-xl font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Q,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):T!=null&&T.paymentRequired?s.jsxs(s.Fragment,{children:["Pay ",$(T.currency),T.price," & Book",s.jsx(_t,{className:"h-5 w-5"})]}):s.jsxs(s.Fragment,{children:["Schedule Booking",s.jsx(_t,{className:"h-5 w-5"})]})})]})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" Your information is secure and will never be shared"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Powered by ScheduleSync"})]})]})}),G&&T&&R&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full",children:s.jsx(ad,{stripe:R,children:s.jsx($f,{amount:T.price,currency:T.currency,onPaymentSuccess:L,onCancel:()=>X(!1),bookingDetails:{token:e,slot:o,attendee_name:h.name,attendee_email:h.email,notes:h.notes}})})})})]}):null}function Sm(){const[e]=Nn(),[t,n]=p.useState(null),[r,a]=p.useState(!0),[l,i]=p.useState(!1);p.useEffect(()=>{const d=e.get("data");if(d)try{const b=JSON.parse(decodeURIComponent(d));n(b),console.log(" Booking data:",b)}catch(b){console.error("Failed to parse booking data:",b)}const v=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(v)},[e]);const c=d=>{const v=new Date(d);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(v)},o=d=>{const v=new Date(d);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(v)},m=d=>{const v=new Date(d);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).format(v)},u=()=>{if(!t)return"";const d=new Date(t.start_time),v=new Date(t.end_time);return`${Math.round((v-d)/(1e3*60))} minutes`},x=()=>{if(!t)return;const d=new Date(t.start_time),v=new Date(t.end_time),b=y=>y.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",f=new URLSearchParams({action:"TEMPLATE",text:`Meeting with ${t.organizer_name||"Team"}`,dates:`${b(d)}/${b(v)}`,details:t.notes||"Meeting scheduled via ScheduleSync",location:t.meet_link||"Google Meet (link in calendar invite)"});window.open(`https://calendar.google.com/calendar/render?${f.toString()}`,"_blank")},h=()=>{if(!t)return;const d=new Date(t.start_time),v=new Date(t.end_time),b=new URLSearchParams({path:"/calendar/action/compose",rru:"addevent",subject:`Meeting with ${t.organizer_name||"Team"}`,startdt:d.toISOString(),enddt:v.toISOString(),body:t.notes||"Meeting scheduled via ScheduleSync",location:t.meet_link||"Google Meet (link in calendar invite)"});window.open(`https://outlook.live.com/calendar/0/deeplink/compose?${b.toString()}`,"_blank")},j=()=>{if(!t)return;const d=`
Meeting Confirmation

Date: ${c(t.start_time)}
Time: ${o(t.start_time)} - ${o(t.end_time)}
Duration: ${u()}
With: ${t.organizer_name||"Team"}
${t.meet_link?`
Google Meet: ${t.meet_link}`:""}
${t.notes?`
Notes: ${t.notes}`:""}
    `.trim();navigator.clipboard.writeText(d),i(!0),setTimeout(()=>i(!1),2e3)};return t?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[r&&s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((d,v)=>s.jsx("div",{className:"absolute w-3 h-3 animate-confetti",style:{left:`${Math.random()*100}%`,top:"-20px",animationDelay:`${Math.random()*3}s`,backgroundColor:["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B"][Math.floor(Math.random()*5)],transform:`rotate(${Math.random()*360}deg)`}},v))}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[s.jsxs("div",{className:"text-center mb-8 animate-fadeInUp",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl animate-scaleIn",children:s.jsx(de,{className:"h-14 w-14 text-white"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:"You're All Set! "}),s.jsx("p",{className:"text-xl text-gray-600",children:"Your meeting has been confirmed"})]}),t.meet_link&&s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 rounded-3xl shadow-2xl p-8 mb-6 text-white animate-fadeInUp",style:{animationDelay:"0.05s"},children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Bt,{className:"h-10 w-10 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your Meeting Link"}),s.jsx("p",{className:"text-blue-100 mb-6",children:"Join via Google Meet at the scheduled time"}),s.jsxs("a",{href:t.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-white text-purple-600 px-8 py-4 rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg",children:[s.jsx(Bt,{className:"h-6 w-6"}),s.jsx("span",{children:"Join Google Meet"}),s.jsx(yt,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-sm text-blue-100 mt-4",children:" This link is also in your calendar invite and email"})]})}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(ae,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Meeting Details"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Confirmation sent to ",t.attendee_email]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(ae,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c(t.start_time)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Ce,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Time"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[o(t.start_time)," - ",o(t.end_time)]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[u(),"  ",m(t.start_time)]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Zt,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Organizer"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.organizer_name||"Team Member"}),t.team_name&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.team_name})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(zt,{className:"h-5 w-5 text-pink-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Your Email"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.attendee_name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.attendee_email})]})]})]})]}),t.notes&&s.jsx("div",{className:"mt-6 pt-6 border-t-2 border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Fe,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Meeting Notes"}),s.jsx("p",{className:"text-gray-900",children:t.notes})]})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(jt,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900",children:"Add to Calendar"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:x,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"h-6 w-6"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Google Calendar"})]}),s.jsx(yt,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),s.jsxs("button",{onClick:h,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("svg",{className:"h-6 w-6",viewBox:"0 0 23 23",fill:"none",children:[s.jsx("path",{d:"M0 0h10.93v10.93H0z",fill:"#F35325"}),s.jsx("path",{d:"M12.07 0H23v10.93H12.07z",fill:"#81BC06"}),s.jsx("path",{d:"M0 12.07h10.93V23H0z",fill:"#05A6F0"}),s.jsx("path",{d:"M12.07 12.07H23V23H12.07z",fill:"#FFBA08"})]}),s.jsx("span",{className:"font-medium text-gray-900",children:"Outlook Calendar"})]}),s.jsx(yt,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-fadeInUp",style:{animationDelay:"0.3s"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Fe,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Actions"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:j,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group",children:s.jsxs("div",{className:"flex items-center gap-3",children:[l?s.jsx(et,{className:"h-5 w-5 text-green-600"}):s.jsx(Ss,{className:"h-5 w-5 text-gray-600 group-hover:text-purple-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:l?"Copied!":"Copy Details"})]})}),s.jsx("button",{onClick:()=>window.print(),className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zl,{className:"h-5 w-5 text-gray-600 group-hover:text-purple-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Print / Save as PDF"})]})})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 rounded-2xl border-2 border-blue-200 p-6 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(de,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900",children:"What Happens Next?"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Check Your Email"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a calendar invite with a Google Meet link to"," ",s.jsx("span",{className:"font-semibold",children:t.attendee_email})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Add to Your Calendar"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use the buttons above to add this meeting to your preferred calendar app"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-pink-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Join at Scheduled Time"}),s.jsx("p",{className:"text-sm text-gray-600",children:t.meet_link?"Click the Google Meet link above or in your calendar to join":"Click the Google Meet link in your calendar invite to join the meeting"})]})]})]})]})]}),s.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes scaleIn {
          from {
            transform: scale(0.5);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes confettiFall {
          0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }

        .animate-fadeInUp {
          animation: fadeInUp 0.6s ease-out;
        }

        .animate-scaleIn {
          animation: scaleIn 0.5s ease-out;
        }

        .animate-confetti {
          animation: confettiFall 3s linear forwards;
        }

        @media print {
          .fixed {
            display: none;
          }
        }
      `})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ae,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Booking Data"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your booking information."}),s.jsx("p",{className:"text-sm text-gray-500",children:"You can safely close this page."})]})})}function Ha({Component:e}){const{login:t}=ga(),n=pe(),r=(a,l)=>{console.log(" LoginWrapper received:",{token:(a==null?void 0:a.substring(0,20))+"...",user:l==null?void 0:l.email}),t(a,l),n("/dashboard",{replace:!0})};return s.jsx(e,{onLogin:r})}function tw(){return s.jsx(by,{children:s.jsx(Ev,{children:s.jsxs(iy,{children:[s.jsx(re,{path:"/",element:s.jsx(xm,{})}),s.jsx(re,{path:"/login",element:s.jsx(xm,{defaultLoginOpen:!0})}),s.jsx(re,{path:"/register",element:s.jsx(Ha,{Component:Rv})}),s.jsx(re,{path:"/forgot-password",element:s.jsx(Mv,{})}),s.jsx(re,{path:"/reset-password/:token",element:s.jsx(Ov,{})}),s.jsx(re,{path:"/verify-email",element:s.jsx(Dv,{})}),s.jsx(re,{path:"/oauth/callback",element:s.jsx(Ha,{Component:kr})}),s.jsx(re,{path:"/oauth/callback/microsoft",element:s.jsx(Ha,{Component:kr})}),s.jsx(re,{path:"/oauth/callback/calendly",element:s.jsx(Ha,{Component:kr})}),s.jsx(re,{path:"/oauth/callback/google/guest",element:s.jsx(kr,{})}),s.jsx(re,{path:"/oauth/callback/microsoft/guest",element:s.jsx(kr,{})}),s.jsx(re,{path:"/onboarding",element:s.jsx(zi,{children:s.jsx(Iv,{})})}),s.jsx(re,{path:"/admin",element:s.jsx(zi,{children:s.jsx(Uv,{})})}),s.jsx(re,{path:"/book/:username/:eventSlug",element:s.jsx(km,{})}),s.jsx(re,{path:"/book/:token",element:s.jsx(km,{})}),s.jsx(re,{path:"/book",element:s.jsx(ew,{})}),s.jsx(re,{path:"/manage/:token",element:s.jsx(Xj,{})}),s.jsx(re,{path:"/payment/status",element:s.jsx(Zj,{})}),s.jsx(re,{path:"/booking-success",element:s.jsx(Sm,{})}),s.jsx(re,{path:"/booking-confirmation",element:s.jsx(Sm,{})}),s.jsx(re,{path:"/import/calendly",element:s.jsx(Lj,{})}),s.jsxs(re,{element:s.jsx(zi,{children:s.jsx(Pv,{})}),children:[s.jsx(re,{path:"/dashboard",element:s.jsx(kj,{})}),s.jsx(re,{path:"/bookings",element:s.jsx(Sj,{})}),s.jsx(re,{path:"/availability",element:s.jsx(Pj,{})}),s.jsx(re,{path:"/email-templates",element:s.jsx(Mj,{})}),s.jsx(re,{path:"/my-links",element:s.jsx(Oj,{})}),s.jsx(re,{path:"/events",element:s.jsx(_j,{})}),s.jsx(re,{path:"/events/new",element:s.jsx(jm,{})}),s.jsx(re,{path:"/events/:id",element:s.jsx(Tj,{})}),s.jsx(re,{path:"/events/:id/edit",element:s.jsx(jm,{})}),s.jsx(re,{path:"/billing",element:s.jsx(Dj,{})}),s.jsx(re,{path:"/teams",element:s.jsx(Ij,{})}),s.jsx(re,{path:"/teams/:teamId/settings",element:s.jsx(Uj,{})}),s.jsx(re,{path:"/teams/:teamId/members",element:s.jsx($j,{})}),s.jsx(re,{path:"/teams/:teamId/members/:memberId/availability",element:s.jsx(Gj,{})}),s.jsx(re,{path:"/settings",element:s.jsx(Hj,{})}),s.jsx(re,{path:"/settings/calendar",element:s.jsx(Wj,{})})]}),s.jsx(re,{path:"*",element:s.jsx(nl,{to:"/",replace:!0})})]})})})}function sw(){return s.jsx(fy,{children:s.jsx(tw,{})})}Hi.createRoot(document.getElementById("root")).render(s.jsx(xe.StrictMode,{children:s.jsx(sw,{})}));
