function ej(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function H0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G0={exports:{}},Ao={},q0={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),tj=Symbol.for("react.portal"),sj=Symbol.for("react.fragment"),rj=Symbol.for("react.strict_mode"),nj=Symbol.for("react.profiler"),aj=Symbol.for("react.provider"),lj=Symbol.for("react.context"),ij=Symbol.for("react.forward_ref"),oj=Symbol.for("react.suspense"),cj=Symbol.for("react.memo"),dj=Symbol.for("react.lazy"),_h=Symbol.iterator;function uj(t){return t===null||typeof t!="object"?null:(t=_h&&t[_h]||t["@@iterator"],typeof t=="function"?t:null)}var Y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K0=Object.assign,J0={};function ia(t,s,r){this.props=t,this.context=s,this.refs=J0,this.updater=r||Y0}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q0(){}Q0.prototype=ia.prototype;function $u(t,s,r){this.props=t,this.context=s,this.refs=J0,this.updater=r||Y0}var Ou=$u.prototype=new Q0;Ou.constructor=$u;K0(Ou,ia.prototype);Ou.isPureReactComponent=!0;var Th=Array.isArray,X0=Object.prototype.hasOwnProperty,Bu={current:null},Z0={key:!0,ref:!0,__self:!0,__source:!0};function ef(t,s,r){var n,a={},l=null,i=null;if(s!=null)for(n in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)X0.call(s,n)&&!Z0.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Al,type:t,key:l,ref:i,props:a,_owner:Bu.current}}function mj(t,s){return{$$typeof:Al,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function hj(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Eh=/\/+/g;function oc(t,s){return typeof t=="object"&&t!==null&&t.key!=null?hj(""+t.key):s.toString(36)}function ki(t,s,r,n,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Al:case tj:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+oc(i,0):n,Th(a)?(r="",t!=null&&(r=t.replace(Eh,"$&/")+"/"),ki(a,s,r,"",function(d){return d})):a!=null&&(Uu(a)&&(a=mj(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Eh,"$&/")+"/")+t)),s.push(a)),1;if(i=0,n=n===""?".":n+":",Th(t))for(var o=0;o<t.length;o++){l=t[o];var c=n+oc(l,o);i+=ki(l,s,r,c,a)}else if(c=uj(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=n+oc(l,o++),i+=ki(l,s,r,c,a);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function Yl(t,s,r){if(t==null)return t;var n=[],a=0;return ki(t,n,"","",function(l){return s.call(r,l,a++)}),n}function pj(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},Si={transition:null},xj={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Si,ReactCurrentOwner:Bu};function tf(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Yl,forEach:function(t,s,r){Yl(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Yl(t,function(){s++}),s},toArray:function(t){return Yl(t,function(s){return s})||[]},only:function(t){if(!Uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=ia;Ne.Fragment=sj;Ne.Profiler=nj;Ne.PureComponent=$u;Ne.StrictMode=rj;Ne.Suspense=oj;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xj;Ne.act=tf;Ne.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=K0({},t.props),a=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=Bu.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)X0.call(s,c)&&!Z0.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Al,type:t.type,key:a,ref:l,props:n,_owner:i}};Ne.createContext=function(t){return t={$$typeof:lj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aj,_context:t},t.Consumer=t};Ne.createElement=ef;Ne.createFactory=function(t){var s=ef.bind(null,t);return s.type=t,s};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:ij,render:t}};Ne.isValidElement=Uu;Ne.lazy=function(t){return{$$typeof:dj,_payload:{_status:-1,_result:t},_init:pj}};Ne.memo=function(t,s){return{$$typeof:cj,type:t,compare:s===void 0?null:s}};Ne.startTransition=function(t){var s=Si.transition;Si.transition={};try{t()}finally{Si.transition=s}};Ne.unstable_act=tf;Ne.useCallback=function(t,s){return Wt.current.useCallback(t,s)};Ne.useContext=function(t){return Wt.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};Ne.useEffect=function(t,s){return Wt.current.useEffect(t,s)};Ne.useId=function(){return Wt.current.useId()};Ne.useImperativeHandle=function(t,s,r){return Wt.current.useImperativeHandle(t,s,r)};Ne.useInsertionEffect=function(t,s){return Wt.current.useInsertionEffect(t,s)};Ne.useLayoutEffect=function(t,s){return Wt.current.useLayoutEffect(t,s)};Ne.useMemo=function(t,s){return Wt.current.useMemo(t,s)};Ne.useReducer=function(t,s,r){return Wt.current.useReducer(t,s,r)};Ne.useRef=function(t){return Wt.current.useRef(t)};Ne.useState=function(t){return Wt.current.useState(t)};Ne.useSyncExternalStore=function(t,s,r){return Wt.current.useSyncExternalStore(t,s,r)};Ne.useTransition=function(){return Wt.current.useTransition()};Ne.version="18.3.1";q0.exports=Ne;var h=q0.exports;const Ie=H0(h),fj=ej({__proto__:null,default:Ie},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj=h,bj=Symbol.for("react.element"),yj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,jj=gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wj={key:!0,ref:!0,__self:!0,__source:!0};function sf(t,s,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)vj.call(s,n)&&!wj.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:bj,type:t,key:l,ref:i,props:a,_owner:jj.current}}Ao.Fragment=yj;Ao.jsx=sf;Ao.jsxs=sf;G0.exports=Ao;var e=G0.exports,cd={},rf={exports:{}},is={},nf={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(A,F){var z=A.length;A.push(F);e:for(;0<z;){var Q=z-1>>>1,ue=A[Q];if(0<a(ue,F))A[Q]=F,A[z]=ue,z=Q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],z=A.pop();if(z!==F){A[0]=z;e:for(var Q=0,ue=A.length,Ce=ue>>>1;Q<Ce;){var ge=2*(Q+1)-1,X=A[ge],P=ge+1,B=A[P];if(0>a(X,z))P<ue&&0>a(B,X)?(A[Q]=B,A[P]=z,Q=P):(A[Q]=X,A[ge]=z,Q=ge);else if(P<ue&&0>a(B,z))A[Q]=B,A[P]=z,Q=P;else break e}}return F}function a(A,F){var z=A.sortIndex-F.sortIndex;return z!==0?z:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,w=!1,x=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=A)n(d),F.sortIndex=F.expirationTime,s(c,F);else break;F=r(d)}}function y(A){if(v=!1,g(A),!x)if(r(c)!==null)x=!0,O(N);else{var F=r(d);F!==null&&D(y,F.startTime-A)}}function N(A,F){x=!1,v&&(v=!1,f(k),k=-1),w=!0;var z=p;try{for(g(F),m=r(c);m!==null&&(!(m.expirationTime>F)||A&&!E());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,p=m.priorityLevel;var ue=Q(m.expirationTime<=F);F=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===r(c)&&n(c),g(F)}else n(c);m=r(c)}if(m!==null)var Ce=!0;else{var ge=r(d);ge!==null&&D(y,ge.startTime-F),Ce=!1}return Ce}finally{m=null,p=z,w=!1}}var C=!1,S=null,k=-1,T=5,L=-1;function E(){return!(t.unstable_now()-L<T)}function V(){if(S!==null){var A=t.unstable_now();L=A;var F=!0;try{F=S(!0,A)}finally{F?R():(C=!1,S=null)}}else C=!1}var R;if(typeof b=="function")R=function(){b(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=V,R=function(){H.postMessage(null)}}else R=function(){j(V,0)};function O(A){S=A,C||(C=!0,R())}function D(A,F){k=j(function(){A(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,O(N))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var z=p;p=F;try{return A()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=p;p=A;try{return F()}finally{p=z}},t.unstable_scheduleCallback=function(A,F,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,A){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=z+ue,A={id:u++,callback:F,priorityLevel:A,startTime:z,expirationTime:ue,sortIndex:-1},z>Q?(A.sortIndex=z,s(d,A),r(c)===null&&A===r(d)&&(v?(f(k),k=-1):v=!0,D(y,z-Q))):(A.sortIndex=ue,s(c,A),x||w||(x=!0,O(N))),A},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(A){var F=p;return function(){var z=p;p=F;try{return A.apply(this,arguments)}finally{p=z}}}})(af);nf.exports=af;var Nj=nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj=h,ls=Nj;function ee(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lf=new Set,nl={};function vn(t,s){Qn(t,s),Qn(t+"Capture",s)}function Qn(t,s){for(nl[t]=s,t=0;t<s.length;t++)lf.add(s[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=Object.prototype.hasOwnProperty,Sj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ph={},Ah={};function Cj(t){return dd.call(Ah,t)?!0:dd.call(Ph,t)?!1:Sj.test(t)?Ah[t]=!0:(Ph[t]=!0,!1)}function _j(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tj(t,s,r,n){if(s===null||typeof s>"u"||_j(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ht(t,s,r,n,a,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ct[s]=new Ht(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Vu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(zu,Vu);Ct[s]=new Ht(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(zu,Vu);Ct[s]=new Ht(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(zu,Vu);Ct[s]=new Ht(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wu(t,s,r,n){var a=Ct.hasOwnProperty(s)?Ct[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Tj(s,r,a,n)&&(r=null),n||a===null?Cj(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var mr=kj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),_n=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),Hu=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),cf=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),hd=Symbol.for("react.suspense_list"),qu=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),df=Symbol.for("react.offscreen"),Mh=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=Mh&&t[Mh]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,cc;function Fa(t){if(cc===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);cc=s&&s[1]||""}return`
`+cc+t}var dc=!1;function uc(t,s){if(!t||dc)return"";dc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{dc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fa(t):""}function Ej(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=uc(t.type,!1),t;case 11:return t=uc(t.type.render,!1),t;case 1:return t=uc(t.type,!0),t;default:return""}}function pd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tn:return"Fragment";case _n:return"Portal";case ud:return"Profiler";case Hu:return"StrictMode";case md:return"Suspense";case hd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cf:return(t.displayName||"Context")+".Consumer";case of:return(t._context.displayName||"Context")+".Provider";case Gu:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qu:return s=t.displayName||null,s!==null?s:pd(t.type)||"Memo";case xr:s=t._payload,t=t._init;try{return pd(t(s))}catch{}}return null}function Pj(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(s);case 8:return s===Hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uf(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Aj(t){var s=uf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Jl(t){t._valueTracker||(t._valueTracker=Aj(t))}function mf(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=uf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function Gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xd(t,s){var r=s.checked;return Qe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Dh(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=Mr(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function hf(t,s){s=s.checked,s!=null&&Wu(t,"checked",s,!1)}function fd(t,s){hf(t,s);var r=Mr(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?gd(t,s.type,r):s.hasOwnProperty("defaultValue")&&gd(t,s.type,Mr(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Lh(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gd(t,s,r){(s!=="number"||Gi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $a=Array.isArray;function Vn(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mr(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function bd(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Qe({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rh(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ee(92));if($a(r)){if(1<r.length)throw Error(ee(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:Mr(r)}}function pf(t,s){var r=Mr(s.value),n=Mr(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ih(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function xf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yd(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?xf(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,ff=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function al(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mj=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){Mj.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Wa[s]=Wa[t]})});function gf(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+s).trim():s+"px"}function bf(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=gf(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Dj=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vd(t,s){if(s){if(Dj[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ee(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ee(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ee(62))}}function jd(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=null;function Yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nd=null,Wn=null,Hn=null;function Fh(t){if(t=Ll(t)){if(typeof Nd!="function")throw Error(ee(280));var s=t.stateNode;s&&(s=Io(s),Nd(t.stateNode,t.type,s))}}function yf(t){Wn?Hn?Hn.push(t):Hn=[t]:Wn=t}function vf(){if(Wn){var t=Wn,s=Hn;if(Hn=Wn=null,Fh(t),s)for(t=0;t<s.length;t++)Fh(s[t])}}function jf(t,s){return t(s)}function wf(){}var mc=!1;function Nf(t,s,r){if(mc)return t(s,r);mc=!0;try{return jf(t,s,r)}finally{mc=!1,(Wn!==null||Hn!==null)&&(wf(),vf())}}function ll(t,s){var r=t.stateNode;if(r===null)return null;var n=Io(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,s,typeof r));return r}var kd=!1;if(lr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){kd=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{kd=!1}function Lj(t,s,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var Ha=!1,qi=null,Yi=!1,Sd=null,Rj={onError:function(t){Ha=!0,qi=t}};function Ij(t,s,r,n,a,l,i,o,c){Ha=!1,qi=null,Lj.apply(Rj,arguments)}function Fj(t,s,r,n,a,l,i,o,c){if(Ij.apply(this,arguments),Ha){if(Ha){var d=qi;Ha=!1,qi=null}else throw Error(ee(198));Yi||(Yi=!0,Sd=d)}}function jn(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function kf(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function $h(t){if(jn(t)!==t)throw Error(ee(188))}function $j(t){var s=t.alternate;if(!s){if(s=jn(t),s===null)throw Error(ee(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return $h(a),t;if(l===n)return $h(a),s;l=l.sibling}throw Error(ee(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:s}function Sf(t){return t=$j(t),t!==null?Cf(t):null}function Cf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Cf(t);if(s!==null)return s;t=t.sibling}return null}var _f=ls.unstable_scheduleCallback,Oh=ls.unstable_cancelCallback,Oj=ls.unstable_shouldYield,Bj=ls.unstable_requestPaint,tt=ls.unstable_now,Uj=ls.unstable_getCurrentPriorityLevel,Ku=ls.unstable_ImmediatePriority,Tf=ls.unstable_UserBlockingPriority,Ki=ls.unstable_NormalPriority,zj=ls.unstable_LowPriority,Ef=ls.unstable_IdlePriority,Mo=null,Ws=null;function Vj(t){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Mo,t,void 0,(t.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:Gj,Wj=Math.log,Hj=Math.LN2;function Gj(t){return t>>>=0,t===0?32:31-(Wj(t)/Hj|0)|0}var Xl=64,Zl=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ji(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Oa(o):(l&=i,l!==0&&(n=Oa(l)))}else i=r&~a,i!==0?n=Oa(i):l!==0&&(n=Oa(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-Ps(s),a=1<<r,n|=t[r],s&=~a;return n}function qj(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yj(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-Ps(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=qj(o,s)):c<=s&&(t.expiredLanes|=o),l&=~o}}function Cd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pf(){var t=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),t}function hc(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Ml(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Ps(s),t[s]=r}function Kj(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Ps(r),l=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~l}}function Ju(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-Ps(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var Re=0;function Af(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mf,Qu,Df,Lf,Rf,_d=!1,ei=[],Nr=null,kr=null,Sr=null,il=new Map,ol=new Map,gr=[],Jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bh(t,s){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":il.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(s.pointerId)}}function Sa(t,s,r,n,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},s!==null&&(s=Ll(s),s!==null&&Qu(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function Qj(t,s,r,n,a){switch(s){case"focusin":return Nr=Sa(Nr,t,s,r,n,a),!0;case"dragenter":return kr=Sa(kr,t,s,r,n,a),!0;case"mouseover":return Sr=Sa(Sr,t,s,r,n,a),!0;case"pointerover":var l=a.pointerId;return il.set(l,Sa(il.get(l)||null,t,s,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,ol.set(l,Sa(ol.get(l)||null,t,s,r,n,a)),!0}return!1}function If(t){var s=sn(t.target);if(s!==null){var r=jn(s);if(r!==null){if(s=r.tag,s===13){if(s=kf(r),s!==null){t.blockedOn=s,Rf(t.priority,function(){Df(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ci(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Td(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wd=n,r.target.dispatchEvent(n),wd=null}else return s=Ll(r),s!==null&&Qu(s),t.blockedOn=r,!1;s.shift()}return!0}function Uh(t,s,r){Ci(t)&&r.delete(s)}function Xj(){_d=!1,Nr!==null&&Ci(Nr)&&(Nr=null),kr!==null&&Ci(kr)&&(kr=null),Sr!==null&&Ci(Sr)&&(Sr=null),il.forEach(Uh),ol.forEach(Uh)}function Ca(t,s){t.blockedOn===s&&(t.blockedOn=null,_d||(_d=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,Xj)))}function cl(t){function s(a){return Ca(a,t)}if(0<ei.length){Ca(ei[0],t);for(var r=1;r<ei.length;r++){var n=ei[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nr!==null&&Ca(Nr,t),kr!==null&&Ca(kr,t),Sr!==null&&Ca(Sr,t),il.forEach(s),ol.forEach(s),r=0;r<gr.length;r++)n=gr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)If(r),r.blockedOn===null&&gr.shift()}var Gn=mr.ReactCurrentBatchConfig,Qi=!0;function Zj(t,s,r,n){var a=Re,l=Gn.transition;Gn.transition=null;try{Re=1,Xu(t,s,r,n)}finally{Re=a,Gn.transition=l}}function ew(t,s,r,n){var a=Re,l=Gn.transition;Gn.transition=null;try{Re=4,Xu(t,s,r,n)}finally{Re=a,Gn.transition=l}}function Xu(t,s,r,n){if(Qi){var a=Td(t,s,r,n);if(a===null)Nc(t,s,n,Xi,r),Bh(t,n);else if(Qj(a,t,s,r,n))n.stopPropagation();else if(Bh(t,n),s&4&&-1<Jj.indexOf(t)){for(;a!==null;){var l=Ll(a);if(l!==null&&Mf(l),l=Td(t,s,r,n),l===null&&Nc(t,s,n,Xi,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Nc(t,s,n,null,r)}}var Xi=null;function Td(t,s,r,n){if(Xi=null,t=Yu(n),t=sn(t),t!==null)if(s=jn(t),s===null)t=null;else if(r=s.tag,r===13){if(t=kf(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Xi=t,null}function Ff(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uj()){case Ku:return 1;case Tf:return 4;case Ki:case zj:return 16;case Ef:return 536870912;default:return 16}default:return 16}}var yr=null,Zu=null,_i=null;function $f(){if(_i)return _i;var t,s=Zu,r=s.length,n,a="value"in yr?yr.value:yr.textContent,l=a.length;for(t=0;t<r&&s[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&s[r-n]===a[l-n];n++);return _i=a.slice(t,1<n?1-n:void 0)}function Ti(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function zh(){return!1}function os(t){function s(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ti:zh,this.isPropagationStopped=zh,this}return Qe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),s}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},em=os(oa),Dl=Qe({},oa,{view:0,detail:0}),tw=os(Dl),pc,xc,_a,Do=Qe({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(pc=t.screenX-_a.screenX,xc=t.screenY-_a.screenY):xc=pc=0,_a=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:xc}}),Vh=os(Do),sw=Qe({},Do,{dataTransfer:0}),rw=os(sw),nw=Qe({},Dl,{relatedTarget:0}),fc=os(nw),aw=Qe({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),lw=os(aw),iw=Qe({},oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ow=os(iw),cw=Qe({},oa,{data:0}),Wh=os(cw),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hw(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=mw[t])?!!s[t]:!1}function tm(){return hw}var pw=Qe({},Dl,{key:function(t){if(t.key){var s=dw[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tm,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xw=os(pw),fw=Qe({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=os(fw),gw=Qe({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tm}),bw=os(gw),yw=Qe({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=os(yw),jw=Qe({},Do,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ww=os(jw),Nw=[9,13,27,32],sm=lr&&"CompositionEvent"in window,Ga=null;lr&&"documentMode"in document&&(Ga=document.documentMode);var kw=lr&&"TextEvent"in window&&!Ga,Of=lr&&(!sm||Ga&&8<Ga&&11>=Ga),Gh=" ",qh=!1;function Bf(t,s){switch(t){case"keyup":return Nw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var En=!1;function Sw(t,s){switch(t){case"compositionend":return Uf(s);case"keypress":return s.which!==32?null:(qh=!0,Gh);case"textInput":return t=s.data,t===Gh&&qh?null:t;default:return null}}function Cw(t,s){if(En)return t==="compositionend"||!sm&&Bf(t,s)?(t=$f(),_i=Zu=yr=null,En=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Of&&s.locale!=="ko"?null:s.data;default:return null}}var _w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!_w[t.type]:s==="textarea"}function zf(t,s,r,n){yf(n),s=Zi(s,"onChange"),0<s.length&&(r=new em("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var qa=null,dl=null;function Tw(t){Zf(t,0)}function Lo(t){var s=Mn(t);if(mf(s))return t}function Ew(t,s){if(t==="change")return s}var Vf=!1;if(lr){var gc;if(lr){var bc="oninput"in document;if(!bc){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),bc=typeof Kh.oninput=="function"}gc=bc}else gc=!1;Vf=gc&&(!document.documentMode||9<document.documentMode)}function Jh(){qa&&(qa.detachEvent("onpropertychange",Wf),dl=qa=null)}function Wf(t){if(t.propertyName==="value"&&Lo(dl)){var s=[];zf(s,dl,t,Yu(t)),Nf(Tw,s)}}function Pw(t,s,r){t==="focusin"?(Jh(),qa=s,dl=r,qa.attachEvent("onpropertychange",Wf)):t==="focusout"&&Jh()}function Aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(dl)}function Mw(t,s){if(t==="click")return Lo(s)}function Dw(t,s){if(t==="input"||t==="change")return Lo(s)}function Lw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ds=typeof Object.is=="function"?Object.is:Lw;function ul(t,s){if(Ds(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!dd.call(s,a)||!Ds(t[a],s[a]))return!1}return!0}function Qh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xh(t,s){var r=Qh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qh(r)}}function Hf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Hf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Gf(){for(var t=window,s=Gi();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Gi(t.document)}return s}function rm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Rw(t){var s=Gf(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Hf(r.ownerDocument.documentElement,r)){if(n!==null&&rm(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!t.extend&&l>n&&(a=n,n=l,l=a),a=Xh(r,l);var i=Xh(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),l>n?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Iw=lr&&"documentMode"in document&&11>=document.documentMode,Pn=null,Ed=null,Ya=null,Pd=!1;function Zh(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pd||Pn==null||Pn!==Gi(n)||(n=Pn,"selectionStart"in n&&rm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ya&&ul(Ya,n)||(Ya=n,n=Zi(Ed,"onSelect"),0<n.length&&(s=new em("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=Pn)))}function si(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var An={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},yc={},qf={};lr&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Ro(t){if(yc[t])return yc[t];if(!An[t])return t;var s=An[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in qf)return yc[t]=s[r];return t}var Yf=Ro("animationend"),Kf=Ro("animationiteration"),Jf=Ro("animationstart"),Qf=Ro("transitionend"),Xf=new Map,ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,s){Xf.set(t,s),vn(s,[t])}for(var vc=0;vc<ep.length;vc++){var jc=ep[vc],Fw=jc.toLowerCase(),$w=jc[0].toUpperCase()+jc.slice(1);$r(Fw,"on"+$w)}$r(Yf,"onAnimationEnd");$r(Kf,"onAnimationIteration");$r(Jf,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Qf,"onTransitionEnd");Qn("onMouseEnter",["mouseout","mouseover"]);Qn("onMouseLeave",["mouseout","mouseover"]);Qn("onPointerEnter",["pointerout","pointerover"]);Qn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function tp(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,Fj(n,s,void 0,t),t.currentTarget=null}function Zf(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;tp(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;tp(a,o,d),l=c}}}if(Yi)throw t=Sd,Yi=!1,Sd=null,t}function ze(t,s){var r=s[Rd];r===void 0&&(r=s[Rd]=new Set);var n=t+"__bubble";r.has(n)||(eg(s,t,2,!1),r.add(n))}function wc(t,s,r){var n=0;s&&(n|=4),eg(r,t,n,s)}var ri="_reactListening"+Math.random().toString(36).slice(2);function ml(t){if(!t[ri]){t[ri]=!0,lf.forEach(function(r){r!=="selectionchange"&&(Ow.has(r)||wc(r,!1,t),wc(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ri]||(s[ri]=!0,wc("selectionchange",!1,s))}}function eg(t,s,r,n){switch(Ff(s)){case 1:var a=Zj;break;case 4:a=ew;break;default:a=Xu}r=a.bind(null,s,r,t),a=void 0,!kd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function Nc(t,s,r,n,a){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=sn(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Nf(function(){var d=l,u=Yu(r),m=[];e:{var p=Xf.get(t);if(p!==void 0){var w=em,x=t;switch(t){case"keypress":if(Ti(r)===0)break e;case"keydown":case"keyup":w=xw;break;case"focusin":x="focus",w=fc;break;case"focusout":x="blur",w=fc;break;case"beforeblur":case"afterblur":w=fc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=bw;break;case Yf:case Kf:case Jf:w=lw;break;case Qf:w=vw;break;case"scroll":w=tw;break;case"wheel":w=ww;break;case"copy":case"cut":case"paste":w=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hh}var v=(s&4)!==0,j=!v&&t==="scroll",f=v?p!==null?p+"Capture":null:p;v=[];for(var b=d,g;b!==null;){g=b;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,f!==null&&(y=ll(b,f),y!=null&&v.push(hl(b,y,g)))),j)break;b=b.return}0<v.length&&(p=new w(p,x,null,r,u),m.push({event:p,listeners:v}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&r!==wd&&(x=r.relatedTarget||r.fromElement)&&(sn(x)||x[ir]))break e;if((w||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,w?(x=r.relatedTarget||r.toElement,w=d,x=x?sn(x):null,x!==null&&(j=jn(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=d),w!==x)){if(v=Vh,y="onMouseLeave",f="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=Hh,y="onPointerLeave",f="onPointerEnter",b="pointer"),j=w==null?p:Mn(w),g=x==null?p:Mn(x),p=new v(y,b+"leave",w,r,u),p.target=j,p.relatedTarget=g,y=null,sn(u)===d&&(v=new v(f,b+"enter",x,r,u),v.target=g,v.relatedTarget=j,y=v),j=y,w&&x)t:{for(v=w,f=x,b=0,g=v;g;g=Nn(g))b++;for(g=0,y=f;y;y=Nn(y))g++;for(;0<b-g;)v=Nn(v),b--;for(;0<g-b;)f=Nn(f),g--;for(;b--;){if(v===f||f!==null&&v===f.alternate)break t;v=Nn(v),f=Nn(f)}v=null}else v=null;w!==null&&sp(m,p,w,v,!1),x!==null&&j!==null&&sp(m,j,x,v,!0)}}e:{if(p=d?Mn(d):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var N=Ew;else if(Yh(p))if(Vf)N=Dw;else{N=Aw;var C=Pw}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Mw);if(N&&(N=N(t,d))){zf(m,N,r,u);break e}C&&C(t,p,d),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&gd(p,"number",p.value)}switch(C=d?Mn(d):window,t){case"focusin":(Yh(C)||C.contentEditable==="true")&&(Pn=C,Ed=d,Ya=null);break;case"focusout":Ya=Ed=Pn=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Zh(m,r,u);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":Zh(m,r,u)}var S;if(sm)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else En?Bf(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Of&&r.locale!=="ko"&&(En||k!=="onCompositionStart"?k==="onCompositionEnd"&&En&&(S=$f()):(yr=u,Zu="value"in yr?yr.value:yr.textContent,En=!0)),C=Zi(d,k),0<C.length&&(k=new Wh(k,t,null,r,u),m.push({event:k,listeners:C}),S?k.data=S:(S=Uf(r),S!==null&&(k.data=S)))),(S=kw?Sw(t,r):Cw(t,r))&&(d=Zi(d,"onBeforeInput"),0<d.length&&(u=new Wh("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=S))}Zf(m,s)})}function hl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Zi(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ll(t,r),l!=null&&n.unshift(hl(t,l,a)),l=ll(t,s),l!=null&&n.push(hl(t,l,a))),t=t.return}return n}function Nn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sp(t,s,r,n,a){for(var l=s._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=ll(r,l),c!=null&&i.unshift(hl(r,c,o))):a||(c=ll(r,l),c!=null&&i.push(hl(r,c,o)))),r=r.return}i.length!==0&&t.push({event:s,listeners:i})}var Bw=/\r\n?/g,Uw=/\u0000|\uFFFD/g;function rp(t){return(typeof t=="string"?t:""+t).replace(Bw,`
`).replace(Uw,"")}function ni(t,s,r){if(s=rp(s),rp(t)!==s&&r)throw Error(ee(425))}function eo(){}var Ad=null,Md=null;function Dd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ld=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(t){return np.resolve(null).then(t).catch(Ww)}:Ld;function Ww(t){setTimeout(function(){throw t})}function kc(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),cl(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cl(s)}function Cr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),zs="__reactFiber$"+ca,pl="__reactProps$"+ca,ir="__reactContainer$"+ca,Rd="__reactEvents$"+ca,Hw="__reactListeners$"+ca,Gw="__reactHandles$"+ca;function sn(t){var s=t[zs];if(s)return s;for(var r=t.parentNode;r;){if(s=r[ir]||r[zs]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=ap(t);t!==null;){if(r=t[zs])return r;t=ap(t)}return s}t=r,r=t.parentNode}return null}function Ll(t){return t=t[zs]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Io(t){return t[pl]||null}var Id=[],Dn=-1;function Or(t){return{current:t}}function Ve(t){0>Dn||(t.current=Id[Dn],Id[Dn]=null,Dn--)}function Be(t,s){Dn++,Id[Dn]=t.current,t.current=s}var Dr={},Lt=Or(Dr),Kt=Or(!1),hn=Dr;function Xn(t,s){var r=t.type.contextTypes;if(!r)return Dr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=s[l];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Jt(t){return t=t.childContextTypes,t!=null}function to(){Ve(Kt),Ve(Lt)}function lp(t,s,r){if(Lt.current!==Dr)throw Error(ee(168));Be(Lt,s),Be(Kt,r)}function tg(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(ee(108,Pj(t)||"Unknown",a));return Qe({},r,n)}function so(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,hn=Lt.current,Be(Lt,t),Be(Kt,Kt.current),!0}function ip(t,s,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=tg(t,s,hn),n.__reactInternalMemoizedMergedChildContext=t,Ve(Kt),Ve(Lt),Be(Lt,t)):Ve(Kt),Be(Kt,r)}var Zs=null,Fo=!1,Sc=!1;function sg(t){Zs===null?Zs=[t]:Zs.push(t)}function qw(t){Fo=!0,sg(t)}function Br(){if(!Sc&&Zs!==null){Sc=!0;var t=0,s=Re;try{var r=Zs;for(Re=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Zs=null,Fo=!1}catch(a){throw Zs!==null&&(Zs=Zs.slice(t+1)),_f(Ku,Br),a}finally{Re=s,Sc=!1}}return null}var Ln=[],Rn=0,ro=null,no=0,ps=[],xs=0,pn=null,er=1,tr="";function Zr(t,s){Ln[Rn++]=no,Ln[Rn++]=ro,ro=t,no=s}function rg(t,s,r){ps[xs++]=er,ps[xs++]=tr,ps[xs++]=pn,pn=t;var n=er;t=tr;var a=32-Ps(n)-1;n&=~(1<<a),r+=1;var l=32-Ps(s)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,er=1<<32-Ps(s)+a|r<<a|n,tr=l+t}else er=1<<l|r<<a|n,tr=t}function nm(t){t.return!==null&&(Zr(t,1),rg(t,1,0))}function am(t){for(;t===ro;)ro=Ln[--Rn],Ln[Rn]=null,no=Ln[--Rn],Ln[Rn]=null;for(;t===pn;)pn=ps[--xs],ps[xs]=null,tr=ps[--xs],ps[xs]=null,er=ps[--xs],ps[xs]=null}var as=null,ns=null,Ge=!1,Es=null;function ng(t,s){var r=fs(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function op(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,as=t,ns=Cr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,as=t,ns=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=pn!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=fs(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,as=t,ns=null,!0):!1;default:return!1}}function Fd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $d(t){if(Ge){var s=ns;if(s){var r=s;if(!op(t,s)){if(Fd(t))throw Error(ee(418));s=Cr(r.nextSibling);var n=as;s&&op(t,s)?ng(n,r):(t.flags=t.flags&-4097|2,Ge=!1,as=t)}}else{if(Fd(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Ge=!1,as=t}}}function cp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;as=t}function ai(t){if(t!==as)return!1;if(!Ge)return cp(t),Ge=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Dd(t.type,t.memoizedProps)),s&&(s=ns)){if(Fd(t))throw ag(),Error(ee(418));for(;s;)ng(t,s),s=Cr(s.nextSibling)}if(cp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){ns=Cr(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}ns=null}}else ns=as?Cr(t.stateNode.nextSibling):null;return!0}function ag(){for(var t=ns;t;)t=Cr(t.nextSibling)}function Zn(){ns=as=null,Ge=!1}function lm(t){Es===null?Es=[t]:Es.push(t)}var Yw=mr.ReactCurrentBatchConfig;function Ta(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var a=n,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function li(t,s){throw t=Object.prototype.toString.call(s),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function dp(t){var s=t._init;return s(t._payload)}function lg(t){function s(f,b){if(t){var g=f.deletions;g===null?(f.deletions=[b],f.flags|=16):g.push(b)}}function r(f,b){if(!t)return null;for(;b!==null;)s(f,b),b=b.sibling;return null}function n(f,b){for(f=new Map;b!==null;)b.key!==null?f.set(b.key,b):f.set(b.index,b),b=b.sibling;return f}function a(f,b){return f=Pr(f,b),f.index=0,f.sibling=null,f}function l(f,b,g){return f.index=g,t?(g=f.alternate,g!==null?(g=g.index,g<b?(f.flags|=2,b):g):(f.flags|=2,b)):(f.flags|=1048576,b)}function i(f){return t&&f.alternate===null&&(f.flags|=2),f}function o(f,b,g,y){return b===null||b.tag!==6?(b=Mc(g,f.mode,y),b.return=f,b):(b=a(b,g),b.return=f,b)}function c(f,b,g,y){var N=g.type;return N===Tn?u(f,b,g.props.children,y,g.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xr&&dp(N)===b.type)?(y=a(b,g.props),y.ref=Ta(f,b,g),y.return=f,y):(y=Ri(g.type,g.key,g.props,null,f.mode,y),y.ref=Ta(f,b,g),y.return=f,y)}function d(f,b,g,y){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=Dc(g,f.mode,y),b.return=f,b):(b=a(b,g.children||[]),b.return=f,b)}function u(f,b,g,y,N){return b===null||b.tag!==7?(b=dn(g,f.mode,y,N),b.return=f,b):(b=a(b,g),b.return=f,b)}function m(f,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mc(""+b,f.mode,g),b.return=f,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kl:return g=Ri(b.type,b.key,b.props,null,f.mode,g),g.ref=Ta(f,null,b),g.return=f,g;case _n:return b=Dc(b,f.mode,g),b.return=f,b;case xr:var y=b._init;return m(f,y(b._payload),g)}if($a(b)||Na(b))return b=dn(b,f.mode,g,null),b.return=f,b;li(f,b)}return null}function p(f,b,g,y){var N=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:o(f,b,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Kl:return g.key===N?c(f,b,g,y):null;case _n:return g.key===N?d(f,b,g,y):null;case xr:return N=g._init,p(f,b,N(g._payload),y)}if($a(g)||Na(g))return N!==null?null:u(f,b,g,y,null);li(f,g)}return null}function w(f,b,g,y,N){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(g)||null,o(b,f,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kl:return f=f.get(y.key===null?g:y.key)||null,c(b,f,y,N);case _n:return f=f.get(y.key===null?g:y.key)||null,d(b,f,y,N);case xr:var C=y._init;return w(f,b,g,C(y._payload),N)}if($a(y)||Na(y))return f=f.get(g)||null,u(b,f,y,N,null);li(b,y)}return null}function x(f,b,g,y){for(var N=null,C=null,S=b,k=b=0,T=null;S!==null&&k<g.length;k++){S.index>k?(T=S,S=null):T=S.sibling;var L=p(f,S,g[k],y);if(L===null){S===null&&(S=T);break}t&&S&&L.alternate===null&&s(f,S),b=l(L,b,k),C===null?N=L:C.sibling=L,C=L,S=T}if(k===g.length)return r(f,S),Ge&&Zr(f,k),N;if(S===null){for(;k<g.length;k++)S=m(f,g[k],y),S!==null&&(b=l(S,b,k),C===null?N=S:C.sibling=S,C=S);return Ge&&Zr(f,k),N}for(S=n(f,S);k<g.length;k++)T=w(S,f,k,g[k],y),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?k:T.key),b=l(T,b,k),C===null?N=T:C.sibling=T,C=T);return t&&S.forEach(function(E){return s(f,E)}),Ge&&Zr(f,k),N}function v(f,b,g,y){var N=Na(g);if(typeof N!="function")throw Error(ee(150));if(g=N.call(g),g==null)throw Error(ee(151));for(var C=N=null,S=b,k=b=0,T=null,L=g.next();S!==null&&!L.done;k++,L=g.next()){S.index>k?(T=S,S=null):T=S.sibling;var E=p(f,S,L.value,y);if(E===null){S===null&&(S=T);break}t&&S&&E.alternate===null&&s(f,S),b=l(E,b,k),C===null?N=E:C.sibling=E,C=E,S=T}if(L.done)return r(f,S),Ge&&Zr(f,k),N;if(S===null){for(;!L.done;k++,L=g.next())L=m(f,L.value,y),L!==null&&(b=l(L,b,k),C===null?N=L:C.sibling=L,C=L);return Ge&&Zr(f,k),N}for(S=n(f,S);!L.done;k++,L=g.next())L=w(S,f,k,L.value,y),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?k:L.key),b=l(L,b,k),C===null?N=L:C.sibling=L,C=L);return t&&S.forEach(function(V){return s(f,V)}),Ge&&Zr(f,k),N}function j(f,b,g,y){if(typeof g=="object"&&g!==null&&g.type===Tn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Kl:e:{for(var N=g.key,C=b;C!==null;){if(C.key===N){if(N=g.type,N===Tn){if(C.tag===7){r(f,C.sibling),b=a(C,g.props.children),b.return=f,f=b;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xr&&dp(N)===C.type){r(f,C.sibling),b=a(C,g.props),b.ref=Ta(f,C,g),b.return=f,f=b;break e}r(f,C);break}else s(f,C);C=C.sibling}g.type===Tn?(b=dn(g.props.children,f.mode,y,g.key),b.return=f,f=b):(y=Ri(g.type,g.key,g.props,null,f.mode,y),y.ref=Ta(f,b,g),y.return=f,f=y)}return i(f);case _n:e:{for(C=g.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){r(f,b.sibling),b=a(b,g.children||[]),b.return=f,f=b;break e}else{r(f,b);break}else s(f,b);b=b.sibling}b=Dc(g,f.mode,y),b.return=f,f=b}return i(f);case xr:return C=g._init,j(f,b,C(g._payload),y)}if($a(g))return x(f,b,g,y);if(Na(g))return v(f,b,g,y);li(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(r(f,b.sibling),b=a(b,g),b.return=f,f=b):(r(f,b),b=Mc(g,f.mode,y),b.return=f,f=b),i(f)):r(f,b)}return j}var ea=lg(!0),ig=lg(!1),ao=Or(null),lo=null,In=null,im=null;function om(){im=In=lo=null}function cm(t){var s=ao.current;Ve(ao),t._currentValue=s}function Od(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function qn(t,s){lo=t,im=In=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Yt=!0),t.firstContext=null)}function ws(t){var s=t._currentValue;if(im!==t)if(t={context:t,memoizedValue:s,next:null},In===null){if(lo===null)throw Error(ee(308));In=t,lo.dependencies={lanes:0,firstContext:t}}else In=In.next=t;return s}var rn=null;function dm(t){rn===null?rn=[t]:rn.push(t)}function og(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,dm(s)):(r.next=a.next,a.next=r),s.interleaved=r,or(t,n)}function or(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fr=!1;function um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cg(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function _r(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,or(t,r)}return a=n.interleaved,a===null?(s.next=s,dm(n)):(s.next=a.next,a.next=s),n.interleaved=s,or(t,r)}function Ei(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Ju(t,r)}}function up(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=s:l=l.next=s}else a=l=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function io(t,s,r,n){var a=t.updateQueue;fr=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var m=a.baseState;i=0,u=d=c=null,o=l;do{var p=o.lane,w=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,v=o;switch(p=s,w=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){m=x.call(w,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(w,m,p):x,p==null)break e;m=Qe({},m,p);break e;case 2:fr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else w={eventTime:w,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=w,c=m):u=u.next=w,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do i|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);fn|=i,t.lanes=i,t.memoizedState=m}}function mp(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ee(191,a));a.call(n)}}}var Rl={},Hs=Or(Rl),xl=Or(Rl),fl=Or(Rl);function nn(t){if(t===Rl)throw Error(ee(174));return t}function mm(t,s){switch(Be(fl,s),Be(xl,t),Be(Hs,Rl),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yd(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=yd(s,t)}Ve(Hs),Be(Hs,s)}function ta(){Ve(Hs),Ve(xl),Ve(fl)}function dg(t){nn(fl.current);var s=nn(Hs.current),r=yd(s,t.type);s!==r&&(Be(xl,t),Be(Hs,r))}function hm(t){xl.current===t&&(Ve(Hs),Ve(xl))}var Ye=Or(0);function oo(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cc=[];function pm(){for(var t=0;t<Cc.length;t++)Cc[t]._workInProgressVersionPrimary=null;Cc.length=0}var Pi=mr.ReactCurrentDispatcher,_c=mr.ReactCurrentBatchConfig,xn=0,Je=null,mt=null,ft=null,co=!1,Ka=!1,gl=0,Kw=0;function _t(){throw Error(ee(321))}function xm(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Ds(t[r],s[r]))return!1;return!0}function fm(t,s,r,n,a,l){if(xn=l,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pi.current=t===null||t.memoizedState===null?Zw:eN,t=r(n,a),Ka){l=0;do{if(Ka=!1,gl=0,25<=l)throw Error(ee(301));l+=1,ft=mt=null,s.updateQueue=null,Pi.current=tN,t=r(n,a)}while(Ka)}if(Pi.current=uo,s=mt!==null&&mt.next!==null,xn=0,ft=mt=Je=null,co=!1,s)throw Error(ee(300));return t}function gm(){var t=gl!==0;return gl=0,t}function Us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Je.memoizedState=ft=t:ft=ft.next=t,ft}function Ns(){if(mt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var s=ft===null?Je.memoizedState:ft.next;if(s!==null)ft=s,mt=t;else{if(t===null)throw Error(ee(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},ft===null?Je.memoizedState=ft=t:ft=ft.next=t}return ft}function bl(t,s){return typeof s=="function"?s(t):s}function Tc(t){var s=Ns(),r=s.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=mt,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((xn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,i=n):c=c.next=m,Je.lanes|=u,fn|=u}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,Ds(n,s.memoizedState)||(Yt=!0),s.memoizedState=n,s.baseState=i,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do l=a.lane,Je.lanes|=l,fn|=l,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Ec(t){var s=Ns(),r=s.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,l=s.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);Ds(l,s.memoizedState)||(Yt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function ug(){}function mg(t,s){var r=Je,n=Ns(),a=s(),l=!Ds(n.memoizedState,a);if(l&&(n.memoizedState=a,Yt=!0),n=n.queue,bm(xg.bind(null,r,n,t),[t]),n.getSnapshot!==s||l||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,yl(9,pg.bind(null,r,n,a,s),void 0,null),bt===null)throw Error(ee(349));xn&30||hg(r,s,a)}return a}function hg(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function pg(t,s,r,n){s.value=r,s.getSnapshot=n,fg(s)&&gg(t)}function xg(t,s,r){return r(function(){fg(s)&&gg(t)})}function fg(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Ds(t,r)}catch{return!0}}function gg(t){var s=or(t,1);s!==null&&As(s,t,1,-1)}function hp(t){var s=Us();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},s.queue=t,t=t.dispatch=Xw.bind(null,Je,t),[s.memoizedState,t]}function yl(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function bg(){return Ns().memoizedState}function Ai(t,s,r,n){var a=Us();Je.flags|=t,a.memoizedState=yl(1|s,r,void 0,n===void 0?null:n)}function $o(t,s,r,n){var a=Ns();n=n===void 0?null:n;var l=void 0;if(mt!==null){var i=mt.memoizedState;if(l=i.destroy,n!==null&&xm(n,i.deps)){a.memoizedState=yl(s,r,l,n);return}}Je.flags|=t,a.memoizedState=yl(1|s,r,l,n)}function pp(t,s){return Ai(8390656,8,t,s)}function bm(t,s){return $o(2048,8,t,s)}function yg(t,s){return $o(4,2,t,s)}function vg(t,s){return $o(4,4,t,s)}function jg(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function wg(t,s,r){return r=r!=null?r.concat([t]):null,$o(4,4,jg.bind(null,s,t),r)}function ym(){}function Ng(t,s){var r=Ns();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&xm(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function kg(t,s){var r=Ns();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&xm(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function Sg(t,s,r){return xn&21?(Ds(r,s)||(r=Pf(),Je.lanes|=r,fn|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=r)}function Jw(t,s){var r=Re;Re=r!==0&&4>r?r:4,t(!0);var n=_c.transition;_c.transition={};try{t(!1),s()}finally{Re=r,_c.transition=n}}function Cg(){return Ns().memoizedState}function Qw(t,s,r){var n=Er(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_g(t))Tg(s,r);else if(r=og(t,s,r,n),r!==null){var a=Ut();As(r,t,n,a),Eg(r,s,n)}}function Xw(t,s,r){var n=Er(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_g(t))Tg(s,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ds(o,i)){var c=s.interleaved;c===null?(a.next=a,dm(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=og(t,s,a,n),r!==null&&(a=Ut(),As(r,t,n,a),Eg(r,s,n))}}function _g(t){var s=t.alternate;return t===Je||s!==null&&s===Je}function Tg(t,s){Ka=co=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Eg(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Ju(t,r)}}var uo={readContext:ws,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},Zw={readContext:ws,useCallback:function(t,s){return Us().memoizedState=[t,s===void 0?null:s],t},useContext:ws,useEffect:pp,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Ai(4194308,4,jg.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Ai(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ai(4,2,t,s)},useMemo:function(t,s){var r=Us();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=Us();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=Qw.bind(null,Je,t),[n.memoizedState,t]},useRef:function(t){var s=Us();return t={current:t},s.memoizedState=t},useState:hp,useDebugValue:ym,useDeferredValue:function(t){return Us().memoizedState=t},useTransition:function(){var t=hp(!1),s=t[0];return t=Jw.bind(null,t[1]),Us().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Je,a=Us();if(Ge){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=s(),bt===null)throw Error(ee(349));xn&30||hg(n,s,r)}a.memoizedState=r;var l={value:r,getSnapshot:s};return a.queue=l,pp(xg.bind(null,n,l,t),[t]),n.flags|=2048,yl(9,pg.bind(null,n,l,r,s),void 0,null),r},useId:function(){var t=Us(),s=bt.identifierPrefix;if(Ge){var r=tr,n=er;r=(n&~(1<<32-Ps(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=gl++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Kw++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},eN={readContext:ws,useCallback:Ng,useContext:ws,useEffect:bm,useImperativeHandle:wg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:kg,useReducer:Tc,useRef:bg,useState:function(){return Tc(bl)},useDebugValue:ym,useDeferredValue:function(t){var s=Ns();return Sg(s,mt.memoizedState,t)},useTransition:function(){var t=Tc(bl)[0],s=Ns().memoizedState;return[t,s]},useMutableSource:ug,useSyncExternalStore:mg,useId:Cg,unstable_isNewReconciler:!1},tN={readContext:ws,useCallback:Ng,useContext:ws,useEffect:bm,useImperativeHandle:wg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:kg,useReducer:Ec,useRef:bg,useState:function(){return Ec(bl)},useDebugValue:ym,useDeferredValue:function(t){var s=Ns();return mt===null?s.memoizedState=t:Sg(s,mt.memoizedState,t)},useTransition:function(){var t=Ec(bl)[0],s=Ns().memoizedState;return[t,s]},useMutableSource:ug,useSyncExternalStore:mg,useId:Cg,unstable_isNewReconciler:!1};function _s(t,s){if(t&&t.defaultProps){s=Qe({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Bd(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Qe({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oo={isMounted:function(t){return(t=t._reactInternals)?jn(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Ut(),a=Er(t),l=sr(n,a);l.payload=s,r!=null&&(l.callback=r),s=_r(t,l,a),s!==null&&(As(s,t,a,n),Ei(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Ut(),a=Er(t),l=sr(n,a);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=_r(t,l,a),s!==null&&(As(s,t,a,n),Ei(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Ut(),n=Er(t),a=sr(r,n);a.tag=2,s!=null&&(a.callback=s),s=_r(t,a,n),s!==null&&(As(s,t,n,r),Ei(s,t,n))}};function xp(t,s,r,n,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,i):s.prototype&&s.prototype.isPureReactComponent?!ul(r,n)||!ul(a,l):!0}function Pg(t,s,r){var n=!1,a=Dr,l=s.contextType;return typeof l=="object"&&l!==null?l=ws(l):(a=Jt(s)?hn:Lt.current,n=s.contextTypes,l=(n=n!=null)?Xn(t,a):Dr),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Oo,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),s}function fp(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Oo.enqueueReplaceState(s,s.state,null)}function Ud(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},um(t);var l=s.contextType;typeof l=="object"&&l!==null?a.context=ws(l):(l=Jt(s)?hn:Lt.current,a.context=Xn(t,l)),a.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Bd(t,s,l,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Oo.enqueueReplaceState(a,a.state,null),io(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,s){try{var r="",n=s;do r+=Ej(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:a,digest:null}}function Pc(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function zd(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var sN=typeof WeakMap=="function"?WeakMap:Map;function Ag(t,s,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){ho||(ho=!0,Xd=n),zd(t,s)},r}function Mg(t,s,r){r=sr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){zd(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){zd(t,s),typeof n!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function gp(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new sN;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=fN.bind(null,t,s,r),s.then(t,t))}function bp(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function yp(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=sr(-1,1),s.tag=2,_r(r,s,1))),r.lanes|=1),t)}var rN=mr.ReactCurrentOwner,Yt=!1;function Ft(t,s,r,n){s.child=t===null?ig(s,null,r,n):ea(s,t.child,r,n)}function vp(t,s,r,n,a){r=r.render;var l=s.ref;return qn(s,a),n=fm(t,s,r,n,l,a),r=gm(),t!==null&&!Yt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,cr(t,s,a)):(Ge&&r&&nm(s),s.flags|=1,Ft(t,s,n,a),s.child)}function jp(t,s,r,n,a){if(t===null){var l=r.type;return typeof l=="function"&&!_m(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Dg(t,s,l,n,a)):(t=Ri(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:ul,r(i,n)&&t.ref===s.ref)return cr(t,s,a)}return s.flags|=1,t=Pr(l,n),t.ref=s.ref,t.return=s,s.child=t}function Dg(t,s,r,n,a){if(t!==null){var l=t.memoizedProps;if(ul(l,n)&&t.ref===s.ref)if(Yt=!1,s.pendingProps=n=l,(t.lanes&a)!==0)t.flags&131072&&(Yt=!0);else return s.lanes=t.lanes,cr(t,s,a)}return Vd(t,s,r,n,a)}function Lg(t,s,r){var n=s.pendingProps,a=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be($n,rs),rs|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Be($n,rs),rs|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Be($n,rs),rs|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,Be($n,rs),rs|=n;return Ft(t,s,a,r),s.child}function Rg(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Vd(t,s,r,n,a){var l=Jt(r)?hn:Lt.current;return l=Xn(s,l),qn(s,a),r=fm(t,s,r,n,l,a),n=gm(),t!==null&&!Yt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,cr(t,s,a)):(Ge&&n&&nm(s),s.flags|=1,Ft(t,s,r,a),s.child)}function wp(t,s,r,n,a){if(Jt(r)){var l=!0;so(s)}else l=!1;if(qn(s,a),s.stateNode===null)Mi(t,s),Pg(s,r,n),Ud(s,r,n,a),n=!0;else if(t===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=ws(d):(d=Jt(r)?hn:Lt.current,d=Xn(s,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&fp(s,i,n,d),fr=!1;var p=s.memoizedState;i.state=p,io(s,n,i,a),c=s.memoizedState,o!==n||p!==c||Kt.current||fr?(typeof u=="function"&&(Bd(s,r,u,n),c=s.memoizedState),(o=fr||xp(s,r,o,n,p,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{i=s.stateNode,cg(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:_s(s.type,o),i.props=d,m=s.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ws(c):(c=Jt(r)?hn:Lt.current,c=Xn(s,c));var w=r.getDerivedStateFromProps;(u=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||p!==c)&&fp(s,i,n,c),fr=!1,p=s.memoizedState,i.state=p,io(s,n,i,a);var x=s.memoizedState;o!==m||p!==x||Kt.current||fr?(typeof w=="function"&&(Bd(s,r,w,n),x=s.memoizedState),(d=fr||xp(s,r,d,n,p,x,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=x),i.props=n,i.state=x,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),n=!1)}return Wd(t,s,r,n,l,a)}function Wd(t,s,r,n,a,l){Rg(t,s);var i=(s.flags&128)!==0;if(!n&&!i)return a&&ip(s,r,!1),cr(t,s,l);n=s.stateNode,rN.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&i?(s.child=ea(s,t.child,null,l),s.child=ea(s,null,o,l)):Ft(t,s,o,l),s.memoizedState=n.state,a&&ip(s,r,!0),s.child}function Ig(t){var s=t.stateNode;s.pendingContext?lp(t,s.pendingContext,s.pendingContext!==s.context):s.context&&lp(t,s.context,!1),mm(t,s.containerInfo)}function Np(t,s,r,n,a){return Zn(),lm(a),s.flags|=256,Ft(t,s,r,n),s.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function Gd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fg(t,s,r){var n=s.pendingProps,a=Ye.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Be(Ye,a&1),t===null)return $d(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=n.children,t=n.fallback,l?(n=s.mode,l=s.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=zo(i,n,0,null),t=dn(t,n,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=Gd(r),s.memoizedState=Hd,t):vm(s,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return nN(t,s,i,n,o,a,r);if(l){l=n.fallback,i=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Pr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Pr(o,l):(l=dn(l,i,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,i=t.child.memoizedState,i=i===null?Gd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,s.memoizedState=Hd,n}return l=t.child,t=l.sibling,n=Pr(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function vm(t,s){return s=zo({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function ii(t,s,r,n){return n!==null&&lm(n),ea(s,t.child,null,r),t=vm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function nN(t,s,r,n,a,l,i){if(r)return s.flags&256?(s.flags&=-257,n=Pc(Error(ee(422))),ii(t,s,i,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=n.fallback,a=s.mode,n=zo({mode:"visible",children:n.children},a,0,null),l=dn(l,a,i,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&ea(s,t.child,null,i),s.child.memoizedState=Gd(i),s.memoizedState=Hd,l);if(!(s.mode&1))return ii(t,s,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(ee(419)),n=Pc(l,n,void 0),ii(t,s,i,n)}if(o=(i&t.childLanes)!==0,Yt||o){if(n=bt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,or(t,a),As(n,t,a,-1))}return Cm(),n=Pc(Error(ee(421))),ii(t,s,i,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=gN.bind(null,t),a._reactRetry=s,null):(t=l.treeContext,ns=Cr(a.nextSibling),as=s,Ge=!0,Es=null,t!==null&&(ps[xs++]=er,ps[xs++]=tr,ps[xs++]=pn,er=t.id,tr=t.overflow,pn=s),s=vm(s,n.children),s.flags|=4096,s)}function kp(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),Od(t.return,s,r)}function Ac(t,s,r,n,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function $g(t,s,r){var n=s.pendingProps,a=n.revealOrder,l=n.tail;if(Ft(t,s,n.children,r),n=Ye.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kp(t,r,s);else if(t.tag===19)kp(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Be(Ye,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&oo(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Ac(s,!1,a,r,l);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&oo(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Ac(s,!0,r,null,l);break;case"together":Ac(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mi(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function cr(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),fn|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ee(153));if(s.child!==null){for(t=s.child,r=Pr(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Pr(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function aN(t,s,r){switch(s.tag){case 3:Ig(s),Zn();break;case 5:dg(s);break;case 1:Jt(s.type)&&so(s);break;case 4:mm(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Be(ao,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Be(Ye,Ye.current&1),s.flags|=128,null):r&s.child.childLanes?Fg(t,s,r):(Be(Ye,Ye.current&1),t=cr(t,s,r),t!==null?t.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return $g(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Be(Ye,Ye.current),n)break;return null;case 22:case 23:return s.lanes=0,Lg(t,s,r)}return cr(t,s,r)}var Og,qd,Bg,Ug;Og=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qd=function(){};Bg=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,nn(Hs.current);var l=null;switch(r){case"input":a=xd(t,a),n=xd(t,n),l=[];break;case"select":a=Qe({},a,{value:void 0}),n=Qe({},n,{value:void 0}),l=[];break;case"textarea":a=bd(t,a),n=bd(t,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=eo)}vd(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(nl.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(nl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ze("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};Ug=function(t,s,r,n){r!==n&&(s.flags|=4)};function Ea(t,s){if(!Ge)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function lN(t,s,r){var n=s.pendingProps;switch(am(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(s),null;case 1:return Jt(s.type)&&to(),Tt(s),null;case 3:return n=s.stateNode,ta(),Ve(Kt),Ve(Lt),pm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ai(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Es!==null&&(tu(Es),Es=null))),qd(t,s),Tt(s),null;case 5:hm(s);var a=nn(fl.current);if(r=s.type,t!==null&&s.stateNode!=null)Bg(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(ee(166));return Tt(s),null}if(t=nn(Hs.current),ai(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[zs]=s,n[pl]=l,t=(s.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<Ba.length;a++)ze(Ba[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":Dh(n,l),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ze("invalid",n);break;case"textarea":Rh(n,l),ze("invalid",n)}vd(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&ni(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&ni(n.textContent,o,t),a=["children",""+o]):nl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ze("scroll",n)}switch(r){case"input":Jl(n),Lh(n,l,!0);break;case"textarea":Jl(n),Ih(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=eo)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[zs]=s,t[pl]=n,Og(t,s,!1,!1),s.stateNode=t;e:{switch(i=jd(r,n),r){case"dialog":ze("cancel",t),ze("close",t),a=n;break;case"iframe":case"object":case"embed":ze("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ba.length;a++)ze(Ba[a],t);a=n;break;case"source":ze("error",t),a=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),a=n;break;case"details":ze("toggle",t),a=n;break;case"input":Dh(t,n),a=xd(t,n),ze("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Qe({},n,{value:void 0}),ze("invalid",t);break;case"textarea":Rh(t,n),a=bd(t,n),ze("invalid",t);break;default:a=n}vd(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?bf(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ff(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&al(t,c):typeof c=="number"&&al(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(nl.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ze("scroll",t):c!=null&&Wu(t,l,c,i))}switch(r){case"input":Jl(t),Lh(t,n,!1);break;case"textarea":Jl(t),Ih(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mr(n.value));break;case"select":t.multiple=!!n.multiple,l=n.value,l!=null?Vn(t,!!n.multiple,l,!1):n.defaultValue!=null&&Vn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=eo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Tt(s),null;case 6:if(t&&s.stateNode!=null)Ug(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(ee(166));if(r=nn(fl.current),nn(Hs.current),ai(s)){if(n=s.stateNode,r=s.memoizedProps,n[zs]=s,(l=n.nodeValue!==r)&&(t=as,t!==null))switch(t.tag){case 3:ni(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ni(n.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zs]=s,s.stateNode=n}return Tt(s),null;case 13:if(Ve(Ye),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&ns!==null&&s.mode&1&&!(s.flags&128))ag(),Zn(),s.flags|=98560,l=!1;else if(l=ai(s),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(ee(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ee(317));l[zs]=s}else Zn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Tt(s),l=!1}else Es!==null&&(tu(Es),Es=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||Ye.current&1?ht===0&&(ht=3):Cm())),s.updateQueue!==null&&(s.flags|=4),Tt(s),null);case 4:return ta(),qd(t,s),t===null&&ml(s.stateNode.containerInfo),Tt(s),null;case 10:return cm(s.type._context),Tt(s),null;case 17:return Jt(s.type)&&to(),Tt(s),null;case 19:if(Ve(Ye),l=s.memoizedState,l===null)return Tt(s),null;if(n=(s.flags&128)!==0,i=l.rendering,i===null)if(n)Ea(l,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=oo(t),i!==null){for(s.flags|=128,Ea(l,!1),n=i.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,t=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Be(Ye,Ye.current&1|2),s.child}t=t.sibling}l.tail!==null&&tt()>ra&&(s.flags|=128,n=!0,Ea(l,!1),s.lanes=4194304)}else{if(!n)if(t=oo(i),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Ea(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Ge)return Tt(s),null}else 2*tt()-l.renderingStartTime>ra&&r!==1073741824&&(s.flags|=128,n=!0,Ea(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=tt(),s.sibling=null,r=Ye.current,Be(Ye,n?r&1|2:r&1),s):(Tt(s),null);case 22:case 23:return Sm(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?rs&1073741824&&(Tt(s),s.subtreeFlags&6&&(s.flags|=8192)):Tt(s),null;case 24:return null;case 25:return null}throw Error(ee(156,s.tag))}function iN(t,s){switch(am(s),s.tag){case 1:return Jt(s.type)&&to(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ta(),Ve(Kt),Ve(Lt),pm(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return hm(s),null;case 13:if(Ve(Ye),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ee(340));Zn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ve(Ye),null;case 4:return ta(),null;case 10:return cm(s.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var oi=!1,Et=!1,oN=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Fn(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(t,s,n)}else r.current=null}function Yd(t,s,r){try{r()}catch(n){et(t,s,n)}}var Sp=!1;function cN(t,s){if(Ad=Qi,t=Gf(),rm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=t,p=null;t:for(;;){for(var w;m!==r||a!==0&&m.nodeType!==3||(o=i+a),m!==l||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(w=m.firstChild)!==null;)p=m,m=w;for(;;){if(m===t)break t;if(p===r&&++d===a&&(o=i),p===l&&++u===n&&(c=i),(w=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=w}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Md={focusedElem:t,selectionRange:r},Qi=!1,ie=s;ie!==null;)if(s=ie,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ie=t;else for(;ie!==null;){s=ie;try{var x=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,j=x.memoizedState,f=s.stateNode,b=f.getSnapshotBeforeUpdate(s.elementType===s.type?v:_s(s.type,v),j);f.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=s.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(y){et(s,s.return,y)}if(t=s.sibling,t!==null){t.return=s.return,ie=t;break}ie=s.return}return x=Sp,Sp=!1,x}function Ja(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&Yd(s,r,l)}a=a.next}while(a!==n)}}function Bo(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Kd(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function zg(t){var s=t.alternate;s!==null&&(t.alternate=null,zg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[zs],delete s[pl],delete s[Rd],delete s[Hw],delete s[Gw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vg(t){return t.tag===5||t.tag===3||t.tag===4}function Cp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=eo));else if(n!==4&&(t=t.child,t!==null))for(Jd(t,s,r),t=t.sibling;t!==null;)Jd(t,s,r),t=t.sibling}function Qd(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qd(t,s,r),t=t.sibling;t!==null;)Qd(t,s,r),t=t.sibling}var wt=null,Ts=!1;function hr(t,s,r){for(r=r.child;r!==null;)Wg(t,s,r),r=r.sibling}function Wg(t,s,r){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Mo,r)}catch{}switch(r.tag){case 5:Et||Fn(r,s);case 6:var n=wt,a=Ts;wt=null,hr(t,s,r),wt=n,Ts=a,wt!==null&&(Ts?(t=wt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Ts?(t=wt,r=r.stateNode,t.nodeType===8?kc(t.parentNode,r):t.nodeType===1&&kc(t,r),cl(t)):kc(wt,r.stateNode));break;case 4:n=wt,a=Ts,wt=r.stateNode.containerInfo,Ts=!0,hr(t,s,r),wt=n,Ts=a;break;case 0:case 11:case 14:case 15:if(!Et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Yd(r,s,i),a=a.next}while(a!==n)}hr(t,s,r);break;case 1:if(!Et&&(Fn(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){et(r,s,o)}hr(t,s,r);break;case 21:hr(t,s,r);break;case 22:r.mode&1?(Et=(n=Et)||r.memoizedState!==null,hr(t,s,r),Et=n):hr(t,s,r);break;default:hr(t,s,r)}}function _p(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new oN),s.forEach(function(n){var a=bN.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ks(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=t,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:wt=o.stateNode,Ts=!1;break e;case 3:wt=o.stateNode.containerInfo,Ts=!0;break e;case 4:wt=o.stateNode.containerInfo,Ts=!0;break e}o=o.return}if(wt===null)throw Error(ee(160));Wg(l,i,a),wt=null,Ts=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){et(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Hg(s,t),s=s.sibling}function Hg(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ks(s,t),Os(t),n&4){try{Ja(3,t,t.return),Bo(3,t)}catch(v){et(t,t.return,v)}try{Ja(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:ks(s,t),Os(t),n&512&&r!==null&&Fn(r,r.return);break;case 5:if(ks(s,t),Os(t),n&512&&r!==null&&Fn(r,r.return),t.flags&32){var a=t.stateNode;try{al(a,"")}catch(v){et(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&hf(a,l),jd(o,i);var d=jd(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?bf(a,m):u==="dangerouslySetInnerHTML"?ff(a,m):u==="children"?al(a,m):Wu(a,u,m,d)}switch(o){case"input":fd(a,l);break;case"textarea":pf(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Vn(a,!!l.multiple,w,!1):p!==!!l.multiple&&(l.defaultValue!=null?Vn(a,!!l.multiple,l.defaultValue,!0):Vn(a,!!l.multiple,l.multiple?[]:"",!1))}a[pl]=l}catch(v){et(t,t.return,v)}}break;case 6:if(ks(s,t),Os(t),n&4){if(t.stateNode===null)throw Error(ee(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(v){et(t,t.return,v)}}break;case 3:if(ks(s,t),Os(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cl(s.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:ks(s,t),Os(t);break;case 13:ks(s,t),Os(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Nm=tt())),n&4&&_p(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Et=(d=Et)||u,ks(s,t),Et=d):ks(s,t),Os(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(m=ie=u;ie!==null;){switch(p=ie,w=p.child,p.tag){case 0:case 11:case 14:case 15:Ja(4,p,p.return);break;case 1:Fn(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{s=n,x.props=s.memoizedProps,x.state=s.memoizedState,x.componentWillUnmount()}catch(v){et(n,r,v)}}break;case 5:Fn(p,p.return);break;case 22:if(p.memoizedState!==null){Ep(m);continue}}w!==null?(w.return=p,ie=w):Ep(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=gf("display",i))}catch(v){et(t,t.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){et(t,t.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ks(s,t),Os(t),n&4&&_p(t);break;case 21:break;default:ks(s,t),Os(t)}}function Os(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(Vg(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(al(a,""),n.flags&=-33);var l=Cp(t);Qd(t,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Cp(t);Jd(t,o,i);break;default:throw Error(ee(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function dN(t,s,r){ie=t,Gg(t)}function Gg(t,s,r){for(var n=(t.mode&1)!==0;ie!==null;){var a=ie,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||oi;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Et;o=oi;var d=Et;if(oi=i,(Et=c)&&!d)for(ie=a;ie!==null;)i=ie,c=i.child,i.tag===22&&i.memoizedState!==null?Pp(a):c!==null?(c.return=i,ie=c):Pp(a);for(;l!==null;)ie=l,Gg(l),l=l.sibling;ie=a,oi=o,Et=d}Tp(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ie=l):Tp(t)}}function Tp(t){for(;ie!==null;){var s=ie;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Et||Bo(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!Et)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:_s(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&mp(s,l,n);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}mp(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&cl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Et||s.flags&512&&Kd(s)}catch(p){et(s,s.return,p)}}if(s===t){ie=null;break}if(r=s.sibling,r!==null){r.return=s.return,ie=r;break}ie=s.return}}function Ep(t){for(;ie!==null;){var s=ie;if(s===t){ie=null;break}var r=s.sibling;if(r!==null){r.return=s.return,ie=r;break}ie=s.return}}function Pp(t){for(;ie!==null;){var s=ie;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Bo(4,s)}catch(c){et(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){et(s,a,c)}}var l=s.return;try{Kd(s)}catch(c){et(s,l,c)}break;case 5:var i=s.return;try{Kd(s)}catch(c){et(s,i,c)}}}catch(c){et(s,s.return,c)}if(s===t){ie=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ie=o;break}ie=s.return}}var uN=Math.ceil,mo=mr.ReactCurrentDispatcher,jm=mr.ReactCurrentOwner,ys=mr.ReactCurrentBatchConfig,Ee=0,bt=null,lt=null,kt=0,rs=0,$n=Or(0),ht=0,vl=null,fn=0,Uo=0,wm=0,Qa=null,qt=null,Nm=0,ra=1/0,Xs=null,ho=!1,Xd=null,Tr=null,ci=!1,vr=null,po=0,Xa=0,Zd=null,Di=-1,Li=0;function Ut(){return Ee&6?tt():Di!==-1?Di:Di=tt()}function Er(t){return t.mode&1?Ee&2&&kt!==0?kt&-kt:Yw.transition!==null?(Li===0&&(Li=Pf()),Li):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Ff(t.type)),t):1}function As(t,s,r,n){if(50<Xa)throw Xa=0,Zd=null,Error(ee(185));Ml(t,r,n),(!(Ee&2)||t!==bt)&&(t===bt&&(!(Ee&2)&&(Uo|=r),ht===4&&br(t,kt)),Qt(t,n),r===1&&Ee===0&&!(s.mode&1)&&(ra=tt()+500,Fo&&Br()))}function Qt(t,s){var r=t.callbackNode;Yj(t,s);var n=Ji(t,t===bt?kt:0);if(n===0)r!==null&&Oh(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&Oh(r),s===1)t.tag===0?qw(Ap.bind(null,t)):sg(Ap.bind(null,t)),Vw(function(){!(Ee&6)&&Br()}),r=null;else{switch(Af(n)){case 1:r=Ku;break;case 4:r=Tf;break;case 16:r=Ki;break;case 536870912:r=Ef;break;default:r=Ki}r=eb(r,qg.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function qg(t,s){if(Di=-1,Li=0,Ee&6)throw Error(ee(327));var r=t.callbackNode;if(Yn()&&t.callbackNode!==r)return null;var n=Ji(t,t===bt?kt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=xo(t,n);else{s=n;var a=Ee;Ee|=2;var l=Kg();(bt!==t||kt!==s)&&(Xs=null,ra=tt()+500,cn(t,s));do try{pN();break}catch(o){Yg(t,o)}while(!0);om(),mo.current=l,Ee=a,lt!==null?s=0:(bt=null,kt=0,s=ht)}if(s!==0){if(s===2&&(a=Cd(t),a!==0&&(n=a,s=eu(t,a))),s===1)throw r=vl,cn(t,0),br(t,n),Qt(t,tt()),r;if(s===6)br(t,n);else{if(a=t.current.alternate,!(n&30)&&!mN(a)&&(s=xo(t,n),s===2&&(l=Cd(t),l!==0&&(n=l,s=eu(t,l))),s===1))throw r=vl,cn(t,0),br(t,n),Qt(t,tt()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(ee(345));case 2:en(t,qt,Xs);break;case 3:if(br(t,n),(n&130023424)===n&&(s=Nm+500-tt(),10<s)){if(Ji(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Ut(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Ld(en.bind(null,t,qt,Xs),s);break}en(t,qt,Xs);break;case 4:if(br(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var i=31-Ps(n);l=1<<i,i=s[i],i>a&&(a=i),n&=~l}if(n=a,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uN(n/1960))-n,10<n){t.timeoutHandle=Ld(en.bind(null,t,qt,Xs),n);break}en(t,qt,Xs);break;case 5:en(t,qt,Xs);break;default:throw Error(ee(329))}}}return Qt(t,tt()),t.callbackNode===r?qg.bind(null,t):null}function eu(t,s){var r=Qa;return t.current.memoizedState.isDehydrated&&(cn(t,s).flags|=256),t=xo(t,s),t!==2&&(s=qt,qt=r,s!==null&&tu(s)),t}function tu(t){qt===null?qt=t:qt.push.apply(qt,t)}function mN(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Ds(l(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function br(t,s){for(s&=~wm,s&=~Uo,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Ps(s),n=1<<r;t[r]=-1,s&=~n}}function Ap(t){if(Ee&6)throw Error(ee(327));Yn();var s=Ji(t,0);if(!(s&1))return Qt(t,tt()),null;var r=xo(t,s);if(t.tag!==0&&r===2){var n=Cd(t);n!==0&&(s=n,r=eu(t,n))}if(r===1)throw r=vl,cn(t,0),br(t,s),Qt(t,tt()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,en(t,qt,Xs),Qt(t,tt()),null}function km(t,s){var r=Ee;Ee|=1;try{return t(s)}finally{Ee=r,Ee===0&&(ra=tt()+500,Fo&&Br())}}function gn(t){vr!==null&&vr.tag===0&&!(Ee&6)&&Yn();var s=Ee;Ee|=1;var r=ys.transition,n=Re;try{if(ys.transition=null,Re=1,t)return t()}finally{Re=n,ys.transition=r,Ee=s,!(Ee&6)&&Br()}}function Sm(){rs=$n.current,Ve($n)}function cn(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zw(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(am(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&to();break;case 3:ta(),Ve(Kt),Ve(Lt),pm();break;case 5:hm(n);break;case 4:ta();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:cm(n.type._context);break;case 22:case 23:Sm()}r=r.return}if(bt=t,lt=t=Pr(t.current,null),kt=rs=s,ht=0,vl=null,wm=Uo=fn=0,qt=Qa=null,rn!==null){for(s=0;s<rn.length;s++)if(r=rn[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}rn=null}return t}function Yg(t,s){do{var r=lt;try{if(om(),Pi.current=uo,co){for(var n=Je.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}co=!1}if(xn=0,ft=mt=Je=null,Ka=!1,gl=0,jm.current=null,r===null||r.return===null){ht=1,vl=s,lt=null;break}e:{var l=t,i=r.return,o=r,c=s;if(s=kt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var w=bp(i);if(w!==null){w.flags&=-257,yp(w,i,o,l,s),w.mode&1&&gp(l,d,s),s=w,c=d;var x=s.updateQueue;if(x===null){var v=new Set;v.add(c),s.updateQueue=v}else x.add(c);break e}else{if(!(s&1)){gp(l,d,s),Cm();break e}c=Error(ee(426))}}else if(Ge&&o.mode&1){var j=bp(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),yp(j,i,o,l,s),lm(sa(c,o));break e}}l=c=sa(c,o),ht!==4&&(ht=2),Qa===null?Qa=[l]:Qa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var f=Ag(l,c,s);up(l,f);break e;case 1:o=c;var b=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Tr===null||!Tr.has(g)))){l.flags|=65536,s&=-s,l.lanes|=s;var y=Mg(l,o,s);up(l,y);break e}}l=l.return}while(l!==null)}Qg(r)}catch(N){s=N,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Kg(){var t=mo.current;return mo.current=uo,t===null?uo:t}function Cm(){(ht===0||ht===3||ht===2)&&(ht=4),bt===null||!(fn&268435455)&&!(Uo&268435455)||br(bt,kt)}function xo(t,s){var r=Ee;Ee|=2;var n=Kg();(bt!==t||kt!==s)&&(Xs=null,cn(t,s));do try{hN();break}catch(a){Yg(t,a)}while(!0);if(om(),Ee=r,mo.current=n,lt!==null)throw Error(ee(261));return bt=null,kt=0,ht}function hN(){for(;lt!==null;)Jg(lt)}function pN(){for(;lt!==null&&!Oj();)Jg(lt)}function Jg(t){var s=Zg(t.alternate,t,rs);t.memoizedProps=t.pendingProps,s===null?Qg(t):lt=s,jm.current=null}function Qg(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=iN(r,s),r!==null){r.flags&=32767,lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,lt=null;return}}else if(r=lN(r,s,rs),r!==null){lt=r;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=t}while(s!==null);ht===0&&(ht=5)}function en(t,s,r){var n=Re,a=ys.transition;try{ys.transition=null,Re=1,xN(t,s,r,n)}finally{ys.transition=a,Re=n}return null}function xN(t,s,r,n){do Yn();while(vr!==null);if(Ee&6)throw Error(ee(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(Kj(t,l),t===bt&&(lt=bt=null,kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ci||(ci=!0,eb(Ki,function(){return Yn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ys.transition,ys.transition=null;var i=Re;Re=1;var o=Ee;Ee|=4,jm.current=null,cN(t,r),Hg(r,t),Rw(Md),Qi=!!Ad,Md=Ad=null,t.current=r,dN(r),Bj(),Ee=o,Re=i,ys.transition=l}else t.current=r;if(ci&&(ci=!1,vr=t,po=a),l=t.pendingLanes,l===0&&(Tr=null),Vj(r.stateNode),Qt(t,tt()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ho)throw ho=!1,t=Xd,Xd=null,t;return po&1&&t.tag!==0&&Yn(),l=t.pendingLanes,l&1?t===Zd?Xa++:(Xa=0,Zd=t):Xa=0,Br(),null}function Yn(){if(vr!==null){var t=Af(po),s=ys.transition,r=Re;try{if(ys.transition=null,Re=16>t?16:t,vr===null)var n=!1;else{if(t=vr,vr=null,po=0,Ee&6)throw Error(ee(331));var a=Ee;for(Ee|=4,ie=t.current;ie!==null;){var l=ie,i=l.child;if(ie.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ie=d;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:Ja(8,u,l)}var m=u.child;if(m!==null)m.return=u,ie=m;else for(;ie!==null;){u=ie;var p=u.sibling,w=u.return;if(zg(u),u===d){ie=null;break}if(p!==null){p.return=w,ie=p;break}ie=w}}}var x=l.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}ie=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,ie=i;else e:for(;ie!==null;){if(l=ie,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ja(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,ie=f;break e}ie=l.return}}var b=t.current;for(ie=b;ie!==null;){i=ie;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,ie=g;else e:for(i=b;ie!==null;){if(o=ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bo(9,o)}}catch(N){et(o,o.return,N)}if(o===i){ie=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,ie=y;break e}ie=o.return}}if(Ee=a,Br(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Mo,t)}catch{}n=!0}return n}finally{Re=r,ys.transition=s}}return!1}function Mp(t,s,r){s=sa(r,s),s=Ag(t,s,1),t=_r(t,s,1),s=Ut(),t!==null&&(Ml(t,1,s),Qt(t,s))}function et(t,s,r){if(t.tag===3)Mp(t,t,r);else for(;s!==null;){if(s.tag===3){Mp(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tr===null||!Tr.has(n))){t=sa(r,t),t=Mg(s,t,1),s=_r(s,t,1),t=Ut(),s!==null&&(Ml(s,1,t),Qt(s,t));break}}s=s.return}}function fN(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Ut(),t.pingedLanes|=t.suspendedLanes&r,bt===t&&(kt&r)===r&&(ht===4||ht===3&&(kt&130023424)===kt&&500>tt()-Nm?cn(t,0):wm|=r),Qt(t,s)}function Xg(t,s){s===0&&(t.mode&1?(s=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):s=1);var r=Ut();t=or(t,s),t!==null&&(Ml(t,s,r),Qt(t,r))}function gN(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Xg(t,r)}function bN(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(s),Xg(t,r)}var Zg;Zg=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Kt.current)Yt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Yt=!1,aN(t,s,r);Yt=!!(t.flags&131072)}else Yt=!1,Ge&&s.flags&1048576&&rg(s,no,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;Mi(t,s),t=s.pendingProps;var a=Xn(s,Lt.current);qn(s,r),a=fm(null,s,n,t,a,r);var l=gm();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(n)?(l=!0,so(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,um(s),a.updater=Oo,s.stateNode=a,a._reactInternals=s,Ud(s,n,t,r),s=Wd(null,s,n,!0,l,r)):(s.tag=0,Ge&&l&&nm(s),Ft(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(Mi(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=vN(n),t=_s(n,t),a){case 0:s=Vd(null,s,n,t,r);break e;case 1:s=wp(null,s,n,t,r);break e;case 11:s=vp(null,s,n,t,r);break e;case 14:s=jp(null,s,n,_s(n.type,t),r);break e}throw Error(ee(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),Vd(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),wp(t,s,n,a,r);case 3:e:{if(Ig(s),t===null)throw Error(ee(387));n=s.pendingProps,l=s.memoizedState,a=l.element,cg(t,s),io(s,n,null,r);var i=s.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=sa(Error(ee(423)),s),s=Np(t,s,n,r,a);break e}else if(n!==a){a=sa(Error(ee(424)),s),s=Np(t,s,n,r,a);break e}else for(ns=Cr(s.stateNode.containerInfo.firstChild),as=s,Ge=!0,Es=null,r=ig(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zn(),n===a){s=cr(t,s,r);break e}Ft(t,s,n,r)}s=s.child}return s;case 5:return dg(s),t===null&&$d(s),n=s.type,a=s.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,Dd(n,a)?i=null:l!==null&&Dd(n,l)&&(s.flags|=32),Rg(t,s),Ft(t,s,i,r),s.child;case 6:return t===null&&$d(s),null;case 13:return Fg(t,s,r);case 4:return mm(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=ea(s,null,n,r):Ft(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),vp(t,s,n,a,r);case 7:return Ft(t,s,s.pendingProps,r),s.child;case 8:return Ft(t,s,s.pendingProps.children,r),s.child;case 12:return Ft(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,l=s.memoizedProps,i=a.value,Be(ao,n._currentValue),n._currentValue=i,l!==null)if(Ds(l.value,i)){if(l.children===a.children&&!Kt.current){s=cr(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=sr(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Od(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(ee(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Od(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ft(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,qn(s,r),a=ws(a),n=n(a),s.flags|=1,Ft(t,s,n,r),s.child;case 14:return n=s.type,a=_s(n,s.pendingProps),a=_s(n.type,a),jp(t,s,n,a,r);case 15:return Dg(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),Mi(t,s),s.tag=1,Jt(n)?(t=!0,so(s)):t=!1,qn(s,r),Pg(s,n,a),Ud(s,n,a,r),Wd(null,s,n,!0,t,r);case 19:return $g(t,s,r);case 22:return Lg(t,s,r)}throw Error(ee(156,s.tag))};function eb(t,s){return _f(t,s)}function yN(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(t,s,r,n){return new yN(t,s,r,n)}function _m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vN(t){if(typeof t=="function")return _m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gu)return 11;if(t===qu)return 14}return 2}function Pr(t,s){var r=t.alternate;return r===null?(r=fs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ri(t,s,r,n,a,l){var i=2;if(n=t,typeof t=="function")_m(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Tn:return dn(r.children,a,l,s);case Hu:i=8,a|=8;break;case ud:return t=fs(12,r,s,a|2),t.elementType=ud,t.lanes=l,t;case md:return t=fs(13,r,s,a),t.elementType=md,t.lanes=l,t;case hd:return t=fs(19,r,s,a),t.elementType=hd,t.lanes=l,t;case df:return zo(r,a,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case of:i=10;break e;case cf:i=9;break e;case Gu:i=11;break e;case qu:i=14;break e;case xr:i=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return s=fs(i,r,s,a),s.elementType=t,s.type=n,s.lanes=l,s}function dn(t,s,r,n){return t=fs(7,t,n,s),t.lanes=r,t}function zo(t,s,r,n){return t=fs(22,t,n,s),t.elementType=df,t.lanes=r,t.stateNode={isHidden:!1},t}function Mc(t,s,r){return t=fs(6,t,null,s),t.lanes=r,t}function Dc(t,s,r){return s=fs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function jN(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hc(0),this.expirationTimes=hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Tm(t,s,r,n,a,l,i,o,c){return t=new jN(t,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=fs(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(l),t}function wN(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function tb(t){if(!t)return Dr;t=t._reactInternals;e:{if(jn(t)!==t||t.tag!==1)throw Error(ee(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if(Jt(r))return tg(t,r,s)}return s}function sb(t,s,r,n,a,l,i,o,c){return t=Tm(r,n,!0,t,a,l,i,o,c),t.context=tb(null),r=t.current,n=Ut(),a=Er(r),l=sr(n,a),l.callback=s??null,_r(r,l,a),t.current.lanes=a,Ml(t,a,n),Qt(t,n),t}function Vo(t,s,r,n){var a=s.current,l=Ut(),i=Er(a);return r=tb(r),s.context===null?s.context=r:s.pendingContext=r,s=sr(l,i),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=_r(a,s,i),t!==null&&(As(t,a,i,l),Ei(t,a,i)),i}function fo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Em(t,s){Dp(t,s),(t=t.alternate)&&Dp(t,s)}function NN(){return null}var rb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pm(t){this._internalRoot=t}Wo.prototype.render=Pm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ee(409));Vo(t,s,null,null)};Wo.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;gn(function(){Vo(null,t,null,null)}),s[ir]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var s=Lf();t={blockedOn:null,target:t,priority:s};for(var r=0;r<gr.length&&s!==0&&s<gr[r].priority;r++);gr.splice(r,0,t),r===0&&If(t)}};function Am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function kN(t,s,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=fo(i);l.call(d)}}var i=sb(s,n,t,0,null,!1,!1,"",Lp);return t._reactRootContainer=i,t[ir]=i.current,ml(t.nodeType===8?t.parentNode:t),gn(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=fo(c);o.call(d)}}var c=Tm(t,0,!1,null,null,!1,!1,"",Lp);return t._reactRootContainer=c,t[ir]=c.current,ml(t.nodeType===8?t.parentNode:t),gn(function(){Vo(s,c,r,n)}),c}function Go(t,s,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=fo(i);o.call(c)}}Vo(s,i,t,a)}else i=kN(r,s,t,a,n);return fo(i)}Mf=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Oa(s.pendingLanes);r!==0&&(Ju(s,r|1),Qt(s,tt()),!(Ee&6)&&(ra=tt()+500,Br()))}break;case 13:gn(function(){var n=or(t,1);if(n!==null){var a=Ut();As(n,t,1,a)}}),Em(t,1)}};Qu=function(t){if(t.tag===13){var s=or(t,134217728);if(s!==null){var r=Ut();As(s,t,134217728,r)}Em(t,134217728)}};Df=function(t){if(t.tag===13){var s=Er(t),r=or(t,s);if(r!==null){var n=Ut();As(r,t,s,n)}Em(t,s)}};Lf=function(){return Re};Rf=function(t,s){var r=Re;try{return Re=t,s()}finally{Re=r}};Nd=function(t,s,r){switch(s){case"input":if(fd(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=Io(n);if(!a)throw Error(ee(90));mf(n),fd(n,a)}}}break;case"textarea":pf(t,r);break;case"select":s=r.value,s!=null&&Vn(t,!!r.multiple,s,!1)}};jf=km;wf=gn;var SN={usingClientEntryPoint:!1,Events:[Ll,Mn,Io,yf,vf,km]},Pa={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CN={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sf(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||NN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{Mo=di.inject(CN),Ws=di}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SN;is.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(s))throw Error(ee(200));return wN(t,s,null,r)};is.createRoot=function(t,s){if(!Am(t))throw Error(ee(299));var r=!1,n="",a=rb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Tm(t,1,!1,null,null,r,!1,n,a),t[ir]=s.current,ml(t.nodeType===8?t.parentNode:t),new Pm(s)};is.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Sf(s),t=t===null?null:t.stateNode,t};is.flushSync=function(t){return gn(t)};is.hydrate=function(t,s,r){if(!Ho(s))throw Error(ee(200));return Go(null,t,s,!0,r)};is.hydrateRoot=function(t,s,r){if(!Am(t))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=rb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=sb(s,null,t,1,r??null,a,!1,l,i),t[ir]=s.current,ml(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Wo(s)};is.render=function(t,s,r){if(!Ho(s))throw Error(ee(200));return Go(null,t,s,!1,r)};is.unmountComponentAtNode=function(t){if(!Ho(t))throw Error(ee(40));return t._reactRootContainer?(gn(function(){Go(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};is.unstable_batchedUpdates=km;is.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Ho(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Go(t,s,r,!1,n)};is.version="18.3.1-next-f1338f8080-20240426";function nb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nb)}catch(t){console.error(t)}}nb(),rf.exports=is;var Mm=rf.exports,Rp=Mm;cd.createRoot=Rp.createRoot,cd.hydrateRoot=Rp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(this,arguments)}var jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jr||(jr={}));const Ip="popstate";function _N(t){t===void 0&&(t={});function s(n,a){let{pathname:l,search:i,hash:o}=n.location;return su("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:go(a)}return EN(s,r,null,t)}function st(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function ab(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function TN(){return Math.random().toString(36).substr(2,8)}function Fp(t,s){return{usr:t.state,key:t.key,idx:s}}function su(t,s,r,n){return r===void 0&&(r=null),jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?da(s):s,{state:r,key:s&&s.key||n||TN()})}function go(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function da(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function EN(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=jr.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(jl({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){o=jr.Pop;let j=u(),f=j==null?null:j-d;d=j,c&&c({action:o,location:v.location,delta:f})}function p(j,f){o=jr.Push;let b=su(v.location,j,f);d=u()+1;let g=Fp(b,d),y=v.createHref(b);try{i.pushState(g,"",y)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(y)}l&&c&&c({action:o,location:v.location,delta:1})}function w(j,f){o=jr.Replace;let b=su(v.location,j,f);d=u();let g=Fp(b,d),y=v.createHref(b);i.replaceState(g,"",y),l&&c&&c({action:o,location:v.location,delta:0})}function x(j){let f=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof j=="string"?j:go(j);return b=b.replace(/ $/,"%20"),st(f,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,f)}let v={get action(){return o},get location(){return t(a,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ip,m),c=j,()=>{a.removeEventListener(Ip,m),c=null}},createHref(j){return s(a,j)},createURL:x,encodeLocation(j){let f=x(j);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:w,go(j){return i.go(j)}};return v}var $p;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($p||($p={}));function PN(t,s,r){return r===void 0&&(r="/"),AN(t,s,r)}function AN(t,s,r,n){let a=typeof s=="string"?da(s):s,l=Dm(a.pathname||"/",r);if(l==null)return null;let i=lb(t);MN(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=WN(l);o=UN(i[c],d)}return o}function lb(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ar([n,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(st(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),lb(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:ON(d,l.index),routesMeta:u})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of ib(l.path))a(l,i,c)}),s}function ib(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=ib(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function MN(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:BN(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DN=/^:[\w-]+$/,LN=3,RN=2,IN=1,FN=10,$N=-2,Op=t=>t==="*";function ON(t,s){let r=t.split("/"),n=r.length;return r.some(Op)&&(n+=$N),s&&(n+=RN),r.filter(a=>!Op(a)).reduce((a,l)=>a+(DN.test(l)?LN:l===""?IN:FN),n)}function BN(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function UN(t,s,r){let{routesMeta:n}=t,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=l==="/"?s:s.slice(l.length)||"/",m=zN({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Ar([l,m.pathname]),pathnameBase:YN(Ar([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=Ar([l,m.pathnameBase]))}return i}function zN(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=VN(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:p,isOptional:w}=u;if(p==="*"){let v=o[m]||"";i=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[m];return w&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function VN(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),ab(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function WN(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ab(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Dm(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function HN(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?da(t):t;return{pathname:r?r.startsWith("/")?r:GN(r,s):s,search:KN(n),hash:JN(a)}}function GN(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Lc(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qN(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Lm(t,s){let r=qN(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Rm(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=da(t):(a=jl({},t),st(!a.pathname||!a.pathname.includes("?"),Lc("?","pathname","search",a)),st(!a.pathname||!a.pathname.includes("#"),Lc("#","pathname","hash",a)),st(!a.search||!a.search.includes("#"),Lc("#","search","hash",a)));let l=t===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let m=s.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}o=m>=0?s[m]:"/"}let c=HN(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ar=t=>t.join("/").replace(/\/\/+/g,"/"),YN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ob=["post","put","patch","delete"];new Set(ob);const XN=["get",...ob];new Set(XN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wl.apply(this,arguments)}const Im=h.createContext(null),ZN=h.createContext(null),Ur=h.createContext(null),qo=h.createContext(null),Js=h.createContext({outlet:null,matches:[],isDataRoute:!1}),cb=h.createContext(null);function e2(t,s){let{relative:r}=s===void 0?{}:s;ua()||st(!1);let{basename:n,navigator:a}=h.useContext(Ur),{hash:l,pathname:i,search:o}=ub(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Ar([n,i])),a.createHref({pathname:c,search:o,hash:l})}function ua(){return h.useContext(qo)!=null}function cs(){return ua()||st(!1),h.useContext(qo).location}function db(t){h.useContext(Ur).static||h.useLayoutEffect(t)}function we(){let{isDataRoute:t}=h.useContext(Js);return t?x2():t2()}function t2(){ua()||st(!1);let t=h.useContext(Im),{basename:s,future:r,navigator:n}=h.useContext(Ur),{matches:a}=h.useContext(Js),{pathname:l}=cs(),i=JSON.stringify(Lm(a,r.v7_relativeSplatPath)),o=h.useRef(!1);return db(()=>{o.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=Rm(d,JSON.parse(i),l,u.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:Ar([s,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[s,n,i,l,t])}const s2=h.createContext(null);function r2(t){let s=h.useContext(Js).outlet;return s&&h.createElement(s2.Provider,{value:t},s)}function Ls(){let{matches:t}=h.useContext(Js),s=t[t.length-1];return s?s.params:{}}function ub(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=h.useContext(Ur),{matches:a}=h.useContext(Js),{pathname:l}=cs(),i=JSON.stringify(Lm(a,n.v7_relativeSplatPath));return h.useMemo(()=>Rm(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function n2(t,s){return a2(t,s)}function a2(t,s,r,n){ua()||st(!1);let{navigator:a}=h.useContext(Ur),{matches:l}=h.useContext(Js),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=cs(),u;if(s){var m;let j=typeof s=="string"?da(s):s;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||st(!1),u=j}else u=d;let p=u.pathname||"/",w=p;if(c!=="/"){let j=c.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=PN(t,{pathname:w}),v=d2(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Ar([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ar([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return s&&v?h.createElement(qo.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:jr.Pop}},v):v}function l2(){let t=p2(),s=QN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},s),r?h.createElement("pre",{style:a},r):null,null)}const i2=h.createElement(l2,null);class o2 extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?h.createElement(Js.Provider,{value:this.props.routeContext},h.createElement(cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c2(t){let{routeContext:s,match:r,children:n}=t,a=h.useContext(Im);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Js.Provider,{value:s},n)}function d2(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||st(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:p,errors:w}=r,x=m.route.loader&&p[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,p)=>{let w,x=!1,v=null,j=null;r&&(w=o&&m.route.id?o[m.route.id]:void 0,v=m.route.errorElement||i2,c&&(d<0&&p===0?(f2("route-fallback"),x=!0,j=null):d===p&&(x=!0,j=m.route.hydrateFallbackElement||null)));let f=s.concat(i.slice(0,p+1)),b=()=>{let g;return w?g=v:x?g=j:m.route.Component?g=h.createElement(m.route.Component,null):m.route.element?g=m.route.element:g=u,h.createElement(c2,{match:m,routeContext:{outlet:u,matches:f,isDataRoute:r!=null},children:g})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?h.createElement(o2,{location:r.location,revalidation:r.revalidation,component:v,error:w,children:b(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):b()},null)}var mb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mb||{}),hb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hb||{});function u2(t){let s=h.useContext(Im);return s||st(!1),s}function m2(t){let s=h.useContext(ZN);return s||st(!1),s}function h2(t){let s=h.useContext(Js);return s||st(!1),s}function pb(t){let s=h2(),r=s.matches[s.matches.length-1];return r.route.id||st(!1),r.route.id}function p2(){var t;let s=h.useContext(cb),r=m2(),n=pb();return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function x2(){let{router:t}=u2(mb.UseNavigateStable),s=pb(hb.UseNavigateStable),r=h.useRef(!1);return db(()=>{r.current=!0}),h.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,wl({fromRouteId:s},l)))},[t,s])}const Bp={};function f2(t,s,r){Bp[t]||(Bp[t]=!0)}function g2(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ii(t){let{to:s,replace:r,state:n,relative:a}=t;ua()||st(!1);let{future:l,static:i}=h.useContext(Ur),{matches:o}=h.useContext(Js),{pathname:c}=cs(),d=we(),u=Rm(s,Lm(o,l.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:a}),[d,m,a,r,n]),null}function b2(t){return r2(t.context)}function me(t){st(!1)}function y2(t){let{basename:s="/",children:r=null,location:n,navigationType:a=jr.Pop,navigator:l,static:i=!1,future:o}=t;ua()&&st(!1);let c=s.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:l,static:i,future:wl({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=da(n));let{pathname:u="/",search:m="",hash:p="",state:w=null,key:x="default"}=n,v=h.useMemo(()=>{let j=Dm(u,c);return j==null?null:{location:{pathname:j,search:m,hash:p,state:w,key:x},navigationType:a}},[c,u,m,p,w,x,a]);return v==null?null:h.createElement(Ur.Provider,{value:d},h.createElement(qo.Provider,{children:r,value:v}))}function v2(t){let{children:s,location:r}=t;return n2(ru(s),r)}new Promise(()=>{});function ru(t,s){s===void 0&&(s=[]);let r=[];return h.Children.forEach(t,(n,a)=>{if(!h.isValidElement(n))return;let l=[...s,a];if(n.type===h.Fragment){r.push.apply(r,ru(n.props.children,l));return}n.type!==me&&st(!1),!n.props.index||!n.props.children||st(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ru(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nu.apply(this,arguments)}function j2(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function w2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N2(t,s){return t.button===0&&(!s||s==="_self")&&!w2(t)}function au(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function k2(t,s){let r=au(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(l=>{r.append(a,l)})}),r}const S2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C2="6";try{window.__reactRouterVersion=C2}catch{}const _2="startTransition",Up=fj[_2];function T2(t){let{basename:s,children:r,future:n,window:a}=t,l=h.useRef();l.current==null&&(l.current=_N({window:a,v5Compat:!0}));let i=l.current,[o,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=h.useCallback(m=>{d&&Up?Up(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.useEffect(()=>g2(n),[n]),h.createElement(y2,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const E2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=h.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=s,p=j2(s,S2),{basename:w}=h.useContext(Ur),x,v=!1;if(typeof d=="string"&&P2.test(d)&&(x=d,E2))try{let g=new URL(window.location.href),y=d.startsWith("//")?new URL(g.protocol+d):new URL(d),N=Dm(y.pathname,w);y.origin===g.origin&&N!=null?d=N+y.search+y.hash:v=!0}catch{}let j=e2(d,{relative:a}),f=A2(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:m});function b(g){n&&n(g),g.defaultPrevented||f(g)}return h.createElement("a",nu({},p,{href:x||j,onClick:v||l?n:b,ref:r,target:c}))});var zp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zp||(zp={}));var Vp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vp||(Vp={}));function A2(t,s){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=we(),d=cs(),u=ub(t,{relative:i});return h.useCallback(m=>{if(N2(m,r)){m.preventDefault();let p=n!==void 0?n:go(d)===go(u);c(t,{replace:p,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,r,t,l,i,o])}function zr(t){let s=h.useRef(au(t)),r=h.useRef(!1),n=cs(),a=h.useMemo(()=>k2(n.search,r.current?null:s.current),[n.search]),l=we(),i=h.useCallback((o,c)=>{const d=au(typeof o=="function"?o(a):o);r.current=!0,l("?"+d,c)},[l,a]);return[a,i]}const xb=h.createContext(null);function M2({children:t}){const[s,r]=h.useState(null),[n,a]=h.useState(null),[l,i]=h.useState(!0);h.useEffect(()=>{try{const u=localStorage.getItem("token"),m=localStorage.getItem("user");if(console.log(" AuthContext hydrating:",{hasStoredToken:!!u,tokenLength:u==null?void 0:u.length,hasStoredUser:!!m,userValid:m?"valid JSON":"missing"}),u&&m){const p=JSON.parse(m);a(u),r(p),console.log(" Auth restored:",{user:p.email,tokenLength:u.length})}else console.log(" Auth not restored - missing data")}catch(u){console.error(" Error restoring auth from storage:",u),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{i(!1)}},[]);const o=(u,m)=>{a(u),r(m),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(m))},c=()=>{a(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user")},d=u=>{r(m=>{const p={...m,...u};return localStorage.setItem("user",JSON.stringify(p)),p})};return e.jsx(xb.Provider,{value:{user:s,token:n,loading:l,login:o,logout:c,updateUser:d,isAuthenticated:!!s&&!!n},children:t})}function Yo(){const t=h.useContext(xb);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,s)=>{const r=h.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>h.createElement("svg",{ref:u,...D2,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${L2(t)}`,o].join(" "),...d},[...s.map(([m,p])=>h.createElement(m,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Z("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Z("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Z("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Z("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Z("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Z("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Z("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Z("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Z("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Z("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Z("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Z("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Z("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Z("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Z("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Z("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Z("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Z("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Z("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Z("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Z("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function jb(t,s){return function(){return t.apply(s,arguments)}}const{toString:m1}=Object.prototype,{getPrototypeOf:Vm}=Object,{iterator:Qo,toStringTag:wb}=Symbol,Xo=(t=>s=>{const r=m1.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Rs=t=>(t=t.toLowerCase(),s=>Xo(s)===t),Zo=t=>s=>typeof s===t,{isArray:ma}=Array,na=Zo("undefined");function Bl(t){return t!==null&&!na(t)&&t.constructor!==null&&!na(t.constructor)&&Xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Nb=Rs("ArrayBuffer");function h1(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Nb(t.buffer),s}const p1=Zo("string"),Xt=Zo("function"),kb=Zo("number"),Ul=t=>t!==null&&typeof t=="object",x1=t=>t===!0||t===!1,$i=t=>{if(Xo(t)!=="object")return!1;const s=Vm(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(wb in t)&&!(Qo in t)},f1=t=>{if(!Ul(t)||Bl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},g1=Rs("Date"),b1=Rs("File"),y1=Rs("Blob"),v1=Rs("FileList"),j1=t=>Ul(t)&&Xt(t.pipe),w1=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Xt(t.append)&&((s=Xo(t))==="formdata"||s==="object"&&Xt(t.toString)&&t.toString()==="[object FormData]"))},N1=Rs("URLSearchParams"),[k1,S1,C1,_1]=["ReadableStream","Request","Response","Headers"].map(Rs),T1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zl(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),ma(t))for(n=0,a=t.length;n<a;n++)s.call(null,t[n],n,t);else{if(Bl(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let o;for(n=0;n<i;n++)o=l[n],s.call(null,t[o],o,t)}}function Sb(t,s){if(Bl(t))return null;s=s.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const an=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cb=t=>!na(t)&&t!==an;function ou(){const{caseless:t,skipUndefined:s}=Cb(this)&&this||{},r={},n=(a,l)=>{const i=t&&Sb(r,l)||l;$i(r[i])&&$i(a)?r[i]=ou(r[i],a):$i(a)?r[i]=ou({},a):ma(a)?r[i]=a.slice():(!s||!na(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&zl(arguments[a],n);return r}const E1=(t,s,r,{allOwnKeys:n}={})=>(zl(s,(a,l)=>{r&&Xt(a)?t[l]=jb(a,r):t[l]=a},{allOwnKeys:n}),t),P1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),A1=(t,s,r,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},M1=(t,s,r,n)=>{let a,l,i;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)i=a[l],(!n||n(i,t,s))&&!o[i]&&(s[i]=t[i],o[i]=!0);t=r!==!1&&Vm(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},D1=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const n=t.indexOf(s,r);return n!==-1&&n===r},L1=t=>{if(!t)return null;if(ma(t))return t;let s=t.length;if(!kb(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},R1=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Vm(Uint8Array)),I1=(t,s)=>{const n=(t&&t[Qo]).call(t);let a;for(;(a=n.next())&&!a.done;){const l=a.value;s.call(t,l[0],l[1])}},F1=(t,s)=>{let r;const n=[];for(;(r=t.exec(s))!==null;)n.push(r);return n},$1=Rs("HTMLFormElement"),O1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Yp=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),B1=Rs("RegExp"),_b=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),n={};zl(r,(a,l)=>{let i;(i=s(a,l,t))!==!1&&(n[l]=i||a)}),Object.defineProperties(t,n)},U1=t=>{_b(t,(s,r)=>{if(Xt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Xt(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},z1=(t,s)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return ma(t)?n(t):n(String(t).split(s)),r},V1=()=>{},W1=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function H1(t){return!!(t&&Xt(t.append)&&t[wb]==="FormData"&&t[Qo])}const G1=t=>{const s=new Array(10),r=(n,a)=>{if(Ul(n)){if(s.indexOf(n)>=0)return;if(Bl(n))return n;if(!("toJSON"in n)){s[a]=n;const l=ma(n)?[]:{};return zl(n,(i,o)=>{const c=r(i,a+1);!na(c)&&(l[o]=c)}),s[a]=void 0,l}}return n};return r(t,0)},q1=Rs("AsyncFunction"),Y1=t=>t&&(Ul(t)||Xt(t))&&Xt(t.then)&&Xt(t.catch),Tb=((t,s)=>t?setImmediate:s?((r,n)=>(an.addEventListener("message",({source:a,data:l})=>{a===an&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),an.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xt(an.postMessage)),K1=typeof queueMicrotask<"u"?queueMicrotask.bind(an):typeof process<"u"&&process.nextTick||Tb,J1=t=>t!=null&&Xt(t[Qo]),W={isArray:ma,isArrayBuffer:Nb,isBuffer:Bl,isFormData:w1,isArrayBufferView:h1,isString:p1,isNumber:kb,isBoolean:x1,isObject:Ul,isPlainObject:$i,isEmptyObject:f1,isReadableStream:k1,isRequest:S1,isResponse:C1,isHeaders:_1,isUndefined:na,isDate:g1,isFile:b1,isBlob:y1,isRegExp:B1,isFunction:Xt,isStream:j1,isURLSearchParams:N1,isTypedArray:R1,isFileList:v1,forEach:zl,merge:ou,extend:E1,trim:T1,stripBOM:P1,inherits:A1,toFlatObject:M1,kindOf:Xo,kindOfTest:Rs,endsWith:D1,toArray:L1,forEachEntry:I1,matchAll:F1,isHTMLForm:$1,hasOwnProperty:Yp,hasOwnProp:Yp,reduceDescriptors:_b,freezeMethods:U1,toObjectSet:z1,toCamelCase:O1,noop:V1,toFiniteNumber:W1,findKey:Sb,global:an,isContextDefined:Cb,isSpecCompliantForm:H1,toJSONObject:G1,isAsyncFn:q1,isThenable:Y1,setImmediate:Tb,asap:K1,isIterable:J1};function je(t,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Eb=je.prototype,Pb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Pb[t]={value:t}});Object.defineProperties(je,Pb);Object.defineProperty(Eb,"isAxiosError",{value:!0});je.from=(t,s,r,n,a,l)=>{const i=Object.create(Eb);W.toFlatObject(t,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return je.call(i,o,c,r,n,a),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",l&&Object.assign(i,l),i};const Q1=null;function cu(t){return W.isPlainObject(t)||W.isArray(t)}function Ab(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function Kp(t,s,r){return t?t.concat(s).map(function(a,l){return a=Ab(a),!r&&l?"["+a+"]":a}).join(r?".":""):s}function X1(t){return W.isArray(t)&&!t.some(cu)}const Z1=W.toFlatObject(W,{},null,function(s){return/^is[A-Z]/.test(s)});function ec(t,s,r){if(!W.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!W.isUndefined(j[v])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(s);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(W.isDate(x))return x.toISOString();if(W.isBoolean(x))return x.toString();if(!c&&W.isBlob(x))throw new je("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(x)||W.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,v,j){let f=x;if(x&&!j&&typeof x=="object"){if(W.endsWith(v,"{}"))v=n?v:v.slice(0,-2),x=JSON.stringify(x);else if(W.isArray(x)&&X1(x)||(W.isFileList(x)||W.endsWith(v,"[]"))&&(f=W.toArray(x)))return v=Ab(v),f.forEach(function(g,y){!(W.isUndefined(g)||g===null)&&s.append(i===!0?Kp([v],y,l):i===null?v:v+"[]",d(g))}),!1}return cu(x)?!0:(s.append(Kp(j,v,l),d(x)),!1)}const m=[],p=Object.assign(Z1,{defaultVisitor:u,convertValue:d,isVisitable:cu});function w(x,v){if(!W.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(x),W.forEach(x,function(f,b){(!(W.isUndefined(f)||f===null)&&a.call(s,f,W.isString(b)?b.trim():b,v,p))===!0&&w(f,v?v.concat(b):[b])}),m.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return w(t),s}function Jp(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function Wm(t,s){this._pairs=[],t&&ec(t,this,s)}const Mb=Wm.prototype;Mb.append=function(s,r){this._pairs.push([s,r])};Mb.toString=function(s){const r=s?function(n){return s.call(this,n,Jp)}:Jp;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function ek(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Db(t,s,r){if(!s)return t;const n=r&&r.encode||ek;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(s,r):l=W.isURLSearchParams(s)?s.toString():new Wm(s,r).toString(n),l){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Qp{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){W.forEach(this.handlers,function(n){n!==null&&s(n)})}}const Lb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tk=typeof URLSearchParams<"u"?URLSearchParams:Wm,sk=typeof FormData<"u"?FormData:null,rk=typeof Blob<"u"?Blob:null,nk={isBrowser:!0,classes:{URLSearchParams:tk,FormData:sk,Blob:rk},protocols:["http","https","file","blob","url","data"]},Hm=typeof window<"u"&&typeof document<"u",du=typeof navigator=="object"&&navigator||void 0,ak=Hm&&(!du||["ReactNative","NativeScript","NS"].indexOf(du.product)<0),lk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ik=Hm&&window.location.href||"http://localhost",ok=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hm,hasStandardBrowserEnv:ak,hasStandardBrowserWebWorkerEnv:lk,navigator:du,origin:ik},Symbol.toStringTag,{value:"Module"})),Pt={...ok,...nk};function ck(t,s){return ec(t,new Pt.classes.URLSearchParams,{visitor:function(r,n,a,l){return Pt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function dk(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function uk(t){const s={},r=Object.keys(t);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],s[l]=t[l];return s}function Rb(t){function s(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&W.isArray(a)?a.length:i,c?(W.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!W.isObject(a[i]))&&(a[i]=[]),s(r,n,a[i],l)&&W.isArray(a[i])&&(a[i]=uk(a[i])),!o)}if(W.isFormData(t)&&W.isFunction(t.entries)){const r={};return W.forEachEntry(t,(n,a)=>{s(dk(n),a,r,0)}),r}return null}function mk(t,s,r){if(W.isString(t))try{return(s||JSON.parse)(t),W.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Vl={transitional:Lb,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=W.isObject(s);if(l&&W.isHTMLForm(s)&&(s=new FormData(s)),W.isFormData(s))return a?JSON.stringify(Rb(s)):s;if(W.isArrayBuffer(s)||W.isBuffer(s)||W.isStream(s)||W.isFile(s)||W.isBlob(s)||W.isReadableStream(s))return s;if(W.isArrayBufferView(s))return s.buffer;if(W.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ck(s,this.formSerializer).toString();if((o=W.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ec(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),mk(s)):s}],transformResponse:[function(s){const r=this.transitional||Vl.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(s)||W.isReadableStream(s))return s;if(s&&W.isString(s)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?je.from(o,je.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Vl.headers[t]={}});const hk=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pk=t=>{const s={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||s[r]&&hk[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},Xp=Symbol("internals");function Aa(t){return t&&String(t).trim().toLowerCase()}function Oi(t){return t===!1||t==null?t:W.isArray(t)?t.map(Oi):String(t)}function xk(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)s[n[1]]=n[2];return s}const fk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fc(t,s,r,n,a){if(W.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!W.isString(s)){if(W.isString(n))return s.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(s)}}function gk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function bk(t,s){const r=W.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,l,i){return this[n].call(this,s,a,l,i)},configurable:!0})})}let Zt=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function l(o,c,d){const u=Aa(c);if(!u)throw new Error("header name must be a non-empty string");const m=W.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Oi(o))}const i=(o,c)=>W.forEach(o,(d,u)=>l(d,u,c));if(W.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(W.isString(s)&&(s=s.trim())&&!fk(s))i(pk(s),r);else if(W.isObject(s)&&W.isIterable(s)){let o={},c,d;for(const u of s){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?W.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else s!=null&&l(r,s,n);return this}get(s,r){if(s=Aa(s),s){const n=W.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return xk(a);if(W.isFunction(r))return r.call(this,a,n);if(W.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Aa(s),s){const n=W.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||Fc(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function l(i){if(i=Aa(i),i){const o=W.findKey(n,i);o&&(!r||Fc(n,n[o],o,r))&&(delete n[o],a=!0)}}return W.isArray(s)?s.forEach(l):l(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!s||Fc(this,this[l],l,s,!0))&&(delete this[l],a=!0)}return a}normalize(s){const r=this,n={};return W.forEach(this,(a,l)=>{const i=W.findKey(n,l);if(i){r[i]=Oi(a),delete r[l];return}const o=s?gk(l):String(l).trim();o!==l&&delete r[l],r[o]=Oi(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return W.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[Xp]=this[Xp]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Aa(i);n[o]||(bk(a,i),n[o]=!0)}return W.isArray(s)?s.forEach(l):l(s),this}};Zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Zt.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[r]=n}}});W.freezeMethods(Zt);function $c(t,s){const r=this||Vl,n=s||r,a=Zt.from(n.headers);let l=n.data;return W.forEach(t,function(o){l=o.call(r,l,a.normalize(),s?s.status:void 0)}),a.normalize(),l}function Ib(t){return!!(t&&t.__CANCEL__)}function ha(t,s,r){je.call(this,t??"canceled",je.ERR_CANCELED,s,r),this.name="CanceledError"}W.inherits(ha,je,{__CANCEL__:!0});function Fb(t,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):s(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function yk(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function vk(t,s){t=t||10;const r=new Array(t),n=new Array(t);let a=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=n[l];i||(i=d),r[a]=c,n[a]=d;let m=l,p=0;for(;m!==a;)p+=r[m++],m=m%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),d-i<s)return;const w=u&&d-u;return w?Math.round(p*1e3/w):void 0}}function jk(t,s){let r=0,n=1e3/s,a,l;const i=(d,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),t(...d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=n?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-m)))},()=>a&&i(a)]}const jo=(t,s,r=3)=>{let n=0;const a=vk(50,250);return jk(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),u=i<=o;n=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},r)},Zp=(t,s)=>{const r=t!=null;return[n=>s[0]({lengthComputable:r,total:t,loaded:n}),s[1]]},ex=t=>(...s)=>W.asap(()=>t(...s)),wk=Pt.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,Pt.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(Pt.origin),Pt.navigator&&/(msie|trident)/i.test(Pt.navigator.userAgent)):()=>!0,Nk=Pt.hasStandardBrowserEnv?{write(t,s,r,n,a,l){const i=[t+"="+encodeURIComponent(s)];W.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),W.isString(n)&&i.push("path="+n),W.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kk(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Sk(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function $b(t,s,r){let n=!kk(s);return t&&(n||r==!1)?Sk(t,s):s}const tx=t=>t instanceof Zt?{...t}:t;function yn(t,s){s=s||{};const r={};function n(d,u,m,p){return W.isPlainObject(d)&&W.isPlainObject(u)?W.merge.call({caseless:p},d,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function a(d,u,m,p){if(W.isUndefined(u)){if(!W.isUndefined(d))return n(void 0,d,m,p)}else return n(d,u,m,p)}function l(d,u){if(!W.isUndefined(u))return n(void 0,u)}function i(d,u){if(W.isUndefined(u)){if(!W.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,m){if(m in s)return n(d,u);if(m in t)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,m)=>a(tx(d),tx(u),m,!0)};return W.forEach(Object.keys({...t,...s}),function(u){const m=c[u]||a,p=m(t[u],s[u],u);W.isUndefined(p)&&m!==o||(r[u]=p)}),r}const Ob=t=>{const s=yn({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=Zt.from(i),s.url=Db($b(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),W.isFormData(r)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&i.set(u,m)})}}if(Pt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(s)),n||n!==!1&&wk(s.url))){const c=a&&l&&Nk.read(l);c&&i.set(a,c)}return s},Ck=typeof XMLHttpRequest<"u",_k=Ck&&function(t){return new Promise(function(r,n){const a=Ob(t);let l=a.data;const i=Zt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,m,p,w,x;function v(){w&&w(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function f(){if(!j)return;const g=Zt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:g,config:t,request:j};Fb(function(S){r(S),v()},function(S){n(S),v()},N),j=null}"onloadend"in j?j.onloadend=f:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(f)},j.onabort=function(){j&&(n(new je("Request aborted",je.ECONNABORTED,t,j)),j=null)},j.onerror=function(y){const N=y&&y.message?y.message:"Network Error",C=new je(N,je.ERR_NETWORK,t,j);C.event=y||null,n(C),j=null},j.ontimeout=function(){let y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||Lb;a.timeoutErrorMessage&&(y=a.timeoutErrorMessage),n(new je(y,N.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,j)),j=null},l===void 0&&i.setContentType(null),"setRequestHeader"in j&&W.forEach(i.toJSON(),function(y,N){j.setRequestHeader(N,y)}),W.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),o&&o!=="json"&&(j.responseType=a.responseType),d&&([p,x]=jo(d,!0),j.addEventListener("progress",p)),c&&j.upload&&([m,w]=jo(c),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(u=g=>{j&&(n(!g||g.type?new ha(null,t,j):g),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const b=yk(a.url);if(b&&Pt.protocols.indexOf(b)===-1){n(new je("Unsupported protocol "+b+":",je.ERR_BAD_REQUEST,t));return}j.send(l||null)})},Tk=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof je?u:new ha(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new je(`timeout ${s} of ms exceeded`,je.ETIMEDOUT))},s);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),t=null)};t.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>W.asap(o),c}},Ek=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let n=0,a;for(;n<r;)a=n+s,yield t.slice(n,a),n=a},Pk=async function*(t,s){for await(const r of Ak(t))yield*Ek(r,s)},Ak=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},sx=(t,s,r,n)=>{const a=Pk(t,s);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let m=u.byteLength;if(r){let p=l+=m;r(p)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},rx=64*1024,{isFunction:ui}=W,Mk=(({Request:t,Response:s})=>({Request:t,Response:s}))(W.global),{ReadableStream:nx,TextEncoder:ax}=W.global,lx=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Dk=t=>{t=W.merge.call({skipUndefined:!0},Mk,t);const{fetch:s,Request:r,Response:n}=t,a=s?ui(s):typeof fetch=="function",l=ui(r),i=ui(n);if(!a)return!1;const o=a&&ui(nx),c=a&&(typeof ax=="function"?(x=>v=>x.encode(v))(new ax):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=l&&o&&lx(()=>{let x=!1;const v=new r(Pt.origin,{body:new nx,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),u=i&&o&&lx(()=>W.isReadableStream(new n("").body)),m={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(v,j)=>{let f=v&&v[x];if(f)return f.call(v);throw new je(`Response type '${x}' is not supported`,je.ERR_NOT_SUPPORT,j)})});const p=async x=>{if(x==null)return 0;if(W.isBlob(x))return x.size;if(W.isSpecCompliantForm(x))return(await new r(Pt.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(W.isArrayBufferView(x)||W.isArrayBuffer(x))return x.byteLength;if(W.isURLSearchParams(x)&&(x=x+""),W.isString(x))return(await c(x)).byteLength},w=async(x,v)=>{const j=W.toFiniteNumber(x.getContentLength());return j??p(v)};return async x=>{let{url:v,method:j,data:f,signal:b,cancelToken:g,timeout:y,onDownloadProgress:N,onUploadProgress:C,responseType:S,headers:k,withCredentials:T="same-origin",fetchOptions:L}=Ob(x),E=s||fetch;S=S?(S+"").toLowerCase():"text";let V=Tk([b,g&&g.toAbortSignal()],y),R=null;const M=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let H;try{if(C&&d&&j!=="get"&&j!=="head"&&(H=await w(k,f))!==0){let Q=new r(v,{method:"POST",body:f,duplex:"half"}),ue;if(W.isFormData(f)&&(ue=Q.headers.get("content-type"))&&k.setContentType(ue),Q.body){const[Ce,ge]=Zp(H,jo(ex(C)));f=sx(Q.body,rx,Ce,ge)}}W.isString(T)||(T=T?"include":"omit");const O=l&&"credentials"in r.prototype,D={...L,signal:V,method:j.toUpperCase(),headers:k.normalize().toJSON(),body:f,duplex:"half",credentials:O?T:void 0};R=l&&new r(v,D);let A=await(l?E(R,L):E(v,D));const F=u&&(S==="stream"||S==="response");if(u&&(N||F&&M)){const Q={};["status","statusText","headers"].forEach(X=>{Q[X]=A[X]});const ue=W.toFiniteNumber(A.headers.get("content-length")),[Ce,ge]=N&&Zp(ue,jo(ex(N),!0))||[];A=new n(sx(A.body,rx,Ce,()=>{ge&&ge(),M&&M()}),Q)}S=S||"text";let z=await m[W.findKey(m,S)||"text"](A,x);return!F&&M&&M(),await new Promise((Q,ue)=>{Fb(Q,ue,{data:z,headers:Zt.from(A.headers),status:A.status,statusText:A.statusText,config:x,request:R})})}catch(O){throw M&&M(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,x,R),{cause:O.cause||O}):je.from(O,O&&O.code,x,R)}}},Lk=new Map,Bb=t=>{let s=t?t.env:{};const{fetch:r,Request:n,Response:a}=s,l=[n,a,r];let i=l.length,o=i,c,d,u=Lk;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:Dk(s)),u=d;return d};Bb();const uu={http:Q1,xhr:_k,fetch:{get:Bb}};W.forEach(uu,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const ix=t=>`- ${t}`,Rk=t=>W.isFunction(t)||t===null||t===!1,Ub={getAdapter:(t,s)=>{t=W.isArray(t)?t:[t];const{length:r}=t;let n,a;const l={};for(let i=0;i<r;i++){n=t[i];let o;if(a=n,!Rk(n)&&(a=uu[(o=String(n)).toLowerCase()],a===void 0))throw new je(`Unknown adapter '${o}'`);if(a&&(W.isFunction(a)||(a=a.get(s))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(ix).join(`
`):" "+ix(i[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:uu};function Oc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ha(null,t)}function ox(t){return Oc(t),t.headers=Zt.from(t.headers),t.data=$c.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ub.getAdapter(t.adapter||Vl.adapter,t)(t).then(function(n){return Oc(t),n.data=$c.call(t,t.transformResponse,n),n.headers=Zt.from(n.headers),n},function(n){return Ib(n)||(Oc(t),n&&n.response&&(n.response.data=$c.call(t,t.transformResponse,n.response),n.response.headers=Zt.from(n.response.headers))),Promise.reject(n)})}const zb="1.12.2",tc={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{tc[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const cx={};tc.transitional=function(s,r,n){function a(l,i){return"[Axios v"+zb+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(s===!1)throw new je(a(i," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!cx[i]&&(cx[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};tc.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function Ik(t,s,r){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const l=n[a],i=s[l];if(i){const o=t[l],c=o===void 0||i(o,l,t);if(c!==!0)throw new je("option "+l+" must be "+c,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+l,je.ERR_BAD_OPTION)}}const Bi={assertOptions:Ik,validators:tc},Bs=Bi.validators;let un=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Qp,response:new Qp}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=yn(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&Bi.assertOptions(n,{silentJSONParsing:Bs.transitional(Bs.boolean),forcedJSONParsing:Bs.transitional(Bs.boolean),clarifyTimeoutError:Bs.transitional(Bs.boolean)},!1),a!=null&&(W.isFunction(a)?r.paramsSerializer={serialize:a}:Bi.assertOptions(a,{encode:Bs.function,serialize:Bs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bi.assertOptions(r,{baseUrl:Bs.spelling("baseURL"),withXsrfToken:Bs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&W.merge(l.common,l[r.method]);l&&W.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),r.headers=Zt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,m=0,p;if(!c){const x=[ox.bind(this),void 0];for(x.unshift(...o),x.push(...d),p=x.length,u=Promise.resolve(r);m<p;)u=u.then(x[m++],x[m++]);return u}p=o.length;let w=r;for(;m<p;){const x=o[m++],v=o[m++];try{w=x(w)}catch(j){v.call(this,j);break}}try{u=ox.call(this,w)}catch(x){return Promise.reject(x)}for(m=0,p=d.length;m<p;)u=u.then(d[m++],d[m++]);return u}getUri(s){s=yn(this.defaults,s);const r=$b(s.baseURL,s.url,s.allowAbsoluteUrls);return Db(r,s.params,s.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(s){un.prototype[s]=function(r,n){return this.request(yn(n||{},{method:s,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(s){function r(n){return function(l,i,o){return this.request(yn(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}un.prototype[s]=r(),un.prototype[s+"Form"]=r(!0)});let Fk=class Vb{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},s(function(l,i,o){n.reason||(n.reason=new ha(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Vb(function(a){s=a}),cancel:s}}};function $k(t){return function(r){return t.apply(null,r)}}function Ok(t){return W.isObject(t)&&t.isAxiosError===!0}const mu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mu).forEach(([t,s])=>{mu[s]=t});function Wb(t){const s=new un(t),r=jb(un.prototype.request,s);return W.extend(r,un.prototype,s,{allOwnKeys:!0}),W.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return Wb(yn(t,a))},r}const rt=Wb(Vl);rt.Axios=un;rt.CanceledError=ha;rt.CancelToken=Fk;rt.isCancel=Ib;rt.VERSION=zb;rt.toFormData=ec;rt.AxiosError=je;rt.Cancel=rt.CanceledError;rt.all=function(s){return Promise.all(s)};rt.spread=$k;rt.isAxiosError=Ok;rt.mergeConfig=yn;rt.AxiosHeaders=Zt;rt.formToJSON=t=>Rb(W.isHTMLForm(t)?new FormData(t):t);rt.getAdapter=Ub.getAdapter;rt.HttpStatusCode=mu;rt.default=rt;const{Axios:jT,AxiosError:wT,CanceledError:NT,isCancel:kT,CancelToken:ST,VERSION:CT,all:_T,Cancel:TT,isAxiosError:ET,spread:PT,toFormData:AT,AxiosHeaders:MT,HttpStatusCode:DT,formToJSON:LT,getAdapter:RT,mergeConfig:IT}=rt;let Kn="https://schedulesync-web-production.up.railway.app";Kn=Kn.replace(/\/$/,"");const Hb=Kn.endsWith("/api")?Kn:`${Kn}/api`,Gb=Kn.replace(/\/api$/,"");console.log(" Final API Base URL:",Hb);console.log(" Static Base URL:",Gb);const _=rt.create({baseURL:Hb});_.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t});_.interceptors.response.use(t=>t,t=>{var s,r,n,a,l,i,o,c,d,u;return(((s=t.response)==null?void 0:s.status)===401||((r=t.response)==null?void 0:r.status)===403)&&!((a=(n=t.config)==null?void 0:n.url)!=null&&a.includes("/subscription"))&&!((i=(l=t.config)==null?void 0:l.url)!=null&&i.includes("/limits"))&&!((c=(o=t.config)==null?void 0:o.url)!=null&&c.includes("/usage"))&&!((u=(d=t.config)==null?void 0:d.url)!=null&&u.includes("/teams"))&&(console.log("?? Auth failed, clearing token and redirecting..."),localStorage.removeItem("token"),window.location.pathname.includes("/login")||(window.location.href="/login?error=session_expired")),Promise.reject(t)});const Wr={login:(t,s)=>_.post("/auth/login",{email:t,password:s}),register:t=>_.post("/auth/register",t),me:()=>_.get("/auth/me"),verifyEmail:t=>_.get("/auth/verify-email",{params:{token:t}}),forgotPassword:t=>_.post("/auth/forgot-password",{email:t}),resetPassword:(t,s)=>_.post("/auth/reset-password",{token:t,newPassword:s}),resendVerification:t=>_.post("/auth/resend-verification",{email:t}),updateProfile:t=>_.put("/user/profile",t),getGoogleUrl:()=>_.get("/auth/google/url")},Vs={getGoogleUrl:()=>_.get("/auth/google/url"),getMicrosoftUrl:()=>_.get("/auth/microsoft/url"),getCalendlyUrl:()=>_.get("/auth/calendly/url"),handleGoogleCallback:t=>_.post("/auth/google/callback",{code:t}),handleMicrosoftCallback:t=>_.post("/auth/microsoft/callback",{code:t}),handleCalendlyCallback:t=>_.post("/auth/calendly/callback",{code:t}),getGoogleGuestUrl:t=>_.get("/book/auth/google/url",{params:{bookingToken:t}}),getMicrosoftGuestUrl:t=>_.get("/book/auth/microsoft/url",{params:{bookingToken:t}}),guestGoogleAuth:(t,s)=>_.post("/book/auth/google",{code:t,bookingToken:s}),guestMicrosoftAuth:(t,s)=>_.post("/book/auth/microsoft",{code:t,bookingToken:s})},gs={getAll:()=>_.get("/teams"),create:t=>_.post("/teams",t),get:t=>_.get(`/teams/${t}`),update:(t,s)=>_.put(`/teams/${t}`,s),delete:t=>_.delete(`/teams/${t}`),getMembers:t=>_.get(`/teams/${t}/members`),addMember:(t,s)=>_.post(`/teams/${t}/members`,s),removeMember:(t,s)=>_.delete(`/teams/${t}/members/${s}`),updateMember:(t,s,r)=>_.put(`/teams/${t}/members/${s}`,r),updateMemberStatus:(t,s,r)=>_.patch(`/teams/${t}/members/${s}/status`,{is_active:r}),updateMemberPricing:(t,s,r)=>_.put(`/teams/${t}/members/${s}/pricing`,r),updateMemberExternalLink:(t,s,r)=>_.put(`/teams/${t}/members/${s}/external-link`,r),getAvailability:(t,s)=>_.post(`/teams/${t}/availability`,s),getAssignmentStats:t=>_.get(`/teams/${t}/assignment-stats`),list:()=>_.get("/teams")},Bk={getSettings:(t,s)=>_.get(`/team-members/${s}/availability`),updateSettings:(t,s,r)=>_.put(`/team-members/${s}/availability`,r)},Rr={list:t=>_.get("/bookings",{params:t}),getAll:t=>_.get("/bookings",{params:t}),getByToken:t=>_.get(`/book/${t}`),getSlots:(t,s)=>_.post(`/book/${t}/slots-with-status`,s),create:t=>_.post("/bookings",t),getManagementDetails:t=>_.get(`/bookings/manage/${t}`),rescheduleByToken:(t,s)=>_.post(`/bookings/manage/${t}/reschedule`,s),cancelByToken:(t,s)=>_.post(`/bookings/manage/${t}/cancel`,{reason:s})},hu={getSettings:()=>_.get("/reminders/settings"),updateSettings:t=>_.put("/reminders/settings",t),getHistory:t=>_.get("/reminders/history",{params:t}),getStatus:()=>_.get("/reminders/status")},Ua={connectGoogle:()=>_.get("/auth/google/url"),disconnectGoogle:()=>_.post("/calendar/google/disconnect"),getStatus:()=>_.get("/calendar/status"),listEvents:(t,s)=>_.get(`/calendar/events?start=${t}&end=${s}`),syncEvents:()=>_.post("/calendar/sync")},Uk={getConfig:()=>_.get("/payments/config"),getPricing:t=>_.get(`/book/${t}/pricing`),createIntent:t=>_.post("/payments/create-intent",t),confirmBooking:t=>_.post("/payments/confirm-booking",t),getPaymentStatus:t=>_.get(`/payments/status/${t}`)},zk={schedule:(t,s)=>_.post("/ai/schedule",{message:t,conversationHistory:s}),confirm:t=>_.post("/ai/schedule/confirm",t),suggest:t=>_.post("/ai/suggest",{preferences:t})},Vk={sendMessage:async(t,s=[])=>_.post("/ai/schedule",{message:t,conversationHistory:s}),confirmBooking:async t=>_.post("/ai/schedule/confirm",t),suggestTimes:async(t=30,s=null,r=null)=>_.post("/ai/suggest",{duration:t,attendeeEmail:s,notes:r})},Wk={generate:t=>_.post("/single-use-links",t),getRecent:()=>_.get("/single-use-links/recent"),get:t=>_.get(`/single-use-links/${t}`),revoke:t=>_.delete(`/single-use-links/${t}`)},Gm={getAll:()=>_.get("/event-types"),list:t=>_.get(`/event-types?member_id=${t}`),create:t=>_.post("/event-types",t),get:t=>_.get(`/event-types/${t}`),update:(t,s)=>_.put(`/event-types/${t}`,s),delete:t=>_.delete(`/event-types/${t}`),toggle:(t,s)=>_.patch(`/event-types/${t}/toggle`,{active:s})},qs=Gm,Hk={getAll:()=>_.get("/email-templates"),get:t=>_.get(`/email-templates/${t}`),create:t=>_.post("/email-templates",t),update:(t,s)=>_.put(`/email-templates/${t}`,s),delete:t=>_.delete(`/email-templates/${t}`),toggleFavorite:t=>_.patch(`/email-templates/${t}/favorite`),listForAI:t=>_.get("/chatgpt/email-templates",{params:{type:t}}),findTemplate:(t,s)=>_.get("/chatgpt/find-template",{params:{query:t,type:s}}),sendWithTemplate:t=>_.post("/chatgpt/send-email",t)},Gk={getDashboard:()=>_.get("/analytics/dashboard"),getBookingStats:(t,s)=>_.get(`/analytics/bookings?start=${t}&end=${s}`),getTeamStats:t=>_.get(`/analytics/teams/${t}`),getMemberStats:t=>_.get(`/analytics/members/${t}`),exportData:(t="csv")=>_.get(`/analytics/export?format=${t}`)},Cn={list:()=>_.get("/notifications"),markAsRead:t=>_.put(`/notifications/${t}/read`),markAllAsRead:()=>_.put("/notifications/read-all"),delete:t=>_.delete(`/notifications/${t}`),getUnreadCount:()=>_.get("/notifications/unread-count")},sc={get:()=>_.get("/user/timezone"),update:t=>_.put("/user/timezone",{timezone:t}),list:()=>_.get("/timezones"),detect:()=>_.get("/timezones/detect"),convert:(t,s,r)=>_.post("/timezones/convert",{fromTimezone:t,toTimezone:s,datetime:r})},Za={getToken:()=>_.get("/user/jwt-token"),refreshToken:()=>_.post("/user/refresh-chatgpt-token"),testConnection:()=>_.get("/user/test-chatgpt-connection"),getSetupGuide:()=>_.get("/user/chatgpt-setup-guide"),getSchema:()=>_.get("/user/chatgpt-openapi-schema")},qk={getProfile:()=>_.get("/profile"),updateProfile:t=>_.put("/profile",t),updatePassword:t=>_.put("/profile/password",t),deleteAccount:()=>_.delete("/profile"),usage:()=>_.get("/user/usage"),limits:()=>_.get("/user/limits")},Yk={getMyTasks:()=>_.get("/action-items/my-tasks"),getForBooking:t=>_.get(`/bookings/${t}/action-items`),create:(t,s)=>_.post(`/bookings/${t}/action-items`,s),update:(t,s)=>_.put(`/action-items/${t}`,s),complete:t=>_.put(`/action-items/${t}/complete`),uncomplete:t=>_.put(`/action-items/${t}/uncomplete`),delete:t=>_.delete(`/action-items/${t}`)},Kk={getAll:t=>_.get("/attendees",{params:t}),getByEmail:t=>_.get(`/attendees/${encodeURIComponent(t)}`),updateNotes:(t,s)=>_.put(`/attendees/${encodeURIComponent(t)}/notes`,{notes:s}),updateProfile:(t,s)=>_.put(`/attendees/${encodeURIComponent(t)}/profile`,s),getStats:()=>_.get("/attendees-stats/summary")},Jk={get:t=>_.get(`/bookings/${t}/context`),generateAgenda:t=>_.post(`/bookings/${t}/context/agenda`),updateNotes:(t,s)=>_.put(`/bookings/${t}/context/notes`,{notes:s})},Qk={find:t=>_.post("/group-availability",t),checkSlot:t=>_.post("/group-availability/check-slot",t)},Xk={getSuggestions:t=>_.post("/smart-suggestions",t),getCalendarAnalytics:t=>_.get("/calendar-analytics",{params:{timeRange:t}})},Zk={getAll:()=>_.get("/meeting-templates"),create:t=>_.post("/meeting-templates",t),get:t=>_.get(`/meeting-templates/${t}`),update:(t,s)=>_.put(`/meeting-templates/${t}`,s),delete:t=>_.delete(`/meeting-templates/${t}`),createBooking:(t,s)=>_.post(`/bookings/from-template/${t}`,s)},e5={slack:{connect:()=>_.get("/integrations/slack/connect"),disconnect:()=>_.delete("/integrations/slack"),getStatus:()=>_.get("/integrations/slack/status"),updateSettings:t=>_.put("/integrations/slack/settings",t)},webhooks:{getAll:()=>_.get("/integrations/webhooks"),create:t=>_.post("/integrations/webhooks",t),update:(t,s)=>_.put(`/integrations/webhooks/${t}`,s),delete:t=>_.delete(`/integrations/webhooks/${t}`),test:t=>_.post(`/integrations/webhooks/${t}/test`),getDeliveries:t=>_.get(`/integrations/webhooks/${t}/deliveries`)},crm:{connect:t=>_.get(`/integrations/${t}/connect`),disconnect:t=>_.delete(`/integrations/${t}`),sync:t=>_.post(`/integrations/${t}/sync`),getStatus:t=>_.get(`/integrations/${t}/status`)}};Vs.getGoogleUrl;Vs.handleGoogleCallback;const t5={getCurrent:()=>_.get("/subscriptions/current"),create:t=>_.post("/subscriptions/create",t),cancel:()=>_.post("/subscriptions/cancel"),reactivate:()=>_.post("/subscriptions/reactivate"),getSubscription:()=>_.get("/billing/subscription"),createCheckout:t=>_.post("/billing/create-checkout",t),getInvoices:()=>_.get("/billing/invoices"),downloadInvoice:t=>_.get(`/billing/invoices/${t}/download`,{responseType:"blob"}),getBillingPortal:()=>_.post("/subscriptions/billing-portal")};_.auth=Wr;_.oauth=Vs;_.teams=gs;_.bookings=Rr;_.availability=Bk;_.reminders=hu;_.calendar=Ua;_.payments=Uk;_.ai=zk;_.aiScheduler=Vk;_.singleUseLinks=Wk;_.eventTypes=Gm;_.events=qs;_.emailTemplates=Hk;_.analytics=Gk;_.notifications=Cn;_.timezone=sc;_.user=qk;_.chatgptIntegration=Za;_.billing=t5;_.actionItems=Yk;_.attendees=Kk;_.meetingContext=Jk;_.groupAvailability=Qk;_.smart=Xk;_.templates=Zk;_.integrations=e5;const qm=h.createContext(null),Ma={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},s5=({notification:t,onClose:s})=>{const r={success:e.jsx(xe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 flex-shrink-0"}),error:e.jsx($t,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600 flex-shrink-0"}),info:e.jsx(Om,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 flex-shrink-0"}),warning:e.jsx(Nl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-600 flex-shrink-0"})},n={success:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300/50 shadow-green-100/50",error:"bg-gradient-to-br from-red-50 to-rose-50 border-red-300/50 shadow-red-100/50",info:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-300/50 shadow-blue-100/50",warning:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-300/50 shadow-amber-100/50"};return h.useEffect(()=>{if(t.duration===1/0)return;const a=setTimeout(()=>{s(t.id)},t.duration||5e3);return()=>clearTimeout(a)},[t.id,t.duration,s]),e.jsxs("div",{className:`flex items-start gap-3 p-3 sm:p-4 rounded-xl border-2 backdrop-blur-xl shadow-2xl ${n[t.type]} animate-in slide-in-from-right duration-500 max-w-[calc(100vw-2rem)] sm:max-w-sm hover:scale-105 transition-transform`,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r[t.type]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[t.title&&e.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base truncate mb-0.5",children:t.title}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-700 line-clamp-2 leading-relaxed",children:t.message})]}),e.jsx("button",{onClick:()=>s(t.id),className:"text-gray-400 hover:text-gray-700 hover:bg-white/50 rounded-lg p-1 flex-shrink-0 transition-all",children:e.jsx(Pe,{className:"w-4 h-4"})})]})};function r5({children:t}){const[s,r]=h.useState([]),n=(S,k,T="",L=5e3)=>{const V={id:Date.now(),type:S,message:k,title:T,duration:L};r(R=>[...R,V])},a=h.useState([]),l=S=>{r(k=>k.filter(T=>T.id!==S))},i=(S,k="Success")=>n(Ma.SUCCESS,S,k),o=(S,k="Error")=>n(Ma.ERROR,S,k),c=(S,k="Info")=>n(Ma.INFO,S,k),C={success:i,error:o,info:c,warning:(S,k="Warning")=>n(Ma.WARNING,S,k),notify:(S,k,T,L)=>n(S,k,T,L),confirm:async(S,k="Confirm Action")=>new Promise(T=>{const L=Date.now(),E={id:L,type:Ma.WARNING,message:S,title:k,duration:1/0,actions:[{label:"Confirm",onClick:()=>{l(L),T(!0)},className:"bg-blue-600 text-white"},{label:"Cancel",onClick:()=>{l(L),T(!1)},className:"bg-gray-200 text-gray-800"}]};r(V=>[...V,E])}),prompt:async(S,k="Input Required",T="")=>new Promise(L=>{const E=window.prompt(S,T);L(E)}),bookingCreated:S=>{i(`Booking confirmed for ${S.date} at ${S.time}`,"Booking Confirmed")},bookingCancelled:S=>{c(`Your booking for ${S.date} has been cancelled`,"Booking Cancelled")},bookingUpdated:S=>{c(`Your booking has been updated to ${S.date} at ${S.time}`,"Booking Updated")},paymentSuccess:S=>{i(`Payment of $${S} processed successfully`,"Payment Successful")},paymentFailed:S=>{o(S||"Payment could not be processed. Please try again.","Payment Failed")},teamInvite:S=>{c(`You've been invited to join ${S}`,"Team Invitation")},teamMemberAdded:S=>{i(`${S} has been added to the team`,"Team Updated")},calendarSynced:()=>{i("Your calendar has been synchronized successfully","Calendar Synced")},calendarSyncFailed:S=>{o(S||"Failed to sync calendar. Please try again.","Sync Failed")},notifications:a};return e.jsxs(qm.Provider,{value:C,children:[t,e.jsx("div",{className:"fixed top-2 right-2 sm:top-4 sm:right-4 z-[99999] space-y-2 pointer-events-none max-w-full",children:e.jsx("div",{className:"pointer-events-auto space-y-2",children:s.map(S=>e.jsx(s5,{notification:S,onClose:l},S.id))})})]})}function pa(){const t=h.useContext(qm);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t}const dx=t=>t?t.replace(/^[\?\s]+/,"").replace(/[\uFFFD\u0000-\u001F]/g,"").trim():"",n5=({type:t})=>{const s="w-5 h-5";switch(t){case"booking":case"booking_created":case"booking_confirmed":return e.jsx(se,{className:`${s} text-blue-500`});case"booking_cancelled":return e.jsx($t,{className:`${s} text-red-500`});case"booking_rescheduled":return e.jsx(vs,{className:`${s} text-orange-500`});case"payment":case"payment_received":return e.jsx(V2,{className:`${s} text-green-500`});case"reminder":case"reminder_sent":return e.jsx(he,{className:`${s} text-yellow-500`});case"team":return e.jsx(Le,{className:`${s} text-purple-500`});case"calendar":return e.jsx(se,{className:`${s} text-indigo-500`});default:return e.jsx(Fi,{className:`${s} text-gray-500`})}};function a5(){const[t,s]=h.useState(!1),[r,n]=h.useState([]),[a,l]=h.useState(0),[i,o]=h.useState(!1),[c,d]=h.useState(!1),u=h.useContext(qm);if(!u)return console.error("NotificationBell must be used within NotificationProvider"),null;const m=10,p=c?r:r.slice(0,m),w=r.length>m&&!c,x=async()=>{o(!0);try{const y=await Cn.list();n(y.data.notifications||[])}catch(y){console.error("Failed to fetch notifications:",y)}finally{o(!1)}},v=async()=>{try{const y=await Cn.getUnreadCount();l(y.data.count||0)}catch(y){console.error("Failed to fetch unread count:",y)}};h.useEffect(()=>{v();const y=setInterval(v,3e4);return()=>clearInterval(y)},[]),h.useEffect(()=>{t&&(x(),d(!1))},[t]);const j=y=>{const N=new Date(y),S=Math.floor((new Date-N)/1e3);return S<60?"Just now":S<3600?`${Math.floor(S/60)}m ago`:S<86400?`${Math.floor(S/3600)}h ago`:S<604800?`${Math.floor(S/86400)}d ago`:N.toLocaleDateString()},f=async(y,N)=>{y.stopPropagation();try{await Cn.markAsRead(N.id),n(C=>C.map(S=>S.id===N.id?{...S,is_read:!0}:S)),l(C=>Math.max(0,C-1))}catch(C){console.error("Failed to mark as read:",C),u.error("Failed to mark notification as read")}},b=async()=>{try{await Cn.markAllAsRead(),n(y=>y.map(N=>({...N,is_read:!0}))),l(0),u.success("All notifications marked as read")}catch(y){console.error("Failed to mark all as read:",y),u.error("Failed to mark all as read")}},g=async(y,N)=>{y.stopPropagation();try{await Cn.delete(N),n(S=>S.filter(k=>k.id!==N));const C=r.find(S=>S.id===N);C&&!C.is_read&&l(S=>Math.max(0,S-1)),u.success("Notification deleted")}catch(C){console.error("Failed to delete notification:",C),u.error("Failed to delete notification")}};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-gray-600 hover:text-purple-600 hover:bg-gradient-to-br hover:from-purple-50 hover:to-pink-50 rounded-xl transition-all duration-300 group",children:[e.jsx(Fi,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),a>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-br from-red-500 to-pink-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-lg animate-pulse",children:a>9?"9+":a})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),e.jsxs("div",{className:"fixed sm:absolute inset-x-2 sm:inset-x-auto sm:right-0 top-14 sm:top-auto sm:mt-2 w-auto sm:w-80 md:w-96 bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border-2 border-purple-100/50 z-50 max-h-[70vh] sm:max-h-[600px] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-pink-50 border-b-2 border-purple-100/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(Fi,{className:"w-4 h-4 text-white"})}),e.jsxs("h3",{className:"font-bold text-gray-900 text-sm sm:text-base",children:["Notifications",r.length>0&&e.jsxs("span",{className:"ml-2 text-xs sm:text-sm text-gray-600 font-medium",children:["(",r.length,")"]})]})]}),r.length>0&&a>0&&e.jsx("button",{onClick:b,className:"text-xs sm:text-sm text-purple-600 hover:text-purple-800 font-semibold px-3 py-1.5 rounded-lg hover:bg-white/50 transition-all",children:"Mark all read"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:i?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx(ne,{className:"w-6 h-6 animate-spin text-white"})})}):r.length===0?e.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center",children:e.jsx(Fi,{className:"w-8 h-8 sm:w-10 sm:h-10 text-purple-400"})}),e.jsx("p",{className:"font-bold text-gray-900 text-sm sm:text-base mb-1",children:"No notifications yet"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"We'll notify you when something happens"})]}):e.jsx("div",{className:"divide-y divide-purple-100/30",children:p.map(y=>e.jsx("div",{className:`p-3 sm:p-4 hover:bg-gradient-to-r hover:from-purple-50/50 hover:to-pink-50/50 transition-all duration-300 cursor-pointer group ${y.is_read?"":"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 border-l-4 border-blue-400"}`,children:e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${y.is_read?"bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-purple-100 group-hover:to-pink-100":"bg-gradient-to-br from-blue-500 to-indigo-500 shadow-lg"} transition-all`,children:e.jsx("div",{className:y.is_read?"":"text-white",children:e.jsx(n5,{type:y.type})})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 truncate",children:dx(y.title)||"New Notification"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5 line-clamp-2 leading-relaxed",children:dx(y.message)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5 font-medium",children:j(y.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[!y.is_read&&e.jsx("button",{onClick:N=>f(N,y),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-lg transition-all",title:"Mark as read",children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:N=>g(N,y.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:e.jsx(Pe,{className:"w-4 h-4"})})]})]})})]})},y.id))})}),w&&e.jsx("div",{className:"p-3 sm:p-4 border-t-2 border-purple-100/50 bg-gradient-to-r from-purple-50/50 to-pink-50/50",children:e.jsxs("button",{onClick:()=>d(!0),className:"block w-full text-center text-xs sm:text-sm text-purple-600 hover:text-purple-800 font-bold py-2 rounded-lg hover:bg-white/80 transition-all",children:["Show ",r.length-m," more notifications"]})}),c&&r.length>m&&e.jsx("div",{className:"p-3 sm:p-4 border-t-2 border-purple-100/50 bg-gradient-to-r from-purple-50/50 to-pink-50/50",children:e.jsx("button",{onClick:()=>d(!1),className:"block w-full text-center text-xs sm:text-sm text-gray-600 hover:text-gray-900 font-semibold py-2 rounded-lg hover:bg-white/80 transition-all",children:"Show less"})})]})]})]})}const Bc={FREE:"free",PRO:"pro",TEAMS:"teams"},l5=h.createContext(null);function i5({children:t}){const[s,r]=h.useState({tier:Bc.FREE,loading:!0,error:null,usage:{bookings_this_month:0,event_types_count:0,team_members_count:1},billing:{status:null,current_period_end:null,cancel_at_period_end:!1}});h.useEffect(()=>{localStorage.getItem("token")?n():r(o=>({...o,loading:!1}))},[]);const n=async()=>{var o,c,d,u,m,p;if(!localStorage.getItem("token")){r(w=>({...w,loading:!1}));return}try{const x=(await _.get("/user/subscription")).data;r({tier:x.tier||Bc.FREE,loading:!1,error:null,usage:{bookings_this_month:((o=x.usage)==null?void 0:o.bookings_this_month)||0,event_types_count:((c=x.usage)==null?void 0:c.event_types_count)||0,team_members_count:((d=x.usage)==null?void 0:d.team_members_count)||1},billing:{status:((u=x.billing)==null?void 0:u.status)||null,current_period_end:((m=x.billing)==null?void 0:m.current_period_end)||null,cancel_at_period_end:((p=x.billing)==null?void 0:p.cancel_at_period_end)||!1}})}catch(w){console.error("Failed to fetch subscription:",w),r(x=>({...x,loading:!1,error:"Failed to load subscription",tier:Bc.FREE}))}},a=h.useCallback(()=>n(),[]),l={...s,refresh:a};return e.jsx(l5.Provider,{value:l,children:t})}const qb=h.createContext(null),Yb={ai_queries_used:0,ai_queries_limit:10,bookings_used:0,bookings_limit:50,event_types_used:0,event_types_limit:2,magic_links_used:0,magic_links_limit:2},o5={showUpgradeModal:()=>{},closeUpgradeModal:()=>{},isAtLimit:()=>!1,requiresUpgrade:()=>!1,hasPlusFeature:()=>!1,hasProFeature:()=>!1,hasTeamFeature:()=>!1,hasEnterpriseFeature:()=>!1,handleUpgrade:()=>{},getRecommendedTier:()=>"pro",currentTier:"free",usage:Yb,loading:!1,refreshUsage:()=>{},modalOpen:!1,modalFeature:null},c5=()=>{try{const t=localStorage.getItem("usage_data");if(t)return JSON.parse(t)}catch(t){console.warn("Failed to parse stored usage:",t)}return Yb},d5=t=>{try{localStorage.setItem("usage_data",JSON.stringify(t))}catch(s){console.warn("Failed to save usage:",s)}},ds=()=>{const t=h.useContext(qb);return t||(console.warn("useUpgrade called outside UpgradeProvider, using defaults"),o5)},u5=({children:t})=>{const[s,r]=h.useState(!1),[n,a]=h.useState(null),[l,i]=h.useState(()=>localStorage.getItem("subscription_tier")||"free"),[o,c]=h.useState(()=>c5()),[d,u]=h.useState(!0);h.useEffect(()=>{localStorage.getItem("token")?m():u(!1)},[]);const m=async()=>{try{const S=localStorage.getItem("token");if(!S){u(!1);return}const k=await fetch("/api/user/usage",{headers:{Authorization:`Bearer ${S}`}});if(k.ok){const T=await k.json(),L=T.subscription_tier||T.tier||"free";localStorage.setItem("subscription_tier",L);const E={ai_queries_used:T.ai_queries_used||0,ai_queries_limit:T.ai_queries_limit||10,bookings_used:T.bookings_used||T.monthly_bookings||0,bookings_limit:T.bookings_limit||50,event_types_used:T.event_types_used||0,event_types_limit:T.event_types_limit||2,magic_links_used:T.magic_links_used||0,magic_links_limit:T.magic_links_limit||2};d5(E),c(E),i(L),console.log(" Usage loaded:",{tier:L,usage:E})}}catch(S){console.error("Failed to fetch usage:",S)}finally{u(!1)}},p=h.useCallback((S=null)=>{a(S),r(!0)},[]),w=h.useCallback(()=>{r(!1),a(null)},[]),x=h.useCallback(S=>{const k=["buffer_times","email_templates","templates"],T=["branding","smart_rules","email_assistant","email"],L=["teams","autonomous","round_robin"];return k.includes(S)?!["plus","pro","team","enterprise"].includes(l):T.includes(S)?!["pro","team","enterprise"].includes(l):L.includes(S)?!["team","enterprise"].includes(l):!1},[l]),v=h.useCallback(S=>{switch(S){case"ai_queries":return o.ai_queries_limit<1e3&&o.ai_queries_used>=o.ai_queries_limit;case"bookings":return o.bookings_limit<1e3&&o.bookings_used>=o.bookings_limit;case"event_types":return o.event_types_limit<1e3&&o.event_types_used>=o.event_types_limit;case"magic_links":return o.magic_links_limit<1e3&&o.magic_links_used>=o.magic_links_limit;case"teams":case"autonomous":case"round_robin":return!["team","enterprise"].includes(l);case"templates":case"buffer_times":case"email_templates":return!["plus","pro","team","enterprise"].includes(l);case"branding":case"smart_rules":case"email_assistant":return!["pro","team","enterprise"].includes(l);default:return!1}},[o,l]),j=h.useCallback(()=>["plus","pro","team","enterprise"].includes(l),[l]),f=h.useCallback(()=>["pro","team","enterprise"].includes(l),[l]),b=h.useCallback(()=>["team","enterprise"].includes(l),[l]),g=h.useCallback(()=>l==="enterprise",[l]),y=h.useCallback(S=>({buffer_times:"plus",email_templates:"plus",smart_rules:"pro",email_assistant:"pro",email:"pro",branding:"pro",teams:"team",autonomous:"team",round_robin:"team",ai_queries:l==="free"?"plus":"pro",bookings:l==="free"?"plus":"pro",event_types:l==="free"?"plus":"pro",magic_links:l==="free"?"plus":"pro"})[S]||"pro",[l]),N=h.useCallback(async S=>{try{const k=localStorage.getItem("token");if(!k){window.location.href="/login?redirect=/pricing";return}const L=await(await fetch("/api/billing/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({plan:S})})).json();if(L.url)window.location.href=L.url;else if(L.checkout_url)window.location.href=L.checkout_url;else if(L.success)return m(),{success:!0}}catch(k){throw console.error("Upgrade error:",k),k}},[]),C={showUpgradeModal:p,closeUpgradeModal:w,isAtLimit:v,requiresUpgrade:x,hasPlusFeature:j,hasProFeature:f,hasTeamFeature:b,hasEnterpriseFeature:g,handleUpgrade:N,getRecommendedTier:y,currentTier:l,usage:o,loading:d,refreshUsage:m,modalOpen:s,modalFeature:n};return e.jsx(qb.Provider,{value:C,children:t})},m5=`
  @keyframes walkthrough-pulse {
    0%, 100% { 
      box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.9),
                  0 0 20px 8px rgba(168, 85, 247, 0.4),
                  0 0 40px 16px rgba(236, 72, 153, 0.2);
    }
    50% { 
      box-shadow: 0 0 0 6px rgba(168, 85, 247, 1),
                  0 0 30px 12px rgba(168, 85, 247, 0.6),
                  0 0 60px 24px rgba(236, 72, 153, 0.3);
    }
  }
  
  @keyframes walkthrough-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }
  
  .walkthrough-spotlight-pulse {
    animation: walkthrough-pulse 1.5s ease-in-out infinite;
  }
  
  .walkthrough-highlighted {
    position: relative !important;
    z-index: 9999 !important;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(236, 72, 153, 0.15)) !important;
    border-radius: 12px !important;
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.5) !important;
  }
`;if(typeof document<"u"){const t="walkthrough-styles";if(!document.getElementById(t)){const s=document.createElement("style");s.id=t,s.textContent=m5,document.head.appendChild(s)}}const h5={Calendar:se,Bot:pt,Clock:he,Users:Le,Link:xt,Settings:dr,Sparkles:ce,CheckCircle:xe,Zap:Me,Mail:Te,Globe:Dt};function p5(t,s){if(!t)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const r=t.getBoundingClientRect(),n=340,a=220,l=16,i=window.innerWidth,o=window.innerHeight;let c={};switch(s){case"top":c={top:`${Math.max(l,r.top-a-l)}px`,left:`${Math.min(i-n-l,Math.max(l,r.left+r.width/2-n/2))}px`};break;case"bottom":c={top:`${Math.min(o-a-l,r.bottom+l)}px`,left:`${Math.min(i-n-l,Math.max(l,r.left+r.width/2-n/2))}px`};break;case"left":c={top:`${Math.min(o-a-l,Math.max(l,r.top+r.height/2-a/2))}px`,left:`${Math.max(l,r.left-n-l)}px`};break;case"right":c={top:`${Math.min(o-a-l,Math.max(l,r.top+r.height/2-a/2))}px`,left:`${Math.min(i-n-l,r.right+l)}px`};break;case"top-left":c={top:`${Math.max(l,r.top-a-l)}px`,left:`${Math.max(l,r.left)}px`};break;default:c={top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}return c}function x5({targetEl:t,position:s}){const[r,n]=h.useState(null),[a,l]=h.useState(null);return h.useEffect(()=>{if(!t){n(null),l(null);return}const i=()=>{const o=t.getBoundingClientRect(),c=12;n({top:o.top-c,left:o.left-c,width:o.width+c*2,height:o.height+c*2});const d=32;let u={};switch(s){case"bottom":u={top:o.bottom+8,left:o.left+o.width/2-d/2,transform:"rotate(180deg)"};break;case"top":u={top:o.top-d-8,left:o.left+o.width/2-d/2,transform:"rotate(0deg)"};break;case"left":u={top:o.top+o.height/2-d/2,left:o.left-d-8,transform:"rotate(90deg)"};break;case"right":u={top:o.top+o.height/2-d/2,left:o.right+8,transform:"rotate(-90deg)"};break;default:u=null}l(u)};return i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i)}},[t,s]),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed rounded-2xl pointer-events-none z-[9998] transition-all duration-300",style:{...r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.75)"}}),e.jsx("div",{className:"fixed rounded-2xl pointer-events-none z-[9998] transition-all duration-300 walkthrough-spotlight-pulse",style:r}),e.jsx("div",{className:"fixed rounded-2xl border-2 border-white/50 pointer-events-none z-[9998] transition-all duration-300",style:r}),e.jsx("div",{className:"fixed z-[9999] pointer-events-none animate-bounce",style:{top:r.top-36,left:r.left+r.width/2,transform:"translateX(-50%)"},children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1.5",children:[e.jsx(ce,{className:"w-3 h-3"}),"Look here!"]})}),a&&e.jsx("div",{className:"fixed z-[9999] pointer-events-none",style:a,children:e.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",className:"animate-bounce text-purple-500 drop-shadow-lg",children:e.jsx("path",{d:"M16 4 L16 24 M8 16 L16 24 L24 16",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]}):null}function f5({isActive:t,currentStep:s,totalSteps:r,currentStepData:n,onNext:a,onPrev:l,onDismiss:i,onComplete:o}){const[c,d]=h.useState(null),[u,m]=h.useState({});if(h.useEffect(()=>{if(c)return c.classList.add("walkthrough-highlighted"),c.style.position="relative",c.style.zIndex="9999",c.style.transform="scale(1.05)",c.style.transition="transform 0.3s ease",()=>{c.classList.remove("walkthrough-highlighted"),c.style.position="",c.style.zIndex="",c.style.transform="",c.style.transition=""}},[c]),h.useEffect(()=>{if(!t||!n)return;const j=()=>{if(n.target){const b=document.querySelector(n.target);if(d(b),b){const g=p5(b,n.position);m(g),b.scrollIntoView({behavior:"smooth",block:"center"})}else d(null),m({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})}else d(null),m({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})},f=setTimeout(j,150);return window.addEventListener("resize",j),window.addEventListener("scroll",j),()=>{clearTimeout(f),window.removeEventListener("resize",j),window.removeEventListener("scroll",j)}},[t,n,s]),!t||!n)return null;const p=h5[n.icon]||ce,w=s===0,x=s===r-1,v=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[9997] transition-opacity duration-300",onClick:i}),e.jsx(x5,{targetEl:c,position:n==null?void 0:n.position}),e.jsxs("div",{className:"fixed z-[9999] w-[340px] bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden animate-in fade-in zoom-in-95 duration-300",style:u,children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-5 py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg leading-tight",children:n.title}),e.jsxs("p",{className:"text-purple-200 text-xs mt-0.5",children:["Step ",s+1," of ",r]})]})]}),e.jsx("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors ml-2",children:e.jsx(Pe,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"px-5 py-4",children:e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.description})}),e.jsx("div",{className:"px-5 pb-3 flex justify-center gap-1.5",children:Array.from({length:r}).map((j,f)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${f===s?"w-6 bg-purple-600":f<s?"w-1.5 bg-purple-300":"w-1.5 bg-gray-200"}`},f))}),e.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between",children:[e.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Skip tour"}),e.jsxs("div",{className:"flex items-center gap-2",children:[!w&&e.jsxs("button",{onClick:l,className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1 text-sm font-medium",children:[e.jsx(fb,{className:"h-4 w-4"}),"Back"]}),e.jsx("button",{onClick:x?o:a,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center gap-1 text-sm",children:x?e.jsxs(e.Fragment,{children:["Get Started",e.jsx(Me,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(Lr,{className:"h-4 w-4"})]})})]})]})]})]});return Mm.createPortal(v,document.body)}const ux=()=>window.innerWidth<768,g5=[{id:"welcome",title:"Welcome to ScheduleSync! ",description:"Let's take a quick tour to help you get started with AI-powered scheduling. This will only take about 2 minutes.",target:null,icon:"Calendar",position:"center"},{id:"ai-assistant",title:"Meet Your AI Assistant",description:'Click the chat bubble in the bottom-right corner to talk to your AI scheduler. Just say "Book a meeting with john@email.com tomorrow at 2pm" and it handles everything!',target:'[data-walkthrough="ai-chat"]',icon:"Bot",position:"top-left"},{id:"availability",title:"Set Your Availability",description:"Define when you're free for meetings. Set your working hours, buffer times, and booking limits.",target:'[data-walkthrough="availability-btn"]',icon:"Clock",position:"bottom"},{id:"event-types",title:"Create Event Types",description:'Set up different event types like "30-min Call", "1-hour Consultation", or "Quick Chat". Each gets its own booking link!',target:'[data-walkthrough="events-nav"]',icon:"Sparkles",position:"right"},{id:"booking-link",title:"Share Your Booking Link",description:"Copy your personal booking link and share it anywhere. People can book directly on your calendar!",target:'[data-walkthrough="my-links-nav"]',icon:"Link",position:"right"},{id:"calendar-sync",title:"Connect Your Calendar",description:"Sync with Google or Outlook to automatically check for conflicts. Go to Settings  Calendar to connect.",target:'[data-walkthrough="settings-nav"]',icon:"Globe",position:"right"},{id:"teams",title:"Team Scheduling (Team Plan)",description:"Create teams for round-robin booking, collective availability, or weighted distribution. Perfect for sales teams!",target:'[data-walkthrough="teams-nav"]',icon:"Users",position:"right"},{id:"email-templates",title:"Customize Email Templates",description:"Personalize confirmation and reminder emails. Add your branding, custom messages, and AI-generated content.",target:'[data-walkthrough="email-nav"]',icon:"Mail",position:"right"},{id:"complete",title:"You're All Set! ",description:"You now know the basics of ScheduleSync. Start by setting your availability and creating your first event type. Need help? Just ask the AI assistant!",target:null,icon:"CheckCircle",position:"center",isLast:!0}],b5=[{id:"welcome",title:"Welcome to ScheduleSync! ",description:"Let's take a quick tour to help you get started with AI-powered scheduling.",target:null,icon:"Calendar",position:"center"},{id:"ai-assistant",title:"Meet Your AI Assistant ",description:'Tap the purple chat bubble in the bottom-right corner. Say things like "Book a meeting with john@email.com tomorrow at 2pm" and it handles everything!',target:'[data-walkthrough="ai-chat"]',icon:"Bot",position:"top"},{id:"menu",title:"Open the Menu ",description:"Tap the menu icon in the top-left to access all features: Event Types, Booking Links, Teams, Email Templates, and Settings.",target:'[data-walkthrough="mobile-menu"]',icon:"Sparkles",position:"bottom"},{id:"features",title:"Key Features ",description:` Event Types - Create different event types
 Booking Links - Get your booking link to share
 Settings - Connect Google/Outlook calendar
 Teams - Set up team scheduling (Team plan)`,target:null,icon:"CheckCircle",position:"center"},{id:"complete",title:"You're All Set! ",description:"Start by setting your availability and creating your first event type. Need help? Just ask the AI assistant!",target:null,icon:"CheckCircle",position:"center",isLast:!0}],y5=h.createContext(null);function v5({children:t}){const[s,r]=h.useState(!1),[n,a]=h.useState(0),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState(!1),m=h.useCallback(()=>d?b5:g5,[d]);h.useEffect(()=>{const C=()=>u(ux());return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),h.useEffect(()=>{const C=localStorage.getItem("schedulesync_walkthrough_completed"),S=localStorage.getItem("schedulesync_walkthrough_dismissed"),k=!C&&!S;if(i(C==="true"||S==="true"),k){const T=setTimeout(()=>{c(!0)},1500);return()=>clearTimeout(T)}},[]);const p=h.useCallback(()=>{u(ux()),c(!1),a(0),r(!0)},[]),w=h.useCallback((C=!1)=>{r(!1),a(0),C&&(localStorage.setItem("schedulesync_walkthrough_completed","true"),i(!0))},[]),x=h.useCallback(()=>{r(!1),c(!1),localStorage.setItem("schedulesync_walkthrough_dismissed","true"),i(!0)},[]),v=h.useCallback(()=>{c(!1),localStorage.setItem("schedulesync_walkthrough_dismissed","true"),i(!0)},[]),j=m(),f=h.useCallback(()=>{n<j.length-1?a(C=>C+1):w(!0)},[n,j.length,w]),b=h.useCallback(()=>{n>0&&a(C=>C-1)},[n]),g=h.useCallback(C=>{C>=0&&C<j.length&&a(C)},[j.length]),y=h.useCallback(()=>{localStorage.removeItem("schedulesync_walkthrough_completed"),localStorage.removeItem("schedulesync_walkthrough_dismissed"),i(!1),c(!0)},[]),N={isActive:s,currentStep:n,totalSteps:j.length,hasCompleted:l,showPrompt:o,currentStepData:j[n],startWalkthrough:p,endWalkthrough:w,dismissWalkthrough:x,dismissPrompt:v,nextStep:f,prevStep:b,goToStep:g,resetWalkthrough:y,isMobileView:d};return e.jsxs(y5.Provider,{value:N,children:[t,e.jsx(f5,{isActive:s,currentStep:n,totalSteps:j.length,currentStepData:j[n],onNext:f,onPrev:b,onDismiss:x,onComplete:()=>w(!0)})]})}const Kb=h.createContext();function j5({children:t}){const[s,r]=h.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});h.useEffect(()=>{localStorage.setItem("theme",s?"dark":"light"),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),h.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=i=>{localStorage.getItem("theme")||r(i.matches)};return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[]);const n=()=>r(!s);return e.jsx(Kb.Provider,{value:{isDark:s,toggleTheme:n,setIsDark:r},children:t})}const w5=()=>{const t=h.useContext(Kb);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};var Jb="clover",N5=function(s){return s===3?"v3":s},Qb="https://js.stripe.com",k5="".concat(Qb,"/").concat(Jb,"/stripe.js"),S5=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,C5=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var _5=function(s){return S5.test(s)||C5.test(s)},T5=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Qb,'"]')),r=0;r<s.length;r++){var n=s[r];if(_5(n.src))return n}return null},mx=function(s){var r="",n=document.createElement("script");n.src="".concat(k5).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},E5=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:r})},Da=null,mi=null,hi=null,P5=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},A5=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},M5=function(s){return Da!==null?Da:(Da=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=T5();if(!(a&&s)){if(!a)a=mx(s);else if(a&&hi!==null&&mi!==null){var l;a.removeEventListener("load",hi),a.removeEventListener("error",mi),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=mx(s)}}hi=A5(r,n),mi=P5(n),a.addEventListener("load",hi),a.addEventListener("error",mi)}catch(i){n(i);return}}),Da.catch(function(r){return Da=null,Promise.reject(r)}))},D5=function(s,r,n){if(s===null)return null;var a=r[0],l=a.match(/^pk_test/),i=N5(s.version),o=Jb;l&&i!==o&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,r);return E5(c,n),c},La,Xb=!1,Zb=function(){return La||(La=M5(null).catch(function(s){return La=null,Promise.reject(s)}),La)};Promise.resolve().then(function(){return Zb()}).catch(function(t){Xb||console.warn(t)});var ey=function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];Xb=!0;var a=Date.now();return Zb().then(function(l){return D5(l,r,a)})},ty={exports:{}},L5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R5=L5,I5=R5;function sy(){}function ry(){}ry.resetWarningCache=sy;var F5=function(){function t(n,a,l,i,o,c){if(c!==I5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function s(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:ry,resetWarningCache:sy};return r.PropTypes=r,r};ty.exports=F5();var $5=ty.exports;const $e=H0($5);function hx(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function px(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?hx(Object(r),!0).forEach(function(n){ny(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ui(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ui=function(s){return typeof s}:Ui=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ui(t)}function ny(t,s,r){return s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function O5(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function B5(t,s){if(t==null)return{};var r=O5(t,s),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ay(t,s){return U5(t)||z5(t,s)||V5(t,s)||W5()}function U5(t){if(Array.isArray(t))return t}function z5(t,s){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,l=!1,i,o;try{for(r=r.call(t);!(a=(i=r.next()).done)&&(n.push(i.value),!(s&&n.length===s));a=!0);}catch(c){l=!0,o=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(l)throw o}}return n}}function V5(t,s){if(t){if(typeof t=="string")return xx(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xx(t,s)}}function xx(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,n=new Array(s);r<s;r++)n[r]=t[r];return n}function W5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It=function(s,r,n){var a=!!n,l=Ie.useRef(n);Ie.useEffect(function(){l.current=n},[n]),Ie.useEffect(function(){if(!a||!s)return function(){};var i=function(){l.current&&l.current.apply(l,arguments)};return s.on(r,i),function(){s.off(r,i)}},[a,r,s,l])},pu=function(s){var r=Ie.useRef(s);return Ie.useEffect(function(){r.current=s},[s]),r.current},aa=function(s){return s!==null&&Ui(s)==="object"},H5=function(s){return aa(s)&&typeof s.then=="function"},G5=function(s){return aa(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},fx="[object Object]",q5=function t(s,r){if(!aa(s)||!aa(r))return s===r;var n=Array.isArray(s),a=Array.isArray(r);if(n!==a)return!1;var l=Object.prototype.toString.call(s)===fx,i=Object.prototype.toString.call(r)===fx;if(l!==i)return!1;if(!l&&!n)return s===r;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(var d={},u=0;u<o.length;u+=1)d[o[u]]=!0;for(var m=0;m<c.length;m+=1)d[c[m]]=!0;var p=Object.keys(d);if(p.length!==o.length)return!1;var w=s,x=r,v=function(f){return t(w[f],x[f])};return p.every(v)},ly=function(s,r,n){return aa(s)?Object.keys(s).reduce(function(a,l){var i=!aa(r)||!q5(s[l],r[l]);return n.includes(l)?(i&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),a):i?px(px({},a||{}),{},ny({},l,s[l])):a},null):null},iy="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",gx=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iy;if(s===null||G5(s))return s;throw new Error(r)},Y5=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iy;if(H5(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(a){return gx(a,r)})};var n=gx(s,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},K5=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.0"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},rc=Ie.createContext(null);rc.displayName="ElementsContext";var oy=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},Ym=function(s){var r=s.stripe,n=s.options,a=s.children,l=Ie.useMemo(function(){return Y5(r)},[r]),i=Ie.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(n):null}}),o=ay(i,2),c=o[0],d=o[1];Ie.useEffect(function(){var p=!0,w=function(v){d(function(j){return j.stripe?j:{stripe:v,elements:v.elements(n)}})};return l.tag==="async"&&!c.stripe?l.stripePromise.then(function(x){x&&p&&w(x)}):l.tag==="sync"&&!c.stripe&&w(l.stripe),function(){p=!1}},[l,c,n]);var u=pu(r);Ie.useEffect(function(){u!==null&&u!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,r]);var m=pu(n);return Ie.useEffect(function(){if(c.elements){var p=ly(n,m,["clientSecret","fonts"]);p&&c.elements.update(p)}},[n,m,c.elements]),Ie.useEffect(function(){K5(c.stripe)},[c.stripe]),Ie.createElement(rc.Provider,{value:c},a)};Ym.propTypes={stripe:$e.any,options:$e.object};var J5=function(s){var r=Ie.useContext(rc);return oy(r,s)},cy=function(){var s=J5("calls useElements()"),r=s.elements;return r};$e.func.isRequired;var dy=Ie.createContext(null);dy.displayName="CheckoutContext";$e.any,$e.shape({clientSecret:$e.oneOfType([$e.string,$e.instanceOf(Promise)]).isRequired,elementsOptions:$e.object}).isRequired;var xu=function(s){var r=Ie.useContext(dy),n=Ie.useContext(rc);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return oy(n,s)},Q5=["mode"],X5=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},es=function(s,r){var n="".concat(X5(s),"Element"),a=function(c){var d=c.id,u=c.className,m=c.options,p=m===void 0?{}:m,w=c.onBlur,x=c.onFocus,v=c.onReady,j=c.onChange,f=c.onEscape,b=c.onClick,g=c.onLoadError,y=c.onLoaderStart,N=c.onNetworksChange,C=c.onConfirm,S=c.onCancel,k=c.onShippingAddressChange,T=c.onShippingRateChange,L=c.onSavedPaymentMethodRemove,E=c.onSavedPaymentMethodUpdate,V=xu("mounts <".concat(n,">")),R="elements"in V?V.elements:null,M="checkoutState"in V?V.checkoutState:null,H=(M==null?void 0:M.type)==="success"||(M==null?void 0:M.type)==="loading"?M.sdk:null,O=Ie.useState(null),D=ay(O,2),A=D[0],F=D[1],z=Ie.useRef(null),Q=Ie.useRef(null);It(A,"blur",w),It(A,"focus",x),It(A,"escape",f),It(A,"click",b),It(A,"loaderror",g),It(A,"loaderstart",y),It(A,"networkschange",N),It(A,"confirm",C),It(A,"cancel",S),It(A,"shippingaddresschange",k),It(A,"shippingratechange",T),It(A,"savedpaymentmethodremove",L),It(A,"savedpaymentmethodupdate",E),It(A,"change",j);var ue;v&&(s==="expressCheckout"?ue=v:ue=function(){v(A)}),It(A,"ready",ue),Ie.useLayoutEffect(function(){if(z.current===null&&Q.current!==null&&(R||H)){var ge=null;if(H)switch(s){case"paymentForm":ge=H.createPaymentFormElement();break;case"payment":ge=H.createPaymentElement(p);break;case"address":if("mode"in p){var X=p.mode,P=B5(p,Q5);if(X==="shipping")ge=H.createShippingAddressElement(P);else if(X==="billing")ge=H.createBillingAddressElement(P);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ge=H.createExpressCheckoutElement(p);break;case"currencySelector":ge=H.createCurrencySelectorElement();break;case"taxId":ge=H.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(ge=R.create(s,p));z.current=ge,F(ge),ge&&ge.mount(Q.current)}},[R,H,p]);var Ce=pu(p);return Ie.useEffect(function(){if(z.current){var ge=ly(p,Ce,["paymentRequest"]);ge&&"update"in z.current&&z.current.update(ge)}},[p,Ce]),Ie.useLayoutEffect(function(){return function(){if(z.current&&typeof z.current.destroy=="function")try{z.current.destroy(),z.current=null}catch{}}},[]),Ie.createElement("div",{id:d,className:u,ref:Q})},l=function(c){xu("mounts <".concat(n,">"));var d=c.id,u=c.className;return Ie.createElement("div",{id:d,className:u})},i=r?l:a;return i.propTypes={id:$e.string,className:$e.string,onChange:$e.func,onBlur:$e.func,onFocus:$e.func,onReady:$e.func,onEscape:$e.func,onClick:$e.func,onLoadError:$e.func,onLoaderStart:$e.func,onNetworksChange:$e.func,onConfirm:$e.func,onCancel:$e.func,onShippingAddressChange:$e.func,onShippingRateChange:$e.func,onSavedPaymentMethodRemove:$e.func,onSavedPaymentMethodUpdate:$e.func,options:$e.object},i.displayName=n,i.__elementType=s,i},ts=typeof window>"u",Z5=Ie.createContext(null);Z5.displayName="EmbeddedCheckoutProviderContext";var uy=function(){var s=xu("calls useStripe()"),r=s.stripe;return r};es("auBankAccount",ts);var wo=es("card",ts);es("cardNumber",ts);es("cardExpiry",ts);es("cardCvc",ts);es("iban",ts);es("payment",ts);es("expressCheckout",ts);es("paymentRequestButton",ts);es("linkAuthentication",ts);es("address",ts);es("shippingAddress",ts);es("paymentMethodMessaging",ts);es("taxId",ts);let Uc=null;const e6=()=>(Uc||(Uc=ey("pk_test_51SVD78CGay7RSh8rPap89NOCEv2kkW49KhZEDurnXpY2sfuKUGulJlbtDFO9jEtJOlbpzQ2GmNgCyh39VZwUW0Hj00GRK3n2Fz")),Uc),t6=({plan:t,onSuccess:s,onCancel:r})=>{const n=uy(),a=cy(),[l,i]=h.useState(!1),[o,c]=h.useState(null),d=async u=>{u.preventDefault(),i(!0),c(null);try{const m=await fetch("/api/billing/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan:t.id})}),p=await m.json();if(!m.ok)throw new Error(p.error||"Failed to create subscription");if(p.clientSecret){const w=a.getElement(wo),x=await n.confirmCardPayment(p.clientSecret,{payment_method:{card:w}});x.error?c(x.error.message):x.paymentIntent.status==="succeeded"&&s(t)}else p.success&&s(t)}catch(m){console.error("Payment error:",m),c(m.message)}finally{i(!1)}};return e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsx("div",{className:"p-4 border border-gray-300 rounded-lg bg-white",children:e.jsx(wo,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}},invalid:{color:"#EF4444"}},hidePostalCode:!1}})}),o&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:o}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:!n||l,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${l||!n?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Pay $${t.price}/month`}),e.jsx("button",{type:"button",onClick:r,className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})},my=({isOpen:t,onClose:s,onSuccess:r,currentTier:n="free"})=>{const[a,l]=h.useState(null),[i,o]=h.useState("select"),d=[{id:"pro",name:"Pro",price:12,description:"Perfect for individuals",features:["UNLIMITED AI queries","Unlimited bookings","Unlimited booking links","AI optimization","Priority support"],color:"blue",popular:!0},{id:"team",name:"Team",price:25,description:"Best for organizations",features:["Everything in Pro","Unlimited team members","Round-robin scheduling","Admin dashboard","Phone support"],color:"purple",popular:!1}].filter(x=>x.id!==n),u=x=>{l(x),o("payment")},m=x=>{o("select"),l(null),s(),r&&r(x)},p=()=>{o("select"),l(null)},w=()=>{o("select"),l(null),s()};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i==="select"?"Upgrade Your Plan":`Subscribe to ${a==null?void 0:a.name}`}),e.jsx("p",{className:"text-gray-600 mt-1",children:i==="select"?"Unlock unlimited AI queries and advanced features":"Complete your payment to upgrade"})]}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:""})]})}),e.jsx("div",{className:"p-6",children:i==="select"?e.jsx("div",{className:`grid gap-6 ${d.length>1?"md:grid-cols-2":"max-w-md mx-auto"}`,children:d.map(x=>e.jsxs("div",{className:`relative border-2 rounded-xl p-6 cursor-pointer transition-all hover:shadow-lg ${x.popular?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>u(x),children:[x.popular&&e.jsx("div",{className:"absolute -top-3 left-6 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:x.name}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",x.price,e.jsx("span",{className:"text-lg text-gray-500",children:"/month"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:x.description})]}),e.jsx("ul",{className:"space-y-2 mb-6",children:x.features.map((v,j)=>e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v]},j))}),e.jsxs("button",{className:`w-full py-3 rounded-lg font-medium transition-colors ${x.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:["Choose ",x.name]})]},x.id))}):e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("button",{onClick:p,className:"mb-4 text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to plans"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-center",children:[e.jsxs("h3",{className:"font-bold text-lg",children:[a.name," Plan"]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",a.price,"/month"]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]}),e.jsx(Ym,{stripe:e6(),children:e.jsx(t6,{plan:a,onSuccess:m,onCancel:p})})]})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Secure payment powered by Stripe  Cancel anytime  30-day money-back guarantee"})})]})}):null},s6=()=>{const{modalOpen:t,modalFeature:s,closeUpgradeModal:r,currentTier:n,usage:a,refreshUsage:l,getRecommendedTier:i,handleUpgrade:o}=ds(),[c,d]=h.useState(!1),[u,m]=h.useState(!1);if(!t&&!c)return null;const p={branding:{title:"Custom Branding",description:"Make your booking pages match your brand",features:["Custom logo on booking pages","Custom brand colors",'Hide "Powered by ScheduleSync"',"Professional appearance"],requiredTier:"pro",icon:ce,color:"purple"},buffer_times:{title:"Buffer Times",description:"Add buffer time before and after meetings",features:["Pre-meeting buffer time","Post-meeting buffer time","Prevent back-to-back meetings","Better work-life balance"],requiredTier:"plus",icon:se,color:"blue"},email_templates:{title:"Email Templates",description:"Customize confirmation, reminder, and cancellation emails",features:["Custom confirmation emails","Custom reminder emails","Cancellation notifications","Personalized messaging"],requiredTier:"plus",icon:Te,color:"blue"},smart_rules:{title:"Smart Rules",description:"Automate your scheduling with intelligent rules",features:["Natural language rules","Automatic scheduling logic","Custom availability rules","AI-powered automation"],requiredTier:"pro",icon:Me,color:"purple"},email_assistant:{title:"Email Assistant",description:"AI-powered email intent detection and reply generation",features:["Detect scheduling intent","Generate smart replies","Include booking links","Save hours on emails"],requiredTier:"pro",icon:pt,color:"purple"},ai_queries:{title:"Unlock Unlimited AI",description:"Get unlimited AI queries to supercharge your scheduling.",icon:pt,color:"purple"},bookings:{title:"Unlock Unlimited Bookings",description:"Get unlimited bookings to grow without limits.",icon:se,color:"blue"},event_types:{title:"Create More Event Types",description:"Upgrade to create unlimited event types for all your needs.",icon:ce,color:"pink"},magic_links:{title:"Unlock More Quick Links",description:"Get more quick links to share your availability.",icon:xt,color:"indigo"},teams:{title:"Team Features",description:"Create teams, add members, and manage group scheduling.",features:["Create teams","Add team members","Round-robin scheduling","Collective booking"],requiredTier:"team",icon:Le,color:"green"},autonomous:{title:"Autonomous Mode",description:"Let AI automatically confirm bookings based on your rules",features:["AI auto-confirmation","Custom booking rules","VIP/blocked domains","Hands-free scheduling"],requiredTier:"team",icon:pt,color:"green"},templates:{title:"Email Templates",description:"Create custom email templates for confirmations, reminders, and follow-ups.",requiredTier:"plus",icon:Me,color:"blue"},default:{title:"Upgrade Your Plan",description:"Get more features and higher limits.",icon:Me,color:"purple"}},w=p[s]||p.default,x=w.icon,v=i?i(s):"pro",j={plus:{name:"Plus",price:8,color:"blue",icon:ce,features:["Advanced AI features","More bookings","More event types","Buffer times","Email templates"]},pro:{name:"Pro",price:15,color:"purple",icon:Ms,features:["Unlimited AI queries","Unlimited bookings","Unlimited event types","Smart rules","Email assistant"]},team:{name:"Team",price:25,color:"green",icon:Le,features:["Everything in Pro","Team collaboration","Round-robin scheduling","Autonomous mode","Priority support"]}},f=j[v]||j.pro,b=f.icon,g=async()=>{m(!0);try{o?await o(v):(r(),d(!0))}catch(S){console.error("Upgrade failed:",S)}finally{m(!1)}},y=S=>{d(!1),l&&l(),alert(`Successfully upgraded to ${S.name}!`)};if(c)return e.jsx(my,{isOpen:!0,onClose:()=>d(!1),onSuccess:y,currentTier:n});const N={blue:"from-blue-500 to-cyan-600",purple:"from-purple-500 to-pink-500",green:"from-green-500 to-emerald-600",pink:"from-pink-500 to-rose-600",indigo:"from-indigo-500 to-purple-600"},C={blue:"border-blue-300 bg-blue-50",purple:"border-purple-300 bg-purple-50",green:"border-green-300 bg-green-50"};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-lg w-full shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:`bg-gradient-to-r ${N[w.color]||N.purple} p-6 relative`,children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:e.jsx(Pe,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(x,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:w.title}),e.jsx("p",{className:"text-white/90",children:w.description})]}),e.jsxs("div",{className:"p-6",children:[n!==v&&n!=="enterprise"&&e.jsxs("div",{className:`border-2 rounded-xl p-4 mb-6 ${C[f.color]}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:`h-5 w-5 text-${f.color}-600`}),e.jsxs("span",{className:"font-bold text-gray-900",children:[f.name," Plan"]})]}),e.jsxs("span",{className:`text-2xl font-bold text-${f.color}-600`,children:["$",f.price,e.jsx("span",{className:"text-sm font-normal",children:f.priceNote||"/mo"})]})]}),e.jsx("ul",{className:"space-y-2",children:f.features.map((S,k)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(de,{className:`h-4 w-4 text-${f.color}-600`}),S]},k))})]}),w.features&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What you'll get:"}),e.jsx("ul",{className:"space-y-2",children:w.features.map((S,k)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(de,{className:"h-4 w-4 text-green-500"}),S]},k))})]}),(n==="team"||n==="enterprise")&&v!=="team"&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You have access!"}),e.jsx("p",{className:"text-gray-600",children:"This feature is included in your current plan."})]}),n!==v&&n!=="enterprise"&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Maybe Later"}),e.jsx("button",{onClick:g,disabled:u,className:`flex-1 px-6 py-3 text-white rounded-xl font-semibold transition-all hover:shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r ${N[f.color]}`,children:u?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4"}),"Upgrade to ",f.name]})})]}),(n===v||n==="enterprise")&&e.jsx("button",{onClick:r,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-semibold transition-colors",children:"Close"})]})]})})},bx=()=>{try{const t=JSON.parse(localStorage.getItem("aiChat_actionHistory")||"{}");return Object.entries(t).sort(([,s],[,r])=>r-s).slice(0,5).map(([s])=>s)}catch{return[]}},yx=t=>{try{const s=JSON.parse(localStorage.getItem("aiChat_actionHistory")||"{}");s[t]=(s[t]||0)+1,localStorage.setItem("aiChat_actionHistory",JSON.stringify(s))}catch{}},r6=()=>{try{return JSON.parse(localStorage.getItem("aiChat_recentPages")||"[]").slice(0,5)}catch{return[]}},n6=t=>{try{const r=JSON.parse(localStorage.getItem("aiChat_recentPages")||"[]").filter(n=>n!==t);r.unshift(t),localStorage.setItem("aiChat_recentPages",JSON.stringify(r.slice(0,10)))}catch{}},a6=async()=>{var t,s;try{return!((s=(t=(await _.get("/bookings/upcoming?limit=1")).data)==null?void 0:t.bookings)!=null&&s.length)}catch{return!1}},l6=()=>{try{return JSON.parse(localStorage.getItem("aiChat_history")||"[]").filter(r=>{var n;return r.role==="user"&&((n=r.content)==null?void 0:n.toLowerCase().includes("reschedule"))}).length>=3}catch{return!1}},i6=t=>{const s=[],r=t.match(/(?:you can|try|would you like to|want me to)\s+(\w+\s+\w+)/gi);r&&r.slice(0,3).forEach(a=>{const l=a.replace(/^(you can|try|would you like to|want me to)\s+/i,"").trim();l.length>3&&l.length<30&&s.push({label:l,type:"action"})});const n=t.match(/"([^"]{5,40})"/g);return n&&n.slice(0,2).forEach(a=>{s.push({label:a.replace(/"/g,""),type:"suggestion"})}),s.slice(0,4)},o6=t=>{const s=t.toLowerCase();return s.includes("book")||s.includes("schedule")||s.includes("meeting")?"scheduling":s.includes("available")||s.includes("free")||s.includes("busy")?"availability":s.includes("link")||s.includes("share")||s.includes("url")?"links":s.includes("team")||s.includes("member")?"teams":s.includes("cancel")||s.includes("reschedule")?"modifications":s.includes("rule")||s.includes("block")||s.includes("buffer")?"rules":s.includes("template")||s.includes("email")?"communications":s.includes("stat")||s.includes("analytic")||s.includes("how many")?"analytics":"general"},No=()=>{try{return parseInt(localStorage.getItem("aiChat_totalQueries")||"0")}catch{return 0}},c6=()=>{try{const t=No()+1;return localStorage.setItem("aiChat_totalQueries",t.toString()),t}catch{return 0}},d6=({data:t})=>{var a;const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=new Date,n=Array.from({length:7},(l,i)=>{var c;const o=new Date(r);return o.setDate(r.getDate()+i),{day:s[o.getDay()],date:o.getDate(),hasBooking:(c=t==null?void 0:t.bookings)==null?void 0:c.some(d=>new Date(d.date||d.start_time).toDateString()===o.toDateString()),isToday:i===0}});return e.jsxs("div",{className:"mt-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(bo,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Your Week at a Glance"})]}),e.jsx("div",{className:"flex justify-between gap-1",children:n.map((l,i)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:l.day}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mt-1 ${l.isToday?"bg-purple-600 text-white":l.hasBooking?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-600"}`,children:l.date}),l.hasBooking&&e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1"})]},i))}),((a=t==null?void 0:t.bookings)==null?void 0:a.length)>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center",children:[t.bookings.length," meeting",t.bookings.length>1?"s":""," this week"]})]})},u6=({data:t})=>{const s=(t==null?void 0:t.stats)||t||{},r=[{label:"Total Bookings",value:s.total_bookings||s.total||0,icon:se},{label:"This Month",value:s.this_month||s.monthly||0,icon:nr},{label:"Completion Rate",value:`${s.completion_rate||s.rate||95}%`,icon:xe},{label:"Avg Duration",value:`${s.avg_duration||30}m`,icon:he}];return e.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:r.map((n,a)=>e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(n.icon,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:n.label})]}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:n.value})]},a))})},m6=({data:t})=>{const s=(t==null?void 0:t.bookings)||(t==null?void 0:t.meetings)||[];return s.length?e.jsx("div",{className:"mt-3 space-y-2",children:s.slice(0,4).map((r,n)=>{const a=new Date(r.start_time||r.date);return e.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-xs text-purple-600 font-medium",children:a.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("span",{className:"text-lg font-bold text-purple-700",children:a.getDate()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-800 truncate",children:r.title||"Meeting"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(he,{className:"h-3 w-3"}),e.jsx("span",{children:a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),r.attendee_email&&e.jsxs(e.Fragment,{children:[e.jsx(z2,{className:"h-3 w-3 ml-2"}),e.jsx("span",{className:"truncate",children:r.attendee_email})]})]})]})]},n)})}):null},h6=({data:t})=>{var n;const s=(t==null?void 0:t.availability)||[];if(!s.length)return null;const r=a=>a.isWeekend?"bg-gray-100 text-gray-400":a.bookingCount===0?"bg-green-100 text-green-700 border-green-300":a.bookingCount>=5?"bg-red-100 text-red-700 border-red-300":"bg-yellow-100 text-yellow-700 border-yellow-300";return e.jsxs("div",{className:"mt-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(bo,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Week Availability"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-3",children:s.map((a,l)=>e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:a.dayName}),e.jsx("div",{className:`w-8 h-8 mx-auto rounded-lg flex items-center justify-center text-sm font-medium border ${r(a)}`,children:new Date(a.date).getDate()})]},l))}),e.jsxs("div",{className:"flex justify-center gap-4 text-xs text-gray-600 pt-2 border-t border-blue-200",children:[e.jsx("span",{className:"flex items-center gap-1",children:" Free"}),e.jsx("span",{className:"flex items-center gap-1",children:" Busy"}),e.jsx("span",{className:"flex items-center gap-1",children:" Full"})]}),((n=t==null?void 0:t.slots)==null?void 0:n.length)>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Available slots:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.slots.slice(0,6).map((a,l)=>{const i=new Date(a.start);return e.jsx("span",{className:"text-xs px-2 py-1 bg-white rounded-full border border-gray-200",children:i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},l)}),t.slots.length>6&&e.jsxs("span",{className:"text-xs px-2 py-1 text-gray-500",children:["+",t.slots.length-6," more"]})]})]})]})},p6=({type:t,data:s})=>{switch(t){case"booking_summary":case"week_view":return e.jsx(d6,{data:s});case"analytics":case"stats":return e.jsx(u6,{data:s});case"meeting_list":case"bookings":case"upcoming":return e.jsx(m6,{data:s});case"availability":case"calendar":case"available":case"no_slots":return e.jsx(h6,{data:s});default:return null}},x6=({onSuggestion:t,onDismiss:s})=>{const[r,n]=h.useState([]),[a,l]=h.useState(!0);if(h.useEffect(()=>{(async()=>{const c=[];No()<3&&c.push({id:"new_user",icon:bb,color:"purple",title:"Welcome!",message:"I can help you book meetings, share links, and more.",action:"Take a quick tour",query:"Show me what you can do"}),await a6()&&No()>=3&&c.push({id:"no_meetings",icon:se,color:"blue",title:"No upcoming meetings",message:"Share your booking link to get booked!",action:"Get sharing tips",query:"How should I share my booking link?"}),l6()&&c.push({id:"reschedules",icon:vs,color:"orange",title:"Frequent reschedules?",message:"Adding buffer time between meetings might help.",action:"Create buffer rule",query:"Create a rule to add 15 min buffer after meetings"}),n(c.slice(0,2)),l(!1)})()},[]),a||r.length===0)return null;const i={purple:"bg-purple-50 border-purple-200 text-purple-700",blue:"bg-blue-50 border-blue-200 text-blue-700",orange:"bg-orange-50 border-orange-200 text-orange-700",green:"bg-green-50 border-green-200 text-green-700"};return e.jsx("div",{className:"space-y-2 mb-3",children:r.map(o=>e.jsxs("div",{className:`rounded-xl p-3 border ${i[o.color]} relative`,children:[e.jsx("button",{onClick:()=>{n(c=>c.filter(d=>d.id!==o.id)),s&&s(o.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:e.jsx(Pe,{className:"h-3 w-3"})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(o.icon,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm",children:o.title}),e.jsx("p",{className:"text-xs opacity-80 mb-2",children:o.message}),e.jsxs("button",{onClick:()=>t(o.query),className:"text-xs font-medium flex items-center gap-1 hover:underline",children:[o.action," ",e.jsx(Lr,{className:"h-3 w-3"})]})]})]})]},o.id))})},f6=({actions:t,onAction:s})=>!t||t.length===0?null:e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:t.map((r,n)=>e.jsxs("button",{onClick:()=>s(r.label),className:"text-xs px-3 py-1.5 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-full transition-colors flex items-center gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),r.label]},n))});function g6(){console.log("AISchedulerChat component is rendering!");const t=cs(),{currentTier:s,hasProFeature:r,hasTeamFeature:n,loading:a,refreshUsage:l,usage:i}=ds(),[o,c]=h.useState(""),d={ai_queries_used:(i==null?void 0:i.ai_queries_used)??0,ai_queries_limit:(i==null?void 0:i.ai_queries_limit)??10},u=(d.ai_queries_limit??0)>=1e3,[m,p]=h.useState(""),[w,x]=h.useState(()=>localStorage.getItem("aiChat_personality")||"friendly"),[v,j]=h.useState(()=>{try{return JSON.parse(localStorage.getItem("aiChat_context")||"{}")}catch{return{lastTopic:null,pendingActions:[],userGoals:[]}}}),[f,b]=h.useState([]),[g,y]=h.useState(!1),[N,C]=h.useState(""),[S,k]=h.useState(!0),T=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"London (GMT)"},{value:"Europe/Paris",label:"Paris (CET)"},{value:"Asia/Singapore",label:"Singapore (SGT)"},{value:"Asia/Tokyo",label:"Tokyo (JST)"},{value:"Asia/Shanghai",label:"Shanghai (CST)"},{value:"Asia/Manila",label:"Manila (PHT)"},{value:"Asia/Dubai",label:"Dubai (GST)"},{value:"Australia/Sydney",label:"Sydney (AEDT)"},{value:"Pacific/Auckland",label:"Auckland (NZDT)"}],L=I=>{const J=T.find($=>$.value===I);return J?J.label:I},E=()=>{const I=new Date().getHours(),J=new Date().getDay(),$=bx();let te=[];I>=5&&I<12?te=[{action:"today",label:"Today's agenda",icon:se,color:"blue"},{action:"upcoming",label:"Next meeting",icon:he,color:"green"}]:I>=12&&I<17?te=[{action:"analytics",label:"My stats",icon:kl,color:"purple"},{action:"availability",label:"My availability",icon:he,color:"blue"}]:I>=17&&I<22?te=[{action:"tomorrow",label:"Tomorrow's schedule",icon:se,color:"blue"},{action:"week",label:"This week",icon:bo,color:"green"}]:te=[{action:"link",label:"My booking link",icon:xt,color:"purple"}],J===5&&te.push({action:"next_week",label:"Prep next week",icon:bo,color:"orange"}),J===1&&te.push({action:"week",label:"Week overview",icon:nr,color:"green"});const U=new Set(te.map(pe=>pe.action)),re=$.filter(pe=>!U.has(pe)).slice(0,2).map(pe=>{const ve={link:{label:"Booking link",icon:xt,color:"purple"},upcoming:{label:"Upcoming",icon:se,color:"blue"},analytics:{label:"Stats",icon:kl,color:"green"},quick:{label:"Quick link",icon:Me,color:"pink"},teams:{label:"Teams",icon:Le,color:"orange"}};return ve[pe]?{action:pe,...ve[pe]}:null}).filter(Boolean);return[...te,...re].slice(0,4)},V=()=>{const I=t.pathname,J=E();if(I==="/dashboard"||I==="/"){const $=J.filter(te=>!["link","quick"].includes(te.action)).slice(0,2);return[{action:"link",label:"My Booking Link",icon:xt,color:"purple"},...r()?[{action:"quick",label:"Quick Link",icon:Me,color:"pink"}]:[],...$].slice(0,4)}return I==="/bookings"?[{action:"upcoming",label:"Upcoming",icon:se,color:"blue"},{action:"reschedule",label:"Reschedule",icon:he,color:"green"},{action:"analytics",label:"Stats",icon:hs,color:"purple"},{action:"link",label:"My link",icon:xt,color:"pink"}]:I==="/links"||I==="/my-links"||I==="/quick-links"?[{action:"quick",label:"New Quick Link",icon:Me,color:"pink"},{action:"link",label:"My Booking Link",icon:xt,color:"purple"},{action:"list_quick_links",label:"List Links",icon:hs,color:"blue"},{action:"share",label:"Share tips",icon:lu,color:"green"}]:I==="/event-types"?[{action:"event_types",label:"List events",icon:se,color:"blue"},{action:"create_event",label:"Create new",icon:ce,color:"purple"},{action:"link",label:"My link",icon:xt,color:"green"}]:I==="/schedule"||I==="/calendar"?[{action:"upcoming",label:"Upcoming",icon:se,color:"blue"},{action:"book",label:"Book meeting",icon:se,color:"green"},{action:"availability",label:"My availability",icon:he,color:"purple"}]:I==="/settings"?[{action:"timezone",label:"Timezone",icon:Dt,color:"green"},{action:"availability",label:"Availability",icon:he,color:"blue"},{action:"link",label:"Booking Link",icon:xt,color:"purple"}]:I==="/rules"||I==="/smart-rules"?[{action:"list_rules",label:"My rules",icon:hs,color:"blue"},{action:"create_rule",label:"Create rule",icon:ce,color:"purple"},{action:"block_friday",label:"Block Friday",icon:se,color:"pink"},{action:"add_buffer",label:"Add buffer",icon:he,color:"green"}]:I==="/templates"?[{action:"list_templates",label:"My templates",icon:Te,color:"blue"},{action:"create_template",label:"Create template",icon:ce,color:"purple"},{action:"link",label:"My link",icon:xt,color:"green"}]:I==="/email-analyzer"?[{action:"email_help",label:"How it works",icon:Te,color:"blue"},{action:"link",label:"My booking link",icon:xt,color:"purple"}]:I==="/teams"||I.startsWith("/team")?[{action:"teams",label:"Team Links",icon:Le,color:"orange"},{action:"team_stats",label:"Team stats",icon:hs,color:"blue"},{action:"team_help",label:"Team features",icon:ce,color:"purple"}]:I==="/billing"?[{action:"plan_info",label:"Compare plans",icon:hs,color:"purple"},{action:"link",label:"Booking Link",icon:xt,color:"blue"}]:[...J.slice(0,2),{action:"link",label:"My link",icon:xt,color:"purple"},{action:"analytics",label:"Stats",icon:hs,color:"green"}].slice(0,4)},R=I=>I.includes("/dashboard")||I==="/"?"Dashboard":I.includes("/bookings")?"Bookings":I.includes("/event-types")?"Event Types":I.includes("/teams")?"Teams":I.includes("/rules")||I.includes("/smart-rules")?"Smart Rules":I.includes("/my-links")||I.includes("/links")?"Booking Links":I.includes("/templates")?"Templates":I.includes("/settings")?"Settings":I.includes("/billing")?"Billing":I.includes("/email-analyzer")?"Email Analyzer":null,M=(I="")=>{const J=new Date().getHours();let $="Hi";J>=5&&J<12?$="Good morning":J>=12&&J<17?$="Good afternoon":J>=17&&J<22&&($="Good evening");const te=I?I.split(" ")[0]:"",U=te?`${$}, ${te}`:$,re=R(t.pathname);let pe="";re&&(pe=`

I see you're on the ${re} page. `);const ve={friendly:`${U}! I'm your scheduling assistant.${pe}

I can help you book meetings, share your links, check your schedule, and more.

What would you like to do?`,professional:`${U}. I'm here to assist with your scheduling needs.${pe}

I can help with meeting bookings, link management, and schedule inquiries.

How may I assist you?`,concise:`${U}!${pe}

Ready to help with bookings, links, or schedules. What do you need?`};return ve[w]||ve.friendly},H=(I="")=>({role:"assistant",content:M(I||o),timestamp:new Date,isGreeting:!0}),[O,D]=h.useState(!1),[A,F]=h.useState(!1),[z,Q]=h.useState(""),[ue,Ce]=h.useState(null),[ge,X]=h.useState(!1),[P,B]=h.useState(()=>{try{const I=localStorage.getItem("aiChat_history");if(I){const J=JSON.parse(I);if(J&&J.length>0){const $=J.map(U=>({...U,timestamp:new Date(U.timestamp)}));if($.some(U=>U.isGreeting||U.role==="assistant"&&U.content.includes("scheduling assistant")))return $}}}catch(I){console.error("Error loading chat history:",I)}return[]}),[Y,oe]=h.useState(!1),[q,G]=h.useState(!1),[K,ye]=h.useState(()=>{const I=localStorage.getItem("aiChat_pendingBooking");return I?JSON.parse(I):null}),Xe=h.useRef(null),Se=h.useRef(null),ae=()=>{var I;(I=Xe.current)==null||I.scrollIntoView({behavior:"smooth"})},Ue=h.useCallback(async(I,J)=>{y(!0),C("");const $=I.split(" ");let te="";for(let U=0;U<$.length;U++)te+=(U>0?" ":"")+$[U],C(te),await new Promise(re=>setTimeout(re,30));y(!1),C(""),J&&J(I)},[]),it=I=>{var $;const J=($=I==null?void 0:I.response)==null?void 0:$.status;return J===429?{message:`I'm getting a lot of requests right now! Please wait 10-15 seconds and try again.

While you wait, you can:
- Copy your booking link from the sidebar
- Check your calendar directly
- Browse your event types`,suggestions:[{label:"Copy booking link",action:"link"},{label:"View bookings page",action:"navigate",path:"/bookings"}]}:J===500||J===502||J===503?{message:`Oops, something went wrong on my end. Let me try that again, or you could rephrase your question.

Here are some things that usually work:
- Be more specific about dates/times
- Ask one thing at a time
- Try a simpler request first`,suggestions:[{label:"Try again",action:"retry"},{label:"Show my bookings",action:"upcoming"}]}:J===401||J===403?{message:"It looks like your session may have expired. Please refresh the page to continue.",suggestions:[{label:"Refresh page",action:"refresh"}]}:{message:"Hmm, something went wrong. Mind trying that again?",suggestions:[]}},Gt=()=>({personality:w,timezone:m,tier:s,recentPages:r6(),frequentActions:bx(),lastTopic:v.lastTopic,pendingActions:v.pendingActions,userGoals:v.userGoals,queryCount:No(),currentPage:t.pathname}),ss=async()=>{try{const I=await _.timezone.get();let J="";if(typeof I.data=="string")try{J=JSON.parse(I.data).timezone||I.data}catch{J=I.data}else I.data&&typeof I.data=="object"&&(J=I.data.timezone||"");p(J)}catch(I){console.error("Failed to fetch timezone:",I)}},ot=async()=>{var I,J;try{const $=await _.get("/auth/me");if((I=$.data)!=null&&I.name&&(c($.data.name),P.length<=1&&((J=P[0])!=null&&J.isGreeting))){const te=H($.data.name);B([te])}}catch($){console.error("Failed to fetch user name:",$)}},nt=async I=>{oe(!0);try{await _.timezone.update(I),p(I),X(!1);const J=L(I);B($=>[...$,{role:"assistant",content:`Done! Your timezone has been updated to **${J}** (${I}).

All your bookings and availability will now use this timezone.`,timestamp:new Date}])}catch(J){console.error("Failed to update timezone:",J),B($=>[...$,{role:"assistant",content:"Oops, I couldn't update your timezone. Please try again or go to Settings to change it manually.",timestamp:new Date}])}finally{oe(!1)}},Is=I=>{navigator.clipboard.writeText(I),Ce(I),setTimeout(()=>Ce(null),2e3)},ct=I=>{yx(I),Q({link:"What's my booking link?",quick:"Create a quick link",new_quick_link:"Create a quick link",list_quick_links:"Show my quick links",upcoming:"Show my upcoming meetings",today:"What meetings do I have today?",tomorrow:"What's on my schedule tomorrow?",week:"Show my schedule for this week",next_week:"What's coming up next week?",timezone:"Change my timezone",teams:"Show my team links",share:"How should I share my booking link?",book:"Help me book a meeting",availability:"What's my availability this week?",check_free:"Am I free tomorrow at 2pm?",cancel:"Cancel a meeting",reschedule:"Reschedule a meeting",create_rule:"Help me create a smart rule",list_rules:"Show my active rules",block_friday:"Create a rule: no meetings on Friday",add_buffer:"Create a rule: add 15 min buffer after meetings",rules_help:"How do smart rules work?",email_help:"How does the email analyzer work?",team_help:"What can I do with teams?",team_stats:"Show team booking distribution",plan_info:"Compare the different plans",analytics:"Show my booking stats",event_types:"What event types do I have?",create_event:"Help me create a new event type",list_templates:"Show my email templates",create_template:"Help me create a new email template",find_meetings:"Find meetings with someone"}[I]||I)};h.useEffect(()=>{n6(t.pathname)},[t.pathname]),h.useEffect(()=>{localStorage.setItem("aiChat_context",JSON.stringify(v))},[v]),h.useEffect(()=>{localStorage.setItem("aiChat_personality",w)},[w]),h.useEffect(()=>{if(!a&&P.length===0){const I=H();B([I]),localStorage.setItem("aiChat_history",JSON.stringify([I]))}},[a]),h.useEffect(()=>{if(!a&&P.length>0&&!P.some(J=>J.isGreeting)){const J=H();B($=>[J,...$])}},[s,a]),h.useEffect(()=>{P.length>0&&localStorage.setItem("aiChat_history",JSON.stringify(P))},[P]),h.useEffect(()=>{K?localStorage.setItem("aiChat_pendingBooking",JSON.stringify(K)):localStorage.removeItem("aiChat_pendingBooking")},[K]),h.useEffect(()=>{ae()},[P,N]),h.useEffect(()=>{O&&(l&&l(),ss(),ot(),k(!0))},[O]);const Fs=I=>{const J=I.toLowerCase(),$=[{pattern:/eastern|new york|est|edt/i,value:"America/New_York"},{pattern:/central|chicago|cst|cdt/i,value:"America/Chicago"},{pattern:/mountain|denver|mst|mdt/i,value:"America/Denver"},{pattern:/pacific|los angeles|pst|pdt/i,value:"America/Los_Angeles"},{pattern:/london|uk|gmt|bst/i,value:"Europe/London"},{pattern:/paris|cet|cest|france/i,value:"Europe/Paris"},{pattern:/singapore|sgt/i,value:"Asia/Singapore"},{pattern:/tokyo|japan|jst/i,value:"Asia/Tokyo"},{pattern:/shanghai|china|cst(?!.*central)/i,value:"Asia/Shanghai"},{pattern:/manila|philippines|pht/i,value:"Asia/Manila"},{pattern:/dubai|gst|uae/i,value:"Asia/Dubai"},{pattern:/sydney|australia|aedt|aest/i,value:"Australia/Sydney"},{pattern:/auckland|new zealand|nzdt|nzst/i,value:"Pacific/Auckland"}];for(const{pattern:te,value:U}of $)if(te.test(J))return U;return null},Gr=async()=>{var U,re,pe,ve,Ae,Oe,fe,De;if(!z||!z.trim()||Y)return;if(!u&&d.ai_queries_used>=d.ai_queries_limit){B(_e=>[..._e,{role:"assistant",content:`Looks like you've used all ${d.ai_queries_limit} AI queries this month!

Upgrade to Pro for unlimited queries  I'll be here whenever you need me!

[Upgrade to Pro](/billing)`,timestamp:new Date}]);return}const I=z.trim(),J=I.toLowerCase(),$=o6(I);if(j(_e=>({..._e,lastTopic:$,userGoals:[...new Set([..._e.userGoals,$])].slice(-5)})),yx($),c6(),k(!1),J.includes("timezone")||J.includes("time zone")||J.includes("change my time")||J.includes("set my time")||J.includes("update my time")||J==="tz"||J.match(/^(my )?(current )?time\s*zone?$/i)){Q(""),B(Fe=>[...Fe,{role:"user",content:I,timestamp:new Date}]);const _e=Fs(I);if(_e)await nt(_e);else{const Fe=L(m);B(dt=>[...dt,{role:"assistant",content:`Your current timezone is **${Fe}** (${m||"Not set"}).

Select your new timezone below:`,timestamp:new Date,showTimezoneSelector:!0}]),X(!0)}return}if(J.includes("what")&&(J.includes("timezone")||J.includes("time zone"))){Q(""),B(_e=>[..._e,{role:"user",content:I,timestamp:new Date},{role:"assistant",content:`Your current timezone is **${L(m)}** (${m||"Not set"}).

Want to change it? Just say "Change my timezone".`,timestamp:new Date}]);return}if(!n()&&(J.includes("create a team")||J.includes("team scheduling")||J.includes("book with team")||J.includes("team booking link")||J.includes("round robin")||J.includes("collective booking"))){B(_e=>[..._e,{role:"user",content:I,timestamp:new Date},{role:"assistant",content:`I'd love to help with team scheduling!

This is a Team plan feature ($25/month).

[Check out the Team plan](/billing)`,timestamp:new Date}]),Q("");return}if(!r()&&(J.includes("send reminder")||J.includes("send email")||J.includes("email template"))){B(_e=>[..._e,{role:"user",content:I,timestamp:new Date},{role:"assistant",content:`Great idea to send emails!

Email features are part of Pro ($15/month).

[Upgrade to Pro](/billing)`,timestamp:new Date}]),Q("");return}Q(""),B(_e=>[..._e,{role:"user",content:I,timestamp:new Date}]),oe(!0),G(!0);try{let _e=I;K&&(_e=`[Current pending booking: "${K.title}" on ${K.date} at ${K.time} for ${K.duration} minutes with ${K.attendee_email}]

User says: ${I}`);const Fe=Gt(),be=(await _.ai.schedule(_e,P,Fe)).data;l&&l();const ke=be.message||be.response||"",$s=i6(ke);b($s);let wn=be.type;if(wn||((ke.toLowerCase().includes("booking")||ke.toLowerCase().includes("meeting"))&&((re=(U=be.data)==null?void 0:U.bookings)==null?void 0:re.length)>0&&(wn="meeting_list"),(ke.toLowerCase().includes("stat")||ke.toLowerCase().includes("total"))&&(pe=be.data)!=null&&pe.stats&&(wn="analytics"),(ke.toLowerCase().includes("availability")||ke.toLowerCase().includes("available slots")||ke.toLowerCase().includes("week at a glance"))&&((ve=be.data)!=null&&ve.availability||(Ae=be.data)!=null&&Ae.slots)&&(wn="availability")),be.type==="update_pending"&&((Oe=be.data)!=null&&Oe.updatedBooking))ye(be.data.updatedBooking),B(jt=>[...jt,{role:"assistant",content:be.message,timestamp:new Date,data:be.data}]);else if(be.type==="confirmation"&&((fe=be.data)!=null&&fe.bookingData)){const jt=be.data.bookingData;ye({title:jt.title||"Meeting",date:jt.date,time:jt.time,attendees:jt.attendees||[jt.attendee_email],attendee_email:jt.attendee_email||((De=jt.attendees)==null?void 0:De[0]),duration:jt.duration||30,notes:jt.notes||"",team_id:jt.team_id||null,team_name:jt.team_name||null}),B(wa=>[...wa,{role:"assistant",content:be.message,timestamp:new Date,data:be.data}])}else{const jt=ke||"Got it! Let me know if you need anything else.";jt.length>100?(G(!1),await Ue(jt,wa=>{B(Zv=>[...Zv,{role:"assistant",content:wa,timestamp:new Date,data:be.data,responseType:wn}])})):B(wa=>[...wa,{role:"assistant",content:jt,timestamp:new Date,data:be.data,responseType:wn}])}}catch(_e){console.error("AI chat error:",_e),l&&l();const Fe=it(_e);B(dt=>[...dt,{role:"assistant",content:Fe.message,timestamp:new Date,errorSuggestions:Fe.suggestions}])}finally{oe(!1),G(!1)}},qr=async()=>{if(K){oe(!0);try{const I=new Date(`${K.date}T${K.time}`),J=new Date(I.getTime()+K.duration*6e4),$=K.attendees||[K.attendee_email];await _.post("/chatgpt/book-meeting",{title:K.title||"Meeting",start_time:I.toISOString(),end_time:J.toISOString(),attendees:$,attendee_email:$[0],attendee_name:$[0].split("@")[0],notes:K.notes||"",team_id:K.team_id||null});const te=I.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),U=I.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});B(re=>[...re,{role:"assistant",content:`You're all set!

**${K.title||"Meeting"}**
${te} at ${U}
${$.join(", ")}${K.team_name?`
${K.team_name}`:""}

I've sent calendar invites to everyone. Anything else?`,timestamp:new Date,isConfirmation:!0}]),ye(null),l&&l()}catch(I){console.error("Booking error:",I),B(J=>{var $,te;return[...J,{role:"assistant",content:`Oops, I couldn't create that booking. ${((te=($=I.response)==null?void 0:$.data)==null?void 0:te.error)||"Want to try again?"}`,timestamp:new Date}]})}finally{oe(!1)}}},Yr=()=>{ye(null),B(I=>[...I,{role:"assistant",content:"No problem, I've cancelled that. What else can I help with?",timestamp:new Date}])},Kr=()=>{const I=H();B([I]),ye(null),X(!1),b([]),j({lastTopic:null,pendingActions:[],userGoals:[]}),localStorage.removeItem("aiChat_pendingBooking"),localStorage.removeItem("aiChat_context"),setTimeout(()=>localStorage.setItem("aiChat_history",JSON.stringify([I])),100)},ba=I=>{const J=P.filter(($,te)=>te!==I);J.length===0||!J.some($=>$.isGreeting)?B([H()]):B(J)},ya=I=>new Date(I).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Jr=I=>I.replace(/\*\*/g,""),us=({url:I,label:J})=>e.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 rounded-lg px-3 py-2 mt-2",children:[e.jsx(xt,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-purple-700 truncate flex-1 font-mono",children:J||I}),e.jsx("button",{onClick:$=>{$.stopPropagation(),Is(I)},className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-all flex-shrink-0 ${ue===I?"bg-green-500 text-white":"bg-purple-600 text-white hover:bg-purple-700"}`,children:ue===I?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-3 w-3"})," Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-3 w-3"})," Copy"]})})]}),Qr=({links:I,labelKey:J="name"})=>e.jsx("div",{className:"space-y-2 mt-3",children:I.map(($,te)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2 border border-gray-200",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:$[J]||$.title||$.name}),e.jsx("p",{className:"text-xs text-gray-500 font-mono truncate",children:$.short_url||"/book/..."})]}),e.jsx("button",{onClick:U=>{U.stopPropagation(),Is($.url)},className:`flex items-center gap-1 text-xs px-2 py-1.5 rounded transition-all flex-shrink-0 ${ue===$.url?"bg-green-500 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:ue===$.url?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-3 w-3"})," Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-3 w-3"})," Copy"]})})]},te))}),va=()=>e.jsx("div",{className:"mt-3 bg-gray-50 rounded-lg p-3 border border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:T.map(I=>e.jsxs("button",{onClick:()=>nt(I.value),disabled:Y,className:`text-left text-xs p-2 rounded-lg border transition-colors ${m===I.value?"bg-purple-100 border-purple-300 text-purple-800":"bg-white border-gray-200 hover:border-purple-300 hover:bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"font-medium",children:I.label})]}),e.jsx("span",{className:"text-gray-500 ml-5",children:I.value})]},I.value))})}),ja=I=>{var re,pe,ve,Ae,Oe,fe,De,_e,Fe;const J=Jr(I.content),$=I.data,te=I.responseType?e.jsx(p6,{type:I.responseType,data:$}):null,U=((re=I.errorSuggestions)==null?void 0:re.length)>0?e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:I.errorSuggestions.map((dt,be)=>e.jsx("button",{onClick:()=>{dt.action==="retry"?Gr():dt.action==="refresh"?window.location.reload():dt.action==="navigate"?window.location.href=dt.path:ct(dt.action)},className:"text-xs px-3 py-1.5 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-full transition-colors",children:dt.label},be))}):null;if($!=null&&$.url&&($!=null&&$.type)){const dt=$.short_url||($.type==="magic"?`/m/${(pe=$.token)==null?void 0:pe.substring(0,8)}...`:`/book/${((ve=$.token)==null?void 0:ve.substring(0,8))||"..."}...`);return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:J}),e.jsx(us,{url:$.url,label:dt}),te,U]})}if(((Ae=$==null?void 0:$.teams)==null?void 0:Ae.length)>0&&((Oe=$.teams[0])!=null&&Oe.url))return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:J}),e.jsx(Qr,{links:$.teams,labelKey:"name"}),te,U]});if(((fe=$==null?void 0:$.members)==null?void 0:fe.length)>0&&((De=$.members[0])!=null&&De.url))return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:J}),e.jsx(Qr,{links:$.members,labelKey:"name"}),te,U]});if(((_e=$==null?void 0:$.event_types)==null?void 0:_e.length)>0&&((Fe=$.event_types[0])!=null&&Fe.booking_url)){const dt=$.event_types.map(be=>({...be,url:be.booking_url,short_url:`/${$.username}/${be.slug}`}));return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:J}),e.jsx(Qr,{links:dt,labelKey:"title"}),te,U]})}return I.showTimezoneSelector?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:J}),e.jsx(va,{}),U]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:J}),te,U]})};return O?e.jsx("div",{className:"fixed bottom-0 right-0 sm:bottom-6 sm:right-6 z-[99998] w-full sm:w-auto",children:e.jsxs("div",{className:`w-full sm:w-96 bg-white rounded-none sm:rounded-3xl shadow-2xl border-0 sm:border-2 sm:border-purple-200 overflow-hidden transition-all flex flex-col ${A?"h-16":"h-[80vh] sm:h-[600px]"} max-h-screen`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-3 sm:p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-sm sm:text-base",children:"TruCal Assistant"}),e.jsx("p",{className:"text-xs text-purple-200",children:s==="free"?"Free":s==="pro"?"Pro":"Team"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u&&e.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded-lg px-2 py-1",children:[e.jsx(Me,{className:"h-3 w-3 text-yellow-300"}),e.jsx("span",{className:"text-xs text-white font-medium",children:"Unlimited"})]}),e.jsx("button",{onClick:()=>F(!A),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:A?e.jsx(X2,{className:"h-4 w-4 text-white"}):e.jsx(e1,{className:"h-4 w-4 text-white"})}),e.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Pe,{className:"h-4 w-4 text-white"})})]})]}),!A&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50",children:[!u&&d.ai_queries_used>=d.ai_queries_limit&&e.jsx("div",{className:"rounded-lg p-4 mb-4 bg-purple-50 border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:e.jsx(Me,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold mb-2 text-purple-800 text-sm",children:"Upgrade for unlimited AI"}),e.jsx("button",{onClick:()=>window.location.href="/billing",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-lg font-semibold text-sm",children:"Get Pro  $15/mo"})]})]})}),S&&P.length<=1&&(u||d.ai_queries_used<d.ai_queries_limit)&&e.jsx(x6,{onSuggestion:I=>{Q(I),k(!1)},onDismiss:()=>k(!1)}),P.length<=1&&(u||d.ai_queries_used<d.ai_queries_limit)&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:V().slice(0,4).map((I,J)=>{const $=I.icon,te={purple:"text-purple-600",blue:"text-blue-600",green:"text-green-600",pink:"text-pink-600",orange:"text-orange-600"};return e.jsxs("button",{onClick:()=>ct(I.action),className:"flex items-center gap-2 p-3 bg-white rounded-xl border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors text-left",children:[e.jsx($,{className:`h-4 w-4 ${te[I.color]||"text-purple-600"}`}),e.jsx("span",{className:"text-sm font-medium",children:I.label})]},J)})}),P.length>2&&e.jsxs("div",{className:"flex justify-center mb-4 gap-2 p-2 bg-gray-100 rounded-lg",children:[e.jsxs("button",{onClick:Kr,className:"text-xs text-red-600 bg-red-50 hover:bg-red-100 flex items-center gap-1 px-3 py-2 rounded-lg border border-red-200",children:[e.jsx(yt,{className:"h-3 w-3"})," Clear"]}),e.jsxs("button",{onClick:Kr,className:"text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 flex items-center gap-1 px-3 py-2 rounded-lg border border-blue-200",children:[e.jsx(s1,{className:"h-3 w-3"})," Start Over"]})]}),P.map((I,J)=>e.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"} group`,children:e.jsxs("div",{className:`max-w-[85%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 relative ${I.role==="user"?"bg-purple-600 text-white rounded-br-md":"bg-white text-gray-800 border border-gray-200 rounded-bl-md shadow-sm"}`,children:[I.role==="user"?e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:Jr(I.content)}):ja(I),e.jsx("p",{className:`text-xs mt-1 ${I.role==="user"?"text-purple-200":"text-gray-400"}`,children:ya(I.timestamp)}),J>0&&!I.isGreeting&&e.jsx("button",{onClick:()=>ba(J),className:`absolute -top-2 -right-2 w-5 h-5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-xs ${I.role==="user"?"bg-red-500 text-white":"bg-gray-400 hover:bg-red-500 text-white"}`,children:""})]})},J)),g&&N&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"max-w-[85%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 bg-white text-gray-800 border border-gray-200 rounded-bl-md shadow-sm",children:e.jsxs("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:[N,e.jsx("span",{className:"animate-pulse",children:"|"})]})})}),(Y||q)&&!g&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white rounded-2xl px-4 py-3 border border-gray-200 shadow-sm flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"Typing..."})]})}),e.jsx("div",{ref:Xe})]}),f.length>0&&!Y&&e.jsx("div",{className:"px-3 sm:px-4 py-2 bg-gray-50 border-t border-gray-100",children:e.jsx(f6,{actions:f,onAction:I=>Q(I)})}),K&&e.jsx("div",{className:"p-3 sm:p-4 bg-purple-50 border-t border-purple-200",children:e.jsxs("div",{className:"bg-white rounded-xl p-3 sm:p-4 border-2 border-purple-300 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 text-purple-600"}),"Ready to book?"]}),e.jsx("button",{onClick:()=>ye(null),className:"text-gray-400 hover:text-red-500",children:e.jsx(Pe,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-3 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:K.title,onChange:I=>ye({...K,title:I.target.value}),className:"flex-1 bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm",placeholder:"Meeting title"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:K.date,onChange:I=>ye({...K,date:I.target.value}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm"}),e.jsx("input",{type:"time",value:K.time,onChange:I=>ye({...K,time:I.target.value}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Te,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Attendees"})]}),e.jsxs("div",{className:"space-y-2 pl-6",children:[(K.attendees||[K.attendee_email]).map((I,J)=>{var $;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"email",value:I,onChange:te=>{const U=[...K.attendees||[K.attendee_email]];U[J]=te.target.value,ye({...K,attendees:U,attendee_email:U[0]})},className:"flex-1 bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm",placeholder:"email@example.com"}),(($=K.attendees)==null?void 0:$.length)>1&&e.jsx("button",{onClick:()=>{const te=(K.attendees||[]).filter((U,re)=>re!==J);ye({...K,attendees:te,attendee_email:te[0]})},className:"text-red-500 p-1",children:e.jsx(Pe,{className:"h-4 w-4"})})]},J)}),e.jsx("button",{onClick:()=>ye({...K,attendees:[...K.attendees||[K.attendee_email],""]}),className:"text-purple-600 text-sm",children:"+ Add someone"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:K.duration,onChange:I=>ye({...K,duration:parseInt(I.target.value)}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm",children:[e.jsx("option",{value:15,children:"15 min"}),e.jsx("option",{value:30,children:"30 min"}),e.jsx("option",{value:45,children:"45 min"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:qr,disabled:Y,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:Y?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4"})," Book it!"]})}),e.jsxs("button",{onClick:Yr,disabled:Y,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsx($t,{className:"h-4 w-4"})," Never mind"]})]})]})}),e.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:Se,type:"text",value:z,onChange:I=>Q(I.target.value),onKeyPress:I=>I.key==="Enter"&&Gr(),placeholder:"Type a message...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",disabled:Y||!u&&d.ai_queries_used>=d.ai_queries_limit}),e.jsx("button",{onClick:Gr,disabled:Y||!z.trim()||!u&&d.ai_queries_used>=d.ai_queries_limit,className:"p-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-300 text-white rounded-xl transition-colors",children:Y?e.jsx(ne,{className:"h-5 w-5 animate-spin"}):e.jsx(lu,{className:"h-5 w-5"})})]})})]})]})}):e.jsxs("button",{onClick:()=>D(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-[99999] group",children:[e.jsx("div",{className:"sm:hidden h-14 w-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-all",children:e.jsx(ce,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"hidden sm:flex items-center gap-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-5 py-3 rounded-full shadow-2xl hover:shadow-purple-500/30 hover:scale-105 transition-all",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ce,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-left pr-2",children:[e.jsx("p",{className:"font-bold text-sm",children:"TruCal Assistant"}),e.jsx("p",{className:"text-xs text-purple-200",children:"Ask me anything"})]})]}),e.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full border-2 border-white animate-pulse"})]})}function b6({className:t=""}){const{isDark:s,toggleTheme:r}=w5();return e.jsx("button",{onClick:r,className:`p-2 rounded-lg transition-colors ${s?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${t}`,title:s?"Switch to light mode":"Switch to dark mode",children:s?e.jsx(a1,{className:"w-5 h-5"}):e.jsx(t1,{className:"w-5 h-5"})})}const kn=[{id:"welcome",title:"Welcome to ScheduleSync!",description:"Let's get you set up in just 2 minutes. You'll be booking meetings like a pro!",icon:ce,color:"purple"},{id:"calendar",title:"Connect Your Calendar",description:"Sync with Google or Outlook to automatically show your availability and prevent double-bookings.",icon:se,color:"blue",action:"Connect Calendar",path:"/settings?tab=calendars"},{id:"event_type",title:"Create Your First Event Type",description:'Set up an event type like "30-min Call" or "Consultation" that people can book with you.',icon:he,color:"green",action:"Create Event Type",path:"/events/new"},{id:"booking_page",title:"Share Your Booking Page",description:"Your personal booking page is ready! Share it on LinkedIn, email signatures, or anywhere.",icon:xt,color:"orange",action:"View My Page",path:"/my-links"},{id:"ai_assistant",title:"Meet Your AI Assistant",description:'Try saying "Book a meeting with john@email.com tomorrow at 2pm" - it just works!',icon:pt,color:"pink",action:"Try AI Assistant",openChat:!0},{id:"complete",title:"You're All Set!",description:"You're ready to start scheduling smarter. Explore more features as you go!",icon:xe,color:"emerald"}];function y6({onComplete:t,onSkip:s}){const r=we(),[n,a]=h.useState(0),[l,i]=h.useState([]),[o,c]=h.useState(!0),d=kn[n],u=(n+1)/kn.length*100,m=()=>{i([...l,d.id]),n<kn.length-1?a(n+1):w()},p=()=>{c(!1),s==null||s(),localStorage.setItem("onboarding_skipped","true")},w=async()=>{c(!1),t==null||t(),localStorage.setItem("onboarding_completed","true");try{await _.patch("/settings/profile",{onboarding_completed:!0})}catch{}},x=()=>{d.openChat?(window.dispatchEvent(new CustomEvent("openAIChat")),m()):(d.path&&r(d.path),m())};if(!o)return null;const v=d.icon,j={purple:"from-purple-500 to-pink-500",blue:"from-blue-500 to-cyan-500",green:"from-green-500 to-emerald-500",orange:"from-orange-500 to-amber-500",pink:"from-pink-500 to-rose-500",emerald:"from-emerald-500 to-teal-500"};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden animate-scale-in",children:[e.jsx("div",{className:"h-1 bg-gray-100 dark:bg-gray-700",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${u}%`}})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Step ",n+1," of ",kn.length]}),e.jsxs("button",{onClick:p,className:"text-sm text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 flex items-center gap-1",children:["Skip tour",e.jsx(Pe,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${j[d.color]} flex items-center justify-center mb-6 mx-auto`,children:e.jsx(v,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-3",children:d.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-8 leading-relaxed",children:d.description}),e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:kn.map((f,b)=>e.jsx("div",{className:`h-2 rounded-full transition-all ${b===n?"w-6 bg-purple-500":b<n?"w-2 bg-purple-300":"w-2 bg-gray-200 dark:bg-gray-600"}`},f.id))}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:d.action?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:x,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[d.action,e.jsx(qe,{className:"w-5 h-5"})]}),e.jsx("button",{onClick:m,className:"flex-1 py-3 px-6 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all",children:"Skip this step"})]}):e.jsxs("button",{onClick:m,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[n===kn.length-1?"Get Started":"Continue",e.jsx(qe,{className:"w-5 h-5"})]})})]})]})})}function v6(){var k;const[t,s]=h.useState(!1),[r,n]=h.useState(!1),[a,l]=h.useState(!1),i=cs(),o=we(),{user:c,logout:d}=Yo(),{hasProFeature:u,hasTeamFeature:m}=ds();h.useEffect(()=>{const T=localStorage.getItem("onboarding_completed"),L=localStorage.getItem("onboarding_skipped");!T&&!L&&_.get("/event-types").then(E=>{E.data.length===0&&l(!0)}).catch(()=>{})},[]);const p=["jaybersales95@gmail.com"],w=((k=c==null?void 0:c.email)==null?void 0:k.toLowerCase())||"",x=(c==null?void 0:c.is_admin)||p.includes(w),v=T=>!(T==="pro"&&u()||T==="team"&&m()),j=[{name:"Dashboard",path:"/dashboard",icon:Q2,walkthrough:"dashboard-nav"},{name:"Event Types",path:"/events",icon:he,walkthrough:"events-nav"},{name:"Bookings",path:"/bookings",icon:se,walkthrough:"bookings-nav"},{name:"Relationships",path:"/relationships",icon:u1,walkthrough:"relationships-nav"},{name:"Analytics",path:"/analytics",icon:kl,walkthrough:"analytics-nav"},{name:"Booking Links",path:"/my-links",icon:yo,walkthrough:"my-links-nav"},{name:"Teams",path:"/teams",icon:Le,walkthrough:"teams-nav"},{name:"Settings",path:"/settings",icon:dr,walkthrough:"settings-nav"}],f=[{name:"Smart Rules",path:"/rules",icon:Me,walkthrough:"rules-nav",requiredTier:"pro"},{name:"Autonomous",path:"/autonomous",icon:pt,walkthrough:"autonomous-nav",requiredTier:"team"}],b=x?[{name:"Admin Panel",path:"/admin",icon:iu,walkthrough:"admin-nav"}]:[],g=f.some(T=>i.pathname===T.path),y=()=>{d(),o("/")},N=()=>c!=null&&c.name?c.name.split(" ").map(T=>T[0]).join("").toUpperCase().slice(0,2):c!=null&&c.email?c.email[0].toUpperCase():"U",C=({item:T,onClick:L,compact:E=!1})=>{const V=T.icon,R=i.pathname===T.path,M=T.path==="/admin",H=T.requiredTier&&v(T.requiredTier);return e.jsxs(gt,{to:T.path,"data-walkthrough":T.walkthrough,onClick:L,className:`flex items-center gap-2 ${E?"px-3 py-2":"px-3 xl:px-4 py-2"} rounded-lg font-medium transition-colors text-sm ${R?M?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":M?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(V,{className:E?"h-4 w-4":"h-4 w-4 xl:h-5 xl:w-5"}),e.jsx("span",{className:E?"flex-1":"hidden xl:inline",children:T.name}),H&&e.jsx("span",{className:`${E?"":"hidden xl:inline"} text-xs ${T.requiredTier==="team"?"bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"} px-1.5 py-0.5 rounded font-semibold`,children:T.requiredTier==="team"?"TEAM":"PRO"})]})},S=({item:T,onClick:L})=>{const E=T.icon,V=i.pathname===T.path,R=T.path==="/admin",M=T.requiredTier&&v(T.requiredTier);return e.jsxs(gt,{to:T.path,"data-walkthrough":T.walkthrough,onClick:L,className:`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${V?R?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":R?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx(E,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm flex-1",children:T.name}),M&&e.jsx("span",{className:`text-xs ${T.requiredTier==="team"?"bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"} px-1.5 py-0.5 rounded font-semibold`,children:T.requiredTier==="team"?"TEAM":"PRO"})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[a&&e.jsx(y6,{onComplete:()=>l(!1),onSkip:()=>l(!1)}),e.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm transition-colors",children:[e.jsx("div",{className:"mx-auto px-3 sm:px-4 lg:px-6",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:e.jsx(gt,{to:"/",className:"flex items-center gap-2 sm:gap-3",children:e.jsx("span",{className:"text-base sm:text-lg font-bold tracking-tight text-gray-900 dark:text-white",children:"ScheduleSync"})})}),e.jsxs("nav",{className:"hidden lg:flex items-center gap-1",children:[j.map(T=>e.jsx(C,{item:T},T.path)),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!r),className:`flex items-center gap-2 px-3 xl:px-4 py-2 rounded-lg font-medium transition-colors text-sm ${g?"bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(ce,{className:"h-4 w-4 xl:h-5 xl:w-5"}),e.jsx("span",{className:"hidden xl:inline",children:"AI Tools"}),e.jsx(Sl,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-20",children:[e.jsx("div",{className:"px-3 py-2 border-b border-gray-100 dark:border-gray-700",children:e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"AI-Powered Features"})}),f.map(T=>e.jsx(C,{item:T,onClick:()=>n(!1),compact:!0},T.path))]})]})]}),b.map(T=>e.jsx(C,{item:T},T.path))]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(b6,{}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(a5,{})}),e.jsxs("div",{className:"hidden sm:block text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white truncate max-w-[150px]",children:(c==null?void 0:c.name)||"User"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 truncate max-w-[150px]",children:c==null?void 0:c.email})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-semibold text-xs sm:text-sm",children:N()})}),e.jsxs("button",{onClick:y,className:"hidden lg:flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-medium text-sm",children:[e.jsx(Wp,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xl:inline",children:"Logout"})]}),e.jsx("button",{onClick:()=>s(!t),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t?e.jsx(Pe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 dark:text-gray-300"}):e.jsx(Z2,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 dark:text-gray-300"})})]})]})}),t&&e.jsx("div",{className:"lg:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-2xl",children:e.jsxs("div",{className:"px-3 sm:px-4 py-3 space-y-1",children:[e.jsxs("div",{className:"sm:hidden px-4 py-3 bg-gray-50 dark:bg-gray-700 rounded-lg mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(c==null?void 0:c.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:c==null?void 0:c.email})]}),j.map(T=>e.jsx(S,{item:T,onClick:()=>s(!1)},T.path)),e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>n(!r),className:"flex items-center justify-between w-full px-4 py-3 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx(ce,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Tools"})]}),e.jsx(Sl,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})]}),r&&e.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-purple-100 dark:border-purple-800 pl-4",children:f.map(T=>e.jsx(S,{item:T,onClick:()=>s(!1)},T.path))})]}),b.map(T=>e.jsx(S,{item:T,onClick:()=>s(!1)},T.path)),e.jsxs("button",{onClick:()=>{s(!1),y()},className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-medium mt-2",children:[e.jsx(Wp,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Logout"})]})]})})]}),e.jsx("main",{className:"mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 max-w-[1600px]",children:e.jsx(b2,{})}),e.jsx(g6,{})]})}function zc({children:t}){const{isAuthenticated:s,user:r,loading:n}=Yo(),a=cs();if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Checking your session"})]})});if(!s)return e.jsx(Ii,{to:"/login",replace:!0,state:{from:a.pathname+a.search}});const l=r?`onboardingCompleted:${r.id||r.email}`:null,i=l&&localStorage.getItem(l)==="true",o=(r==null?void 0:r.onboarded)===!0||(r==null?void 0:r.hasCompletedOnboarding)===!0||i||!!(r!=null&&r.username),c=a.pathname==="/onboarding";return!o&&!c?e.jsx(Ii,{to:"/onboarding",replace:!0}):o&&c?e.jsx(Ii,{to:"/dashboard",replace:!0}):t}function j6(){const t=we(),s=[{icon:ce,title:"TruCal Assistant",description:'Natural language scheduling with ChatGPT integration. Just tell it what you need: "Schedule lunch with John next Tuesday" or "Find time for a 30-min call this week." AI handles the rest.',stat:"All plans",color:"from-blue-500 to-cyan-500",demo:"Natural language  Smart rules  Intelligent suggestions",isNew:!0,badge:"FEATURED"},{icon:Te,title:"TruCal Assistant (via email)",description:"CC schedule@mg.trucal.xyz on any email thread. Our AI proposes times, handles replies, and books automatically. Works with Gmail, Outlook, Apple Mailany email client.",stat:"All plans",color:"from-purple-500 to-pink-500",demo:"Zero apps to install  AI handles back-and-forth  One-click booking",isNew:!0,badge:"FEATURED"},{icon:Me,title:"Instant Calendar Sync",description:"Connect Google or Outlook Calendar in one click. Auto-detects your availability and prevents double-bookings.",stat:"< 30 seconds",color:"from-green-500 to-emerald-500",demo:"One-click OAuth connection"},{icon:Le,title:"Team Scheduling",description:"Round-robin distribution, team availability pooling, routing & load balancing. Perfect for sales teams.",stat:"Team plan",color:"from-orange-500 to-red-500",demo:"Book with entire team instantly"}],r=[{name:"Free",price:"$0",period:"",description:"Free forever",features:["Unlimited bookings","Basic AI features","Google & Outlook sync","Email reminders","Custom URL"],cta:"Start Free",popular:!1},{name:"Plus",price:"$8",period:"/month",description:"For active professionals",features:["TruCal Assistant (via email)","Unlimited temporary links","Advanced AI features","Buffer times & booking caps","Multiple event types"],cta:"Upgrade to Plus",popular:!0,badge:"MOST POPULAR"},{name:"Pro",price:"$15",period:"/month",description:"For power users",features:["Unlimited AI","Everything in Plus","Custom email templates","Priority support","Advanced analytics"],cta:"Go Pro",popular:!1},{name:"Team",price:"$20",period:"/user/month",description:"For growing teams",features:["Team scheduling","Admin controls","Team analytics","Shared event types","Team onboarding"],cta:"Start Team Trial",popular:!1}];return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white font-sans",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg",children:"TruCal"})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm",children:[e.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Features"}),e.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Pricing"}),e.jsx("button",{onClick:()=>t("/demo"),className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Demo"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>t("/login"),className:"text-sm font-medium text-gray-600 hover:text-gray-900 px-2 sm:px-3 py-2",children:"Log in"}),e.jsxs("button",{onClick:()=>t("/register"),className:"text-xs sm:text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full px-3 sm:px-4 py-2 hover:shadow-lg transition-all",children:[e.jsx("span",{className:"hidden sm:inline",children:"Get Started Free"}),e.jsx("span",{className:"sm:hidden",children:"Sign Up"})]})]})]})})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 overflow-hidden pt-12 pb-20 sm:pt-16 sm:pb-24 md:pt-20 md:pb-32",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 backdrop-blur-sm border border-purple-200 text-sm font-medium text-purple-600 mb-8 shadow-sm",children:[e.jsx(ce,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:"AI-Powered Scheduling Platform"})]}),e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-extrabold text-gray-900 mb-6 tracking-tight",children:["The AI scheduling assistant",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"that deletes complexity"})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-600 max-w-3xl mx-auto mb-12 leading-relaxed",children:"ChatGPT-powered TruCal Assistant in your dashboard + TruCal Assistant via email. Natural language scheduling meets zero-friction booking."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 sm:gap-6 max-w-4xl mx-auto mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-5 sm:p-6 border-2 border-blue-300 relative",children:[e.jsxs("div",{className:"absolute -top-3 right-4 px-3 py-1 bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-xs font-bold rounded-full flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"}),"ALL PLANS"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ce,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600"}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"TruCal Assistant"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-2",children:'"Schedule lunch with John next Tuesday"'}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"ChatGPT integration  Natural language  Smart rules"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-5 sm:p-6 border-2 border-purple-300 relative",children:[e.jsxs("div",{className:"absolute -top-3 right-4 px-3 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold rounded-full flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"}),"ALL PLANS"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Te,{className:"w-7 h-7 sm:w-8 sm:h-8 text-purple-600"}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"TruCal Assistant (via email)"})]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-700 mb-2",children:["CC ",e.jsx("span",{className:"bg-purple-100 px-2 py-1 rounded font-mono text-purple-700 font-semibold text-xs sm:text-sm",children:"schedule@mg.trucal.xyz"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"AI proposes times  Handles replies  Books automatically"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[e.jsxs("button",{onClick:()=>t("/register"),className:"group px-6 py-3 sm:px-8 sm:py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full text-base sm:text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105 flex items-center gap-2",children:["Start for Free",e.jsx(qe,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("button",{onClick:()=>t("/demo"),className:"px-6 py-3 sm:px-8 sm:py-4 bg-white text-gray-900 rounded-full text-base sm:text-lg font-semibold border-2 border-gray-200 hover:border-purple-300 hover:shadow-lg transition-all flex items-center gap-2",children:[e.jsx(Hp,{className:"w-5 h-5"}),"Try Live Demo"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm text-gray-600 mb-16",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[e.jsx(xe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"No credit card required"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[e.jsx(xe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Free forever plan"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[e.jsx(xe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Setup in 30 seconds"})]})]}),e.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[e.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-8 border-white",children:e.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 aspect-video flex items-center justify-center p-8",children:e.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Email: Partnership Discussion"})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"From:"})," ",e.jsx("span",{className:"text-gray-900",children:"you@company.com"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"To:"})," ",e.jsx("span",{className:"text-gray-900",children:"john@client.com"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"CC:"})," ",e.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded font-mono text-xs font-bold",children:"schedule@mg.trucal.xyz"})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-gray-900 text-sm",children:"TruCal Assistant"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Pick a time for your meeting:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg px-4 py-3 text-sm font-semibold cursor-pointer hover:shadow-lg transition-shadow",children:" Tomorrow at 2:00 PM"}),e.jsx("div",{className:"bg-white text-gray-900 rounded-lg px-4 py-3 text-sm border border-gray-200 cursor-pointer hover:bg-gray-50",children:"Friday at 10:00 AM"})]})]})})]})})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-xl px-6 py-4 border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"10x"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Faster booking"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl px-6 py-4 border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-pink-600",children:"95%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Less back-and-forth"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl px-6 py-4 border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Double bookings"})]})]})]})]})]}),e.jsx("section",{className:"py-24 bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-sm font-bold mb-6",children:[e.jsx(ce,{className:"w-4 h-4"}),"TRUCAL ASSISTANT"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Talk to your calendar like it's a person"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Natural language scheduling powered by ChatGPT. Just ask, and AI figures out the rest."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-blue-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 p-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"TruCal TruCal Assistant"}),e.jsx("p",{className:"text-xs text-blue-100",children:"ChatGPT-powered scheduling"})]})]})}),e.jsxs("div",{className:"p-6 space-y-4 bg-gray-50 min-h-[400px]",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl rounded-tr-sm px-5 py-3 max-w-[80%]",children:e.jsx("p",{className:"text-sm",children:"Schedule lunch with John next Tuesday around noon"})})}),e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl rounded-tl-sm px-5 py-3 max-w-[85%]",children:[e.jsx("p",{className:"text-sm text-gray-900 mb-3",children:"I'll schedule lunch with John for next Tuesday at 12:00 PM. Let me check your availability..."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg px-4 py-2.5 text-sm font-semibold",children:" Tuesday, Jan 16  12:00 PM - 1:00 PM"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Duration: 1 hour  Location: TBD"})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"bg-blue-600 text-white rounded-2xl rounded-tr-sm px-5 py-3 max-w-[80%]",children:e.jsx("p",{className:"text-sm",children:"Perfect! Send the invite"})})}),e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white border-2 border-green-200 rounded-2xl rounded-tl-sm px-5 py-3 max-w-[85%]",children:e.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-green-500"}),"Done! Calendar invite sent to John. Meeting confirmed for Tuesday, Jan 16 at 12:00 PM."]})})})]})]}),e.jsx("div",{className:"absolute -top-4 -right-4 px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-full font-bold text-sm shadow-lg transform rotate-6 animate-pulse",children:" ChatGPT"}),e.jsx("div",{className:"absolute -bottom-4 -left-4 px-4 py-2 bg-green-500 text-white rounded-full font-bold text-sm shadow-xl transform -rotate-6",children:" Smart"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ask in plain English"}),e.jsx("p",{className:"text-gray-600",children:'"Schedule a 30-min call with Sarah sometime this week" or "Find time for team standup every Monday at 9 AM"'})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AI understands context"}),e.jsx("p",{className:"text-gray-600",children:"Interprets your preferences, working hours, buffer times, and booking rules. Suggests optimal times automatically."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant booking"}),e.jsx("p",{className:"text-gray-600",children:"AI checks your calendar, proposes times, and books meetings. Sends invites, updates your calendar, and notifies everyone."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Smart rules & preferences"}),e.jsx("p",{className:"text-gray-600",children:'Set custom rules like "No meetings before 10 AM" or "Leave 15-min buffer between calls." AI enforces them automatically.'})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-full text-lg font-bold hover:shadow-xl transition-all transform hover:scale-105 flex items-center gap-2",children:["Try TruCal Assistant",e.jsx(qe,{className:"w-5 h-5"})]})})]})]})]})}),e.jsx("section",{className:"py-24 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-bold mb-6",children:[e.jsx(Te,{className:"w-4 h-4"}),"TRUCAL ASSISTANT (VIA EMAIL)"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Schedule meetings without leaving your inbox"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Just CC our AI assistant on any email. No apps, no browser tabs, no context switching."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"CC schedule@mg.trucal.xyz on any email"}),e.jsx("p",{className:"text-gray-600",children:"Works with Gmail, Outlook, Apple Mail, or any email client. Just add the bot to CC."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AI proposes available times"}),e.jsx("p",{className:"text-gray-600",children:"Our AI instantly checks your calendar and sends beautifully formatted time options to everyone in the thread."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Recipient clicks to book"}),e.jsx("p",{className:"text-gray-600",children:"They pick a time right from their email. One click, instant booking. No links to open."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Meeting confirmed automatically"}),e.jsx("p",{className:"text-gray-600",children:"Calendar invites sent, confirmations delivered. Zero back-and-forth required."})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full text-lg font-bold hover:shadow-xl transition-all transform hover:scale-105 flex items-center gap-2",children:["Try it now",e.jsx(qe,{className:"w-5 h-5"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"New Email"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 w-12",children:"To:"}),e.jsx("span",{className:"text-gray-900",children:"john@company.com"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 w-12",children:"CC:"}),e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-lg font-mono text-xs font-bold inline-flex items-center gap-2",children:[e.jsx(ce,{className:"w-3 h-3"}),"schedule@mg.trucal.xyz"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 w-12",children:"Subject:"}),e.jsx("span",{className:"text-gray-900",children:"Partnership Discussion"})]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-6",children:["Hey John,",e.jsx("br",{}),e.jsx("br",{}),"Let's find a time to chat about the partnership opportunity!"]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:"TruCal Scheduling Assistant"}),e.jsx("p",{className:"text-xs text-gray-500",children:"via schedule@mg.trucal.xyz"})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Hi John!  I'm helping schedule your meeting. Pick a time:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg p-3 text-sm font-semibold flex items-center justify-between cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx("span",{children:" Today - Jan 15 at 4:00 PM"}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"bg-gray-100 text-gray-900 rounded-lg p-3 text-sm font-medium cursor-pointer hover:bg-gray-200 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs block mb-1",children:"Tomorrow"}),"Jan 16 at 10:00 AM"]}),e.jsxs("div",{className:"bg-gray-100 text-gray-900 rounded-lg p-3 text-sm font-medium cursor-pointer hover:bg-gray-200 transition-colors",children:[e.jsx("span",{className:"text-gray-500 text-xs block mb-1",children:"Friday"}),"Jan 19 at 2:00 PM"]})]})]})]})]}),e.jsx("div",{className:"absolute -top-4 -right-4 px-4 py-2 bg-green-500 text-white rounded-full font-bold text-sm shadow-lg transform rotate-6",children:" Zero apps"}),e.jsx("div",{className:"absolute -bottom-4 -left-4 px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-full font-bold text-sm shadow-xl transform -rotate-6 animate-pulse",children:" Instant"})]})]})]})}),e.jsx("section",{className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Why CC beats booking links"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Stay in your email. Let AI handle the coordination."})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-8 border-2 border-gray-200",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Old Way"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-red-600 text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Send booking link"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Copy-paste your booking link"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-red-600 text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Recipient visits page"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Opens new tab, leaves email"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-red-600 text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Back-and-forth"}),e.jsx("p",{className:"text-sm text-gray-600",children:'"None of these times work..."'})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-red-600 text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Impersonal"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generic booking page"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"TruCal Way"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Just CC the bot"}),e.jsx("p",{className:"text-sm text-gray-600",children:"schedule@mg.trucal.xyz"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Stays in email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click button, done. No tabs."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"AI handles it"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Smart replies, auto-booking"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Conversational"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Feels natural, human"})]})]})]})]})]})}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full text-lg font-bold hover:shadow-xl transition-all transform hover:scale-105",children:"Try it now"}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Free forever  No credit card  30-second setup"})]})]})}),e.jsx("section",{id:"features",className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Everything you need. Nothing you don't."}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"TruCal Assistant as your key differentiator. The rest is built-in."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.map((n,a)=>{const l=a===0?"border-blue-300 hover:border-blue-400":a===1?"border-purple-300 hover:border-purple-400":"border-gray-100 hover:border-purple-200",i=a===0?"from-blue-600 to-cyan-600":"from-purple-600 to-pink-600";return e.jsxs("div",{className:`group bg-white rounded-2xl p-6 sm:p-8 shadow-sm border-2 hover:shadow-xl transition-all relative ${n.isNew?l:"border-gray-100 hover:border-purple-200"}`,children:[n.badge&&e.jsxs("div",{className:`absolute -top-3 right-4 px-3 py-1 bg-gradient-to-r ${i} text-white text-xs font-bold rounded-full flex items-center gap-1`,children:[e.jsx(ce,{className:"w-3 h-3"}),n.badge]}),e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${n.color} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`,children:e.jsx(n.icon,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.isPro&&e.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 rounded-full text-xs font-bold",children:"PRO"}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm font-bold",children:n.stat})]})]}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:n.description}),e.jsxs("div",{className:"text-sm text-purple-600 font-medium bg-purple-50 rounded-lg px-4 py-3 border border-purple-100",children:[" ",n.demo]})]},a)})})]})}),e.jsx("section",{id:"pricing",className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Simple, transparent pricing"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Start free, upgrade when you need more. No hidden fees."})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:r.map((n,a)=>e.jsxs("div",{className:`relative bg-white rounded-2xl p-6 sm:p-8 border-2 transition-all ${n.popular?"border-purple-500 shadow-xl sm:scale-105":"border-gray-200 hover:border-purple-200 hover:shadow-lg"}`,children:[n.badge&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-bold rounded-full",children:n.badge}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.name}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsx("span",{className:"text-5xl font-extrabold text-gray-900",children:n.price}),e.jsx("span",{className:"text-gray-500",children:n.period})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n.description})]}),n.highlight&&e.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg",children:e.jsxs("p",{className:"text-sm font-semibold text-purple-700 flex items-center justify-center gap-2",children:[e.jsx(K2,{className:"w-4 h-4"}),n.highlight]})}),e.jsx("ul",{className:"space-y-3 mb-8",children:n.features.map((l,i)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(xe,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:l})]},i))}),e.jsx("button",{onClick:()=>t("/register"),className:`w-full py-3 rounded-xl font-bold transition-all ${n.popular?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-lg":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:n.cta})]},a))}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-gray-700 text-lg mb-2",children:"Need Enterprise features?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"SSO, SCIM, audit logs, dedicated support, and custom pricing."}),e.jsx("button",{onClick:()=>t("/contact"),className:"px-8 py-3 bg-gray-900 text-white rounded-full font-bold hover:bg-gray-800 transition-all",children:"Contact Sales"})]}),e.jsx("div",{className:"mt-16 max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 sm:p-8 border-2 border-blue-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"w-6 h-6 text-blue-600"}),"TruCal Assistant"]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"ChatGPT-powered scheduling:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("span",{children:'Natural language: "Find time for lunch with John"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("span",{children:'Smart rules: "No meetings before 10 AM"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("span",{children:"Context-aware time suggestions"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("span",{children:"Instant booking with calendar sync"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 sm:p-8 border-2 border-purple-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"w-6 h-6 text-purple-600"}),"TruCal Assistant (via email)"]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"AI-powered email scheduling:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"CC schedule@mg.trucal.xyz on any email"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"AI handles back-and-forth automatically"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"One-click booking from email"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600",children:""}),e.jsx("span",{children:"Works with any email client"})]})]})]})]})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Everything you need. Nothing you don't."}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"TruCal Assistant in dashboard + TruCal Assistant (via email) as your key differentiators. The rest is built-in."})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"SSL encryption"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"OAuth 2.0"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"Regular backups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"GDPR ready"})]})]})]})}),e.jsx("section",{className:"py-24 bg-gradient-to-br from-purple-600 via-pink-600 to-purple-700 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-6xl font-extrabold mb-6",children:"Ready to schedule smarter?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join professionals who've ditched the back-and-forth emails."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-white text-purple-600 rounded-full text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105",children:"Get Started Free"}),e.jsxs("button",{onClick:()=>t("/demo"),className:"px-8 py-4 bg-purple-500/30 backdrop-blur-sm text-white rounded-full text-lg font-semibold border-2 border-white/30 hover:bg-purple-500/50 transition-all flex items-center gap-2",children:[e.jsx(Hp,{className:"w-5 h-5"}),"Try Live Demo"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 text-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),e.jsx("span",{children:"Free forever plan"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),e.jsx("span",{children:"30-second setup"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),e.jsx("span",{children:"Cancel anytime"})]})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-white text-lg",children:"TruCal"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"AI-powered scheduling that actually works."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/demo"),className:"hover:text-white transition-colors text-left",children:"Demo"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/about"),className:"hover:text-white transition-colors text-left",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"mailto:support@trucal.xyz",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/privacy"),className:"hover:text-white transition-colors text-left",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/terms"),className:"hover:text-white transition-colors text-left",children:"Terms of Service"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," TruCal. All rights reserved."]})})]})})]})}function Vc(){const t=we(),s=cs(),r=()=>s.pathname==="/login"?"login":s.pathname==="/register"||s.pathname==="/signup"?"signup":"login",[n,a]=h.useState(r()),[l,i]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState(""),[w,x]=h.useState(""),[v,j]=h.useState(""),[f,b]=h.useState(""),[g,y]=h.useState(!1),[N,C]=h.useState(null);h.useEffect(()=>{const V=localStorage.getItem("trucal_lastLoginMethod");V&&C(V)},[]);const S=V=>{localStorage.setItem("trucal_lastLoginMethod",V),C(V)};h.useEffect(()=>{const V=n==="login"?"/login":"/register";s.pathname!==V&&t(V,{replace:!0})},[n,t,s.pathname]),h.useEffect(()=>{a(r())},[s.pathname]);const k=async V=>{var R,M,H,O,D,A;V.preventDefault(),u(""),p(""),c(!0);try{if(n==="login"){const F=await _.auth.login(w,v);F.data.success&&F.data.token&&(S("email"),localStorage.setItem("token",F.data.token),localStorage.setItem("user",JSON.stringify(F.data.user)),((R=F.data.user)==null?void 0:R.onboarded)===!1?t("/onboarding"):t("/dashboard"))}else{if(!g){u("Please agree to the Terms of Service and Privacy Policy"),c(!1);return}const F=await _.auth.register(f,w,v);F.data.token?(S("email"),localStorage.setItem("token",F.data.token),localStorage.setItem("user",JSON.stringify(F.data.user)),((M=F.data.user)==null?void 0:M.onboarded)===!1?t("/onboarding"):t("/dashboard")):(p("Account created! Please check your email to verify."),a("login"))}}catch(F){u(((O=(H=F.response)==null?void 0:H.data)==null?void 0:O.error)||((A=(D=F.response)==null?void 0:D.data)==null?void 0:A.message)||"Something went wrong.")}finally{c(!1)}},T=async()=>{var V,R,M,H;try{u(""),c(!0),console.log(" Google login clicked");const O=await _.oauth.getGoogleUrl();if(console.log(" Google OAuth URL response:",O.data),O.data.url)console.log(" Redirecting to:",O.data.url),S("google"),window.location.href=O.data.url;else throw new Error("No URL in response")}catch(O){console.error(" Google auth error:",O),u(((R=(V=O.response)==null?void 0:V.data)==null?void 0:R.error)||((H=(M=O.response)==null?void 0:M.data)==null?void 0:H.message)||"Failed to start Google login"),c(!1)}},L=async()=>{var V,R,M,H,O;try{u(""),c(!0),console.log(" Microsoft login clicked");const D=await _.oauth.getMicrosoftUrl();if(console.log(" Microsoft OAuth URL response:",D.data),D.data.error){u(D.data.message||D.data.error),c(!1);return}if(D.data.url)console.log(" Redirecting to:",D.data.url),S("microsoft"),window.location.href=D.data.url;else throw new Error("No URL in response")}catch(D){console.error(" Microsoft auth error:",D),((V=D.response)==null?void 0:V.status)===503?u(" Microsoft integration is not yet configured. Please use another sign-in method."):u(((M=(R=D.response)==null?void 0:R.data)==null?void 0:M.message)||((O=(H=D.response)==null?void 0:H.data)==null?void 0:O.error)||"Failed to start Microsoft login. Please try again."),c(!1)}},E=["AI-powered scheduling assistant","Google & Outlook calendar sync","Team scheduling & round-robin","Custom booking pages","Email reminders & templates"];return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 lg:px-8 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md relative z-10",children:[e.jsxs(gt,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"font-bold text-xl text-gray-900",children:"ScheduleSync"})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-8",children:[e.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-2.5 text-sm font-semibold rounded-lg transition-all ${n==="login"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Log in"}),e.jsx("button",{onClick:()=>a("signup"),className:`flex-1 py-2.5 text-sm font-semibold rounded-lg transition-all ${n==="signup"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Sign up"})]}),e.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900 mb-2",children:n==="login"?"Welcome back":"Create your account"}),e.jsx("p",{className:"text-center text-sm text-gray-500 mb-6",children:n==="login"?"Log in to manage your scheduling":"Get started free  no credit card required"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{onClick:T,disabled:o,className:`relative w-full flex items-center justify-center gap-3 px-4 py-3 border rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed ${N==="google"?"border-green-300 bg-green-50/50":"border-gray-200 hover:border-gray-300"}`,children:[N==="google"&&e.jsxs("span",{className:"absolute -top-2 -right-2 flex items-center gap-1 bg-green-500 text-white text-[10px] font-medium px-2 py-0.5 rounded-full",children:[e.jsx(de,{className:"h-3 w-3"}),"Last used"]}),e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("button",{onClick:L,disabled:o,className:`relative w-full flex items-center justify-center gap-3 px-4 py-3 border rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed ${N==="microsoft"?"border-green-300 bg-green-50/50":"border-gray-200 hover:border-gray-300"}`,children:[N==="microsoft"&&e.jsxs("span",{className:"absolute -top-2 -right-2 flex items-center gap-1 bg-green-500 text-white text-[10px] font-medium px-2 py-0.5 rounded-full",children:[e.jsx(de,{className:"h-3 w-3"}),"Last used"]}),e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[e.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),e.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),e.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),e.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-3 bg-white text-gray-400 uppercase tracking-wide",children:"Or continue with email"})})]}),d&&e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-red-50 border border-red-100 text-red-600 text-sm",children:d}),m&&e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-green-50 border border-green-100 text-green-600 text-sm",children:m}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:f,onChange:V=>b(V.target.value),placeholder:"John Doe",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:w,onChange:V=>x(V.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),n==="login"&&e.jsx(gt,{to:"/forgot-password",className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:l?"text":"password",value:v,onChange:V=>j(V.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx($m,{className:"w-5 h-5"}):e.jsx(Fl,{className:"w-5 h-5"})})]})]}),n==="signup"&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:g,onChange:V=>y(V.target.checked),className:"mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-500",children:["I agree to the ",e.jsx(gt,{to:"/terms",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Terms of Service"})," and ",e.jsx(gt,{to:"/privacy",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-purple-500/25 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[n==="login"?"Log in":"Create account",e.jsx(qe,{className:"w-4 h-4"})]})})]}),e.jsx("p",{className:"mt-6 text-center text-sm text-gray-500",children:n==="login"?e.jsxs(e.Fragment,{children:["Don't have an account? ",e.jsx("button",{onClick:()=>a("signup"),className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Sign up free"})]}):e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx("button",{onClick:()=>a("login"),className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Log in"})]})})]})]}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-purple-600 via-purple-700 to-pink-600 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative flex flex-col justify-center px-12 py-16",children:e.jsxs("div",{className:"max-w-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ce,{className:"w-6 h-6 text-pink-300"}),e.jsx("span",{className:"text-pink-200 font-medium text-sm uppercase tracking-wide",children:"AI-Powered Scheduling"})]}),e.jsxs("h1",{className:"text-4xl font-bold text-white mb-4 leading-tight",children:["Scheduling made",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-200 to-white",children:"effortless"})]}),e.jsx("p",{className:"text-lg text-purple-100 mb-8 leading-relaxed",children:"Join thousands of professionals who save hours every week with intelligent scheduling."}),e.jsx("ul",{className:"space-y-4",children:E.map((V,R)=>e.jsxs("li",{className:"flex items-center gap-3 text-white/90",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm",children:V})]},R))})]})})]})]})}const pi=5,w6=["Book a meeting with john@example.com tomorrow at 2pm","Schedule a 30-minute call with sarah@company.com next Monday","Find me a free slot this Friday afternoon","What's my availability this week?"],N6=t=>{const s=t.toLowerCase();if(s.includes("book")||s.includes("schedule")||s.includes("meeting")||s.includes("call")){const r=t.match(/[\w.-]+@[\w.-]+\.\w+/i),n=r?r[0]:"contact@example.com";let a="tomorrow at 2:00 PM";return s.includes("monday")?a="Monday at 10:00 AM":s.includes("friday")?a="Friday at 3:00 PM":s.includes("next week")?a="next Tuesday at 11:00 AM":s.includes("3pm")||s.includes("3 pm")?a="tomorrow at 3:00 PM":(s.includes("10am")||s.includes("10 am"))&&(a="tomorrow at 10:00 AM"),{type:"booking_confirmed",message:` **Meeting Scheduled!**

I've booked a 30-minute meeting with **${n}** for **${a}**.

 Confirmation emails sent to both parties
 Added to your calendar
 Google Meet link: meet.google.com/abc-defg-hij

*In the full version, this would actually create the booking and send real invites!*`}}if(s.includes("available")||s.includes("availability")||s.includes("free slot")||s.includes("free time"))return{type:"availability",message:` **Your Availability This Week:**

**Tomorrow:**
 9:00 AM - 10:30 AM
 2:00 PM - 5:00 PM

**Wednesday:**
 10:00 AM - 12:00 PM
 3:30 PM - 6:00 PM

**Thursday:**
 All day available

**Friday:**
 9:00 AM - 11:00 AM
 1:00 PM - 4:00 PM

Would you like me to book a specific slot?`};if(s.includes("add")&&(s.includes("attendee")||s.includes("@"))){const r=t.match(/[\w.-]+@[\w.-]+\.\w+/i);return{type:"attendee_added",message:` Done! I've added **${r?r[0]:"newperson@example.com"}** to your meeting.

 Calendar invite sent to the new attendee.

Anyone else you'd like to add?`}}return s.includes("reschedule")||s.includes("move")||s.includes("change time")?{type:"rescheduled",message:` **Meeting Rescheduled!**

I've moved your meeting to **Thursday at 3:00 PM**.

 Updated invites sent to all attendees
 Calendar updated

Is there anything else you need?`}:s.includes("cancel")?{type:"cancelled",message:` **Meeting Cancelled**

I've cancelled the meeting and notified all attendees.

Would you like to reschedule for another time?`}:s.includes("link")||s.includes("booking page")||s.includes("share")?{type:"link",message:` **Your Booking Links:**

**Main booking page:**
schedulesync.com/yourname

**30-min Quick Call:**
schedulesync.com/yourname/quick-call

**1-hour Consultation:**
schedulesync.com/yourname/consultation

Share these links and let people book directly on your calendar!`}:{type:"general",message:`I can help you with:

 **Scheduling** - "Book a meeting with john@email.com tomorrow at 2pm"
 **Availability** - "What's my availability this week?"
 **Links** - "What's my booking link?"
 **Changes** - "Reschedule my meeting to Friday"

Just tell me what you need in plain English!`}};function k6(){const t=we(),[s,r]=h.useState([{role:"assistant",content:` **Welcome to the ScheduleSync AI Demo!**

I'm your AI scheduling assistant. Try sending me a message!

**Try these:**
 "Book a meeting with john@example.com tomorrow at 2pm"
 "What's my availability this week?"
 "Create a booking link for Sarah"

This is a demo with simulated responses. Sign up to connect your real calendar!`}]),[n,a]=h.useState(""),[l,i]=h.useState(!1),[o,c]=h.useState(0),[d,u]=h.useState(!1),m=h.useRef(null),p=()=>{var v;(v=m.current)==null||v.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{p()},[s]);const w=async()=>{if(!n.trim())return;if(o>=pi){u(!0);return}const v={role:"user",content:n};r(b=>[...b,v]);const j=n;a(""),i(!0),c(b=>b+1),await new Promise(b=>setTimeout(b,1e3+Math.random()*1e3));const f=N6(j);r(b=>[...b,{role:"assistant",content:f.message}]),i(!1)},x=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),w())};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-indigo-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"border-b border-white/10 backdrop-blur-sm bg-black/20 relative z-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-white/60 text-sm hidden sm:block",children:[pi-o," demo messages left"]}),e.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold text-sm hover:shadow-lg hover:shadow-purple-500/25 transition-all",children:"Sign Up Free"})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-8 relative z-10",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(pt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"AI Scheduling Assistant"}),e.jsxs("p",{className:"text-white/50 text-xs flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Demo Mode  ",pi-o," messages remaining"]})]})]}),e.jsxs("div",{className:"h-[400px] sm:h-[450px] overflow-y-auto p-4 space-y-4",children:[s.map((v,j)=>e.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] sm:max-w-[75%] rounded-2xl px-4 py-3 ${v.role==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white/10 text-white border border-white/10"}`,children:e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:v.content.split("**").map((f,b)=>b%2===1?e.jsx("strong",{children:f},b):f)})})},j)),l&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-3 border border-white/10",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),e.jsx("div",{ref:m})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onKeyPress:x,placeholder:"Type a message...",className:"flex-1 bg-white/10 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",disabled:l}),e.jsx("button",{onClick:w,disabled:!n.trim()||l,className:"p-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:e.jsx(lu,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-white/50 text-sm mb-3 text-center",children:"Try these examples:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:w6.map((v,j)=>e.jsx("button",{onClick:()=>a(v),className:"px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white/70 text-xs hover:bg-white/10 hover:text-white transition-all",children:v},j))})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx(Me,{className:"w-8 h-8 text-yellow-400 mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Natural Language"}),e.jsx("p",{className:"text-white/50 text-sm",children:'Just type what you need - "Book a meeting with John tomorrow"'})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx(se,{className:"w-8 h-8 text-blue-400 mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Smart Scheduling"}),e.jsx("p",{className:"text-white/50 text-sm",children:"AI finds the best times based on your calendar"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx(xe,{className:"w-8 h-8 text-green-400 mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Instant Booking"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Meetings created & invites sent automatically"})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsxs("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold text-lg hover:shadow-xl hover:shadow-purple-500/25 transition-all inline-flex items-center gap-2",children:["Get Started Free",e.jsx(qe,{className:"w-5 h-5"})]}),e.jsx("p",{className:"text-white/40 text-sm mt-3",children:"No credit card required  Connect your real calendar"})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-slate-800 rounded-2xl p-6 max-w-md w-full border border-white/10 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Gs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Demo Limit Reached"}),e.jsxs("p",{className:"text-white/60 mb-6",children:["You've used all ",pi," demo messages. Sign up for free to get unlimited AI scheduling with your real calendar!"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t("/register"),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/25 transition-all",children:"Sign Up Free"}),e.jsx("button",{onClick:()=>u(!1),className:"w-full px-6 py-3 bg-white/10 text-white rounded-xl font-medium hover:bg-white/20 transition-all",children:"Continue Browsing"})]})]})})})]})}function S6(){const[t,s]=h.useState(""),[r,n]=h.useState("idle"),[a,l]=h.useState(""),i=async o=>{var c,d;o.preventDefault(),n("loading"),l("");try{await Wr.forgotPassword(t),n("success"),l("If this email is registered, weve sent a reset link to your inbox.")}catch(u){console.error("Forgot password error:",u),n("error"),l(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.error)||"Something went wrong. Please try again in a moment.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-white/20 shadow-xl rounded-2xl px-6 py-8",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Forgot your password?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Enter the email associated with your account and well send you a reset link."}),r==="success"&&e.jsxs("div",{className:"mb-4 flex items-start gap-2 rounded-xl border border-green-100 bg-green-50 px-3 py-2 text-sm text-green-800",children:[e.jsx(rr,{className:"w-4 h-4 mt-0.5"}),e.jsx("p",{children:a})]}),r==="error"&&e.jsx("div",{className:"mb-4 rounded-xl border border-red-100 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-gray-600",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-400",children:e.jsx(Te,{className:"w-4 h-4"})}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:o=>s(o.target.value),placeholder:"you@example.com",className:"w-full rounded-xl border border-gray-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500"})]})]}),e.jsx("button",{type:"submit",disabled:r==="loading",className:"w-full rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:r==="loading"?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-4 h-4 animate-spin"}),"Sending reset link"]}):"Send reset link"})]}),e.jsxs("div",{className:"mt-6 flex justify-between text-xs text-gray-500",children:[e.jsx(gt,{to:"/login",className:"hover:text-purple-600 font-medium",children:"Back to login"}),e.jsx(gt,{to:"/register",className:"hover:text-purple-600 font-medium",children:"Create an account"})]})]})]})]})}function C6(){const[t]=zr(),s=we(),r=t.get("token"),[n,a]=h.useState(""),[l,i]=h.useState(""),[o,c]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState(!1),w=async x=>{var v,j;if(x.preventDefault(),u(""),n.length<6){u("Password must be at least 6 characters");return}if(n!==l){u("Passwords do not match");return}if(!r){u("Invalid reset token");return}c(!0);try{await _.post("/auth/reset-password",{token:r,password:n}),p(!0),setTimeout(()=>s("/login"),2e3)}catch(f){u(((j=(v=f.response)==null?void 0:v.data)==null?void 0:j.error)||"Failed to reset password")}finally{c(!1)}};return r?m?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8 w-full max-w-md relative z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(rr,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset. Redirecting to login..."}),e.jsx(ne,{className:"h-6 w-6 animate-spin text-purple-600 mx-auto"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8 w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(se,{className:"h-8 w-8 text-purple-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your new password below"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{id:"password",type:"password",value:n,onChange:x=>a(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter new password",required:!0,minLength:6,disabled:o}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Confirm new password",required:!0,minLength:6,disabled:o})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Resetting Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"h-5 w-5"}),"Reset Password"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(gt,{to:"/login",className:"text-sm text-purple-600 hover:text-blue-700 font-medium",children:"Back to Login"})})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8 w-full max-w-md relative z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Gs,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),e.jsx(gt,{to:"/forgot-password",className:"inline-block px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all transition-colors",children:"Request New Link"})]})})]})}function _6(){const[t]=zr(),[s,r]=h.useState("loading"),[n,a]=h.useState(""),l=t.get("token");return h.useEffect(()=>{(async()=>{var o,c,d;if(!l){r("error"),a("Missing verification token.");return}try{const u=await Wr.verifyEmail(l);r("success"),a(((o=u.data)==null?void 0:o.message)||"Your email has been verified successfully.")}catch(u){console.error("Verify error:",u),r("error"),a(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.error)||"We could not verify your email. The link may have expired or already been used.")}})()},[l]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-white/20 shadow-xl rounded-2xl px-6 py-8 text-center",children:[s==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 flex items-center justify-center",children:e.jsx(ne,{className:"w-6 h-6 text-purple-600 animate-spin"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying your email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we confirm your email address."})]}),s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center",children:e.jsx(rr,{className:"w-6 h-6 text-green-600"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email verified"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n}),e.jsx(gt,{to:"/login",className:"inline-flex items-center justify-center w-full rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all transition-colors",children:"Continue to login"})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center",children:e.jsx($t,{className:"w-6 h-6 text-red-600"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification failed"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(gt,{to:"/login",className:"inline-flex items-center justify-center w-full rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all transition-colors",children:"Go to login"}),e.jsx(gt,{to:"/register",className:"inline-flex items-center justify-center w-full rounded-xl border border-gray-200 px-4 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-colors",children:"Create a new account"})]})]})]})]})]})}function T6(){return e.jsxs("div",{className:"relative h-14 w-14",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border border-purple-200/60"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent border-t-purple-600 border-r-purple-400 animate-spin"}),e.jsx("div",{className:"absolute inset-0 m-auto h-6 w-6 rounded-full bg-purple-100/60"})]})}function E6(){return e.jsxs("span",{className:"inline-flex items-center gap-1 ml-1",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-purple-400 animate-bounce [animation-delay:-0.2s]"}),e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-purple-400 animate-bounce [animation-delay:-0.1s]"}),e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-purple-400 animate-bounce"})]})}function P6(){return e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-b from-purple-50 via-white to-purple-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"TruCal"})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(T6,{})}),e.jsxs("div",{className:"text-gray-900 text-lg font-medium",children:["Signing you in",e.jsx(E6,{})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200 bg-white/70 px-4 py-2 text-sm text-gray-600 shadow-sm",children:[e.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-green-50",children:e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",className:"text-green-600",children:[e.jsx("path",{d:"M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),e.jsx("path",{d:"M8.5 12.5l2.2 2.2 4.8-4.8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Secure connection"]})})]})})}const xi=new Set;let Sn=!1;function Ra({onLogin:t}){const s=we(),[r]=zr(),n=cs();return h.useEffect(()=>{const a=r.get("code"),l=r.get("state"),i=r.get("error"),o=n.pathname||"";let c="google";if(o.includes("microsoft")?c="microsoft":o.includes("calendly")&&(c="calendly"),console.log("?? OAuthCallback mounted:",{hasCode:!!a,state:l,error:i,provider:c,path:o}),i){console.error("? OAuth error from provider:",i),s("/login?error=oauth_failed",{replace:!0});return}if(!a){console.error("? No OAuth code in URL"),s("/login",{replace:!0});return}if(Sn){console.log("?? Already processing a request, ignoring duplicate");return}if(xi.has(a)){console.log("?? This code already processed, redirecting to dashboard"),s("/dashboard",{replace:!0});return}if(Sn=!0,xi.add(a),console.log("?? Code marked as processing for provider:",c),window.history.replaceState({},"",n.pathname),l!=null&&l.startsWith("guest-booking:")){console.log("Booking OAuth flow");const d=l.split(":"),u=d[1];d[2],Sn=!1,s(`/book/${u}?code=${a}&state=${l}`,{replace:!0});return}return console.log("Dashboard OAuth flow - processing login for:",c),(async()=>{var d,u,m,p,w,x,v;try{let j;if(c==="google")console.log("?? Calling backend /auth/google/callback ..."),j=await Vs.handleGoogleCallback(a);else if(c==="microsoft")console.log("?? Calling backend /auth/microsoft/callback ..."),j=await Vs.handleMicrosoftCallback(a);else if(c==="calendly")console.log("?? Calling backend /auth/calendly/callback ..."),j=await Vs.handleCalendlyCallback(a);else throw new Error(`Unsupported provider: ${c}`);const f=j.data;console.log("? Raw OAuth backend response:",f);let b=(f==null?void 0:f.token)??(f==null?void 0:f.accessToken)??(f==null?void 0:f.jwt)??((d=f==null?void 0:f.data)==null?void 0:d.token)??null,g=(f==null?void 0:f.user)??((u=f==null?void 0:f.data)==null?void 0:u.user)??(f==null?void 0:f.currentUser)??null;if(!g){console.warn(`?? No user object returned for provider ${c}. Response:`,f),Sn=!1,xi.delete(a);const y=(f==null?void 0:f.message)||(f==null?void 0:f.error)||"Authentication failed. Please sign in again.";s(`/login?error=${encodeURIComponent(y)}`,{replace:!0});return}b||console.warn(`?? No token in OAuth response for ${c}, proceeding with user only`),console.log("?? Updating app state via onLogin..."),typeof t=="function"?t(b||"",g):console.warn("?? onLogin prop is not a function"),Sn=!1}catch(j){console.error("? OAuth failed:",{message:j.message,response:(m=j.response)==null?void 0:m.data}),Sn=!1,xi.delete(a);const f=((w=(p=j.response)==null?void 0:p.data)==null?void 0:w.hint)||((v=(x=j.response)==null?void 0:x.data)==null?void 0:v.error)||"Authentication failed. Please try again.";s(`/login?error=${encodeURIComponent(f)}`,{replace:!0})}})(),()=>{console.log("?? OAuthCallback unmounting")}},[s,r,n,t]),e.jsx(P6,{})}const A6=()=>{const t=[];for(let s=0;s<24;s++)for(let r=0;r<60;r+=30){const n=`${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,a=s===0?12:s>12?s-12:s,l=s<12?"AM":"PM",i=`${a}:${r.toString().padStart(2,"0")} ${l}`;t.push({value:n,label:i})}return t};A6();const Km=h.createContext({});function Jm(t){const s=h.useRef(null);return s.current===null&&(s.current=t()),s.current}const hy=typeof window<"u",py=hy?h.useLayoutEffect:h.useEffect,nc=h.createContext(null);function Qm(t,s){t.indexOf(s)===-1&&t.push(s)}function Xm(t,s){const r=t.indexOf(s);r>-1&&t.splice(r,1)}const Ks=(t,s,r)=>r>s?s:r<t?t:r;let Zm=()=>{};const ur={},xy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fy(t){return typeof t=="object"&&t!==null}const gy=t=>/^0[^.\s]+$/u.test(t);function eh(t){let s;return()=>(s===void 0&&(s=t()),s)}const js=t=>t,M6=(t,s)=>r=>s(t(r)),Wl=(...t)=>t.reduce(M6),Cl=(t,s,r)=>{const n=s-t;return n===0?1:(r-t)/n};class th{constructor(){this.subscriptions=[]}add(s){return Qm(this.subscriptions,s),()=>Xm(this.subscriptions,s)}notify(s,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,r,n);else for(let l=0;l<a;l++){const i=this.subscriptions[l];i&&i(s,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ar=t=>t*1e3,bs=t=>t/1e3;function by(t,s){return s?t*(1e3/s):0}const yy=(t,s,r)=>(((1-3*r+3*s)*t+(3*r-6*s))*t+3*s)*t,D6=1e-7,L6=12;function R6(t,s,r,n,a){let l,i,o=0;do i=s+(r-s)/2,l=yy(i,n,a)-t,l>0?r=i:s=i;while(Math.abs(l)>D6&&++o<L6);return i}function Hl(t,s,r,n){if(t===s&&r===n)return js;const a=l=>R6(l,0,1,t,r);return l=>l===0||l===1?l:yy(a(l),s,n)}const vy=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,jy=t=>s=>1-t(1-s),wy=Hl(.33,1.53,.69,.99),sh=jy(wy),Ny=vy(sh),ky=t=>(t*=2)<1?.5*sh(t):.5*(2-Math.pow(2,-10*(t-1))),rh=t=>1-Math.sin(Math.acos(t)),Sy=jy(rh),Cy=vy(rh),I6=Hl(.42,0,1,1),F6=Hl(0,0,.58,1),_y=Hl(.42,0,.58,1),$6=t=>Array.isArray(t)&&typeof t[0]!="number",Ty=t=>Array.isArray(t)&&typeof t[0]=="number",O6={linear:js,easeIn:I6,easeInOut:_y,easeOut:F6,circIn:rh,circInOut:Cy,circOut:Sy,backIn:sh,backInOut:Ny,backOut:wy,anticipate:ky},B6=t=>typeof t=="string",vx=t=>{if(Ty(t)){Zm(t.length===4);const[s,r,n,a]=t;return Hl(s,r,n,a)}else if(B6(t))return O6[t];return t},fi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U6(t,s){let r=new Set,n=new Set,a=!1,l=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){i.has(u)&&(d.schedule(u),t()),u(o)}const d={schedule:(u,m=!1,p=!1)=>{const x=p&&a?r:n;return m&&i.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,a){l=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,l&&(l=!1,d.process(u))}};return d}const z6=40;function Ey(t,s){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,i=fi.reduce((g,y)=>(g[y]=U6(l),g),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:p,render:w,postRender:x}=i,v=()=>{const g=ur.useManualTiming?a.timestamp:performance.now();r=!1,ur.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(g-a.timestamp,z6),1)),a.timestamp=g,a.isProcessing=!0,o.process(a),c.process(a),d.process(a),u.process(a),m.process(a),p.process(a),w.process(a),x.process(a),a.isProcessing=!1,r&&s&&(n=!1,t(v))},j=()=>{r=!0,n=!0,a.isProcessing||t(v)};return{schedule:fi.reduce((g,y)=>{const N=i[y];return g[y]=(C,S=!1,k=!1)=>(r||j(),N.schedule(C,S,k)),g},{}),cancel:g=>{for(let y=0;y<fi.length;y++)i[fi[y]].cancel(g)},state:a,steps:i}}const{schedule:We,cancel:Ir,state:Nt,steps:Wc}=Ey(typeof requestAnimationFrame<"u"?requestAnimationFrame:js,!0);let zi;function V6(){zi=void 0}const Ot={now:()=>(zi===void 0&&Ot.set(Nt.isProcessing||ur.useManualTiming?Nt.timestamp:performance.now()),zi),set:t=>{zi=t,queueMicrotask(V6)}},Py=t=>s=>typeof s=="string"&&s.startsWith(t),Ay=Py("--"),W6=Py("var(--"),nh=t=>W6(t)?H6.test(t.split("/*")[0].trim()):!1,H6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_l={...xa,transform:t=>Ks(0,1,t)},gi={...xa,default:1},el=t=>Math.round(t*1e5)/1e5,ah=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G6(t){return t==null}const q6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lh=(t,s)=>r=>!!(typeof r=="string"&&q6.test(r)&&r.startsWith(t)||s&&!G6(r)&&Object.prototype.hasOwnProperty.call(r,s)),My=(t,s,r)=>n=>{if(typeof n!="string")return n;const[a,l,i,o]=n.match(ah);return{[t]:parseFloat(a),[s]:parseFloat(l),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},Y6=t=>Ks(0,255,t),Hc={...xa,transform:t=>Math.round(Y6(t))},ln={test:lh("rgb","red"),parse:My("red","green","blue"),transform:({red:t,green:s,blue:r,alpha:n=1})=>"rgba("+Hc.transform(t)+", "+Hc.transform(s)+", "+Hc.transform(r)+", "+el(_l.transform(n))+")"};function K6(t){let s="",r="",n="",a="";return t.length>5?(s=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(s=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),s+=s,r+=r,n+=n,a+=a),{red:parseInt(s,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const fu={test:lh("#"),parse:K6,transform:ln.transform},Gl=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),pr=Gl("deg"),Ys=Gl("%"),le=Gl("px"),J6=Gl("vh"),Q6=Gl("vw"),wx={...Ys,parse:t=>Ys.parse(t)/100,transform:t=>Ys.transform(t*100)},On={test:lh("hsl","hue"),parse:My("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ys.transform(el(s))+", "+Ys.transform(el(r))+", "+el(_l.transform(n))+")"},at={test:t=>ln.test(t)||fu.test(t)||On.test(t),parse:t=>ln.test(t)?ln.parse(t):On.test(t)?On.parse(t):fu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ln.transform(t):On.transform(t),getAnimatableNone:t=>{const s=at.parse(t);return s.alpha=0,at.transform(s)}},X6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z6(t){var s,r;return isNaN(t)&&typeof t=="string"&&(((s=t.match(ah))==null?void 0:s.length)||0)+(((r=t.match(X6))==null?void 0:r.length)||0)>0}const Dy="number",Ly="color",e4="var",t4="var(",Nx="${}",s4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tl(t){const s=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let l=0;const o=s.replace(s4,c=>(at.test(c)?(n.color.push(l),a.push(Ly),r.push(at.parse(c))):c.startsWith(t4)?(n.var.push(l),a.push(e4),r.push(c)):(n.number.push(l),a.push(Dy),r.push(parseFloat(c))),++l,Nx)).split(Nx);return{values:r,split:o,indexes:n,types:a}}function Ry(t){return Tl(t).values}function Iy(t){const{split:s,types:r}=Tl(t),n=s.length;return a=>{let l="";for(let i=0;i<n;i++)if(l+=s[i],a[i]!==void 0){const o=r[i];o===Dy?l+=el(a[i]):o===Ly?l+=at.transform(a[i]):l+=a[i]}return l}}const r4=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function n4(t){const s=Ry(t);return Iy(t)(s.map(r4))}const Fr={test:Z6,parse:Ry,createTransformer:Iy,getAnimatableNone:n4};function Gc(t,s,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(s-t)*6*r:r<1/2?s:r<2/3?t+(s-t)*(2/3-r)*6:t}function a4({hue:t,saturation:s,lightness:r,alpha:n}){t/=360,s/=100,r/=100;let a=0,l=0,i=0;if(!s)a=l=i=r;else{const o=r<.5?r*(1+s):r+s-r*s,c=2*r-o;a=Gc(c,o,t+1/3),l=Gc(c,o,t),i=Gc(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(i*255),alpha:n}}function ko(t,s){return r=>r>0?s:t}const Ke=(t,s,r)=>t+(s-t)*r,qc=(t,s,r)=>{const n=t*t,a=r*(s*s-n)+n;return a<0?0:Math.sqrt(a)},l4=[fu,ln,On],i4=t=>l4.find(s=>s.test(t));function kx(t){const s=i4(t);if(!s)return!1;let r=s.parse(t);return s===On&&(r=a4(r)),r}const Sx=(t,s)=>{const r=kx(t),n=kx(s);if(!r||!n)return ko(t,s);const a={...r};return l=>(a.red=qc(r.red,n.red,l),a.green=qc(r.green,n.green,l),a.blue=qc(r.blue,n.blue,l),a.alpha=Ke(r.alpha,n.alpha,l),ln.transform(a))},gu=new Set(["none","hidden"]);function o4(t,s){return gu.has(t)?r=>r<=0?t:s:r=>r>=1?s:t}function c4(t,s){return r=>Ke(t,s,r)}function ih(t){return typeof t=="number"?c4:typeof t=="string"?nh(t)?ko:at.test(t)?Sx:m4:Array.isArray(t)?Fy:typeof t=="object"?at.test(t)?Sx:d4:ko}function Fy(t,s){const r=[...t],n=r.length,a=t.map((l,i)=>ih(l)(l,s[i]));return l=>{for(let i=0;i<n;i++)r[i]=a[i](l);return r}}function d4(t,s){const r={...t,...s},n={};for(const a in r)t[a]!==void 0&&s[a]!==void 0&&(n[a]=ih(t[a])(t[a],s[a]));return a=>{for(const l in n)r[l]=n[l](a);return r}}function u4(t,s){const r=[],n={color:0,var:0,number:0};for(let a=0;a<s.values.length;a++){const l=s.types[a],i=t.indexes[l][n[l]],o=t.values[i]??0;r[a]=o,n[l]++}return r}const m4=(t,s)=>{const r=Fr.createTransformer(s),n=Tl(t),a=Tl(s);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?gu.has(t)&&!a.values.length||gu.has(s)&&!n.values.length?o4(t,s):Wl(Fy(u4(n,a),a.values),r):ko(t,s)};function $y(t,s,r){return typeof t=="number"&&typeof s=="number"&&typeof r=="number"?Ke(t,s,r):ih(t)(t,s)}const h4=t=>{const s=({timestamp:r})=>t(r);return{start:(r=!0)=>We.update(s,r),stop:()=>Ir(s),now:()=>Nt.isProcessing?Nt.timestamp:Ot.now()}},Oy=(t,s,r=10)=>{let n="";const a=Math.max(Math.round(s/r),2);for(let l=0;l<a;l++)n+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},So=2e4;function oh(t){let s=0;const r=50;let n=t.next(s);for(;!n.done&&s<So;)s+=r,n=t.next(s);return s>=So?1/0:s}function p4(t,s=100,r){const n=r({...t,keyframes:[0,s]}),a=Math.min(oh(n),So);return{type:"keyframes",ease:l=>n.next(a*l).value/s,duration:bs(a)}}const x4=5;function By(t,s,r){const n=Math.max(s-x4,0);return by(r-t(n),s-n)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yc=.001;function f4({duration:t=Ze.duration,bounce:s=Ze.bounce,velocity:r=Ze.velocity,mass:n=Ze.mass}){let a,l,i=1-s;i=Ks(Ze.minDamping,Ze.maxDamping,i),t=Ks(Ze.minDuration,Ze.maxDuration,bs(t)),i<1?(a=d=>{const u=d*i,m=u*t,p=u-r,w=bu(d,i),x=Math.exp(-m);return Yc-p/w*x},l=d=>{const m=d*i*t,p=m*r+r,w=Math.pow(i,2)*Math.pow(d,2)*t,x=Math.exp(-m),v=bu(Math.pow(d,2),i);return(-a(d)+Yc>0?-1:1)*((p-w)*x)/v}):(a=d=>{const u=Math.exp(-d*t),m=(d-r)*t+1;return-Yc+u*m},l=d=>{const u=Math.exp(-d*t),m=(r-d)*(t*t);return u*m});const o=5/t,c=b4(a,l,o);if(t=ar(t),isNaN(c))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:i*2*Math.sqrt(n*d),duration:t}}}const g4=12;function b4(t,s,r){let n=r;for(let a=1;a<g4;a++)n=n-t(n)/s(n);return n}function bu(t,s){return t*Math.sqrt(1-s*s)}const y4=["duration","bounce"],v4=["stiffness","damping","mass"];function Cx(t,s){return s.some(r=>t[r]!==void 0)}function j4(t){let s={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!Cx(t,v4)&&Cx(t,y4))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,l=2*Ks(.05,1,1-(t.bounce||0))*Math.sqrt(a);s={...s,mass:Ze.mass,stiffness:a,damping:l}}else{const r=f4(t);s={...s,...r,mass:Ze.mass},s.isResolvedFromDuration=!0}return s}function Co(t=Ze.visualDuration,s=Ze.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:n,restDelta:a}=r;const l=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:l},{stiffness:c,damping:d,mass:u,duration:m,velocity:p,isResolvedFromDuration:w}=j4({...r,velocity:-bs(r.velocity||0)}),x=p||0,v=d/(2*Math.sqrt(c*u)),j=i-l,f=bs(Math.sqrt(c/u)),b=Math.abs(j)<5;n||(n=b?Ze.restSpeed.granular:Ze.restSpeed.default),a||(a=b?Ze.restDelta.granular:Ze.restDelta.default);let g;if(v<1){const N=bu(f,v);g=C=>{const S=Math.exp(-v*f*C);return i-S*((x+v*f*j)/N*Math.sin(N*C)+j*Math.cos(N*C))}}else if(v===1)g=N=>i-Math.exp(-f*N)*(j+(x+f*j)*N);else{const N=f*Math.sqrt(v*v-1);g=C=>{const S=Math.exp(-v*f*C),k=Math.min(N*C,300);return i-S*((x+v*f*j)*Math.sinh(k)+N*j*Math.cosh(k))/N}}const y={calculatedDuration:w&&m||null,next:N=>{const C=g(N);if(w)o.done=N>=m;else{let S=N===0?x:0;v<1&&(S=N===0?ar(x):By(g,N,C));const k=Math.abs(S)<=n,T=Math.abs(i-C)<=a;o.done=k&&T}return o.value=o.done?i:C,o},toString:()=>{const N=Math.min(oh(y),So),C=Oy(S=>y.next(N*S).value,N,30);return N+"ms "+C},toTransition:()=>{}};return y}Co.applyToOptions=t=>{const s=p4(t,100,Co);return t.ease=s.ease,t.duration=ar(s.duration),t.type="keyframes",t};function yu({keyframes:t,velocity:s=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:i,min:o,max:c,restDelta:d=.5,restSpeed:u}){const m=t[0],p={done:!1,value:m},w=k=>o!==void 0&&k<o||c!==void 0&&k>c,x=k=>o===void 0?c:c===void 0||Math.abs(o-k)<Math.abs(c-k)?o:c;let v=r*s;const j=m+v,f=i===void 0?j:i(j);f!==j&&(v=f-m);const b=k=>-v*Math.exp(-k/n),g=k=>f+b(k),y=k=>{const T=b(k),L=g(k);p.done=Math.abs(T)<=d,p.value=p.done?f:L};let N,C;const S=k=>{w(p.value)&&(N=k,C=Co({keyframes:[p.value,x(p.value)],velocity:By(g,k,p.value),damping:a,stiffness:l,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:k=>{let T=!1;return!C&&N===void 0&&(T=!0,y(k),S(k)),N!==void 0&&k>=N?C.next(k-N):(!T&&y(k),p)}}}function w4(t,s,r){const n=[],a=r||ur.mix||$y,l=t.length-1;for(let i=0;i<l;i++){let o=a(t[i],t[i+1]);if(s){const c=Array.isArray(s)?s[i]||js:s;o=Wl(c,o)}n.push(o)}return n}function N4(t,s,{clamp:r=!0,ease:n,mixer:a}={}){const l=t.length;if(Zm(l===s.length),l===1)return()=>s[0];if(l===2&&s[0]===s[1])return()=>s[1];const i=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),s=[...s].reverse());const o=w4(s,n,a),c=o.length,d=u=>{if(i&&u<t[0])return s[0];let m=0;if(c>1)for(;m<t.length-2&&!(u<t[m+1]);m++);const p=Cl(t[m],t[m+1],u);return o[m](p)};return r?u=>d(Ks(t[0],t[l-1],u)):d}function k4(t,s){const r=t[t.length-1];for(let n=1;n<=s;n++){const a=Cl(0,s,n);t.push(Ke(r,1,a))}}function S4(t){const s=[0];return k4(s,t.length-1),s}function C4(t,s){return t.map(r=>r*s)}function _4(t,s){return t.map(()=>s||_y).splice(0,t.length-1)}function tl({duration:t=300,keyframes:s,times:r,ease:n="easeInOut"}){const a=$6(n)?n.map(vx):vx(n),l={done:!1,value:s[0]},i=C4(r&&r.length===s.length?r:S4(s),t),o=N4(i,s,{ease:Array.isArray(a)?a:_4(s,a)});return{calculatedDuration:t,next:c=>(l.value=o(c),l.done=c>=t,l)}}const T4=t=>t!==null;function ch(t,{repeat:s,repeatType:r="loop"},n,a=1){const l=t.filter(T4),o=a<0||s&&r!=="loop"&&s%2===1?0:l.length-1;return!o||n===void 0?l[o]:n}const E4={decay:yu,inertia:yu,tween:tl,keyframes:tl,spring:Co};function Uy(t){typeof t.type=="string"&&(t.type=E4[t.type])}class dh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,r){return this.finished.then(s,r)}}const P4=t=>t/100;class uh extends dh{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;Uy(s);const{type:r=tl,repeat:n=0,repeatDelay:a=0,repeatType:l,velocity:i=0}=s;let{keyframes:o}=s;const c=r||tl;c!==tl&&typeof o[0]!="number"&&(this.mixKeyframes=Wl(P4,$y(o[0],o[1])),o=[0,100]);const d=c({...s,keyframes:o});l==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...o].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=oh(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(s){const r=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(s,r=!1){const{generator:n,totalDuration:a,mixKeyframes:l,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:p,repeatDelay:w,type:x,onUpdate:v,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-a/this.speed,this.startTime)),r?this.currentTime=s:this.updateTime(s);const f=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?f<0:f>a;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let g=this.currentTime,y=n;if(m){const k=Math.min(this.currentTime,a)/o;let T=Math.floor(k),L=k%1;!L&&k>=1&&(L=1),L===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(p==="reverse"?(L=1-L,w&&(L-=w/o)):p==="mirror"&&(y=i)),g=Ks(0,1,L)*o}const N=b?{done:!1,value:u[0]}:y.next(g);l&&(N.value=l(N.value));let{done:C}=N;!b&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&x!==yu&&(N.value=ch(u,this.options,j,this.speed)),v&&v(N.value),S&&this.finish(),N}then(s,r){return this.finished.then(s,r)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+bs(s)}get time(){return bs(this.currentTime)}set time(s){var r;s=ar(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Ot.now());const r=this.playbackSpeed!==s;this.playbackSpeed=s,r&&(this.time=bs(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:s=h4,startTime:r}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),(l=(a=this.options).onPlay)==null||l.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(s=this.options).onComplete)==null||r.call(s)}cancel(){var s,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(s=this.options).onCancel)==null||r.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),s.observe(this)}}function A4(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const on=t=>t*180/Math.PI,vu=t=>{const s=on(Math.atan2(t[1],t[0]));return ju(s)},M4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:vu,rotateZ:vu,skewX:t=>on(Math.atan(t[1])),skewY:t=>on(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ju=t=>(t=t%360,t<0&&(t+=360),t),_x=vu,Tx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ex=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),D4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tx,scaleY:Ex,scale:t=>(Tx(t)+Ex(t))/2,rotateX:t=>ju(on(Math.atan2(t[6],t[5]))),rotateY:t=>ju(on(Math.atan2(-t[2],t[0]))),rotateZ:_x,rotate:_x,skewX:t=>on(Math.atan(t[4])),skewY:t=>on(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function wu(t){return t.includes("scale")?1:0}function Nu(t,s){if(!t||t==="none")return wu(s);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=D4,a=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=M4,a=o}if(!a)return wu(s);const l=n[s],i=a[1].split(",").map(R4);return typeof l=="function"?l(i):i[l]}const L4=(t,s)=>{const{transform:r="none"}=getComputedStyle(t);return Nu(r,s)};function R4(t){return parseFloat(t.trim())}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(fa),Px=t=>t===xa||t===le,I4=new Set(["x","y","z"]),F4=fa.filter(t=>!I4.has(t));function $4(t){const s=[];return F4.forEach(r=>{const n=t.getValue(r);n!==void 0&&(s.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),s}const wr={width:({x:t},{paddingLeft:s="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),height:({y:t},{paddingTop:s="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Nu(s,"x"),y:(t,{transform:s})=>Nu(s,"y")};wr.translateX=wr.x;wr.translateY=wr.y;const mn=new Set;let ku=!1,Su=!1,Cu=!1;function zy(){if(Su){const t=Array.from(mn).filter(n=>n.needsMeasurement),s=new Set(t.map(n=>n.element)),r=new Map;s.forEach(n=>{const a=$4(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),s.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([l,i])=>{var o;(o=n.getValue(l))==null||o.set(i)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Su=!1,ku=!1,mn.forEach(t=>t.complete(Cu)),mn.clear()}function Vy(){mn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Su=!0)})}function O4(){Cu=!0,Vy(),zy(),Cu=!1}class mh{constructor(s,r,n,a,l,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=r,this.name=n,this.motionValue=a,this.element=l,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(mn.add(this),ku||(ku=!0,We.read(Vy),We.resolveKeyframes(zy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:r,element:n,motionValue:a}=this;if(s[0]===null){const l=a==null?void 0:a.get(),i=s[s.length-1];if(l!==void 0)s[0]=l;else if(n&&r){const o=n.readValue(r,i);o!=null&&(s[0]=o)}s[0]===void 0&&(s[0]=i),a&&l===void 0&&a.set(s[0])}A4(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),mn.delete(this)}cancel(){this.state==="scheduled"&&(mn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B4=t=>t.startsWith("--");function U4(t,s,r){B4(s)?t.style.setProperty(s,r):t.style[s]=r}const z4=eh(()=>window.ScrollTimeline!==void 0),V4={};function W4(t,s){const r=eh(t);return()=>V4[s]??r()}const Wy=W4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),za=([t,s,r,n])=>`cubic-bezier(${t}, ${s}, ${r}, ${n})`,Ax={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function Hy(t,s){if(t)return typeof t=="function"?Wy()?Oy(t,s):"ease-out":Ty(t)?za(t):Array.isArray(t)?t.map(r=>Hy(r,s)||Ax.easeOut):Ax[t]}function H4(t,s,r,{delay:n=0,duration:a=300,repeat:l=0,repeatType:i="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[s]:r};c&&(u.offset=c);const m=Hy(o,a);Array.isArray(m)&&(u.easing=m);const p={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:i==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(u,p)}function Gy(t){return typeof t=="function"&&"applyToOptions"in t}function G4({type:t,...s}){return Gy(t)&&Wy()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class q4 extends dh{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!s)return;const{element:r,name:n,keyframes:a,pseudoElement:l,allowFlatten:i=!1,finalKeyframe:o,onComplete:c}=s;this.isPseudoElement=!!l,this.allowFlatten=i,this.options=s,Zm(typeof s.type!="string");const d=G4(s);this.animation=H4(r,n,a,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const u=ch(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):U4(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,r;(r=(s=this.animation).finish)==null||r.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,r;this.isPseudoElement||(r=(s=this.animation).commitStyles)==null||r.call(s)}get duration(){var r,n;const s=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return bs(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+bs(s)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(s){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ar(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(s){this.manualStartTime=this.animation.startTime=s}attachTimeline({timeline:s,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&z4()?(this.animation.timeline=s,js):r(this)}}const qy={anticipate:ky,backInOut:Ny,circInOut:Cy};function Y4(t){return t in qy}function K4(t){typeof t.ease=="string"&&Y4(t.ease)&&(t.ease=qy[t.ease])}const Kc=10;class J4 extends q4{constructor(s){K4(s),Uy(s),super(s),s.startTime!==void 0&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:r,onUpdate:n,onComplete:a,element:l,...i}=this.options;if(!r)return;if(s!==void 0){r.set(s);return}const o=new uh({...i,autoplay:!1}),c=Math.max(Kc,Ot.now()-this.startTime),d=Ks(0,Kc,c-Kc);r.setWithVelocity(o.sample(Math.max(0,c-d)).value,o.sample(c).value,d),o.stop()}}const Mx=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fr.test(t)||t==="0")&&!t.startsWith("url("));function Q4(t){const s=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}function X4(t,s,r,n){const a=t[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const l=t[t.length-1],i=Mx(a,s),o=Mx(l,s);return!i||!o?!1:Q4(t)||(r==="spring"||Gy(r))&&n}function _u(t){t.duration=0,t.type="keyframes"}const Z4=new Set(["opacity","clipPath","filter","transform"]),e3=eh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t3(t){var u;const{motionValue:s,name:r,repeatDelay:n,repeatType:a,damping:l,type:i}=t;if(!(((u=s==null?void 0:s.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return e3()&&r&&Z4.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&l!==0&&i!=="inertia"}const s3=40;class r3 extends dh{constructor({autoplay:s=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:i="loop",keyframes:o,name:c,motionValue:d,element:u,...m}){var x;super(),this.stop=()=>{var v,j;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Ot.now();const p={autoplay:s,delay:r,type:n,repeat:a,repeatDelay:l,repeatType:i,name:c,motionValue:d,element:u,...m},w=(u==null?void 0:u.KeyframeResolver)||mh;this.keyframeResolver=new w(o,(v,j,f)=>this.onKeyframesResolved(v,j,p,!f),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(s,r,n,a){this.keyframeResolver=void 0;const{name:l,type:i,velocity:o,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=Ot.now(),X4(s,l,i,o)||((ur.instantAnimations||!c)&&(u==null||u(ch(s,n,r))),s[0]=s[s.length-1],_u(n),n.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>s3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:s},w=!d&&t3(p)?new J4({...p,element:p.motionValue.owner.current}):new uh(p);w.finished.then(()=>this.notifyFinished()).catch(js),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(s,r){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),O4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const n3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a3(t){const s=n3.exec(t);if(!s)return[,];const[,r,n,a]=s;return[`--${r??n}`,a]}function Yy(t,s,r=1){const[n,a]=a3(t);if(!n)return;const l=window.getComputedStyle(s).getPropertyValue(n);if(l){const i=l.trim();return xy(i)?parseFloat(i):i}return nh(a)?Yy(a,s,r+1):a}function hh(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const l3={type:"spring",stiffness:500,damping:25,restSpeed:10},i3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),o3={type:"keyframes",duration:.8},c3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d3=(t,{keyframes:s})=>s.length>2?o3:ga.has(t)?t.startsWith("scale")?i3(s[1]):l3:c3;function u3({when:t,delay:s,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:l,repeatType:i,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const m3=t=>t!==null;function h3(t,{repeat:s,repeatType:r="loop"},n){const a=t.filter(m3),l=s&&r!=="loop"&&s%2===1?0:a.length-1;return a[l]}function Ky(t,s,r,n=0,a=1){const l=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(s),i=t.size,o=(i-1)*n;return typeof r=="function"?r(l,i):a===1?l*n:o-l*n}const ph=(t,s,r,n={},a,l)=>i=>{const o=hh(n,t)||{},c=o.delay||n.delay||0;let{elapsed:d=0}=n;d=d-ar(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:s.getVelocity(),...o,delay:-d,onUpdate:p=>{s.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:t,motionValue:s,element:l?void 0:a};u3(o)||Object.assign(u,d3(t,u)),u.duration&&(u.duration=ar(u.duration)),u.repeatDelay&&(u.repeatDelay=ar(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(_u(u),u.delay===0&&(m=!0)),(ur.instantAnimations||ur.skipAnimations)&&(m=!0,_u(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,m&&!l&&s.get()!==void 0){const p=h3(u.keyframes,o);if(p!==void 0){We.update(()=>{u.onUpdate(p),u.onComplete()});return}}return o.isSync?new uh(u):new r3(u)},Jy=new Set(["width","height","top","left","right","bottom",...fa]),Dx=30,p3=t=>!isNaN(parseFloat(t));class x3{constructor(s,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var l;const a=Ot.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=r.owner}setCurrent(s){this.current=s,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=p3(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,r){this.events[s]||(this.events[s]=new th);const n=this.events[s].add(r);return s==="change"?()=>{n(),We.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,r){this.passiveEffect=s,this.stopPassiveEffect=r}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-n}jump(s,r=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>Dx)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Dx);return by(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(s){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=s(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,r;(s=this.dependents)==null||s.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(t,s){return new x3(t,s)}function Lx(t){const s=[{},{}];return t==null||t.values.forEach((r,n)=>{s[0][n]=r.get(),s[1][n]=r.getVelocity()}),s}function xh(t,s,r,n){if(typeof s=="function"){const[a,l]=Lx(n);s=s(r!==void 0?r:t.custom,a,l)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[a,l]=Lx(n);s=s(r!==void 0?r:t.custom,a,l)}return s}function Jn(t,s,r){const n=t.getProps();return xh(n,s,r!==void 0?r:n.custom,t)}const Tu=t=>Array.isArray(t);function f3(t,s,r){t.hasValue(s)?t.getValue(s).set(r):t.addValue(s,la(r))}function g3(t){return Tu(t)?t[t.length-1]||0:t}function b3(t,s){const r=Jn(t,s);let{transitionEnd:n={},transition:a={},...l}=r||{};l={...l,...n};for(const i in l){const o=g3(l[i]);f3(t,i,o)}}const Mt=t=>!!(t&&t.getVelocity);function y3(t){return!!(Mt(t)&&t.add)}function Eu(t,s){const r=t.getValue("willChange");if(y3(r))return r.add(s);if(!r&&ur.WillChange){const n=new ur.WillChange("auto");t.addValue("willChange",n),n.add(s)}}function fh(t){return t.replace(/([A-Z])/g,s=>`-${s.toLowerCase()}`)}const v3="framerAppearId",Qy="data-"+fh(v3);function Xy(t){return t.props[Qy]}function j3({protectedKeys:t,needsAnimating:s},r){const n=t.hasOwnProperty(r)&&s[r]!==!0;return s[r]=!1,n}function Zy(t,s,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:i,...o}=s;n&&(l=n);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in o){const m=t.getValue(u,t.latestValues[u]??null),p=o[u];if(p===void 0||d&&j3(d,u))continue;const w={delay:r,...hh(l||{},u)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===x&&!w.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const f=Xy(t);if(f){const b=window.MotionHandoffAnimation(f,u,We);b!==null&&(w.startTime=b,v=!0)}}Eu(t,u),m.start(ph(u,m,p,t.shouldReduceMotion&&Jy.has(u)?{type:!1}:w,t,v));const j=m.animation;j&&c.push(j)}return i&&Promise.all(c).then(()=>{We.update(()=>{i&&b3(t,i)})}),c}function Pu(t,s,r={}){var c;const n=Jn(t,s,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const l=n?()=>Promise.all(Zy(t,n,r)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:p}=a;return w3(t,s,d,u,m,p,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[d,u]=o==="beforeChildren"?[l,i]:[i,l];return d().then(()=>u())}else return Promise.all([l(),i(r.delay)])}function w3(t,s,r=0,n=0,a=0,l=1,i){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",s),o.push(Pu(c,s,{...i,delay:r+(typeof n=="function"?0:n)+Ky(t.variantChildren,c,n,a,l)}).then(()=>c.notify("AnimationComplete",s)));return Promise.all(o)}function N3(t,s,r={}){t.notify("AnimationStart",s);let n;if(Array.isArray(s)){const a=s.map(l=>Pu(t,l,r));n=Promise.all(a)}else if(typeof s=="string")n=Pu(t,s,r);else{const a=typeof s=="function"?Jn(t,s,r.custom):s;n=Promise.all(Zy(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",s)})}const k3={test:t=>t==="auto",parse:t=>t},ev=t=>s=>s.test(t),tv=[xa,le,Ys,pr,Q6,J6,k3],Rx=t=>tv.find(ev(t));function S3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gy(t):!0}const C3=new Set(["brightness","contrast","saturate","opacity"]);function _3(t){const[s,r]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[n]=r.match(ah)||[];if(!n)return t;const a=r.replace(n,"");let l=C3.has(s)?1:0;return n!==r&&(l*=100),s+"("+l+a+")"}const T3=/\b([a-z-]*)\(.*?\)/gu,Au={...Fr,getAnimatableNone:t=>{const s=t.match(T3);return s?s.map(_3).join(" "):t}},Ix={...xa,transform:Math.round},E3={rotate:pr,rotateX:pr,rotateY:pr,rotateZ:pr,scale:gi,scaleX:gi,scaleY:gi,scaleZ:gi,skew:pr,skewX:pr,skewY:pr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:_l,originX:wx,originY:wx,originZ:le},gh={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,inset:le,insetBlock:le,insetBlockStart:le,insetBlockEnd:le,insetInline:le,insetInlineStart:le,insetInlineEnd:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,paddingBlock:le,paddingBlockStart:le,paddingBlockEnd:le,paddingInline:le,paddingInlineStart:le,paddingInlineEnd:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,marginBlock:le,marginBlockStart:le,marginBlockEnd:le,marginInline:le,marginInlineStart:le,marginInlineEnd:le,backgroundPositionX:le,backgroundPositionY:le,...E3,zIndex:Ix,fillOpacity:_l,strokeOpacity:_l,numOctaves:Ix},P3={...gh,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Au,WebkitFilter:Au},sv=t=>P3[t];function rv(t,s){let r=sv(t);return r!==Au&&(r=Fr),r.getAnimatableNone?r.getAnimatableNone(s):void 0}const A3=new Set(["auto","none","0"]);function M3(t,s,r){let n=0,a;for(;n<t.length&&!a;){const l=t[n];typeof l=="string"&&!A3.has(l)&&Tl(l).values.length&&(a=t[n]),n++}if(a&&r)for(const l of s)t[l]=rv(r,a)}class D3 extends mh{constructor(s,r,n,a,l){super(s,r,n,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<s.length;u++){let m=s[u];if(typeof m=="string"&&(m=m.trim(),nh(m))){const p=Yy(m,r.current);p!==void 0&&(s[u]=p),u===s.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Jy.has(n)||s.length!==2)return;const[a,l]=s,i=Rx(a),o=Rx(l),c=jx(a),d=jx(l);if(c!==d&&wr[n]){this.needsMeasurement=!0;return}if(i!==o)if(Px(i)&&Px(o))for(let u=0;u<s.length;u++){const m=s[u];typeof m=="string"&&(s[u]=parseFloat(m))}else wr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:r}=this,n=[];for(let a=0;a<s.length;a++)(s[a]===null||S3(s[a]))&&n.push(a);n.length&&M3(s,n,r)}measureInitialState(){const{element:s,unresolvedKeyframes:r,name:n}=this;if(!s||!s.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wr[n](s.measureViewportBox(),window.getComputedStyle(s.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&s.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:s,name:r,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=n.length-1,i=n[l];n[l]=wr[r](s.measureViewportBox(),window.getComputedStyle(s.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function L3(t,s,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const nv=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function av(t){return fy(t)&&"offsetHeight"in t}const{schedule:bh}=Ey(queueMicrotask,!1),Cs={x:!1,y:!1};function lv(){return Cs.x||Cs.y}function R3(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function iv(t,s){const r=L3(t),n=new AbortController,a={passive:!0,...s,signal:n.signal};return[r,a,()=>n.abort()]}function Fx(t){return!(t.pointerType==="touch"||lv())}function I3(t,s,r={}){const[n,a,l]=iv(t,r),i=o=>{if(!Fx(o))return;const{target:c}=o,d=s(c,o);if(typeof d!="function"||!c)return;const u=m=>{Fx(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),l}const ov=(t,s)=>s?t===s?!0:ov(t,s.parentElement):!1,yh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,F3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cv(t){return F3.has(t.tagName)||t.isContentEditable===!0}const Vi=new WeakSet;function $x(t){return s=>{s.key==="Enter"&&t(s)}}function Jc(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const $3=(t,s)=>{const r=t.currentTarget;if(!r)return;const n=$x(()=>{if(Vi.has(r))return;Jc(r,"down");const a=$x(()=>{Jc(r,"up")}),l=()=>Jc(r,"cancel");r.addEventListener("keyup",a,s),r.addEventListener("blur",l,s)});r.addEventListener("keydown",n,s),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),s)};function Ox(t){return yh(t)&&!lv()}function O3(t,s,r={}){const[n,a,l]=iv(t,r),i=o=>{const c=o.currentTarget;if(!Ox(o))return;Vi.add(c);const d=s(c,o),u=(w,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Vi.has(c)&&Vi.delete(c),Ox(w)&&typeof d=="function"&&d(w,{success:x})},m=w=>{u(w,c===window||c===document||r.useGlobalTarget||ov(c,w.target))},p=w=>{u(w,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),av(o)&&(o.addEventListener("focus",d=>$3(d,a)),!cv(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),l}function dv(t){return fy(t)&&"ownerSVGElement"in t}function B3(t){return dv(t)&&t.tagName==="svg"}const U3=[...tv,at,Fr],z3=t=>U3.find(ev(t)),Bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bn=()=>({x:Bx(),y:Bx()}),Ux=()=>({min:0,max:0}),ut=()=>({x:Ux(),y:Ux()}),Mu={current:null},uv={current:!1},V3=typeof window<"u";function W3(){if(uv.current=!0,!!V3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Mu.current=t.matches;t.addEventListener("change",s),s()}else Mu.current=!1}const H3=new WeakMap;function ac(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function El(t){return typeof t=="string"||Array.isArray(t)}const vh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jh=["initial",...vh];function lc(t){return ac(t.animate)||jh.some(s=>El(t[s]))}function mv(t){return!!(lc(t)||t.variants)}function G3(t,s,r){for(const n in s){const a=s[n],l=r[n];if(Mt(a))t.addValue(n,a);else if(Mt(l))t.addValue(n,la(a,{owner:t}));else if(l!==a)if(t.hasValue(n)){const i=t.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=t.getStaticValue(n);t.addValue(n,la(i!==void 0?i:a,{owner:t}))}}for(const n in r)s[n]===void 0&&t.removeValue(n);return s}const zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let _o={};function hv(t){_o=t}function q3(){return _o}class Y3{scrapeMotionValuesFromProps(s,r,n){return{}}constructor({parent:s,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:l,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ot.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=s,this.props=r,this.presenceContext=n,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!l,this.isControllingVariants=lc(r),this.isVariantNode=mv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const w=m[p];c[p]!==void 0&&Mt(w)&&w.set(c[p])}}mount(s){var r;this.current=s,H3.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(uv.current||W3(),this.shouldReduceMotion=Mu.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var s;this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(s=this.parent)==null||s.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,r){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const n=ga.has(s);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[s]=i,this.props.onUpdate&&We.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,r)),this.valueSubscriptions.set(s,()=>{a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in _o){const r=_o[s];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[s]&&a&&n(this.props)&&(this.features[s]=new a(this)),this.features[s]){const l=this.features[s];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,r){this.latestValues[s]=r}update(s,r){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<zx.length;n++){const a=zx[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,i=s[l];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=G3(this,this.scrapeMotionValuesFromProps(s,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(s),()=>r.variantChildren.delete(s)}addValue(s,r){const n=this.values.get(s);r!==n&&(n&&this.removeValue(s),this.bindToMotionValue(s,r),this.values.set(s,r),this.latestValues[s]=r.get())}removeValue(s){this.values.delete(s);const r=this.valueSubscriptions.get(s);r&&(r(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,r){if(this.props.values&&this.props.values[s])return this.props.values[s];let n=this.values.get(s);return n===void 0&&r!==void 0&&(n=la(r===null?void 0:r,{owner:this}),this.addValue(s,n)),n}readValue(s,r){let n=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return n!=null&&(typeof n=="string"&&(xy(n)||gy(n))?n=parseFloat(n):!z3(n)&&Fr.test(r)&&(n=rv(s,r)),this.setBaseTarget(s,Mt(n)?n.get():n)),Mt(n)?n.get():n}setBaseTarget(s,r){this.baseTarget[s]=r}getBaseTarget(s){var l;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=xh(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);i&&(n=i[s])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,s);return a!==void 0&&!Mt(a)?a:this.initialValues[s]!==void 0&&n===void 0?void 0:this.baseTarget[s]}on(s,r){return this.events[s]||(this.events[s]=new th),this.events[s].add(r)}notify(s,...r){this.events[s]&&this.events[s].notify(...r)}scheduleRenderMicrotask(){bh.render(this.render)}}class Hr{constructor(s){this.isMounted=!1,this.node=s}update(){}}class pv extends Y3{constructor(){super(...arguments),this.KeyframeResolver=D3}sortInstanceNodePosition(s,r){return s.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(s,r){const n=s.style;return n?n[r]:void 0}removeValueFromRenderState(s,{vars:r,style:n}){delete r[s],delete n[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Mt(s)&&(this.childSubscription=s.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function xv({top:t,left:s,right:r,bottom:n}){return{x:{min:s,max:r},y:{min:t,max:n}}}function K3({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function J3(t,s){if(!s)return t;const r=s({x:t.left,y:t.top}),n=s({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Qc(t){return t===void 0||t===1}function Du({scale:t,scaleX:s,scaleY:r}){return!Qc(t)||!Qc(s)||!Qc(r)}function tn(t){return Du(t)||fv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fv(t){return Vx(t.x)||Vx(t.y)}function Vx(t){return t&&t!=="0%"}function To(t,s,r){const n=t-r,a=s*n;return r+a}function Wx(t,s,r,n,a){return a!==void 0&&(t=To(t,a,n)),To(t,r,n)+s}function Lu(t,s=0,r=1,n,a){t.min=Wx(t.min,s,r,n,a),t.max=Wx(t.max,s,r,n,a)}function gv(t,{x:s,y:r}){Lu(t.x,s.translate,s.scale,s.originPoint),Lu(t.y,r.translate,r.scale,r.originPoint)}const Hx=.999999999999,Gx=1.0000000000001;function Q3(t,s,r,n=!1){const a=r.length;if(!a)return;s.x=s.y=1;let l,i;for(let o=0;o<a;o++){l=r[o],i=l.projectionDelta;const{visualElement:c}=l.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zn(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),i&&(s.x*=i.x.scale,s.y*=i.y.scale,gv(t,i)),n&&tn(l.latestValues)&&zn(t,l.latestValues))}s.x<Gx&&s.x>Hx&&(s.x=1),s.y<Gx&&s.y>Hx&&(s.y=1)}function Un(t,s){t.min=t.min+s,t.max=t.max+s}function qx(t,s,r,n,a=.5){const l=Ke(t.min,t.max,a);Lu(t,s,r,l,n)}function zn(t,s){qx(t.x,s.x,s.scaleX,s.scale,s.originX),qx(t.y,s.y,s.scaleY,s.scale,s.originY)}function bv(t,s){return xv(J3(t.getBoundingClientRect(),s))}function X3(t,s,r){const n=bv(t,r),{scroll:a}=s;return a&&(Un(n.x,a.offset.x),Un(n.y,a.offset.y)),n}const Z3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eS=fa.length;function tS(t,s,r){let n="",a=!0;for(let l=0;l<eS;l++){const i=fa[l],o=t[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const d=nv(o,gh[i]);if(!c){a=!1;const u=Z3[i]||i;n+=`${u}(${d}) `}r&&(s[i]=d)}}return n=n.trim(),r?n=r(s,a?"":n):a&&(n="none"),n}function wh(t,s,r){const{style:n,vars:a,transformOrigin:l}=t;let i=!1,o=!1;for(const c in s){const d=s[c];if(ga.has(c)){i=!0;continue}else if(Ay(c)){a[c]=d;continue}else{const u=nv(d,gh[c]);c.startsWith("origin")?(o=!0,l[c]=u):n[c]=u}}if(s.transform||(i||r?n.transform=tS(s,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=l;n.transformOrigin=`${c} ${d} ${u}`}}function yv(t,{style:s,vars:r},n,a){const l=t.style;let i;for(i in s)l[i]=s[i];a==null||a.applyProjectionStyles(l,n);for(i in r)l.setProperty(i,r[i])}function Yx(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Ia={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const r=Yx(t,s.target.x),n=Yx(t,s.target.y);return`${r}% ${n}%`}},sS={correct:(t,{treeScale:s,projectionDelta:r})=>{const n=t,a=Fr.parse(t);if(a.length>5)return n;const l=Fr.createTransformer(t),i=typeof a[0]!="number"?1:0,o=r.x.scale*s.x,c=r.y.scale*s.y;a[0+i]/=o,a[1+i]/=c;const d=Ke(o,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),l(a)}},Ru={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:sS};function vv(t,{layout:s,layoutId:r}){return ga.has(t)||t.startsWith("origin")||(s||r!==void 0)&&(!!Ru[t]||t==="opacity")}function Nh(t,s,r){var i;const n=t.style,a=s==null?void 0:s.style,l={};if(!n)return l;for(const o in n)(Mt(n[o])||a&&Mt(a[o])||vv(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(l[o]=n[o]);return l}function rS(t){return window.getComputedStyle(t)}class nS extends pv{constructor(){super(...arguments),this.type="html",this.renderInstance=yv}readValueFromInstance(s,r){var n;if(ga.has(r))return(n=this.projection)!=null&&n.isProjecting?wu(r):L4(s,r);{const a=rS(s),l=(Ay(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(s,{transformPagePoint:r}){return bv(s,r)}build(s,r,n){wh(s,r,n.transformTemplate)}scrapeMotionValuesFromProps(s,r,n){return Nh(s,r,n)}}const aS={offset:"stroke-dashoffset",array:"stroke-dasharray"},lS={offset:"strokeDashoffset",array:"strokeDasharray"};function iS(t,s,r=1,n=0,a=!0){t.pathLength=1;const l=a?aS:lS;t[l.offset]=le.transform(-n);const i=le.transform(s),o=le.transform(r);t[l.array]=`${i} ${o}`}const oS=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function jv(t,{attrX:s,attrY:r,attrScale:n,pathLength:a,pathSpacing:l=1,pathOffset:i=0,...o},c,d,u){if(wh(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox);for(const w of oS)m[w]!==void 0&&(p[w]=m[w],delete m[w]);s!==void 0&&(m.x=s),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&iS(m,a,l,i,!1)}const wv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Nv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cS(t,s,r,n){yv(t,s,void 0,n);for(const a in s.attrs)t.setAttribute(wv.has(a)?a:fh(a),s.attrs[a])}function kv(t,s,r){const n=Nh(t,s,r);for(const a in t)if(Mt(t[a])||Mt(s[a])){const l=fa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[l]=t[a]}return n}class dS extends pv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(s,r){return s[r]}readValueFromInstance(s,r){if(ga.has(r)){const n=sv(r);return n&&n.default||0}return r=wv.has(r)?r:fh(r),s.getAttribute(r)}scrapeMotionValuesFromProps(s,r,n){return kv(s,r,n)}build(s,r,n){jv(s,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(s,r,n,a){cS(s,r,n,a)}mount(s){this.isSVGTag=Nv(s.tagName),super.mount(s)}}const uS=jh.length;function Sv(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Sv(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const s={};for(let r=0;r<uS;r++){const n=jh[r],a=t.props[n];(El(a)||a===!1)&&(s[n]=a)}return s}function Cv(t,s){if(!Array.isArray(s))return!1;const r=s.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(s[n]!==t[n])return!1;return!0}const mS=[...vh].reverse(),hS=vh.length;function pS(t){return s=>Promise.all(s.map(({animation:r,options:n})=>N3(t,r,n)))}function xS(t){let s=pS(t),r=Kx(),n=!0;const a=c=>(d,u)=>{var p;const m=Jn(t,u,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:w,transitionEnd:x,...v}=m;d={...d,...v,...x}}return d};function l(c){s=c(t)}function i(c){const{props:d}=t,u=Sv(t.parent)||{},m=[],p=new Set;let w={},x=1/0;for(let j=0;j<hS;j++){const f=mS[j],b=r[f],g=d[f]!==void 0?d[f]:u[f],y=El(g),N=f===c?b.isActive:null;N===!1&&(x=j);let C=g===u[f]&&g!==d[f]&&y;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...w},!b.isActive&&N===null||!g&&!b.prevProp||ac(g)||typeof g=="boolean")continue;const S=fS(b.prevProp,g);let k=S||f===c&&b.isActive&&!C&&y||j>x&&y,T=!1;const L=Array.isArray(g)?g:[g];let E=L.reduce(a(f),{});N===!1&&(E={});const{prevResolvedValues:V={}}=b,R={...V,...E},M=D=>{k=!0,p.has(D)&&(T=!0,p.delete(D)),b.needsAnimating[D]=!0;const A=t.getValue(D);A&&(A.liveStyle=!1)};for(const D in R){const A=E[D],F=V[D];if(w.hasOwnProperty(D))continue;let z=!1;Tu(A)&&Tu(F)?z=!Cv(A,F):z=A!==F,z?A!=null?M(D):p.add(D):A!==void 0&&p.has(D)?M(D):b.protectedKeys[D]=!0}b.prevProp=g,b.prevResolvedValues=E,b.isActive&&(w={...w,...E}),n&&t.blockInitialAnimation&&(k=!1);const H=C&&S;k&&(!H||T)&&m.push(...L.map(D=>{const A={type:f};if(typeof D=="string"&&n&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,z=Jn(F,D);if(F.enteringChildren&&z){const{delayChildren:Q}=z.transition||{};A.delay=Ky(F.enteringChildren,t,Q)}}return{animation:D,options:A}}))}if(p.size){const j={};if(typeof d.initial!="boolean"){const f=Jn(t,Array.isArray(d.initial)?d.initial[0]:d.initial);f&&f.transition&&(j.transition=f.transition)}p.forEach(f=>{const b=t.getBaseTarget(f),g=t.getValue(f);g&&(g.liveStyle=!0),j[f]=b??null}),m.push({animation:j})}let v=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?s(m):Promise.resolve()}function o(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var w;return(w=p.animationState)==null?void 0:w.setActive(c,d)}),r[c].isActive=d;const u=i(c);for(const p in r)r[p].protectedKeys={};return u}return{animateChanges:i,setActive:o,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Kx()}}}function fS(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Cv(s,t):!1}function Xr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kx(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}const _v=1e-4,gS=1-_v,bS=1+_v,Tv=.01,yS=0-Tv,vS=0+Tv;function Bt(t){return t.max-t.min}function jS(t,s,r){return Math.abs(t-s)<=r}function Jx(t,s,r,n=.5){t.origin=n,t.originPoint=Ke(s.min,s.max,t.origin),t.scale=Bt(r)/Bt(s),t.translate=Ke(r.min,r.max,t.origin)-t.originPoint,(t.scale>=gS&&t.scale<=bS||isNaN(t.scale))&&(t.scale=1),(t.translate>=yS&&t.translate<=vS||isNaN(t.translate))&&(t.translate=0)}function sl(t,s,r,n){Jx(t.x,s.x,r.x,n?n.originX:void 0),Jx(t.y,s.y,r.y,n?n.originY:void 0)}function Qx(t,s,r){t.min=r.min+s.min,t.max=t.min+Bt(s)}function wS(t,s,r){Qx(t.x,s.x,r.x),Qx(t.y,s.y,r.y)}function Xx(t,s,r){t.min=s.min-r.min,t.max=t.min+Bt(s)}function Eo(t,s,r){Xx(t.x,s.x,r.x),Xx(t.y,s.y,r.y)}function Zx(t,s,r,n,a){return t-=s,t=To(t,1/r,n),a!==void 0&&(t=To(t,1/a,n)),t}function NS(t,s=0,r=1,n=.5,a,l=t,i=t){if(Ys.test(s)&&(s=parseFloat(s),s=Ke(i.min,i.max,s/100)-i.min),typeof s!="number")return;let o=Ke(l.min,l.max,n);t===l&&(o-=s),t.min=Zx(t.min,s,r,o,a),t.max=Zx(t.max,s,r,o,a)}function e0(t,s,[r,n,a],l,i){NS(t,s[r],s[n],s[a],s.scale,l,i)}const kS=["x","scaleX","originX"],SS=["y","scaleY","originY"];function t0(t,s,r,n){e0(t.x,s,kS,r?r.x:void 0,n?n.x:void 0),e0(t.y,s,SS,r?r.y:void 0,n?n.y:void 0)}function s0(t,s){t.min=s.min,t.max=s.max}function Ss(t,s){s0(t.x,s.x),s0(t.y,s.y)}function r0(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function n0(t){return t.translate===0&&t.scale===1}function Ev(t){return n0(t.x)&&n0(t.y)}function a0(t,s){return t.min===s.min&&t.max===s.max}function CS(t,s){return a0(t.x,s.x)&&a0(t.y,s.y)}function l0(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function Pv(t,s){return l0(t.x,s.x)&&l0(t.y,s.y)}function i0(t){return Bt(t.x)/Bt(t.y)}function o0(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}function ms(t){return[t("x"),t("y")]}function _S(t,s,r){let n="";const a=t.x.translate/s.x,l=t.y.translate/s.y,i=(r==null?void 0:r.z)||0;if((a||l||i)&&(n=`translate3d(${a}px, ${l}px, ${i}px) `),(s.x!==1||s.y!==1)&&(n+=`scale(${1/s.x}, ${1/s.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:p,skewX:w,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),w&&(n+=`skewX(${w}deg) `),x&&(n+=`skewY(${x}deg) `)}const o=t.x.scale*s.x,c=t.y.scale*s.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Av=["TopLeft","TopRight","BottomLeft","BottomRight"],TS=Av.length,c0=t=>typeof t=="string"?parseFloat(t):t,d0=t=>typeof t=="number"||le.test(t);function ES(t,s,r,n,a,l){a?(t.opacity=Ke(0,r.opacity??1,PS(n)),t.opacityExit=Ke(s.opacity??1,0,AS(n))):l&&(t.opacity=Ke(s.opacity??1,r.opacity??1,n));for(let i=0;i<TS;i++){const o=`border${Av[i]}Radius`;let c=u0(s,o),d=u0(r,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||d0(c)===d0(d)?(t[o]=Math.max(Ke(c0(c),c0(d),n),0),(Ys.test(d)||Ys.test(c))&&(t[o]+="%")):t[o]=d}(s.rotate||r.rotate)&&(t.rotate=Ke(s.rotate||0,r.rotate||0,n))}function u0(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const PS=Mv(0,.5,Sy),AS=Mv(.5,.95,js);function Mv(t,s,r){return n=>n<t?0:n>s?1:r(Cl(t,s,n))}function MS(t,s){const r=Ot.now(),n=({timestamp:a})=>{const l=a-r;l>=s&&(Ir(n),t(l-s))};return We.setup(n,!0),()=>Ir(n)}function Pl(t,s,r,n={passive:!0}){return t.addEventListener(s,r,n),()=>t.removeEventListener(s,r)}function Wi(t){return Mt(t)?t.get():t}function DS(t,s,r){const n=Mt(t)?t:la(t);return n.start(ph("",n,s,r)),n.animation}const LS=(t,s)=>t.depth-s.depth;class RS{constructor(){this.children=[],this.isDirty=!1}add(s){Qm(this.children,s),this.isDirty=!0}remove(s){Xm(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(LS),this.isDirty=!1,this.children.forEach(s)}}class IS{constructor(){this.members=[]}add(s){Qm(this.members,s),s.scheduleRender()}remove(s){if(Xm(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(s){const r=this.members.findIndex(a=>s===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(s,r){const n=this.lead;if(s!==n&&(this.prevLead=n,this.lead=s,s.show(),n)){n.instance&&n.scheduleRender(),s.scheduleRender(),s.resumeFrom=n,r&&(s.resumeFrom.preserveOpacity=!0),n.snapshot&&(s.snapshot=n.snapshot,s.snapshot.latestValues=n.animationValues||n.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:r,resumingFrom:n}=s;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Hi={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Xc=["","X","Y","Z"],FS=1e3;let $S=0;function Zc(t,s,r,n){const{latestValues:a}=s;a[t]&&(r[t]=a[t],s.setStaticValue(t,0),n&&(n[t]=0))}function Dv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const r=Xy(s);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",We,!(a||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Dv(n)}function Lv({attachResizeListener:t,defaultParent:s,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=s==null?void 0:s()){this.id=$S++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(US),this.nodes.forEach(HS),this.nodes.forEach(GS),this.nodes.forEach(zS)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new RS)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new th),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=dv(i)&&!B3(i),this.instance=i;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let u,m=0;const p=()=>this.root.updateBlockedByResize=!1;We.read(()=>{m=window.innerWidth}),t(i,()=>{const w=window.innerWidth;w!==m&&(m=w,this.root.updateBlockedByResize=!0,u&&u(),u=MS(p,250),Hi.hasAnimatedSinceResize&&(Hi.hasAnimatedSinceResize=!1,this.nodes.forEach(p0)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||QS,{onLayoutAnimationStart:v,onLayoutAnimationComplete:j}=d.getProps(),f=!this.targetLayout||!Pv(this.targetLayout,w),b=!m&&p;if(this.options.layoutRoot||this.resumeFrom||b||m&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...hh(x,"layout"),onPlay:v,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(u,b)}else m||p0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qS),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(h0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WS),this.nodes.forEach(OS),this.nodes.forEach(BS)):this.nodes.forEach(h0),this.clearAllSnapshots();const o=Ot.now();Nt.delta=Ks(0,1e3/60,o-Nt.timestamp),Nt.timestamp=o,Nt.isProcessing=!0,Wc.update.process(Nt),Wc.preRender.process(Nt),Wc.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VS),this.sharedNodes.forEach(YS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bt(this.snapshot.measuredBox.x)&&!Bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Ev(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&this.instance&&(o||tn(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),XS(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:i}=this.options;if(!i)return ut();const o=i.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(ZS))){const{scroll:u}=this.root;u&&(Un(o.x,u.offset.x),Un(o.y,u.offset.y))}return o}removeElementScroll(i){var c;const o=ut();if(Ss(o,i),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:p}=u;u!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Ss(o,i),Un(o.x,m.offset.x),Un(o.y,m.offset.y))}return o}applyTransform(i,o=!1){const c=ut();Ss(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zn(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),tn(u.latestValues)&&zn(c,u.latestValues)}return tn(this.latestValues)&&zn(c,this.latestValues),c}removeTransform(i){const o=ut();Ss(o,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!tn(d.latestValues))continue;Du(d.latestValues)&&d.updateSnapshot();const u=ut(),m=d.measurePageBox();Ss(u,m),t0(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return tn(this.latestValues)&&t0(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var w;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!this.layout||!(u||m))return;this.resolvedRelativeTargetAt=Nt.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),gv(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Du(this.parent.latestValues)||fv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,o,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Eo(this.relativeTargetOrigin,o,c),Ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Ss(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Q3(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=ut());const{target:w}=i;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r0(this.prevProjectionDelta.x,this.projectionDelta.x),r0(this.prevProjectionDelta.y,this.projectionDelta.y)),sl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!o0(this.projectionDelta.x,this.prevProjectionDelta.x)||!o0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bn(),this.projectionDelta=Bn(),this.projectionDeltaWithTransform=Bn()}setAnimationOrigin(i,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Bn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=ut(),w=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=w!==x,j=this.getStack(),f=!j||j.members.length<=1,b=!!(v&&!f&&this.options.crossfade===!0&&!this.path.some(JS));this.animationProgress=0;let g;this.mixTargetDelta=y=>{const N=y/1e3;x0(m.x,i.x,N),x0(m.y,i.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KS(this.relativeTarget,this.relativeTargetOrigin,p,N),g&&CS(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ut()),Ss(g,this.relativeTarget)),v&&(this.animationValues=u,ES(u,d,this.latestValues,N,b,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Hi.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=la(0)),this.currentAnimation=DS(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=i;if(!(!o||!c||!d)){if(this!==i&&this.layout&&d&&Rv(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ut();const m=Bt(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const p=Bt(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}Ss(o,c),zn(o,u),sl(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new IS),this.sharedNodes.get(i).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&Zc("z",i,d,this.animationValues);for(let u=0;u<Xc.length;u++)Zc(`rotate${Xc[u]}`,i,d,this.animationValues),Zc(`skew${Xc[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Wi(o==null?void 0:o.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Wi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tn(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=_S(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),i.transform=m;const{x:p,y:w}=this.projectionDelta;i.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,d.animationValues?i.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Ru){if(u[x]===void 0)continue;const{correct:v,applyTo:j,isCSSVariable:f}=Ru[x],b=m==="none"?u[x]:v(u[x],d);if(j){const g=j.length;for(let y=0;y<g;y++)i[j[y]]=b}else f?this.options.visualElement.renderState.vars[x]=b:i[x]=b}this.options.layoutId&&(i.pointerEvents=d===this?Wi(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(m0),this.root.sharedNodes.clear()}}}function OS(t){t.updateLayout()}function BS(t){var r;const s=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:l}=t.options,i=s.source!==t.layout.source;l==="size"?ms(m=>{const p=i?s.measuredBox[m]:s.layoutBox[m],w=Bt(p);p.min=n[m].min,p.max=p.min+w}):Rv(l,s.layoutBox,n)&&ms(m=>{const p=i?s.measuredBox[m]:s.layoutBox[m],w=Bt(n[m]);p.max=p.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const o=Bn();sl(o,n,s.layoutBox);const c=Bn();i?sl(c,t.applyTransform(a,!0),s.measuredBox):sl(c,n,s.layoutBox);const d=!Ev(o);let u=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:w}=m;if(p&&w){const x=ut();Eo(x,s.layoutBox,p.layoutBox);const v=ut();Eo(v,n,w.layoutBox),Pv(x,v)||(u=!0),m.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function US(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zS(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VS(t){t.clearSnapshot()}function m0(t){t.clearMeasurements()}function h0(t){t.isLayoutDirty=!1}function WS(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function p0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HS(t){t.resolveTargetDelta()}function GS(t){t.calcProjection()}function qS(t){t.resetSkewAndRotation()}function YS(t){t.removeLeadSnapshot()}function x0(t,s,r){t.translate=Ke(s.translate,0,r),t.scale=Ke(s.scale,1,r),t.origin=s.origin,t.originPoint=s.originPoint}function f0(t,s,r,n){t.min=Ke(s.min,r.min,n),t.max=Ke(s.max,r.max,n)}function KS(t,s,r,n){f0(t.x,s.x,r.x,n),f0(t.y,s.y,r.y,n)}function JS(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QS={duration:.45,ease:[.4,0,.1,1]},g0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),b0=g0("applewebkit/")&&!g0("chrome/")?Math.round:js;function y0(t){t.min=b0(t.min),t.max=b0(t.max)}function XS(t){y0(t.x),y0(t.y)}function Rv(t,s,r){return t==="position"||t==="preserve-aspect"&&!jS(i0(s),i0(r),.2)}function ZS(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const eC=Lv({attachResizeListener:(t,s)=>Pl(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ed={current:void 0},Iv=Lv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ed.current){const t=new eC({});t.mount(window),t.setOptions({layoutScroll:!0}),ed.current=t}return ed.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kh=h.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function v0(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function tC(...t){return s=>{let r=!1;const n=t.map(a=>{const l=v0(a,s);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():v0(t[a],null)}}}}function sC(...t){return h.useCallback(tC(...t),t)}class rC extends h.Component{getSnapshotBeforeUpdate(s){const r=this.props.childRef.current;if(r&&s.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=av(n)&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nC({children:t,isPresent:s,anchorX:r,root:n}){var u;const a=h.useId(),l=h.useRef(null),i=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=h.useContext(kh),c=((u=t.props)==null?void 0:u.ref)??(t==null?void 0:t.ref),d=sC(l,c);return h.useInsertionEffect(()=>{const{width:m,height:p,top:w,left:x,right:v}=i.current;if(s||!l.current||!m||!p)return;const j=r==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=a;const f=document.createElement("style");o&&(f.nonce=o);const b=n??document.head;return b.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${j}px !important;
            top: ${w}px !important;
          }
        `),()=>{b.contains(f)&&b.removeChild(f)}},[s]),e.jsx(rC,{isPresent:s,childRef:l,sizeRef:i,children:h.cloneElement(t,{ref:d})})}const aC=({children:t,initial:s,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:i,anchorX:o,root:c})=>{const d=Jm(lC),u=h.useId();let m=!0,p=h.useMemo(()=>(m=!1,{id:u,initial:s,isPresent:r,custom:a,onExitComplete:w=>{d.set(w,!0);for(const x of d.values())if(!x)return;n&&n()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[r,d,n]);return l&&m&&(p={...p}),h.useMemo(()=>{d.forEach((w,x)=>d.set(x,!1))},[r]),h.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),i==="popLayout"&&(t=e.jsx(nC,{isPresent:r,anchorX:o,root:c,children:t})),e.jsx(nc.Provider,{value:p,children:t})};function lC(){return new Map}function Fv(t=!0){const s=h.useContext(nc);if(s===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=s,l=h.useId();h.useEffect(()=>{if(t)return a(l)},[t]);const i=h.useCallback(()=>t&&n&&n(l),[l,n,t]);return!r&&n?[!1,i]:[!0]}const bi=t=>t.key||"";function j0(t){const s=[];return h.Children.forEach(t,r=>{h.isValidElement(r)&&s.push(r)}),s}const iC=({children:t,custom:s,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:l="sync",propagate:i=!1,anchorX:o="left",root:c})=>{const[d,u]=Fv(i),m=h.useMemo(()=>j0(t),[t]),p=i&&!d?[]:m.map(bi),w=h.useRef(!0),x=h.useRef(m),v=Jm(()=>new Map),j=h.useRef(new Set),[f,b]=h.useState(m),[g,y]=h.useState(m);py(()=>{w.current=!1,x.current=m;for(let S=0;S<g.length;S++){const k=bi(g[S]);p.includes(k)?(v.delete(k),j.current.delete(k)):v.get(k)!==!0&&v.set(k,!1)}},[g,p.length,p.join("-")]);const N=[];if(m!==f){let S=[...m];for(let k=0;k<g.length;k++){const T=g[k],L=bi(T);p.includes(L)||(S.splice(k,0,T),N.push(T))}return l==="wait"&&N.length&&(S=N),y(j0(S)),b(m),null}const{forceRender:C}=h.useContext(Km);return e.jsx(e.Fragment,{children:g.map(S=>{const k=bi(S),T=i&&!d?!1:m===g||p.includes(k),L=()=>{if(j.current.has(k))return;if(j.current.add(k),v.has(k))v.set(k,!0);else return;let E=!0;v.forEach(V=>{V||(E=!1)}),E&&(C==null||C(),y(x.current),i&&(u==null||u()),n&&n())};return e.jsx(aC,{isPresent:T,initial:!w.current||r?void 0:!1,custom:s,presenceAffectsLayout:a,mode:l,root:c,onExitComplete:T?void 0:L,anchorX:o,children:S},k)})})},$v=h.createContext({strict:!1}),w0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let N0=!1;function oC(){if(N0)return;const t={};for(const s in w0)t[s]={isEnabled:r=>w0[s].some(n=>!!r[n])};hv(t),N0=!0}function Ov(){return oC(),q3()}function cC(t){const s=Ov();for(const r in t)s[r]={...s[r],...t[r]};hv(s)}const dC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Po(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dC.has(t)}let Bv=t=>!Po(t);function uC(t){typeof t=="function"&&(Bv=s=>s.startsWith("on")?!Po(s):t(s))}try{uC(require("@emotion/is-prop-valid").default)}catch{}function mC(t,s,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Bv(a)||r===!0&&Po(a)||!s&&!Po(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const ic=h.createContext({});function hC(t,s){if(lc(t)){const{initial:r,animate:n}=t;return{initial:r===!1||El(r)?r:void 0,animate:El(n)?n:void 0}}return t.inherit!==!1?s:{}}function pC(t){const{initial:s,animate:r}=hC(t,h.useContext(ic));return h.useMemo(()=>({initial:s,animate:r}),[k0(s),k0(r)])}function k0(t){return Array.isArray(t)?t.join(" "):t}const Sh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uv(t,s,r){for(const n in s)!Mt(s[n])&&!vv(n,r)&&(t[n]=s[n])}function xC({transformTemplate:t},s){return h.useMemo(()=>{const r=Sh();return wh(r,s,t),Object.assign({},r.vars,r.style)},[s])}function fC(t,s){const r=t.style||{},n={};return Uv(n,r,t),Object.assign(n,xC(t,s)),n}function gC(t,s){const r={},n=fC(t,s);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const zv=()=>({...Sh(),attrs:{}});function bC(t,s,r,n){const a=h.useMemo(()=>{const l=zv();return jv(l,s,Nv(n),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[s]);if(t.style){const l={};Uv(l,t.style,t),a.style={...l,...a.style}}return a}const yC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ch(t){return typeof t!="string"||t.includes("-")?!1:!!(yC.indexOf(t)>-1||/[A-Z]/u.test(t))}function vC(t,s,r,{latestValues:n},a,l=!1,i){const c=(i??Ch(t)?bC:gC)(s,n,a,t),d=mC(s,typeof t=="string",l),u=t!==h.Fragment?{...d,...c,ref:r}:{},{children:m}=s,p=h.useMemo(()=>Mt(m)?m.get():m,[m]);return h.createElement(t,{...u,children:p})}function jC({scrapeMotionValuesFromProps:t,createRenderState:s},r,n,a){return{latestValues:wC(r,n,a,t),renderState:s()}}function wC(t,s,r,n){const a={},l=n(t,{});for(const p in l)a[p]=Wi(l[p]);let{initial:i,animate:o}=t;const c=lc(t),d=mv(t);s&&d&&!c&&t.inherit!==!1&&(i===void 0&&(i=s.initial),o===void 0&&(o=s.animate));let u=r?r.initial===!1:!1;u=u||i===!1;const m=u?o:i;if(m&&typeof m!="boolean"&&!ac(m)){const p=Array.isArray(m)?m:[m];for(let w=0;w<p.length;w++){const x=xh(t,p[w]);if(x){const{transitionEnd:v,transition:j,...f}=x;for(const b in f){let g=f[b];if(Array.isArray(g)){const y=u?g.length-1:0;g=g[y]}g!==null&&(a[b]=g)}for(const b in v)a[b]=v[b]}}}return a}const Vv=t=>(s,r)=>{const n=h.useContext(ic),a=h.useContext(nc),l=()=>jC(t,s,n,a);return r?l():Jm(l)},NC=Vv({scrapeMotionValuesFromProps:Nh,createRenderState:Sh}),kC=Vv({scrapeMotionValuesFromProps:kv,createRenderState:zv}),SC=Symbol.for("motionComponentSymbol");function CC(t,s,r){const n=h.useRef(r);h.useInsertionEffect(()=>{n.current=r});const a=h.useRef(null);return h.useCallback(l=>{var o;l&&((o=t.onMount)==null||o.call(t,l)),s&&(l?s.mount(l):s.unmount());const i=n.current;if(typeof i=="function")if(l){const c=i(l);typeof c=="function"&&(a.current=c)}else a.current?(a.current(),a.current=null):i(l);else i&&(i.current=l)},[s])}const Wv=h.createContext({});function Va(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _C(t,s,r,n,a,l){var j,f;const{visualElement:i}=h.useContext(ic),o=h.useContext($v),c=h.useContext(nc),d=h.useContext(kh).reducedMotion,u=h.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:s,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,isSVG:l}));const m=u.current,p=h.useContext(Wv);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&TC(u.current,r,a,p);const w=h.useRef(!1);h.useInsertionEffect(()=>{m&&w.current&&m.update(r,c)});const x=r[Qy],v=h.useRef(!!x&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,x))&&((f=window.MotionHasOptimisedAnimation)==null?void 0:f.call(window,x)));return py(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),h.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,x)}),v.current=!1),m.enteringChildren=void 0)}),m}function TC(t,s,r,n){const{layoutId:a,layout:l,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=s;t.projection=new r(t.latestValues,s["data-framer-portal-id"]?void 0:Hv(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!i||o&&Va(o),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function Hv(t){if(t)return t.options.allowProjection!==!1?t.projection:Hv(t.parent)}function td(t,{forwardMotionProps:s=!1,type:r}={},n,a){n&&cC(n);const l=r?r==="svg":Ch(t),i=l?kC:NC;function o(d,u){let m;const p={...h.useContext(kh),...d,layoutId:EC(d)},{isStatic:w}=p,x=pC(d),v=i(d,w);if(!w&&hy){PC();const j=AC(p);m=j.MeasureLayout,x.visualElement=_C(t,v,p,a,j.ProjectionNode,l)}return e.jsxs(ic.Provider,{value:x,children:[m&&x.visualElement?e.jsx(m,{visualElement:x.visualElement,...p}):null,vC(t,d,CC(v,x.visualElement,u),v,w,s,l)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=h.forwardRef(o);return c[SC]=t,c}function EC({layoutId:t}){const s=h.useContext(Km).id;return s&&t!==void 0?s+"-"+t:t}function PC(t,s){h.useContext($v).strict}function AC(t){const s=Ov(),{drag:r,layout:n}=s;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function MC(t,s){if(typeof Proxy>"u")return td;const r=new Map,n=(l,i)=>td(l,i,t,s),a=(l,i)=>n(l,i);return new Proxy(a,{get:(l,i)=>i==="create"?n:(r.has(i)||r.set(i,td(i,void 0,t,s)),r.get(i))})}const DC=(t,s)=>s.isSVG??Ch(t)?new dS(s):new nS(s,{allowProjection:t!==h.Fragment});class LC extends Hr{constructor(s){super(s),s.animationState||(s.animationState=xS(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();ac(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:r}=this.node.prevProps||{};s!==r&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let RC=0;class IC extends Hr{constructor(){super(...arguments),this.id=RC++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===n)return;const a=this.node.animationState.setActive("exit",!s);r&&!s&&a.then(()=>{r(this.id)})}mount(){const{register:s,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const FC={animation:{Feature:LC},exit:{Feature:IC}};function ql(t){return{point:{x:t.pageX,y:t.pageY}}}const $C=t=>s=>yh(s)&&t(s,ql(s));function rl(t,s,r,n){return Pl(t,s,$C(r),n)}const Gv=({current:t})=>t?t.ownerDocument.defaultView:null,S0=(t,s)=>Math.abs(t-s);function OC(t,s){const r=S0(t.x,s.x),n=S0(t.y,s.y);return Math.sqrt(r**2+n**2)}const C0=new Set(["auto","scroll"]);class qv{constructor(s,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:i=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=rd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=OC(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!v)return;const{point:j}=w,{timestamp:f}=Nt;this.history.push({...j,timestamp:f});const{onStart:b,onMove:g}=this.handlers;x||(b&&b(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=sd(x,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:v,onSessionEnd:j,resumeAnimation:f}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rd(w.type==="pointercancel"?this.lastMoveEventInfo:sd(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(w,b),j&&j(w,b)},!yh(s))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const c=ql(s),d=sd(c,this.transformPagePoint),{point:u}=d,{timestamp:m}=Nt;this.history=[{...u,timestamp:m}];const{onSessionStart:p}=r;p&&p(s,rd(d,this.history)),this.removeListeners=Wl(rl(this.contextWindow,"pointermove",this.handlePointerMove),rl(this.contextWindow,"pointerup",this.handlePointerUp),rl(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(s){let r=s.parentElement;for(;r;){const n=getComputedStyle(r);(C0.has(n.overflowX)||C0.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(s){const r=this.scrollPositions.get(s);if(!r)return;const n=s===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:s.scrollLeft,y:s.scrollTop},l={x:a.x-r.x,y:a.y-r.y};l.x===0&&l.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(s,a),We.update(this.updatePoint,!0))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ir(this.updatePoint)}}function sd(t,s){return s?{point:s(t.point)}:t}function _0(t,s){return{x:t.x-s.x,y:t.y-s.y}}function rd({point:t},s){return{point:t,delta:_0(t,Yv(s)),offset:_0(t,BC(s)),velocity:UC(s,.1)}}function BC(t){return t[0]}function Yv(t){return t[t.length-1]}function UC(t,s){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=Yv(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>ar(s)));)r--;if(!n)return{x:0,y:0};const l=bs(a.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const i={x:(a.x-n.x)/l,y:(a.y-n.y)/l};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zC(t,{min:s,max:r},n){return s!==void 0&&t<s?t=n?Ke(s,t,n.min):Math.max(t,s):r!==void 0&&t>r&&(t=n?Ke(r,t,n.max):Math.min(t,r)),t}function T0(t,s,r){return{min:s!==void 0?t.min+s:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function VC(t,{top:s,left:r,bottom:n,right:a}){return{x:T0(t.x,r,a),y:T0(t.y,s,n)}}function E0(t,s){let r=s.min-t.min,n=s.max-t.max;return s.max-s.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function WC(t,s){return{x:E0(t.x,s.x),y:E0(t.y,s.y)}}function HC(t,s){let r=.5;const n=Bt(t),a=Bt(s);return a>n?r=Cl(s.min,s.max-n,t.min):n>a&&(r=Cl(t.min,t.max-a,s.min)),Ks(0,1,r)}function GC(t,s){const r={};return s.min!==void 0&&(r.min=s.min-t.min),s.max!==void 0&&(r.max=s.max-t.min),r}const Iu=.35;function qC(t=Iu){return t===!1?t=0:t===!0&&(t=Iu),{x:P0(t,"left","right"),y:P0(t,"top","bottom")}}function P0(t,s,r){return{min:A0(t,s),max:A0(t,r)}}function A0(t,s){return typeof t=="number"?t:t[s]||0}const YC=new WeakMap;class KC{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=m=>{r?(this.stopAnimation(),this.snapToCursor(ql(m).point)):this.pauseAnimation()},i=(m,p)=>{this.stopAnimation();const{drag:w,dragPropagation:x,onDragStart:v}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R3(w),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ms(f=>{let b=this.getAxisMotionValue(f).get()||0;if(Ys.test(b)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[f];y&&(b=Bt(y)*(parseFloat(b)/100))}}this.originPoint[f]=b}),v&&We.postRender(()=>v(m,p)),Eu(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:v,onDrag:j}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:f}=p;if(x&&this.currentDirection===null){this.currentDirection=JC(f),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,f),this.updateAxis("y",p.point,f),this.visualElement.render(),j&&j(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ms(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qv(s,{onSessionStart:l,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Gv(this.visualElement),element:this.visualElement.current})}stop(s,r){const n=s||this.latestPointerEvent,a=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&We.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:r}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(s,r,n){const{drag:a}=this.getProps();if(!n||!yi(s,a,this.currentDirection))return;const l=this.getAxisMotionValue(s);let i=this.originPoint[s]+n[s];this.constraints&&this.constraints[s]&&(i=zC(i,this.constraints[s],this.elastic[s])),l.set(i)}resolveConstraints(){var l;const{dragConstraints:s,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;s&&Va(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=VC(n.layoutBox,s):this.constraints=!1,this.elastic=qC(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ms(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=GC(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:r}=this.getProps();if(!s||!Va(s))return!1;const n=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=X3(n,a.root,this.visualElement.getTransformPagePoint());let i=WC(a.layout.layoutBox,l);if(r){const o=r(K3(i));this.hasMutatedConstraints=!!o,o&&(i=xv(o))}return i}startAnimation(s){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:l,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=ms(u=>{if(!yi(u,r,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const p=a?200:1e6,w=a?40:1e7,x={type:"inertia",velocity:n?s[u]:0,bounceStiffness:p,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(o)}startAxisValueAnimation(s,r){const n=this.getAxisMotionValue(s);return Eu(this.visualElement,s),n.start(ph(s,n,0,r,this.visualElement,!1))}stopAnimation(){ms(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){ms(s=>{var r;return(r=this.getAxisMotionValue(s).animation)==null?void 0:r.pause()})}getAnimationState(s){var r;return(r=this.getAxisMotionValue(s).animation)==null?void 0:r.state}getAxisMotionValue(s){const r=`_drag${s.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(s,(n.initial?n.initial[s]:void 0)||0)}snapToCursor(s){ms(r=>{const{drag:n}=this.getProps();if(!yi(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[r],c=l.get()||0;l.set(s[r]-Ke(i,o,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Va(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ms(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();a[i]=HC({min:c,max:c},this.constraints[i])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ms(i=>{if(!yi(i,s,null))return;const o=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];o.set(Ke(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;YC.set(this.visualElement,this);const s=this.visualElement.current,r=rl(s,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&!cv(c.target)&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Va(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),We.read(n);const i=Pl(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ms(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),r(),l(),o&&o()}}getProps(){const s=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:i=Iu,dragMomentum:o=!0}=s;return{...s,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:l,dragElastic:i,dragMomentum:o}}}function yi(t,s,r){return(s===!0||s===t)&&(r===null||r===t)}function JC(t,s=10){let r=null;return Math.abs(t.y)>s?r="y":Math.abs(t.x)>s&&(r="x"),r}class QC extends Hr{constructor(s){super(s),this.removeGroupControls=js,this.removeListeners=js,this.controls=new KC(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||js}update(){const{dragControls:s}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};s!==r&&(this.removeGroupControls(),s&&(this.removeGroupControls=s.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const M0=t=>(s,r)=>{t&&We.postRender(()=>t(s,r))};class XC extends Hr{constructor(){super(...arguments),this.removePointerDownListener=js}onPointerDown(s){this.session=new qv(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gv(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:M0(s),onStart:M0(r),onMove:n,onEnd:(l,i)=>{delete this.session,a&&We.postRender(()=>a(l,i))}}}mount(){this.removePointerDownListener=rl(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nd=!1;class ZC extends h.Component{componentDidMount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:l}=s;l&&(r.group&&r.group.add(l),n&&n.register&&a&&n.register(l),nd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Hi.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:r,visualElement:n,drag:a,isPresent:l}=this.props,{projection:i}=n;return i&&(i.isPresent=l,nd=!0,a||s.layoutDependency!==r||r===void 0||s.isPresent!==l?i.willUpdate():this.safeToRemove(),s.isPresent!==l&&(l?i.promote():i.relegate()||We.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),bh.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=s;nd=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function Kv(t){const[s,r]=Fv(),n=h.useContext(Km);return e.jsx(ZC,{...t,layoutGroup:n,switchLayoutGroup:h.useContext(Wv),isPresent:s,safeToRemove:r})}const e_={pan:{Feature:XC},drag:{Feature:QC,ProjectionNode:Iv,MeasureLayout:Kv}};function D0(t,s,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,l=n[a];l&&We.postRender(()=>l(s,ql(s)))}class t_ extends Hr{mount(){const{current:s}=this.node;s&&(this.unmount=I3(s,(r,n)=>(D0(this.node,n,"Start"),a=>D0(this.node,a,"End"))))}unmount(){}}class s_ extends Hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wl(Pl(this.node.current,"focus",()=>this.onFocus()),Pl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L0(t,s,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),l=n[a];l&&We.postRender(()=>l(s,ql(s)))}class r_ extends Hr{mount(){const{current:s}=this.node;s&&(this.unmount=O3(s,(r,n)=>(L0(this.node,n,"Start"),(a,{success:l})=>L0(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fu=new WeakMap,ad=new WeakMap,n_=t=>{const s=Fu.get(t.target);s&&s(t)},a_=t=>{t.forEach(n_)};function l_({root:t,...s}){const r=t||document;ad.has(r)||ad.set(r,{});const n=ad.get(r),a=JSON.stringify(s);return n[a]||(n[a]=new IntersectionObserver(a_,{root:t,...s})),n[a]}function i_(t,s,r){const n=l_(s);return Fu.set(t,r),n.observe(t),()=>{Fu.delete(t),n.unobserve(t)}}const o_={some:0,all:1};class c_ extends Hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:l}=s,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:o_[a]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),p=d?u:m;p&&p(c)};return i_(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:r}=this.node;["amount","margin","root"].some(d_(s,r))&&this.startObserver()}unmount(){}}function d_({viewport:t={}},{viewport:s={}}={}){return r=>t[r]!==s[r]}const u_={inView:{Feature:c_},tap:{Feature:r_},focus:{Feature:s_},hover:{Feature:t_}},m_={layout:{ProjectionNode:Iv,MeasureLayout:Kv}},h_={...FC,...u_,...e_,...m_},vi=MC(h_,DC),p_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],R0=["12:00 AM","1:00 AM","2:00 AM","3:00 AM","4:00 AM","5:00 AM","6:00 AM","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM","10:00 PM","11:00 PM"];function x_(){const t=we(),{updateUser:s}=Yo(),[r,n]=h.useState(1),[a,l]=h.useState(!1),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(""),[p,w]=h.useState(""),[x,v]=h.useState("9:00 AM"),[j,f]=h.useState("5:00 PM"),[b,g]=h.useState(["Mon","Tue","Wed","Thu","Fri"]);h.useEffect(()=>{const E=Intl.DateTimeFormat().resolvedOptions().timeZone;m(E)},[]);const y=E=>E.length<3?(w("Username must be at least 3 characters"),!1):/^[a-zA-Z0-9_-]+$/.test(E)?(w(""),!0):(w("Username can only contain letters, numbers, hyphens, and underscores"),!1),N=E=>{const V=E.target.value.toLowerCase().replace(/[^a-z0-9_-]/g,"");d(V),V.length>=3&&y(V)},C=E=>{b.includes(E)?g(b.filter(V=>V!==E)):g([...b,E])},S=()=>{r===1&&!y(c)||r<4&&n(r+1)},k=()=>{r>1&&n(r-1)},T=async()=>{var E,V;l(!0),o("");try{const R=D=>{const[A,F]=D.split(" ");let[z,Q]=A.split(":");return z=parseInt(z),F==="PM"&&z!==12&&(z+=12),F==="AM"&&z===12&&(z=0),`${z.toString().padStart(2,"0")}:${Q}`},M={username:c,timezone:u,availableFrom:R(x),availableTo:R(j),workDays:b},H=await _.post("/users/onboarding",M);s&&s({onboarded:!0,username:c,timezone:u});const O=localStorage.getItem("user");if(O){const D=JSON.parse(O),A=`onboardingCompleted:${D.id||D.email}`;localStorage.setItem(A,"true")}t("/dashboard",{replace:!0})}catch(R){console.error("Onboarding error:",R),o(((V=(E=R.response)==null?void 0:E.data)==null?void 0:V.error)||"Failed to complete onboarding. Please try again."),l(!1)}},L={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 via-white to-pink-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"TruCal"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:[1,2,3,4].map(E=>e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${E===r?"bg-gradient-to-br from-purple-600 to-pink-600 text-white shadow-lg scale-110":E<r?"bg-purple-600 text-white":"bg-gray-200 text-gray-400"}`,children:E<r?e.jsx(de,{className:"w-5 h-5"}):E}),E<4&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full transition-all ${E<r?"bg-purple-600":"bg-gray-200"}`})]},E))}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 px-2",children:[e.jsx("span",{children:"Profile"}),e.jsx("span",{children:"Schedule"}),e.jsx("span",{children:"Features"}),e.jsx("span",{children:"Complete"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 min-h-[400px] relative",children:[e.jsxs(iC,{mode:"wait",children:[r===1&&e.jsxs(vi.div,{variants:L,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set up your profile"}),e.jsx("p",{className:"text-gray-500",children:"Choose your unique TruCal username"})]})]}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your TruCal URL"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-mono",children:"trucal.xyz/"}),e.jsx("input",{type:"text",value:c,onChange:N,placeholder:"yourname",className:`w-full pl-28 pr-4 py-3 border-2 rounded-xl text-sm font-mono focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all ${p?"border-red-300":"border-gray-200"}`,minLength:3})]}),p&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:p}),c&&!p&&c.length>=3&&e.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[e.jsx(de,{className:"w-4 h-4"})," Available!"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timezone"}),e.jsxs("select",{value:u,onChange:E=>m(E.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select timezone"}),e.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),e.jsx("option",{value:"America/Phoenix",children:"Arizona Time"}),e.jsx("option",{value:"America/Anchorage",children:"Alaska Time"}),e.jsx("option",{value:"Pacific/Honolulu",children:"Hawaii Time"}),e.jsx("option",{value:"Europe/London",children:"London (GMT)"}),e.jsx("option",{value:"Europe/Paris",children:"Central European (CET)"}),e.jsx("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),e.jsx("option",{value:"Asia/Shanghai",children:"China (CST)"}),e.jsx("option",{value:"Asia/Dubai",children:"Dubai (GST)"}),e.jsx("option",{value:"Australia/Sydney",children:"Sydney (AEDT)"})]}),u&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Current time: ",new Date().toLocaleTimeString("en-US",{timeZone:u})]})]})]})]},"step1"),r===2&&e.jsxs(vi.div,{variants:L,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set your availability"}),e.jsx("p",{className:"text-gray-500",children:"When are you typically available?"})]})]}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start time"}),e.jsx("select",{value:x,onChange:E=>v(E.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:R0.map(E=>e.jsx("option",{value:E,children:E},E))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End time"}),e.jsx("select",{value:j,onChange:E=>f(E.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:R0.map(E=>e.jsx("option",{value:E,children:E},E))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Working days"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:p_.map(E=>e.jsx("button",{onClick:()=>C(E),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${b.includes(E)?"bg-gradient-to-br from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:E},E))}),e.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"You can always change this later in settings"})]})]})]},"step2"),r===3&&e.jsxs(vi.div,{variants:L,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discover TruCal features"}),e.jsx("p",{className:"text-gray-500",children:"Everything you need to schedule smarter"})]})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("div",{className:"p-4 rounded-xl border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-transparent hover:border-purple-300 transition-all",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(Te,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Email Bot"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Just CC ",e.jsxs("span",{className:"font-mono text-purple-600",children:[c,"@mg.trucal.xyz"]})," in any email to schedule meetings instantly"]})]})]})}),e.jsx("div",{className:"p-4 rounded-xl border-2 border-purple-100 bg-gradient-to-br from-pink-50 to-transparent hover:border-pink-300 transition-all",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Calendar Sync"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Connect Google or Outlook calendars to prevent double-bookings automatically"})]})]})}),e.jsx("div",{className:"p-4 rounded-xl border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-transparent hover:border-purple-300 transition-all",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(xt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Smart Links"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Share ",e.jsxs("span",{className:"font-mono text-purple-600",children:["trucal.xyz/",c]})," so people can book time with you instantly"]})]})]})})]})]},"step3"),r===4&&e.jsxs(vi.div,{variants:L,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(de,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"You're all set!"}),e.jsx("p",{className:"text-gray-500",children:"Review your settings below"})]})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Your TruCal URL"}),e.jsxs("p",{className:"font-mono text-sm font-semibold text-purple-600",children:["trucal.xyz/",c]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Your Email Bot"}),e.jsxs("p",{className:"font-mono text-sm font-semibold text-purple-600",children:[c,"@mg.trucal.xyz"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Timezone"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Work hours"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[x," - ",j]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Working days"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:b.join(", ")})]})]})}),i&&e.jsx("div",{className:"p-3 rounded-xl bg-red-50 border border-red-100 text-red-600 text-sm",children:i})]})]},"step4")]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-100",children:[r>1?e.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-6 py-3 text-gray-600 hover:text-gray-900 font-semibold rounded-xl hover:bg-gray-100 transition-all",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Back"]}):e.jsx("div",{}),r<4?e.jsxs("button",{onClick:S,disabled:r===1&&(!c||p||c.length<3),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:["Continue",e.jsx(qe,{className:"w-4 h-4"})]}):e.jsx("button",{onClick:T,disabled:a,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Setting up..."]}):e.jsxs(e.Fragment,{children:["Go to Dashboard",e.jsx(qe,{className:"w-4 h-4"})]})})]})]})]})})}function f_(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,l]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState([]),[u,m]=h.useState(!1),p=we();h.useEffect(()=>{w()},[]);const w=async()=>{var y;try{n(!0);const N=await _.get("/admin/users");s(N.data.users),d([])}catch(N){console.error("Failed to load users:",N),((y=N.response)==null?void 0:y.status)===403?l("Access Denied: You are not an admin."):l("Failed to load user list.")}finally{n(!1)}},x=async(y,N)=>{var C,S;if(window.confirm(`Are you sure you want to PERMANENTLY delete ${N}? This will remove all their teams and bookings. This cannot be undone.`))try{s(k=>k.filter(T=>T.id!==y)),d(k=>k.filter(T=>T!==y)),await _.delete(`/admin/users/${y}`),alert(`User ${N} deleted successfully.`)}catch(k){console.error("Delete failed:",k),alert("Failed to delete user: "+(((S=(C=k.response)==null?void 0:C.data)==null?void 0:S.error)||k.message)),w()}},v=t.filter(y=>y.email.toLowerCase().includes(i.toLowerCase())||y.name&&y.name.toLowerCase().includes(i.toLowerCase())),j=v.length>0&&v.every(y=>c.includes(y.id)),f=y=>{d(N=>N.includes(y)?N.filter(C=>C!==y):[...N,y])},b=()=>{if(j){const y=v.map(N=>N.id);d(N=>N.filter(C=>!y.includes(C)))}else{const y=v.map(N=>N.id);d(N=>Array.from(new Set([...N,...y])))}},g=async()=>{var S,k;if(c.length===0)return;const N=t.filter(T=>c.includes(T.id)).map(T=>T.email).join(`
`);if(window.confirm(`You are about to PERMANENTLY delete ${c.length} user(s).

This will remove all their teams and bookings.
This CANNOT be undone.

Users:
${N}

Continue?`))try{m(!0),s(T=>T.filter(L=>!c.includes(L.id))),await Promise.all(c.map(T=>_.delete(`/admin/users/${T}`))),alert(`Deleted ${c.length} user(s) successfully.`),d([])}catch(T){console.error("Bulk delete failed:",T),alert("Failed to delete some users: "+(((k=(S=T.response)==null?void 0:S.data)==null?void 0:k.error)||T.message)),w()}finally{m(!1)}};return r?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600"})})]}):a?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl text-center max-w-md border-2 border-white/20 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(iu,{size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a}),e.jsx("button",{onClick:()=>p("/dashboard"),className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all",children:"Back to Dashboard"})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6 sm:p-10 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(iu,{className:"text-purple-600"}),"Admin Panel"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage system users and data."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl px-4 py-2 rounded-xl border-2 border-white/20 shadow-lg text-sm font-medium text-gray-600",children:["Total Users:"," ",e.jsx("span",{className:"text-gray-900 font-bold",children:t.length})]}),e.jsxs("button",{type:"button",onClick:g,disabled:c.length===0||u,className:`inline-flex items-center justify-center px-4 py-2 rounded-xl text-sm font-semibold border transition-colors ${c.length===0||u?"border-gray-200 text-gray-400 bg-gray-100 cursor-not-allowed":"border-red-200 text-red-700 bg-red-50 hover:bg-red-100"}`,children:[e.jsx(yt,{className:"h-4 w-4 mr-2"}),u?"Deleting...":`Delete Selected (${c.length})`]})]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ol,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:i,onChange:y=>o(y.target.value),className:"block w-full pl-10 pr-3 py-3 border-2 border-white/20 rounded-xl leading-5 bg-white/80 backdrop-blur-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 sm:text-sm shadow-lg"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:j,onChange:b,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),e.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{scope:"col",className:"relative px-3 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(y=>{var N;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:c.includes(y.id),onChange:()=>f(y.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-lg shadow-md",children:((N=y.name)==null?void 0:N[0])||y.email[0].toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name||"No Name"}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Te,{size:12})," ",y.email]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Le,{size:12,className:"mr-1"})," ",y.team_count||0," Teams"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(se,{size:12,className:"mr-1"})," ",y.booking_count||0," Bookings"]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.created_at?new Date(y.created_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:`capitalize px-2 py-1 rounded-md text-xs border ${y.provider==="google"?"bg-white border-gray-200":"bg-gray-100"}`,children:y.provider||"Email"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>x(y.id,y.email),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 p-2 rounded-lg transition-colors",title:"Delete User",children:e.jsx(yt,{size:18})})})]},y.id)})})]})}),v.length===0&&e.jsx("div",{className:"text-center py-10 text-gray-500",children:"No users found matching your search."})]})]})]})}function g_(){const{token:t}=Ls(),s=we(),[r,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState(""),[p,w]=h.useState(""),[x,v]=h.useState(""),[j,f]=h.useState(!1),[b,g]=h.useState(!1),[y,N]=h.useState(!1),[C,S]=h.useState(""),k=!!localStorage.getItem("token");h.useEffect(()=>{T()},[t]);const T=async()=>{var R,M,H,O;try{n(!0);const D=await _.get(`/invitations/${t}`);l(D.data.invitation),m(D.data.invitation.name||"")}catch(D){console.error("Load invitation error:",D),o(((M=(R=D.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to load invitation"),d((O=(H=D.response)==null?void 0:H.data)==null?void 0:O.code)}finally{n(!1)}},L=async()=>{var R,M;try{f(!0);const H=await _.post(`/invitations/${t}/accept`);N(!0),S(H.data.message||`You've joined ${a.team.name}!`),setTimeout(()=>{s("/dashboard")},2e3)}catch(H){console.error("Accept error:",H),o(((M=(R=H.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to accept invitation")}finally{f(!1)}},E=async R=>{var M,H,O,D;if(R.preventDefault(),p!==x){o("Passwords do not match");return}if(p.length<6){o("Password must be at least 6 characters");return}try{f(!0),o(null);const A=await _.post(`/invitations/${t}/accept-signup`,{name:u,password:p});localStorage.setItem("token",A.data.token),N(!0),S(A.data.message||`Welcome to ${a.team.name}!`),setTimeout(()=>{s("/dashboard")},2e3)}catch(A){console.error("Signup error:",A),o(((H=(M=A.response)==null?void 0:M.data)==null?void 0:H.error)||"Failed to create account"),((D=(O=A.response)==null?void 0:O.data)==null?void 0:D.code)==="ACCOUNT_EXISTS"&&d("ACCOUNT_EXISTS")}finally{f(!1)}},V=async()=>{if(confirm("Are you sure you want to decline this invitation?"))try{g(!0),await _.post(`/invitations/${t}/decline`),o("Invitation declined"),d("DECLINED")}catch(R){console.error("Decline error:",R)}finally{g(!1)}};return r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading invitation..."})]})]}):i&&!a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c==="EXPIRED"?e.jsx(he,{className:"h-8 w-8 text-red-600"}):c==="ALREADY_ACCEPTED"?e.jsx(xe,{className:"h-8 w-8 text-green-600"}):e.jsx($t,{className:"h-8 w-8 text-red-600"})}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:[c==="EXPIRED"&&"Invitation Expired",c==="ALREADY_ACCEPTED"&&"Already Accepted",c==="DECLINED"&&"Invitation Declined",c==="NOT_FOUND"&&"Invitation Not Found",!c&&"Something Went Wrong"]}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsxs(gt,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors",children:["Go to Login",e.jsx(qe,{className:"h-4 w-4"})]})]})}):y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(xe,{className:"h-10 w-10 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to the Team! "}),e.jsx("p",{className:"text-gray-600 mb-4",children:C}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-600",children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Redirecting to dashboard..."})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-lg w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-8 text-center text-white",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Le,{className:"h-8 w-8"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"You're Invited!"}),e.jsxs("p",{className:"text-indigo-100",children:["Join ",a.inviter.name,"'s team"]})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"bg-indigo-50 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Il,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900 text-lg",children:a.team.name}),a.team.description&&e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:a.team.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"h-4 w-4"}),a.team.member_count," members"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-4 w-4"}),"Invited by ",a.inviter.name]})]})]})]})}),i&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:i}),c==="ACCOUNT_EXISTS"&&e.jsx(gt,{to:`/login?redirect=/invite/${t}`,className:"text-red-600 underline text-sm",children:"Click here to log in"})]})]}),k&&a.has_account&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-center text-gray-600",children:["Click below to join ",e.jsx("strong",{children:a.team.name})," as ",e.jsx("strong",{children:a.email})]}),e.jsx("button",{onClick:L,disabled:j,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Joining..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-5 w-5"}),"Accept & Join Team"]})}),e.jsx("button",{onClick:V,disabled:b,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:b?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4"}),"Decline Invitation"]})})]}),!k&&a.has_account&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-center",children:e.jsxs("p",{className:"text-amber-800",children:["An account exists for ",e.jsx("strong",{children:a.email}),". Please log in to accept this invitation."]})}),e.jsxs(gt,{to:`/login?redirect=/invite/${t}`,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:["Log In to Accept",e.jsx(qe,{className:"h-5 w-5"})]}),e.jsxs("button",{onClick:V,disabled:b,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Decline Invitation"]})]}),!a.has_account&&e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("p",{className:"text-center text-gray-600 mb-4",children:["Create your account to join ",e.jsx("strong",{children:a.team.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:u,onChange:R=>m(R.target.value),placeholder:"Enter your name",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Create Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"password",value:p,onChange:R=>w(R.target.value),placeholder:"At least 6 characters",required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"password",value:x,onChange:R=>v(R.target.value),placeholder:"Confirm your password",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),e.jsx("button",{type:"submit",disabled:j,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-5 w-5"}),"Create Account & Join"]})}),e.jsxs("button",{type:"button",onClick:V,disabled:b,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Decline Invitation"]}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]}),e.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),"Powered by TruCal"]})})]})})}function b_(){const t=we();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-white/20 relative z-10",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Back to Home"]})})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Policy"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Information We Collect"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"When you use ScheduleSync, we collect information you provide directly to us, such as:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Account information (name, email address)"}),e.jsx("li",{children:"Calendar data (availability, scheduled events)"}),e.jsx("li",{children:"Booking information (meeting times, attendee details)"}),e.jsx("li",{children:"Payment information (processed securely via Stripe)"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. How We Use Your Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We use the information we collect to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Provide, maintain, and improve our services"}),e.jsx("li",{children:"Process bookings and send confirmations"}),e.jsx("li",{children:"Send you reminders and notifications"}),e.jsx("li",{children:"Respond to your comments and questions"}),e.jsx("li",{children:"Detect and prevent fraud or abuse"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Calendar Access"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"ScheduleSync requests access to your calendar to check your availability and create booking events. We only read the minimum information needed (busy/free times) and do not store the content of your events. You can revoke calendar access at any time through your Google or Microsoft account settings."}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Data Sharing"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We do not sell your personal information. We may share information with:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Service providers who assist in our operations (hosting, email delivery)"}),e.jsx("li",{children:"Meeting attendees (limited to booking-related information)"}),e.jsx("li",{children:"Legal authorities when required by law"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Data Security"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We implement appropriate security measures to protect your information, including:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"SSL/TLS encryption for data in transit"}),e.jsx("li",{children:"Encrypted storage for sensitive data"}),e.jsx("li",{children:"Regular security audits"}),e.jsx("li",{children:"OAuth 2.0 for calendar authentication (we never see your calendar password)"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"6. Your Rights"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You have the right to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Access your personal data"}),e.jsx("li",{children:"Correct inaccurate data"}),e.jsx("li",{children:"Delete your account and data"}),e.jsx("li",{children:"Export your data"}),e.jsx("li",{children:"Opt out of marketing communications"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"7. Contact Us"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["If you have questions about this Privacy Policy, please contact us at:"," ",e.jsx("a",{href:"mailto:support@trucal.xyz",className:"text-purple-600 hover:underline",children:"support@trucal.xyz"})]})]})]})]})]})}function y_(){const t=we();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-white/20 relative z-10",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Back to Home"]})})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"text-gray-600 mb-6",children:'By accessing or using ScheduleSync ("Service"), you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use the Service.'}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Description of Service"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"ScheduleSync is an AI-powered scheduling platform that allows users to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Create and manage booking pages"}),e.jsx("li",{children:"Schedule meetings with AI assistance"}),e.jsx("li",{children:"Sync with Google and Microsoft calendars"}),e.jsx("li",{children:"Send automated booking confirmations and reminders"}),e.jsx("li",{children:"Manage team scheduling"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Account Registration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"To use certain features, you must create an account. You agree to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Provide accurate and complete information"}),e.jsx("li",{children:"Maintain the security of your account credentials"}),e.jsx("li",{children:"Notify us immediately of any unauthorized access"}),e.jsx("li",{children:"Accept responsibility for all activities under your account"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Subscription Plans"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"ScheduleSync offers the following plans:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Free:"})," Unlimited bookings, basic AI features, Google & Outlook sync"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Plus ($8/month):"})," Advanced AI features, buffer times, custom email templates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pro ($15/month):"})," Unlimited AI queries, smart rules, email assistant, priority support"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Team ($25/month):"})," Everything in Pro plus team collaboration and round-robin scheduling"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Enterprise:"})," Custom pricing for large organizations with SSO and dedicated support"]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Paid subscriptions are billed monthly. You may cancel at any time, and your subscription will remain active until the end of the billing period."}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Acceptable Use"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You agree not to:"}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-600 mb-6 space-y-2",children:[e.jsx("li",{children:"Use the Service for any unlawful purpose"}),e.jsx("li",{children:"Send spam or unsolicited communications"}),e.jsx("li",{children:"Impersonate others or misrepresent your affiliation"}),e.jsx("li",{children:"Attempt to gain unauthorized access to the Service"}),e.jsx("li",{children:"Interfere with or disrupt the Service"}),e.jsx("li",{children:"Use automated systems to access the Service without permission"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"6. Intellectual Property"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The Service, including its design, features, and content, is owned by ScheduleSync and protected by intellectual property laws. You retain ownership of content you create using the Service."}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"7. Limitation of Liability"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"To the maximum extent permitted by law, ScheduleSync shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including lost profits, data loss, or business interruption, arising from your use of the Service."}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"8. Disclaimer of Warranties"}),e.jsx("p",{className:"text-gray-600 mb-6",children:'The Service is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the Service will be uninterrupted, secure, or error-free.'}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"9. Changes to Terms"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We may update these Terms from time to time. We will notify you of significant changes by email or through the Service. Continued use of the Service after changes constitutes acceptance of the new Terms."}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"10. Termination"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We reserve the right to suspend or terminate your account if you violate these Terms. Upon termination, your right to use the Service will immediately cease."}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"11. Contact"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["For questions about these Terms, please contact us at:"," ",e.jsx("a",{href:"mailto:support@trucal.xyz",className:"text-purple-600 hover:underline",children:"support@trucal.xyz"})]})]})]})]})]})}function v_(){const t=we();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-white/20 relative z-10",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Back to Home"]})})}),e.jsx("section",{className:"bg-gradient-to-br from-purple-600 to-pink-600 text-white py-20 relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-3 mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:e.jsx(se,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4",children:"About ScheduleSync"}),e.jsx("p",{className:"text-xl text-purple-100 max-w-2xl mx-auto",children:"We're building the future of schedulingwhere AI handles the back-and-forth so you can focus on what matters."})]})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-16 relative z-10",children:[e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Story"}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8",children:[e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"ScheduleSync was born from a simple frustration: scheduling meetings shouldn't require 10 emails back and forth. We believed there had to be a better way."}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:"Traditional scheduling tools made you share a link, wait for the other person to pick a time, and hope their calendar didn't change. It was better than email, but still clunky."}),e.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["We asked: ",e.jsx("strong",{children:"What if you could just tell an AI what you need, and it would handle the rest?"}),"That's why we built ScheduleSync with AI at its corenot as an afterthought, but as the foundation."]})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What Makes Us Different"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center mb-4",children:e.jsx(pt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"AI-First Design"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"While others bolt on AI features, we built our entire platform around intelligent scheduling. Just tell it what you need in plain English."})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Me,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Speed & Simplicity"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"No complex setup. Connect your calendar, and you're ready to go. Create a booking in seconds, not minutes."})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mb-4",children:e.jsx(At,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Privacy First"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"We only read your busy/free times, never the content of your events. Your calendar data stays yours."})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Le,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Built for Teams"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Round-robin assignments, collective availability, team booking pageswe've got you covered whether you're solo or a growing team."})]})]})]}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Values"}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-8",children:e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(q2,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"User-Centric Design"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Every feature we build starts with one question: does this make scheduling easier?"})]})]}),e.jsxs("li",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(At,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Transparency"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Simple pricing. Clear communication. No hidden fees or dark patterns."})]})]}),e.jsxs("li",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(Me,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Continuous Improvement"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"We ship updates constantly based on your feedback. Your input shapes our roadmap."})]})]})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border-2 border-purple-200 p-8 text-center",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Have questions, feedback, or just want to say hi?"}),e.jsx("a",{href:"mailto:support@trucal.xyz",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold hover:shadow-lg transition-all",children:"Contact Us"})]})]})]}),e.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center text-sm",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ScheduleSync. All rights reserved."]})})})]})}function j_({onClose:t,onBookingCreated:s}){const r=pa(),[n,a]=h.useState([]),[l,i]=h.useState(""),[o,c]=h.useState(30),[d,u]=h.useState(Intl.DateTimeFormat().resolvedOptions().timeZone),[m,p]=h.useState(10),[w,x]=h.useState([]),[v,j]=h.useState(!1),[f,b]=h.useState(!1),[g,y]=h.useState(null),[N,C]=h.useState(""),[S,k]=h.useState(""),T=["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Phoenix","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Asia/Dubai","Australia/Sydney","Pacific/Auckland"],L=()=>{const F=l.trim().toLowerCase();if(!F)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F)){r.error("Please enter a valid email address");return}if(n.includes(F)){r.error("This participant is already added");return}a([...n,F]),i("")},E=F=>{a(n.filter(z=>z!==F))},V=F=>{F.key==="Enter"&&(F.preventDefault(),L())},R=async()=>{var F,z;if(n.length===0){r.error("Please add at least one participant");return}try{j(!0),x([]),y(null);const Q=await _.groupAvailability.find({participants:n,duration:o,timezone:d,maxSlots:m});Q.data.availableSlots&&Q.data.availableSlots.length>0?(x(Q.data.availableSlots),r.success(`Found ${Q.data.availableSlots.length} available time slots`)):r.warning("No mutual availability found for these participants")}catch(Q){console.error("Failed to find availability:",Q),r.error(((z=(F=Q.response)==null?void 0:F.data)==null?void 0:z.error)||"Failed to find group availability")}finally{j(!1)}},M=F=>{y(F)},H=async()=>{var F,z;if(!g){r.error("Please select a time slot");return}if(!N){r.error("Please enter a meeting title");return}try{b(!0);const Q={start_time:g.start,end_time:g.end,title:N,notes:S,attendees:n,timezone:d},ue=await _.bookings.create(Q);r.success("Group meeting scheduled successfully!"),s&&s(ue.data),t&&t()}catch(Q){console.error("Failed to create booking:",Q),r.error(((z=(F=Q.response)==null?void 0:F.data)==null?void 0:z.error)||"Failed to schedule group meeting")}finally{b(!1)}},O=F=>new Date(F).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),D=F=>new Date(F).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),A=(F,z)=>`${D(F)} - ${D(z)}`;return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between shadow-lg z-10 rounded-t-3xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(Le,{className:"h-6 w-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Schedule Group Meeting"})]}),e.jsx("button",{onClick:t,className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-all",children:e.jsx(Pe,{className:"h-6 w-6 text-white"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Participants (",n.length,")"]}),n.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 p-3 bg-purple-50 rounded-xl border border-purple-100",children:n.map(F=>e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1.5 rounded-full text-sm font-medium shadow-md",children:[e.jsx("span",{children:F}),e.jsx("button",{onClick:()=>E(F),className:"hover:bg-white/20 rounded-full p-0.5 transition-all",children:e.jsx(Pe,{className:"h-3.5 w-3.5"})})]},F))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",placeholder:"Enter participant email...",value:l,onChange:F=>i(F.target.value),onKeyPress:V,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all"}),e.jsxs("button",{onClick:L,className:"px-5 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2",children:[e.jsx(vt,{className:"h-4 w-4"}),"Add"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to add participant"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-purple-600"}),"Duration"]}),e.jsxs("select",{value:o,onChange:F=>c(Number(F.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(Dt,{className:"h-4 w-4 text-purple-600"}),"Timezone"]}),e.jsx("select",{value:d,onChange:F=>u(F.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all",children:T.map(F=>e.jsx("option",{value:F,children:F.replace(/_/g," ")},F))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 text-purple-600"}),"Max Slots"]}),e.jsxs("select",{value:m,onChange:F=>p(Number(F.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all",children:[e.jsx("option",{value:5,children:"5 options"}),e.jsx("option",{value:10,children:"10 options"}),e.jsx("option",{value:15,children:"15 options"}),e.jsx("option",{value:20,children:"20 options"})]})]})]}),e.jsx("button",{onClick:R,disabled:v||n.length===0,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:shadow-2xl hover:shadow-purple-200/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg",children:v?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Finding Available Times..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ol,{className:"h-5 w-5"}),"Find Available Times"]})}),w.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),"Available Times (",w.length,")"]}),g&&e.jsxs("div",{className:"mb-4 space-y-3 p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Meeting Title *"}),e.jsx("input",{type:"text",placeholder:"e.g., Team Planning Meeting",value:N,onChange:F=>C(F.target.value),className:"w-full px-4 py-2 border-2 border-purple-200 rounded-lg focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Meeting Notes (optional)"}),e.jsx("textarea",{placeholder:"Add agenda, topics, or any notes...",value:S,onChange:F=>k(F.target.value),className:"w-full px-4 py-2 border-2 border-purple-200 rounded-lg focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all min-h-[80px]"})]}),e.jsx("button",{onClick:H,disabled:f||!N,className:"w-full py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-bold hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Creating Meeting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-5 w-5"}),"Confirm & Schedule Meeting"]})})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:w.map((F,z)=>e.jsx("button",{onClick:()=>M(F),className:`w-full p-4 rounded-xl text-left transition-all ${g===F?"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-2 border-purple-700 shadow-xl":"bg-white border-2 border-gray-200 hover:border-purple-400 hover:shadow-lg"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold text-lg ${g===F?"text-white":"text-gray-900"}`,children:O(F.start)}),e.jsx("p",{className:`text-sm mt-1 ${g===F?"text-purple-100":"text-gray-600"}`,children:A(F.start,F.end)})]}),g===F&&e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"h-5 w-5 text-white"})})]})},z))})]}),!v&&w.length===0&&n.length>0&&e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx(se,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:'Click "Find Available Times" to search for mutual availability'})]})]})]})})}function w_(){const t=we(),s=pa(),[r,n]=h.useState({totalBookings:0,upcomingBookings:0,activeTeams:0,todayBookings:0,weeklyBookings:0,confirmationRate:95}),[a,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState(!0),[p,w]=h.useState(""),[x,v]=h.useState(null),[j,f]=h.useState(!1),[b,g]=h.useState(!1),[y,N]=h.useState({tier:"free",current_bookings:0,limits:{soft:50,grace:60,hard:70},status:{withinLimit:!0},upgrade_recommended:!1}),[C,S]=h.useState(!1),[k,T]=h.useState("upcoming"),[L,E]=h.useState({hasConflicts:!1,count:0,conflicts:[]}),[V,R]=h.useState(!0),[M,H]=h.useState(!1);h.useEffect(()=>{console.log("[Dashboard] Component mounted, starting to load data..."),O()},[]);const O=async()=>{console.log("[Dashboard] loadAllData started, setting loading=true"),m(!0);try{console.log("[Dashboard] Starting Promise.all with 7 API calls..."),await Promise.all([A().catch(B=>console.error("[Dashboard]  Dashboard data failed:",B)),F().catch(B=>console.error("[Dashboard]  Event types failed:",B)),z().catch(B=>console.error("[Dashboard]  Timezone failed:",B)),Q().catch(B=>console.error("[Dashboard]  Profile failed:",B)),ue().catch(B=>console.error("[Dashboard]  Limits failed:",B)),Ce().catch(B=>console.error("[Dashboard]  ChatGPT status failed:",B)),D().catch(B=>console.error("[Dashboard]  Conflicts failed:",B))]),console.log("[Dashboard]  All API calls completed")}catch(B){console.error("[Dashboard]  Fatal error loading dashboard:",B)}finally{console.log("[Dashboard] Setting loading=false, should render content now"),m(!1)}},D=async()=>{try{const B=await _.get("/conflicts/upcoming");E(B.data)}catch(B){console.error("Failed to load conflicts:",B)}},A=async()=>{var B,Y,oe,q,G,K,ye,Xe;console.log("[Dashboard]  Loading dashboard stats...");try{const Se=await _.get("/dashboard/stats");console.log("[Dashboard]  Dashboard stats loaded:",Se.data);const ae=Se.data;n({totalBookings:((B=ae.stats)==null?void 0:B.totalBookings)||0,upcomingBookings:((Y=ae.stats)==null?void 0:Y.upcomingBookings)||0,activeTeams:((oe=ae.stats)==null?void 0:oe.activeTeams)||0,todayBookings:((q=ae.stats)==null?void 0:q.todayBookings)||((G=ae.stats)==null?void 0:G.totalBookings)||0,weeklyBookings:((K=ae.stats)==null?void 0:K.weeklyBookings)||((ye=ae.stats)==null?void 0:ye.totalBookings)||0,confirmationRate:((Xe=ae.stats)==null?void 0:Xe.confirmationRate)||95}),l(ae.recentBookings||[]);const Ue=new Date,it=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Gt=[];for(let ot=0;ot<7;ot++){const nt=new Date(Ue);nt.setDate(Ue.getDate()-Ue.getDay()+ot),Gt.push({day:it[ot],date:nt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),count:0,isToday:nt.toDateString()===Ue.toDateString(),dayOfWeek:ot})}(ae.recentBookings||[]).forEach(ot=>{const nt=new Date(ot.start_time),Is=nt.getDay();Gt[Is]&&nt>=new Date(Ue.setHours(0,0,0,0))&&Gt[Is].count++});const ss=Gt.filter(ot=>ot.dayOfWeek===0||ot.dayOfWeek===6?ot.count>0:!0);d(ss)}catch(Se){console.error("Dashboard load error:",Se),s.error("Failed to load dashboard data")}},F=async()=>{try{const B=await _.eventTypes.getAll(),Y=B.data.eventTypes||B.data||[];o(Y.slice(0,5))}catch(B){console.error("Event types load error:",B),o([])}},z=async()=>{try{const B=await sc.get();let Y="";if(typeof B.data=="string")try{Y=JSON.parse(B.data).timezone||B.data}catch{Y=B.data}else B.data&&typeof B.data=="object"&&(Y=B.data.timezone||"");w(Y)}catch(B){console.error("Timezone load error:",B),w("America/Los_Angeles")}},Q=async()=>{try{const Y=(await Wr.me()).data.user||null;v(Y);const oe=await _.user.usage();v(q=>({...q,usage:{ai_queries_used:oe.data.ai_queries_used,ai_queries_limit:oe.data.ai_queries_limit}}))}catch(B){console.error("Profile load error:",B),s.error("Failed to load profile")}},ue=async()=>{try{const B=await _.user.limits();N(B.data)}catch(B){console.error("Limit status load error:",B)}},Ce=async()=>{try{const B=await Za.getToken();S(!!B.data.jwt_token)}catch{S(!1)}},ge=()=>{if(!(x!=null&&x.username)){s.error("Please set your username in Settings first"),t("/settings");return}const B=`${window.location.origin}/${x.username}`;navigator.clipboard.writeText(B),g(!0),s.success("Booking link copied!"),setTimeout(()=>g(!1),2e3)},X=()=>{const{current_bookings:B,limits:Y,status:oe,tier:q}=y;return q!=="free"||oe.withinLimit?null:oe.overGraceLimit||oe.hardBlocked?e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-4 rounded-xl mb-6 border-2 border-red-400 animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:" Account Limited"}),e.jsx("p",{className:"text-red-100",children:"You've exceeded your booking limit. New bookings are blocked."})]}),e.jsx("button",{onClick:()=>t("/billing"),className:"bg-white text-red-600 px-4 py-2 rounded-lg font-bold hover:bg-red-50",children:"Upgrade Now"})]})}):oe.inGracePeriod?e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-500 text-white p-4 rounded-xl mb-6 border-2 border-orange-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:" Over Booking Limit"}),e.jsxs("p",{className:"text-orange-100",children:["Grace period active. ",Y.grace-B," bookings remaining."]})]}),e.jsx("button",{onClick:()=>t("/billing"),className:"bg-white text-orange-600 px-4 py-2 rounded-lg font-bold",children:"Upgrade to Pro"})]})}):null},P=()=>{if(!L.hasConflicts||!V)return null;const B=L.conflicts[0],Y=new Date(B.booking1.startTime).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-4 rounded-xl mb-6 border-2 border-red-300 shadow-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(Nl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:" Scheduling Conflicts Detected"}),e.jsxs("p",{className:"text-red-100 mb-2",children:["You have ",L.count," double-booked time ",L.count===1?"slot":"slots"," in the next 7 days."]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 mb-3",children:[e.jsxs("p",{className:"text-sm font-semibold mb-1",children:["Next conflict: ",Y]}),e.jsxs("p",{className:"text-xs text-red-100",children:['"',B.booking1.title,'" conflicts with "',B.booking2.title,'"']})]}),e.jsx("button",{onClick:()=>t("/bookings"),className:"bg-white text-red-600 px-4 py-2 rounded-lg font-bold hover:bg-red-50 transition-colors text-sm",children:"View & Resolve Conflicts"})]})]}),e.jsx("button",{onClick:()=>R(!1),className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:e.jsx(Pe,{className:"h-5 w-5"})})]})})};return u?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your dashboard..."})]})}):(y!=null&&y.tier||x!=null&&x.subscription_tier||x!=null&&x.tier,x!=null&&x.usage,console.log("[Dashboard]  Rendering dashboard. Loading:",u,"Stats:",r,"User:",x==null?void 0:x.name),u?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-white/20 shadow-lg relative z-10",children:e.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-xl",children:e.jsx(se,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back",x!=null&&x.name?`, ${x.name}`:"","!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{const B=new CustomEvent("openAIChat");window.dispatchEvent(B)},className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 transition-all font-semibold flex items-center gap-2 hover:-translate-y-0.5",children:[e.jsx(pt,{className:"h-4 w-4"}),"TruCal Assistant"]}),e.jsxs("button",{onClick:()=>t("/availability"),className:"px-5 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:shadow-2xl hover:shadow-green-200/50 transition-all font-semibold flex items-center gap-2 hover:-translate-y-0.5",children:[e.jsx(he,{className:"h-4 w-4"}),"Availability"]})]})]})})}),e.jsx("main",{className:"w-full relative z-10",children:e.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(X,{}),e.jsx(P,{}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:ge,className:"flex items-center gap-4 p-5 bg-white/80 backdrop-blur-sm border-2 border-purple-200 rounded-2xl hover:border-purple-400 hover:shadow-xl hover:shadow-purple-100/50 transition-all text-left hover:-translate-y-1",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-lg",children:b?e.jsx(de,{className:"w-6 h-6 text-white"}):e.jsx(n1,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 text-lg",children:b?"Copied!":"Your Booking Page"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Share with anyone"})]})]}),e.jsxs("button",{onClick:()=>t("/my-links"),className:"flex items-center gap-4 p-5 bg-white/80 backdrop-blur-sm border-2 border-amber-200 rounded-2xl hover:border-amber-400 hover:shadow-xl hover:shadow-amber-100/50 transition-all text-left hover:-translate-y-1",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 text-lg",children:"Quick Link"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Create instant booking link"})]})]}),e.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-4 p-5 bg-white/80 backdrop-blur-sm border-2 border-green-200 rounded-2xl hover:border-green-400 hover:shadow-xl hover:shadow-green-100/50 transition-all text-left hover:-translate-y-1",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Dt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 text-lg",children:"Group Meeting"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Schedule with multiple people"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-blue-200/50 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(se,{className:"h-8 w-8 opacity-80"}),e.jsx("div",{className:"text-3xl font-bold",children:r.todayBookings})]}),e.jsx("div",{className:"text-blue-100 text-sm font-medium",children:"Today's Bookings"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-purple-200/50 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(he,{className:"h-8 w-8 opacity-80"}),e.jsx("div",{className:"text-3xl font-bold",children:r.upcomingBookings})]}),e.jsx("div",{className:"text-purple-100 text-sm font-medium",children:"Upcoming"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-green-200/50 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(rr,{className:"h-8 w-8 opacity-80"}),e.jsx("div",{className:"text-3xl font-bold",children:r.totalBookings})]}),e.jsx("div",{className:"text-green-100 text-sm font-medium",children:"Total Bookings"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-orange-200/50 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Dt,{className:"h-8 w-8 opacity-80"}),e.jsx("div",{className:"text-3xl font-bold",children:r.activeTeams})]}),e.jsx("div",{className:"text-orange-100 text-sm font-medium",children:"Active Teams"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 border border-white/20 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-gray-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Event Types"})]}),e.jsxs("button",{onClick:()=>t("/events/new"),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl text-sm font-semibold hover:shadow-lg hover:shadow-purple-200/50 transition-all hover:-translate-y-0.5",children:[e.jsx(vt,{className:"w-4 h-4"}),"Create Event Type"]})]}),i.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx(se,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No event types yet"}),e.jsx("button",{onClick:()=>t("/events/new"),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-semibold hover:bg-purple-700",children:"Create Your First Event Type"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.slice(0,4).map(B=>e.jsxs("div",{onClick:()=>t(`/events/${B.id}`),className:"group p-5 bg-gradient-to-br from-white to-purple-50/30 border-2 border-gray-200 rounded-2xl hover:border-purple-400 hover:shadow-xl hover:shadow-purple-100/50 transition-all cursor-pointer hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 group-hover:text-purple-600 transition-colors",children:B.title}),B.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:B.description})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsxs("span",{children:[B.duration," min"]})]}),B.location_type&&e.jsxs("div",{className:"flex items-center gap-1",children:[B.location_type==="video"?e.jsx(Vt,{className:"w-4 h-4"}):e.jsx(Dt,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize",children:B.location_type})]})]})]},B.id))}),i.length>4&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("button",{onClick:()=>t("/event-types"),className:"text-purple-600 hover:text-purple-700 font-semibold text-sm flex items-center gap-1 mx-auto",children:["View all ",i.length," event types",e.jsx(Lr,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 border border-white/20 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Your Bookings"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T("upcoming"),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${k==="upcoming"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Upcoming"}),e.jsx("button",{onClick:()=>T("past"),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${k==="past"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Past"})]})]}),(()=>{if(!Array.isArray(a)||a.length===0)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No bookings yet"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Share your booking page to get started!"})]});const B=a.filter(Y=>{if(!Y||!Y.start_time)return!1;try{const oe=new Date(Y.start_time)<new Date;return k==="past"?oe:!oe}catch{return!1}});return B.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:k==="upcoming"?"No upcoming bookings":"No past bookings"})]}):e.jsx("div",{className:"space-y-3",children:B.slice(0,5).map(Y=>!Y||!Y.id?null:e.jsxs("div",{className:"flex items-center justify-between p-5 rounded-2xl border-2 border-gray-200 hover:border-purple-400 hover:shadow-xl hover:shadow-purple-100/50 transition-all cursor-pointer hover:-translate-y-1 bg-gradient-to-br from-white to-purple-50/20",onClick:()=>t(`/bookings/${Y.id}`),children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${Y.status==="confirmed"?"bg-green-100":Y.status==="cancelled"?"bg-red-100":"bg-gray-100"}`,children:Y.status==="confirmed"?e.jsx(rr,{className:"w-6 h-6 text-green-600"}):Y.status==="cancelled"?e.jsx($t,{className:"w-6 h-6 text-red-600"}):e.jsx(He,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:Y.title||"Meeting"}),e.jsx("p",{className:"text-sm text-gray-600",children:Y.attendee_name||Y.attendee_email||"Unknown"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:Y.start_time?new Date(Y.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:Y.start_time?new Date(Y.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):""})]})]},Y.id))})})(),a.length>5&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("button",{onClick:()=>t("/bookings"),className:"text-purple-600 hover:text-purple-700 font-semibold text-sm flex items-center gap-1 mx-auto",children:["View all bookings",e.jsx(Lr,{className:"w-4 h-4"})]})})]})]})})}),M&&e.jsx(j_,{onClose:()=>H(!1),onBookingCreated:B=>{H(!1),s.success("Group meeting scheduled successfully!"),O()}})]}))}function N_({booking:t,onClose:s,onCancel:r,onCopyManageLink:n}){const[a,l]=h.useState(null),[i,o]=h.useState([]),[c,d]=h.useState(null),[u,m]=h.useState(!0),[p,w]=h.useState(null),x=pa();h.useEffect(()=>{t&&v()},[t]);const v=async()=>{var C,S,k;m(!0);try{const[T,L,E]=await Promise.allSettled([_.meetingContext.get(t.id).catch(()=>null),_.actionItems.getForBooking(t.id).catch(()=>null),t.attendee_email?_.attendees.getByEmail(t.attendee_email).catch(()=>null):Promise.resolve(null)]);T.status==="fulfilled"&&((C=T.value)!=null&&C.data)&&l(T.value.data),L.status==="fulfilled"&&((S=L.value)!=null&&S.data)&&o(L.value.data),E.status==="fulfilled"&&((k=E.value)!=null&&k.data)&&d(E.value.data)}catch(T){console.error("Failed to load booking details:",T)}finally{m(!1)}},j=async(C,S)=>{try{S?await _.actionItems.uncomplete(C):await _.actionItems.complete(C),o(k=>k.map(T=>T.id===C?{...T,completed:!S,completed_at:S?null:new Date().toISOString()}:T)),x.success(S?"Marked as incomplete":"Marked as complete")}catch(k){console.error("Failed to toggle action item:",k),x.error("Failed to update action item")}},f=C=>new Date(C).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=C=>new Date(C).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),g=C=>new Date(C.end_time)<new Date,y=async()=>{if(t){w(t.id);try{await r(t)}finally{w(null)}}},N=C=>{if(!C)return null;const S=C.split(`
`);return e.jsx("div",{className:"space-y-2",children:S.map((k,T)=>{const L=/\*\*(.*?)\*\*/g,E=[];let V=0,R;for(;(R=L.exec(k))!==null;)R.index>V&&E.push(k.substring(V,R.index)),E.push(e.jsx("strong",{children:R[1]},R.index)),V=R.index+R[0].length;return V<k.length&&E.push(k.substring(V)),e.jsx("p",{className:"text-sm text-gray-700",children:E.length>0?E:k},T)})})};return t?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between shadow-lg z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Booking Details"}),e.jsx("button",{onClick:s,className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-all hover:scale-110",children:e.jsx(Pe,{className:"h-6 w-6 text-white"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 p-6 rounded-xl",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.title||"Meeting"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:f(t.start_time)})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(he,{className:"h-5 w-5 text-purple-600"}),e.jsxs("span",{className:"font-medium",children:[b(t.start_time)," - ",b(t.end_time)]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(Rt,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:t.attendee_name}),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",t.attendee_email,")"]})]})]})]})]}),c&&c.profile&&c.profile.meeting_count>1&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(d1,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Relationship History"}),e.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:["You've met with ",t.attendee_name," ",e.jsxs("strong",{children:[c.profile.meeting_count," times"]}),".",c.profile.last_meeting_date&&e.jsxs(e.Fragment,{children:[" Last meeting: ",f(c.profile.last_meeting_date)]})]})]})]})}),(a==null?void 0:a.generated_agenda)&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 p-5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(hs,{className:"h-5 w-5 text-green-600"}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Meeting Agenda"}),e.jsx(ce,{className:"h-4 w-4 text-green-500 ml-auto"})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:N(a.generated_agenda)})]}),i.length>0&&e.jsxs("div",{className:"bg-white border-2 border-gray-200 p-5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(B2,{className:"h-5 w-5 text-purple-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Action Items"}),e.jsxs("span",{className:"ml-auto text-xs text-gray-500",children:[i.filter(C=>C.completed).length," / ",i.length," completed"]})]}),e.jsx("div",{className:"space-y-2",children:i.map(C=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.completed,onChange:()=>j(C.id,C.completed),className:"mt-1 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm ${C.completed?"line-through text-gray-400":"text-gray-900"}`,children:C.description}),(C.due_date||C.assigned_to)&&e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[C.due_date&&e.jsxs("span",{children:["Due: ",new Date(C.due_date).toLocaleDateString()]}),C.assigned_to&&e.jsxs("span",{children:[" ",C.assigned_to]})]})]})]},C.id))})]}),t.meeting_summary&&e.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 p-5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(hs,{className:"h-5 w-5 text-purple-600"}),e.jsx("h4",{className:"font-semibold text-purple-900",children:"Meeting Summary"}),e.jsx(ce,{className:"h-4 w-4 text-purple-500 ml-auto"})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:N(t.meeting_summary)})]}),t.meet_link&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-xl border border-green-100",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-md flex-shrink-0",children:e.jsx(Vt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Video Conference"}),e.jsxs("a",{href:t.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-green-700 hover:text-green-900 underline text-sm break-all inline-flex items-center gap-2",children:[t.meet_link,e.jsx(St,{className:"h-3 w-3 flex-shrink-0"})]})]})]})}),t.notes&&e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-purple-50/30 p-5 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Notes"}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:t.notes})]}),e.jsxs("div",{className:"pt-4 space-y-3 border-t border-gray-200",children:[t.manage_token&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>n(t),className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-blue-200/50 transition-all flex items-center justify-center gap-2 hover:-translate-y-0.5",children:[e.jsx(zt,{className:"h-4 w-4"}),"Copy Manage Link"]}),e.jsx("button",{onClick:()=>{const C=`${window.location.origin}/manage/${t.manage_token}`;window.open(C,"_blank")},className:"px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-200/50 transition-all flex items-center gap-2 hover:-translate-y-0.5",children:e.jsx(St,{className:"h-4 w-4"})})]}),t.status==="confirmed"&&!g(t)&&e.jsx("button",{onClick:y,disabled:p===t.id,className:"w-full px-4 py-3 bg-red-500 text-white rounded-xl font-semibold hover:bg-red-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p===t.id?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fm,{className:"h-4 w-4"}),"Cancel Booking"]})})]})]})]})}):null}function k_(){we();const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState("all"),[u,m]=h.useState(""),[p,w]=h.useState(""),[x,v]=h.useState(null),[j,f]=h.useState(null),[b,g]=h.useState(null),[y,N]=h.useState(null);h.useEffect(()=>{C()},[]);const C=async()=>{try{const E=await Rr.list();s(E.data.bookings||[])}catch(E){console.error("Error loading bookings:",E)}finally{l(!1)}};h.useEffect(()=>{let E=[...t];if(i){const V=i.toLowerCase();E=E.filter(R=>{var M,H;return((M=R.attendee_name)==null?void 0:M.toLowerCase().includes(V))||((H=R.attendee_email)==null?void 0:H.toLowerCase().includes(V))})}if(c!=="all"&&(E=E.filter(V=>V.status===c)),u){const V=new Date(u);V.setHours(0,0,0,0),E=E.filter(R=>new Date(R.start_time)>=V)}if(p){const V=new Date(p);V.setHours(23,59,59,999),E=E.filter(R=>new Date(R.start_time)<=V)}n(E)},[t,i,c,u,p]);const S=E=>{const V={confirmed:{bg:"bg-green-100",text:"text-green-800",Icon:xe},cancelled:{bg:"bg-red-100",text:"text-red-800",Icon:$t},pending:{bg:"bg-yellow-100",text:"text-yellow-800",Icon:He}},R=V[E]||V.pending,{Icon:M}=R;return e.jsxs("span",{className:`${R.bg} ${R.text} px-3 py-1 rounded-full text-xs font-semibold inline-flex items-center gap-1 whitespace-nowrap`,children:[e.jsx(M,{className:"h-3 w-3"}),(E==null?void 0:E.charAt(0).toUpperCase())+(E==null?void 0:E.slice(1))]})},k=async E=>{if(confirm(`Cancel booking with ${E.attendee_name}?`)){g(E.id);try{await Rr.cancelByToken(E.manage_token,"Cancelled by organizer"),await C(),console.log(" Booking cancelled and list refreshed"),f(null)}catch(V){console.error("Error cancelling booking:",V),alert("Failed to cancel booking")}finally{g(null)}}},T=E=>{const V=`${window.location.origin}/manage/${E.manage_token}`;navigator.clipboard.writeText(V),N(E.id),setTimeout(()=>N(null),2e3)},L=E=>new Date(E.start_time)<new Date;return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsx(ne,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Bookings"}),e.jsx("p",{className:"text-gray-600",children:"Manage all your scheduled appointments"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl p-6 mb-6 border-2 border-white/20",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ol,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:i,onChange:E=>o(E.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none hover:border-gray-300 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(W2,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),e.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none text-sm sm:text-base appearance-none hover:border-gray-300 transition-all",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:u,onChange:E=>m(E.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none text-sm sm:text-base hover:border-gray-300 transition-all",placeholder:"From date"}),!u&&e.jsx("span",{className:"absolute left-12 top-1/2 -translate-y-1/2 text-gray-400 text-sm pointer-events-none",children:"From date"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:p,onChange:E=>w(E.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none text-sm sm:text-base hover:border-gray-300 transition-all",placeholder:"To date"}),!p&&e.jsx("span",{className:"absolute left-12 top-1/2 -translate-y-1/2 text-gray-400 text-sm pointer-events-none",children:"To date"})]})]}),(i||c!=="all"||u||p)&&e.jsxs("button",{onClick:()=>{o(""),d("all"),m(""),w("")},className:"mt-4 text-sm text-purple-600 hover:text-purple-700 font-semibold flex items-center gap-1 hover:underline transition-all",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Clear all filters"]})]}),r.length===0?e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl p-12 text-center border-2 border-white/20",children:[e.jsx(se,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:i||c!=="all"||u||p?"No bookings match your filters":"No bookings yet"})]}):e.jsx("div",{className:"space-y-4",children:r.map(E=>e.jsx("div",{className:`bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl hover:shadow-2xl hover:shadow-purple-200/30 transition-all border-2 border-white/20 overflow-hidden hover:-translate-y-1 ${L(E)?"opacity-75":""}`,children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-purple-50/10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(Rt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:E.attendee_name||"No name"}),e.jsx("p",{className:"text-sm text-gray-600",children:E.attendee_email})]})]}),e.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto",children:[S(E.status),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>f(j===E.id?null:E.id),className:"p-2 hover:bg-purple-100 rounded-xl transition-all shadow-sm hover:shadow-md",children:e.jsx(yb,{className:"h-5 w-5 text-gray-600"})}),j===E.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(null)}),e.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white/95 backdrop-blur-xl rounded-xl shadow-2xl border border-purple-200 py-2 z-20",children:[e.jsxs("button",{onClick:()=>{v(E),f(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(Fl,{className:"h-4 w-4"}),"View Details"]}),E.manage_token&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{T(E),f(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4"}),y===E.id?"Copied!":"Copy Manage Link"]}),e.jsxs("a",{href:`/manage/${E.manage_token}`,target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",onClick:()=>f(null),children:[e.jsx(St,{className:"h-4 w-4"}),"Open Manage Page"]})]}),E.status==="confirmed"&&!L(E)&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2"}),e.jsxs("button",{onClick:()=>k(E),disabled:b===E.id,className:"w-full px-4 py-2 text-left text-sm hover:bg-red-50 text-red-600 flex items-center gap-2",children:[b===E.id?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):e.jsx(Fm,{className:"h-4 w-4"}),"Cancel Booking"]})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:new Date(E.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:new Date(E.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),E.meet_link&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("a",{href:E.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700",children:"Join Meeting"})]})]}),E.notes&&e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-gray-50 to-purple-50/30 rounded-xl border border-gray-200 shadow-sm",children:e.jsx("p",{className:"text-sm text-gray-700 italic line-clamp-2",children:E.notes})}),L(E)&&E.status==="confirmed"&&e.jsxs("div",{className:"mt-4 text-xs text-gray-400 flex items-center gap-1",children:[e.jsx(he,{className:"h-3 w-3"}),"This booking has passed"]})]})},E.id))})]}),e.jsx(N_,{booking:x,onClose:()=>v(null),onCancel:k,onCopyManageLink:T})]})}function S_(){const[t,s]=h.useState(!0),[r,n]=h.useState(null),[a,l]=h.useState("30");h.useEffect(()=>{i()},[a]);const i=async()=>{s(!0);try{const o=await _.get(`/analytics?days=${a}`);n(o.data)}catch(o){console.error("Failed to fetch analytics:",o)}finally{s(!1)}};return t?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"w-8 h-8 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"p-6 space-y-6 animate-fade-in relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Track your booking trends and performance"})]}),e.jsxs("select",{value:a,onChange:o=>l(o.target.value),className:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"7",children:"Last 7 days"}),e.jsx("option",{value:"30",children:"Last 30 days"}),e.jsx("option",{value:"90",children:"Last 90 days"}),e.jsx("option",{value:"365",children:"Last year"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ji,{title:"Total Bookings",value:(r==null?void 0:r.totalBookings)||0,change:(r==null?void 0:r.bookingsChange)||0,icon:se,color:"purple"}),e.jsx(ji,{title:"Completed",value:(r==null?void 0:r.completedBookings)||0,change:(r==null?void 0:r.completedChange)||0,icon:nr,color:"green"}),e.jsx(ji,{title:"Cancelled",value:(r==null?void 0:r.cancelledBookings)||0,change:(r==null?void 0:r.cancelledChange)||0,icon:he,color:"red",invertChange:!0}),e.jsx(ji,{title:"Unique Guests",value:(r==null?void 0:r.uniqueGuests)||0,change:(r==null?void 0:r.guestsChange)||0,icon:Le,color:"blue"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(kl,{className:"w-5 h-5 text-purple-600"}),"Bookings Over Time"]}),e.jsx("div",{className:"h-64",children:e.jsx(C_,{data:(r==null?void 0:r.bookingsByDay)||[]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-blue-200/30 transition-all",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-blue-600"}),"Popular Booking Times"]}),e.jsx("div",{className:"h-64",children:e.jsx(__,{data:(r==null?void 0:r.bookingsByHour)||[]})})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Top Event Types"}),e.jsxs("div",{className:"space-y-3",children:[((r==null?void 0:r.topEventTypes)||[]).map((o,c)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold ${["bg-purple-500","bg-blue-500","bg-green-500","bg-orange-500","bg-pink-500"][c%5]}`,children:c+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.count," bookings"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[o.percentage,"%"]})})]},c)),(!(r!=null&&r.topEventTypes)||r.topEventTypes.length===0)&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No data yet"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Bookings by Day"}),e.jsx("div",{className:"space-y-3",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((o,c)=>{var w;const d=c===6?0:c+1,u=((w=r==null?void 0:r.bookingsByDayOfWeek)==null?void 0:w[d])||0,m=Math.max(...(r==null?void 0:r.bookingsByDayOfWeek)||[1]),p=m>0?u/m*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-10 text-sm text-gray-600 dark:text-gray-400",children:o}),e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-700 rounded-full h-6 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-500 flex items-center justify-end pr-2",style:{width:`${Math.max(p,10)}%`},children:e.jsx("span",{className:"text-xs text-white font-medium",children:u})})})]},o)})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Bookings"}),e.jsxs("div",{className:"space-y-3",children:[((r==null?void 0:r.recentBookings)||[]).slice(0,5).map((o,c)=>{var d;return e.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:((d=o.attendee_name)==null?void 0:d.charAt(0))||"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium truncate",children:o.attendee_name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(o.created_at).toLocaleDateString()})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.status==="confirmed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:o.status})]},c)}),(!(r!=null&&r.recentBookings)||r.recentBookings.length===0)&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No bookings yet"})]})]})]})]})]})}function ji({title:t,value:s,change:r,icon:n,color:a,invertChange:l=!1}){const i=l?r<0:r>0,o={purple:"bg-gradient-to-br from-purple-500 to-pink-500 text-white",green:"bg-gradient-to-br from-green-500 to-emerald-500 text-white",red:"bg-gradient-to-br from-red-500 to-pink-500 text-white",blue:"bg-gradient-to-br from-blue-500 to-indigo-500 text-white"};return e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 hover:-translate-y-1 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${o[a]} flex items-center justify-center`,children:e.jsx(n,{className:"w-6 h-6"})}),r!==0&&e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${i?"text-green-600":"text-red-600"}`,children:[i?e.jsx(I2,{className:"w-4 h-4"}):e.jsx(R2,{className:"w-4 h-4"}),Math.abs(r),"%"]})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:t})]})}function C_({data:t}){if(!t||t.length===0)return e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No data available"});const s=Math.max(...t.map(r=>r.count),1);return e.jsx("div",{className:"h-full flex items-end justify-between gap-1 pt-4 pb-8",children:t.slice(-14).map((r,n)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 relative group",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-purple-500 to-pink-500 rounded-t transition-all duration-500 min-h-[4px] hover:opacity-80",style:{height:`${Math.max(r.count/s*100,5)}%`}}),e.jsx("span",{className:"absolute -bottom-6 text-xs text-gray-400 whitespace-nowrap",children:new Date(r.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:[r.count," bookings"]})]},n))})}function __({data:t}){const s=Array.from({length:24},(n,a)=>a),r=Math.max(...t,1);return e.jsx("div",{className:"h-full grid grid-cols-6 gap-2 content-center",children:s.map(n=>{const a=t[n]||0,l=a/r;return e.jsxs("div",{className:"relative rounded-lg flex items-center justify-center text-xs font-medium transition-colors aspect-square",style:{backgroundColor:l>0?`rgba(139, 92, 246, ${.2+l*.8})`:"rgba(0,0,0,0.05)",color:l>.5?"white":"#6b7280"},title:`${n}:00 - ${a} bookings`,children:[n,":00"]},n)})})}const T_={google_meet:Vt,zoom:Vt,phone:$l,in_person:Il,custom:Dt};function E_(){const t=we(),{showUpgradeModal:s,isAtLimit:r,usage:n}=ds(),[a,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(null),[u,m]=h.useState(null);h.useEffect(()=>{p()},[]);const p=async()=>{o(!0);try{const[g,y]=await Promise.all([Wr.me(),qs.getAll()]);d(g.data.user||g.data);const N=y.data.eventTypes||y.data.event_types||y.data||[];l(Array.isArray(N)?N:[])}catch(g){console.error("Failed to load data:",g)}finally{o(!1)}},w=()=>{if(r("event_types")){s("event_types");return}t("/events/new")},x=(g,y)=>{var S;g.stopPropagation();const N=(c==null?void 0:c.username)||((S=c==null?void 0:c.email)==null?void 0:S.split("@")[0])||"user",C=`${window.location.origin}/book/${N}/${y.slug}`;navigator.clipboard.writeText(C),m(y.id),setTimeout(()=>m(null),2e3)},v=g=>{const y={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",red:"bg-red-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",gray:"bg-gray-500"};return y[g]||y.blue},j=async(g,y)=>{g.stopPropagation();try{await qs.toggle(y.id,!y.is_active),l(N=>N.map(C=>C.id===y.id?{...C,is_active:!C.is_active}:C))}catch(N){console.error("Failed to toggle",N),alert("Failed to update status")}},f=async(g,y)=>{if(g.stopPropagation(),!!window.confirm(`Delete event type "${y.title}"? This cannot be undone.`))try{await qs.delete(y.id),l(C=>C.filter(S=>S.id!==y.id))}catch(C){console.error("Failed to delete event type:",C),alert("Failed to delete event type. Please try again.")}},b=g=>T_[g]||bn;return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ne,{className:"animate-spin text-blue-600 h-8 w-8"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(se,{className:"h-8 w-8 text-blue-600"}),"Event Types"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Create templates to share your availability with different durations and settings."}),n.event_types_limit&&n.event_types_limit<1e3&&e.jsxs("p",{className:`text-sm mt-1 ${r("event_types")?"text-red-600 font-medium":"text-gray-500"}`,children:[n.event_types_used||a.length,"/",n.event_types_limit," event types used",r("event_types")&&e.jsx("button",{onClick:()=>s("event_types"),className:"ml-2 text-purple-600 hover:text-purple-700 underline",children:"Upgrade for unlimited"})]})]}),e.jsxs("button",{onClick:w,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold shadow-lg transition-all ${r("event_types")?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5"}`,children:[e.jsx(vt,{className:"h-5 w-5"})," New Event Type",r("event_types")&&e.jsx("span",{className:"ml-1 text-xs bg-white/20 px-2 py-0.5 rounded",children:"Limit"})]})]}),r("event_types")&&e.jsx("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(ce,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Type Limit Reached"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upgrade to Pro for unlimited event types"})]})]}),e.jsx("button",{onClick:()=>s("event_types"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Upgrade to Pro - $15/mo"})]})}),a.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-5 border border-blue-200 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Event Types"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:a.length})]}),e.jsx(ce,{className:"h-8 w-8 text-blue-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-5 border border-green-200 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:a.filter(g=>g.is_active).length})]}),e.jsx(nr,{className:"h-8 w-8 text-green-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-5 border border-purple-200 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Avg Duration"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[Math.round(a.reduce((g,y)=>g+y.duration,0)/a.length)," min"]})]}),e.jsx(he,{className:"h-8 w-8 text-purple-600 opacity-50"})]})})]}),a.length===0?e.jsxs("div",{className:"text-center py-16 bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-dashed border-gray-300 shadow-xl",children:[e.jsx(se,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Event Types Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first event type to start accepting bookings."}),e.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-200/50 transition-all",children:[e.jsx(vt,{className:"h-5 w-5"})," Create Event Type"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>{const y=b(g.location_type),N=v(g.color);return e.jsxs("div",{onClick:()=>t(`/events/${g.id}`,{state:{event:g}}),className:`group bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border-2 border-gray-200 overflow-hidden hover:shadow-2xl hover:shadow-purple-200/30 hover:border-purple-400 transition-all cursor-pointer hover:-translate-y-1 ${g.is_active?"":"opacity-60"}`,children:[e.jsx("div",{className:`h-2 w-full ${N}`}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:g.title}),g.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:g.description})]})}),e.jsxs("div",{className:"space-y-2.5 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[g.duration," minutes"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{children:g.location||"Google Meet"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(St,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-mono text-xs",children:["/",g.slug]})]})]}),(g.buffer_before>0||g.buffer_after>0||g.max_bookings_per_day||g.require_approval)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[g.buffer_before>0&&e.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded",children:[g.buffer_before,"m buffer"]}),g.max_bookings_per_day&&e.jsxs("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded",children:["Max ",g.max_bookings_per_day,"/day"]}),g.require_approval&&e.jsx("span",{className:"px-2 py-1 bg-yellow-50 text-yellow-700 text-xs font-medium rounded",children:"Approval required"})]})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:C=>{C.stopPropagation(),t(`/events/${g.id}/edit`,{state:{event:g}})},className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(zm,{className:"h-3.5 w-3.5"}),"Edit"]}),e.jsx("button",{onClick:C=>x(C,g),className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",title:"Copy Booking Link",children:u===g.id?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-3.5 w-3.5 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-3.5 w-3.5"}),"Copy"]})}),e.jsxs("button",{onClick:C=>f(C,g),className:"flex items-center gap-1.5 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[e.jsx(yt,{className:"h-3.5 w-3.5"}),"Delete"]})]}),e.jsx("button",{onClick:C=>j(C,g),className:`text-xs font-semibold px-3 py-1.5 rounded-lg transition-all ${g.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:g.is_active?"Active":"Inactive"})]})]})]},g.id)})})]})]})}function P_({questions:t=[],onChange:s}){const r=()=>{s([...t,{id:`q_${Date.now()}`,label:"",type:"text",required:!1,placeholder:""}])},n=(l,i,o)=>{const c=[...t];c[l]={...c[l],[i]:o},s(c)},a=l=>{s(t.filter((i,o)=>o!==l))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Custom Questions"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add questions guests must answer when booking"})]}),e.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4"}),"Add Question"]})]}),t.length===0?e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 text-center py-4",children:"No custom questions yet"}):e.jsx("div",{className:"space-y-3",children:t.map((l,i)=>{var o;return e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx(H2,{className:"w-5 h-5 text-gray-400 mt-2 cursor-move flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:l.label,onChange:c=>n(i,"label",c.target.value),placeholder:"Question label",className:"px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsxs("select",{value:l.type,onChange:c=>n(i,"type",c.target.value),className:"px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"text",children:"Short Text"}),e.jsx("option",{value:"textarea",children:"Long Text"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"phone",children:"Phone"}),e.jsx("option",{value:"select",children:"Dropdown"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsx("input",{type:"text",value:l.placeholder||"",onChange:c=>n(i,"placeholder",c.target.value),placeholder:"Placeholder text (optional)",className:"flex-1 w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-purple-500"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:l.required,onChange:c=>n(i,"required",c.target.checked),className:"w-4 h-4 text-purple-600 rounded border-gray-300 dark:border-gray-600 focus:ring-purple-500"}),"Required"]})]}),l.type==="select"&&e.jsx("input",{type:"text",value:((o=l.options)==null?void 0:o.join(", "))||"",onChange:c=>n(i,"options",c.target.value.split(",").map(d=>d.trim()).filter(Boolean)),placeholder:"Options (comma separated): Option 1, Option 2, Option 3",className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-purple-500"})]}),e.jsx("button",{type:"button",onClick:()=>a(i),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors flex-shrink-0",children:e.jsx(yt,{className:"w-4 h-4"})})]},l.id)})})]})}const A_=[{name:"blue",bg:"bg-blue-500"},{name:"purple",bg:"bg-purple-500"},{name:"green",bg:"bg-green-500"},{name:"red",bg:"bg-red-500"},{name:"orange",bg:"bg-orange-500"},{name:"pink",bg:"bg-pink-500"},{name:"indigo",bg:"bg-indigo-500"},{name:"yellow",bg:"bg-yellow-500"}],I0=[{value:"google_meet",label:"Google Meet",icon:Vt,auto:!0},{value:"zoom",label:"Zoom",icon:Vt,auto:!1},{value:"phone",label:"Phone Call",icon:$l,auto:!1},{value:"in_person",label:"In Person",icon:Il,auto:!1},{value:"custom",label:"Custom Link",icon:Dt,auto:!1}],M_=[{name:"15-min Quick Chat",duration:15,slug:"quick-chat",description:"Brief introductory conversation"},{name:"30-min Meeting",duration:30,slug:"meeting",description:"Standard meeting for discussions"},{name:"60-min Consultation",duration:60,slug:"consultation",description:"In-depth consultation session"},{name:"45-min Discovery Call",duration:45,slug:"discovery",description:"Learn about needs and goals"}];function F0(){const t=we(),s=cs(),{id:r}=Ls(),{showUpgradeModal:n}=ds(),a=!!r,[l,i]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[m,p]=h.useState({title:"",slug:"",description:"",duration:30,location:"",location_type:"google_meet",color:"blue",is_active:!0,buffer_before:0,buffer_after:0,max_bookings_per_day:null,require_approval:!1,price:0,currency:"USD",custom_questions:[],pre_meeting_instructions:"",confirmation_message:"",min_notice_hours:1,max_days_ahead:60});h.useEffect(()=>{var y;a&&((y=s.state)!=null&&y.event?w(s.state.event):x())},[r]);const w=y=>{p({title:y.title||y.name||"",slug:y.slug||"",description:y.description||"",duration:y.duration||30,location:y.location||"",location_type:y.location_type||"google_meet",color:y.color||"blue",is_active:y.is_active!==!1,buffer_before:y.buffer_before||0,buffer_after:y.buffer_after||0,max_bookings_per_day:y.max_bookings_per_day||null,require_approval:y.require_approval||!1,price:y.price||0,currency:y.currency||"USD",custom_questions:y.custom_questions||[],pre_meeting_instructions:y.pre_meeting_instructions||"",confirmation_message:y.confirmation_message||"",min_notice_hours:y.min_notice_hours??1,max_days_ahead:y.max_days_ahead??60}),(y.buffer_before||y.buffer_after||y.max_bookings_per_day||y.require_approval||y.min_notice_hours>1||y.max_days_ahead!==60)&&u(!0)},x=async()=>{i(!0);try{const y=await qs.getAll(),C=(y.data.eventTypes||y.data.event_types||y.data||[]).find(S=>String(S.id)===String(r));C?w(C):(alert("Event type not found"),t("/events"))}catch(y){console.error("Failed to load event type:",y),t("/events")}finally{i(!1)}},v=y=>y.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/(^-|-$)/g,""),j=y=>{const N=y.target.value;!m.slug||m.slug===v(m.title)?p(C=>({...C,title:N,slug:v(N)})):p(C=>({...C,title:N}))},f=y=>{window.confirm(`Apply template "${y.name}"? This will overwrite some fields.`)&&p(N=>({...N,title:y.name,slug:y.slug,duration:y.duration,description:y.description}))},b=async y=>{var N,C,S,k,T,L,E,V,R;if(y.preventDefault(),!m.title.trim()){alert("Event name is required");return}if(!m.slug.trim()){alert("URL Slug is required");return}c(!0);try{const M={...m,title:m.title.trim(),slug:m.slug.trim(),location:m.location.trim(),buffer_before:parseInt(m.buffer_before)||0,buffer_after:parseInt(m.buffer_after)||0,max_bookings_per_day:m.max_bookings_per_day?parseInt(m.max_bookings_per_day):null,price:parseFloat(m.price)||0,custom_questions:m.custom_questions||[],pre_meeting_instructions:((N=m.pre_meeting_instructions)==null?void 0:N.trim())||"",confirmation_message:((C=m.confirmation_message)==null?void 0:C.trim())||"",min_notice_hours:parseInt(m.min_notice_hours)||1,max_days_ahead:parseInt(m.max_days_ahead)||60};a?await qs.update(r,M):await qs.create(M),t("/events")}catch(M){console.error("Failed to save:",M),((S=M.response)==null?void 0:S.status)===403&&((T=(k=M.response)==null?void 0:k.data)!=null&&T.upgrade)?n("event_types"):alert(((E=(L=M.response)==null?void 0:L.data)==null?void 0:E.message)||((R=(V=M.response)==null?void 0:V.data)==null?void 0:R.error)||"Failed to save event type")}finally{c(!1)}};if(l)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx(ne,{className:"animate-spin text-purple-600 h-8 w-8 relative z-10"})]});const g=I0.find(y=>y.value===m.location_type);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 overflow-x-hidden relative z-10",children:[e.jsxs("div",{className:"mb-8 min-w-0",children:[e.jsxs("button",{onClick:()=>t("/events"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(Qs,{className:"h-4 w-4"})," Back"]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:a?"Edit Event Type":"Create Event Type"}),e.jsx("p",{className:"text-gray-600 mt-2",children:a?"Update the settings for this meeting template.":"Define a new meeting template with custom settings."})]}),!a&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all p-4 sm:p-6 mb-6 overflow-hidden",children:[e.jsxs("h3",{className:"text-sm font-semibold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4 text-purple-600"}),"Quick Start Templates"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:M_.map((y,N)=>e.jsxs("button",{type:"button",onClick:()=>f(y),className:"p-3 bg-white border-2 border-purple-200 rounded-xl hover:border-purple-400 hover:shadow-lg hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all text-left min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm truncate",children:y.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.duration," min"]})]},N))})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-4 sm:p-6 overflow-hidden",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(hs,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:"Event Name *"}),e.jsx("input",{type:"text",value:m.title,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., 30-Minute Strategy Session",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xt,{className:"h-4 w-4 text-gray-400"}),"URL Slug *"]}),e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx("span",{className:"hidden sm:block px-4 py-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-xl text-gray-500 text-sm font-medium whitespace-nowrap",children:"yourname/"}),e.jsx("input",{type:"text",value:m.slug,onChange:y=>p({...m,slug:v(y.target.value)}),className:"flex-1 min-w-0 px-4 py-3 border border-gray-300 rounded-xl sm:rounded-r-xl sm:rounded-l-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"strategy-session",required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"This will be the shareable booking link."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Description"}),e.jsx("textarea",{value:m.description,onChange:y=>p({...m,description:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"What should invitees know about this meeting?"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3",children:[e.jsx(Um,{className:"h-4 w-4 text-gray-400"}),"Event Color"]}),e.jsx("div",{className:"flex flex-wrap gap-3 max-w-full",children:A_.map(y=>e.jsx("button",{type:"button",onClick:()=>p({...m,color:y.name}),className:`w-10 h-10 rounded-full ${y.bg} transition-all flex-shrink-0 ${m.color===y.name?"ring-4 ring-offset-2 ring-gray-300 scale-110":"hover:scale-105 opacity-70 hover:opacity-100"}`,title:y.name},y.name))})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),"Meeting Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(he,{className:"h-4 w-4 text-gray-400"}),"Duration *"]}),e.jsxs("select",{value:m.duration,onChange:y=>p({...m,duration:parseInt(y.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(bn,{className:"h-4 w-4 text-gray-400"}),"Location Type"]}),e.jsx("select",{value:m.location_type,onChange:y=>p({...m,location_type:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:I0.map(y=>e.jsxs("option",{value:y.value,children:[y.label," ",y.auto?"(Auto)":""]},y.value))})]})]}),!(g!=null&&g.auto)&&e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Location Details"}),e.jsx("input",{type:"text",value:m.location,onChange:y=>p({...m,location:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:m.location_type==="phone"?"Phone number or instructions":m.location_type==="zoom"?"Zoom meeting link":m.location_type==="in_person"?"Address or meeting place":"Enter custom location or link"})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Advanced settings"})]}),e.jsx("button",{type:"button",onClick:()=>u(y=>!y),className:"text-sm font-medium text-purple-600 hover:text-purple-700",children:d?"Hide":"Show"})]})]}),d&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),"Advanced Booking Rules"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Buffer Before (minutes)"}),e.jsx("input",{type:"number",min:"0",max:"60",value:m.buffer_before,onChange:y=>p({...m,buffer_before:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500",placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Time before the meeting starts."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Buffer After (minutes)"}),e.jsx("input",{type:"number",min:"0",max:"60",value:m.buffer_after,onChange:y=>p({...m,buffer_after:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500",placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Time after the meeting ends."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Max Bookings Per Day"}),e.jsx("input",{type:"number",min:"1",value:m.max_bookings_per_day||"",onChange:y=>p({...m,max_bookings_per_day:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500",placeholder:"Unlimited"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Leave empty for unlimited bookings."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Booking Approval"}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-xl cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:m.require_approval,onChange:y=>p({...m,require_approval:y.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Require manual approval"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Minimum Notice"}),e.jsxs("select",{value:m.min_notice_hours,onChange:y=>p({...m,min_notice_hours:parseInt(y.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:1,children:"1 hour"}),e.jsx("option",{value:2,children:"2 hours"}),e.jsx("option",{value:4,children:"4 hours"}),e.jsx("option",{value:12,children:"12 hours"}),e.jsx("option",{value:24,children:"24 hours (1 day)"}),e.jsx("option",{value:48,children:"48 hours (2 days)"}),e.jsx("option",{value:72,children:"72 hours (3 days)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"How far in advance guests must book."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Scheduling Window"}),e.jsxs("select",{value:m.max_days_ahead,onChange:y=>p({...m,max_days_ahead:parseInt(y.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:7,children:"1 week"}),e.jsx("option",{value:14,children:"2 weeks"}),e.jsx("option",{value:30,children:"1 month"}),e.jsx("option",{value:60,children:"2 months"}),e.jsx("option",{value:90,children:"3 months"}),e.jsx("option",{value:180,children:"6 months"}),e.jsx("option",{value:365,children:"1 year"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"How far into the future guests can book."})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex gap-3 mt-5",children:[e.jsx(He,{className:"h-5 w-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Advanced Settings Info"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Buffer times prevent back-to-back meetings. Booking limits help manage your availability."})]})]})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-4 sm:p-6",children:e.jsx(P_,{questions:m.custom_questions,onChange:y=>p({...m,custom_questions:y})})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Bm,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),"Guest Communication"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Pre-Meeting Instructions"}),e.jsx("textarea",{value:m.pre_meeting_instructions,onChange:y=>p({...m,pre_meeting_instructions:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"Instructions guests should follow before the meeting (e.g., 'Please prepare a brief summary of your project')"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Shown on the booking page before they confirm."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Confirmation Message"}),e.jsx("textarea",{value:m.confirmation_message,onChange:y=>p({...m,confirmation_message:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"Custom message shown after booking (e.g., 'Looking forward to our call! I'll send the agenda 24 hours before.')"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Displayed on the confirmation page after booking."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/events"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"animate-spin h-5 w-5"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vr,{className:"h-5 w-5"}),a?"Update Event Type":"Create Event Type"]})})]})]})]})]})}const D_={google_meet:Vt,zoom:Vt,phone:$l,in_person:Il,custom:xt},$0={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",red:"bg-red-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",gray:"bg-gray-500"};function L_(){var g,y;const t=we(),s=cs(),{id:r}=Ls(),[n,a]=h.useState(((g=s.state)==null?void 0:g.event)||null),[l,i]=h.useState(null),[o,c]=h.useState(!((y=s.state)!=null&&y.event)),[d,u]=h.useState(!1);h.useEffect(()=>{var N;m(),(N=s.state)!=null&&N.event||p()},[r]);const m=async()=>{try{const N=await Wr.me();i(N.data.user||N.data)}catch(N){console.error("Failed to load user:",N)}},p=async()=>{c(!0);try{const N=await qs.getAll(),S=(N.data.eventTypes||N.data.event_types||N.data||[]).find(k=>String(k.id)===String(r));S?a(S):t("/events")}catch(N){console.error("Failed to load event type:",N),t("/events")}finally{c(!1)}},w=async()=>{var N,C;if(n&&window.confirm(`Delete "${n.title}"? This cannot be undone.`))try{await qs.delete(r),t("/events")}catch(S){console.error("Failed to delete event type:",S),alert("Failed to delete: "+(((C=(N=S.response)==null?void 0:N.data)==null?void 0:C.error)||S.message))}},x=()=>{var S;const N=(l==null?void 0:l.username)||((S=l==null?void 0:l.email)==null?void 0:S.split("@")[0])||"user",C=(n==null?void 0:n.slug)||"";return`${window.location.origin}/book/${N}/${C}`},v=()=>{const N=x();navigator.clipboard.writeText(N),u(!0),setTimeout(()=>u(!1),2e3)},j=async()=>{if(n)try{await qs.update(r,{is_active:!n.is_active}),a({...n,is_active:!n.is_active})}catch(N){console.error("Failed to update status",N),alert("Failed to update status")}},f=n!=null&&n.location_type&&D_[n.location_type]||bn;if(o||!n)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx(ne,{className:"animate-spin text-purple-600 h-8 w-8 relative z-10"})]});const b=$0[n.color]||$0.blue;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 overflow-x-hidden relative z-10",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>t("/events"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(Qs,{className:"h-4 w-4"})," Back to Event Types"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${b} flex-shrink-0`}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:n.title}),n.is_active?e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full flex-shrink-0",children:"Active"}):e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs font-semibold rounded-full flex-shrink-0",children:"Inactive"})]}),e.jsx("p",{className:"text-gray-500 mt-2 text-sm break-all",children:e.jsxs("span",{className:"text-gray-400",children:["/",n.slug]})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:j,className:`px-4 py-2 border rounded-xl font-medium transition-colors text-sm ${n.is_active?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-green-200 text-green-700 hover:bg-green-50"}`,children:n.is_active?"Disable":"Enable"}),e.jsxs("button",{onClick:()=>t(`/events/${r}/edit`,{state:{event:n}}),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors text-sm",children:[e.jsx(zm,{className:"h-4 w-4"})," Edit"]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 rounded-xl hover:bg-red-50 font-medium transition-colors text-sm",children:[e.jsx(yt,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 min-w-0",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-purple-600"}),"Event Overview"]}),n.description?e.jsx("p",{className:"text-gray-600 mb-6 break-words",children:n.description}):e.jsx("p",{className:"text-gray-400 italic mb-6",children:"No description provided."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(he,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[n.duration," min"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-pink-50 rounded-lg",children:e.jsx(f,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:n.location||"Auto-generated"})]})]})]})]}),(n.buffer_before>0||n.buffer_after>0||n.max_bookings_per_day||n.require_approval)&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5 text-purple-600"}),"Booking Rules"]}),e.jsxs("div",{className:"space-y-3",children:[n.buffer_before>0&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Buffer before"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[n.buffer_before," min"]})]}),n.buffer_after>0&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Buffer after"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[n.buffer_after," min"]})]}),n.max_bookings_per_day&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Max bookings per day"}),e.jsx("span",{className:"font-medium text-gray-900",children:n.max_bookings_per_day})]}),n.require_approval&&e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Require approval"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded",children:"Yes"})]})]})]})]}),e.jsxs("div",{className:"space-y-6 min-w-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-2xl border-2 border-purple-200 shadow-lg hover:shadow-2xl hover:shadow-purple-200/50 transition-all p-4 sm:p-6 overflow-hidden",children:[e.jsxs("h2",{className:"text-lg font-semibold text-purple-900 mb-2 flex items-center gap-2",children:[e.jsx(Dt,{className:"h-5 w-5 flex-shrink-0 text-purple-600"})," Share Event"]}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-700 mb-4",children:"Share this link to let people book this specific event type."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:v,className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 bg-white border-2 border-purple-200 rounded-xl hover:border-purple-400 hover:shadow-lg hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all text-purple-800 font-medium shadow-sm text-sm min-w-0",children:[e.jsx("span",{className:"truncate flex-1 text-left",children:d?"Copied!":"Copy Link"}),d?e.jsx(de,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0 ml-2"}):e.jsx(zt,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 ml-2"})]}),e.jsxs("a",{href:x(),target:"_blank",rel:"noreferrer",className:"w-full flex items-center justify-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 font-medium shadow-md transition-all text-sm",children:[e.jsx(St,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 flex-shrink-0"}),e.jsx("span",{children:"Preview Page"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-purple-200 min-w-0",children:e.jsx("div",{className:"bg-white rounded-lg p-2 overflow-hidden",children:e.jsx("p",{className:"text-[10px] sm:text-xs text-purple-600 leading-relaxed",style:{wordBreak:"break-all",overflowWrap:"anywhere",hyphens:"auto"},children:x()})})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 border-2 border-white/20 transition-all p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),"Booking Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Bookings"}),e.jsx("span",{className:"font-bold text-2xl text-gray-900",children:"0"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"This month"}),e.jsx("span",{className:"font-semibold text-gray-700",children:"0"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-4 italic",children:"Coming soon: View detailed booking analytics"})]})]})]})]})]})}const O0=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];function R_(){const[t,s]=h.useState(!0),[r,n]=h.useState(!1),[a,l]=h.useState(!1),[i,o]=h.useState(null),[c,d]=h.useState({name:"",email:"",timezone:"America/New_York"}),[u,m]=h.useState({workingHours:{monday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},tuesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},wednesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},thursday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},friday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},saturday:{enabled:!1,slots:[{start:"09:00",end:"17:00"}]},sunday:{enabled:!1,slots:[{start:"09:00",end:"17:00"}]}},bufferTime:0});h.useEffect(()=>{p()},[]);const p=async()=>{try{const y=(await Wr.me()).data.user;d({name:y.name,email:y.email,timezone:y.timezone||"America/New_York"});const C=(await _.get("/teams")).data.teams.find(S=>S.name.includes("Personal Bookings"));if(C){const k=(await _.get(`/teams/${C.id}/members`)).data.members.find(T=>T.user_id===y.id);if(k){o(k.id);const L=(await _.get(`/team-members/${k.id}/availability`)).data.member;if(L!=null&&L.working_hours){const E={};Object.keys(L.working_hours).forEach(V=>{const R=L.working_hours[V];R!=null&&R.slots?E[V]=R:E[V]={enabled:(R==null?void 0:R.enabled)??!1,slots:[{start:(R==null?void 0:R.start)||"09:00",end:(R==null?void 0:R.end)||"17:00"}]}}),O0.forEach(({key:V})=>{E[V]||(E[V]=u.workingHours[V])}),m({workingHours:E,bufferTime:L.buffer_time||0})}}}}catch(g){console.error("Error loading availability:",g)}finally{s(!1)}},w=async()=>{n(!0);try{await sc.update({timezone:c.timezone}),i&&await _.put(`/team-members/${i}/availability`,{working_hours:u.workingHours,buffer_time:u.bufferTime}),l(!0),setTimeout(()=>l(!1),2e3)}catch(g){console.error("Error saving availability:",g),alert("Failed to save changes")}finally{n(!1)}},x=g=>{m(y=>({...y,workingHours:{...y.workingHours,[g]:{...y.workingHours[g],enabled:!y.workingHours[g].enabled}}}))},v=(g,y,N,C)=>{const S=[...u.workingHours[g].slots];S[y]={...S[y],[N]:C},m(k=>({...k,workingHours:{...k.workingHours,[g]:{...k.workingHours[g],slots:S}}}))},j=g=>{const y=[...u.workingHours[g].slots,{start:"09:00",end:"17:00"}];m(N=>({...N,workingHours:{...N.workingHours,[g]:{...N.workingHours[g],slots:y}}}))},f=(g,y)=>{const N=u.workingHours[g].slots.filter((C,S)=>S!==y);m(C=>({...C,workingHours:{...C.workingHours,[g]:{...C.workingHours[g],slots:N}}}))};if(t)return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600"})})]});return e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Availability"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 max-w-xl",children:"Configure your weekly schedule. You can add multiple time blocks per day (e.g., 9am12pm and 2pm5pm)."})]}),e.jsxs("button",{onClick:w,disabled:r,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2.5 rounded-full hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center gap-2 font-semibold text-sm shadow-lg disabled:opacity-70",children:[r?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):a?e.jsx(de,{className:"h-4 w-4"}):e.jsx(Vr,{className:"h-4 w-4"}),r?"Saving...":a?"Saved":"Save changes"]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 shadow-lg p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wide flex items-center gap-2 mb-1",children:[e.jsx(Dt,{className:"h-4 w-4 text-gray-400"})," Timezone"]}),e.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Your availability is stored in this timezone and automatically converted for guests."})]}),e.jsxs("div",{className:"w-full sm:w-72 relative",children:[e.jsx(Dt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:c.timezone,onChange:g=>d({...c,timezone:g.target.value}),className:"w-full pl-9 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-sm",children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx("option",{value:"Europe/London",children:"London"}),e.jsx("option",{value:"Asia/Singapore",children:"Singapore"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 shadow-lg overflow-hidden hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsxs("div",{className:"p-5 sm:p-6 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Weekly working hours"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set your start and end times for each day."})]}),e.jsxs("button",{onClick:()=>b(),className:"inline-flex items-center gap-1.5 rounded-full border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-50",children:[e.jsx(zt,{className:"h-3 w-3"})," Copy Monday to weekdays"]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:O0.map(g=>{const y=u.workingHours[g.key],N=["saturday","sunday"].includes(g.key);return e.jsxs("div",{className:`flex flex-col md:flex-row items-start gap-4 px-6 py-4 ${N?"bg-gray-50/50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 w-32 flex-shrink-0",children:[e.jsx("input",{type:"checkbox",checked:y.enabled,onChange:()=>x(g.key),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:g.label})]}),e.jsx("div",{className:"flex-1 w-full",children:y.enabled?e.jsxs("div",{className:"space-y-3 w-full",children:[y.slots.map((C,S)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-lg px-2 py-1 shadow-sm",children:[e.jsx("input",{type:"time",value:C.start,onChange:k=>v(g.key,S,"start",k.target.value),className:"border-none outline-none text-sm font-medium text-gray-700 w-24"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"time",value:C.end,onChange:k=>v(g.key,S,"end",k.target.value),className:"border-none outline-none text-sm font-medium text-gray-700 w-24"})]}),e.jsx("button",{type:"button",onClick:()=>f(g.key,S),className:"p-1.5 hover:bg-red-50 text-red-500 rounded-md transition-colors",title:"Remove slot",children:e.jsx(yt,{className:"h-4 w-4"})})]},S)),e.jsxs("button",{type:"button",onClick:()=>j(g.key),className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 mt-1",children:[e.jsx(vt,{className:"h-3 w-3"}),e.jsx("span",{children:"Add time block"})]})]}):e.jsx("span",{className:"text-sm text-gray-400 italic",children:"Unavailable"})})]},g.key)})})]})]})]});function b(){const g=[...u.workingHours.monday.slots],y={...u.workingHours};Object.keys(y).forEach(N=>{["saturday","sunday"].includes(N)||(y[N]={enabled:!0,slots:JSON.parse(JSON.stringify(g))})}),m(N=>({...N,workingHours:y}))}}function I_(){const t=we(),[s,r]=h.useState(1),[n,a]=h.useState(""),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState(""),m=async()=>{var w,x;if(!n.trim()){u("Please enter your Calendly API key");return}i(!0),u("");try{const v=await _.post("/import/calendly",{api_key:n,import_event_types:!0,import_availability:!0,import_bookings_days:90});c(v.data),r(3)}catch(v){console.error("Import error:",v),u(((x=(w=v.response)==null?void 0:w.data)==null?void 0:x.error)||"Failed to import from Calendly. Please check your API key and try again.")}finally{i(!1)}},p=()=>{t("/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl mb-6 shadow-lg",children:e.jsx(vo,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Migrate from Calendly"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Import your event types, availability settings, and booking history in minutes"})]}),e.jsx("div",{className:"flex items-center justify-center mb-12",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s>=1?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=1?"bg-purple-600 text-white":"bg-gray-200"}`,children:"1"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Setup"})]}),e.jsx(qe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=2?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=2?"bg-purple-600 text-white":"bg-gray-200"}`,children:"2"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Import"})]}),e.jsx(qe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=3?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=3?"bg-purple-600 text-white":"bg-gray-200"}`,children:"3"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Review"})]}),e.jsx(qe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=4?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=4?"bg-purple-600 text-white":"bg-gray-200"}`,children:"4"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Complete"})]})]})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border-2 border-white/20 p-8",children:[s===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Get Your Calendly API Key"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Follow these steps to get your Calendly API key. Don't worry, it's safe and read-only!"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Visit Calendly Integrations"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Go to your Calendly account  Integrations  API & Webhooks"}),e.jsxs("a",{href:"https://calendly.com/integrations/api_webhooks",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700 font-medium",children:[e.jsx(St,{className:"h-4 w-4"}),"Open Calendly Settings"]})]})]}),e.jsxs("div",{className:"flex gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Generate Personal Access Token"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Click "Create Token" and copy it. Make sure to select "Read" permissions.'})]})]}),e.jsxs("div",{className:"flex gap-4 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Paste Below & Import"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Paste your token below and we'll import everything automatically."})]})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Security Note:"}),e.jsx("p",{children:"We only use your API key once to import your data. We don't store it. After import, you can revoke the token in Calendly if you wish."})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:()=>r(2),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold flex items-center gap-2",children:["Next: Enter API Key",e.jsx(qe,{className:"h-5 w-5"})]})})]}),s===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Enter Your Calendly API Key"}),e.jsx("p",{className:"text-gray-600",children:"Paste your Calendly Personal Access Token below to begin the import."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Calendly API Key"}),e.jsx("input",{type:"text",value:n,onChange:w=>a(w.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none transition-all font-mono text-sm"})]}),d&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:d})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What we'll import:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-blue-600"}),"Event types (meeting durations, descriptions, settings)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-blue-600"}),"Availability schedule (weekly hours)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-blue-600"}),"Past bookings (last 90 days for analytics)"]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{onClick:()=>r(1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-semibold",children:"Back"}),e.jsx("button",{onClick:m,disabled:l||!n.trim(),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ko,{className:"h-5 w-5"}),"Start Import"]})})]})]}),s===3&&o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(xe,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Import Complete! "}),e.jsx("p",{className:"text-gray-600",children:"We've successfully imported your Calendly data into ScheduleSync."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-6 bg-purple-50 rounded-xl border border-purple-200 text-center",children:[e.jsx(se,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900 mb-1",children:o.event_types||0}),e.jsx("p",{className:"text-sm text-purple-700",children:"Event Types"})]}),e.jsxs("div",{className:"p-6 bg-blue-50 rounded-xl border border-blue-200 text-center",children:[e.jsx(he,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mb-1",children:o.availability_rules||0}),e.jsx("p",{className:"text-sm text-blue-700",children:"Availability Rules"})]}),e.jsxs("div",{className:"p-6 bg-green-50 rounded-xl border border-green-200 text-center",children:[e.jsx(Le,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 mb-1",children:o.bookings||0}),e.jsx("p",{className:"text-sm text-green-700",children:"Past Bookings"})]})]}),o.warnings&&o.warnings.length>0&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Import Notes:"}),e.jsx("ul",{className:"space-y-1 text-sm text-yellow-800",children:o.warnings.map((w,x)=>e.jsxs("li",{children:[" ",w]},x))})]})]})}),e.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-purple-600"}),"What's Next?"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Review your imported event types in the dashboard"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Customize your availability settings if needed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Update your booking links on your website/social media"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(yt,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"font-medium",children:"Optional: Cancel your Calendly subscription and delete your account"})]})]})]}),e.jsx("div",{className:"flex justify-center pt-4",children:e.jsxs("button",{onClick:p,className:"px-10 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-bold text-lg flex items-center gap-2",children:["Go to Dashboard",e.jsx(qe,{className:"h-6 w-6"})]})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help?"," ",e.jsx("a",{href:"mailto:support@schedulesync.com",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Contact Support"})]})})]})]})}const wi=[{id:"reminder",label:"Reminder",emoji:""},{id:"confirmation",label:"Confirmation",emoji:""},{id:"follow_up",label:"Follow-up",emoji:""},{id:"reschedule",label:"Reschedule",emoji:""},{id:"cancellation",label:"Cancellation",emoji:""},{id:"other",label:"Other",emoji:""}],F_=[{key:"guestName",label:"Guest Name"},{key:"guestEmail",label:"Guest Email"},{key:"organizerName",label:"Your Name"},{key:"meetingDate",label:"Meeting Date"},{key:"meetingTime",label:"Meeting Time"},{key:"meetingLink",label:"Meeting Link"},{key:"manageLink",label:"Manage Booking Link"},{key:"bookingLink",label:"Book Again Link"}],$_=[{id:"professional",label:"Professional",emoji:""},{id:"professional but friendly",label:"Professional & Friendly",emoji:""},{id:"casual",label:"Casual",emoji:""},{id:"warm",label:"Warm",emoji:""},{id:"formal",label:"Formal",emoji:""}],Ni=[{id:"default_confirmation",name:"Meeting Confirmed",type:"confirmation",subject:"Your meeting is confirmed - {{meetingDate}}",body:`Hi {{guestName}},

Your meeting has been confirmed!

Date: {{meetingDate}}
Time: {{meetingTime}}
Meeting Link: {{meetingLink}}

To reschedule or cancel: {{manageLink}}

See you soon!
{{organizerName}}`,is_default:!0},{id:"default_reminder",name:"Meeting Reminder",type:"reminder",subject:"Reminder: Meeting tomorrow with {{organizerName}}",body:`Hi {{guestName}},

Friendly reminder about your upcoming meeting.

Date: {{meetingDate}}
Time: {{meetingTime}}
Meeting Link: {{meetingLink}}

See you soon!
{{organizerName}}`,is_default:!0},{id:"default_cancellation",name:"Meeting Cancelled",type:"cancellation",subject:"Meeting cancelled - {{meetingDate}}",body:`Hi {{guestName}},

Your meeting on {{meetingDate}} at {{meetingTime}} has been cancelled.

To book a new time: {{bookingLink}}

{{organizerName}}`,is_default:!0},{id:"default_reschedule",name:"Meeting Rescheduled",type:"reschedule",subject:"Meeting rescheduled - {{meetingDate}}",body:`Hi {{guestName}},

Your meeting has been rescheduled.

New Date: {{meetingDate}}
New Time: {{meetingTime}}
Meeting Link: {{meetingLink}}

To make changes: {{manageLink}}

{{organizerName}}`,is_default:!0}];function O_(){const{showUpgradeModal:t,hasProFeature:s,currentTier:r,loading:n}=ds(),[a,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(""),[p,w]=h.useState("all"),[x,v]=h.useState(!1),[j,f]=h.useState(null),[b,g]=h.useState(!1),[y,N]=h.useState(null),[C,S]=h.useState("manual"),[k,T]=h.useState(!1),[L,E]=h.useState({description:"",type:"other",tone:"professional but friendly"}),[V,R]=h.useState([]);if(h.useEffect(()=>{s()?(M(),H()):o(!1)},[s]),n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-blue-600"})});if(!s())return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-12 text-center border-2 border-purple-200",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Te,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Email Templates"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Create beautiful, personalized email templates for confirmations, reminders, follow-ups, and more."}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-4",children:"What you get with Pro:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Unlimited custom email templates"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"AI-powered template generation"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Smart personalization variables"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Template analytics & effectiveness tracking"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Works with AI scheduling assistant"]})]})]}),e.jsxs("button",{onClick:()=>t("templates"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all font-semibold text-lg flex items-center gap-2 mx-auto",children:[e.jsx(Ms,{className:"h-5 w-5"}),"Upgrade to Pro - $15/month"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Currently on: ",e.jsx("span",{className:"font-medium capitalize",children:r})," plan"]})]})})});const M=async()=>{try{const B=(await _.get("/email-templates")).data.templates||[],Y=[...Ni,...B.map(oe=>({...oe,is_default:!1}))];l(Y)}catch(P){console.error("Failed to load templates:",P),l(Ni)}finally{o(!1)}},H=async()=>{try{const P=new Date().getHours(),B=[];P>=9&&P<=11&&B.push({template:Ni.find(Y=>Y.type==="reminder"),reason:"Perfect timing for meeting reminders"}),B.push({template:Ni.find(Y=>Y.type==="confirmation"),reason:"Most commonly used template"}),R(B.filter(Y=>Y.template).slice(0,2))}catch(P){console.error("Failed to load smart suggestions:",P)}},O=async()=>{var P,B;if(!L.description.trim()){alert("Please describe the template you want to create");return}T(!0);try{const oe=(await _.post("/ai/generate-template",L)).data.template;f({...oe,id:null,is_default:!1,is_favorite:!1,generated_by_ai:!0}),S("manual"),E({description:"",type:"other",tone:"professional but friendly"})}catch(Y){console.error("AI generation failed:",Y),alert(((B=(P=Y.response)==null?void 0:P.data)==null?void 0:B.error)||"Failed to generate template")}finally{T(!1)}},A=[...a.filter(P=>{const B=u===""||P.name.toLowerCase().includes(u.toLowerCase()),Y=p==="all"||P.type===p;return B&&Y})].sort((P,B)=>P.is_favorite&&!B.is_favorite?-1:!P.is_favorite&&B.is_favorite?1:P.name.localeCompare(B.name)),F=async P=>{const B=a.find(Y=>Y.id===P);if(l(Y=>Y.map(oe=>oe.id===P?{...oe,is_favorite:!oe.is_favorite}:oe)),B&&!B.is_default)try{await _.patch(`/email-templates/${P}/favorite`)}catch(Y){console.error("Failed to update favorite:",Y)}},z=(P=null,B="manual")=>{P?(f({...P,id:P.is_default?null:P.id,name:P.is_default?`${P.name} (My Version)`:P.name,is_default:!1}),S("manual")):(f({id:null,name:"",type:"other",subject:"",body:"",is_favorite:!1}),S(B),B==="ai"&&E({description:"",type:"other",tone:"professional but friendly"})),v(!0)},Q=async()=>{if(!j.name||!j.subject||!j.body){alert("Please fill in all fields");return}d(!0);try{j.id?await _.put(`/email-templates/${j.id}`,j):await _.post("/email-templates",j),await M(),v(!1)}catch(P){console.error("Save failed:",P),alert("Failed to save template")}finally{d(!1)}},ue=async P=>{if(confirm("Delete this template?"))try{await _.delete(`/email-templates/${P}`),await M()}catch(B){console.error("Delete failed:",B)}},Ce=P=>{const B=document.getElementById("template-body");if(!B||!j)return;const Y=B.selectionStart,oe=B.selectionEnd,q=j.body,G=q.substring(0,Y)+`{{${P}}}`+q.substring(oe);f({...j,body:G}),setTimeout(()=>{B.focus();const K=Y+P.length+4;B.setSelectionRange(K,K)},0)},ge=P=>{var B;return((B=wi.find(Y=>Y.id===P))==null?void 0:B.emoji)||""},X=P=>{const B={guestName:"John Smith",guestEmail:"john@example.com",organizerName:"You",meetingDate:"Monday, Jan 20, 2025",meetingTime:"2:00 PM",meetingLink:"https://meet.google.com/abc-xyz",manageLink:"https://trucal.xyz/manage/abc123",bookingLink:"https://trucal.xyz/book/you"};let Y=P.subject,oe=P.body;Object.entries(B).forEach(([q,G])=>{const K=new RegExp(`\\{\\{${q}\\}\\}`,"g");Y=Y.replace(K,G),oe=oe.replace(K,G)}),N({...P,subject:Y,body:oe}),g(!0)};return i?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6 sm:py-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsx(Te,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"}),"Email Templates"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-1 flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),"Your AI assistant uses these when sending emails"]})]}),e.jsxs("button",{onClick:()=>z(),className:"w-full sm:w-auto px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 flex items-center justify-center gap-2 font-semibold shadow-lg transition-all",children:[e.jsx(vt,{className:"h-5 w-5"}),"New Template"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 mb-6",children:[V.length>0&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(l1,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-900 mb-2",children:" Recommended for you:"}),e.jsx("div",{className:"space-y-2",children:V.map((P,B)=>{var Y;return e.jsx("div",{className:"bg-white p-2 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:(Y=P.template)==null?void 0:Y.name}),e.jsx("p",{className:"text-xs text-green-700",children:P.reason})]}),e.jsx("button",{onClick:()=>z(P.template),className:"text-green-600 hover:text-green-700",children:e.jsx(Rc,{className:"h-4 w-4"})})]})},B)})})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ce,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-purple-900",children:"How it works with AI"}),e.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Say:"," ",e.jsx("span",{className:"font-mono bg-white px-2 py-0.5 rounded",children:'"Send John a friendly reminder"'}),e.jsx("br",{}),"Your AI picks the best template automatically!"]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search templates...",value:u,onChange:P=>m(P.target.value),className:"w-full pl-10 pr-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),e.jsxs("select",{value:p,onChange:P=>w(P.target.value),className:"px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none bg-white",children:[e.jsx("option",{value:"all",children:"All Types"}),wi.map(P=>e.jsxs("option",{value:P.id,children:[P.emoji," ",P.label]},P.id))]})]}),A.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border-2 border-dashed border-gray-200",children:[e.jsx(hs,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No templates found"}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:()=>z(null,"ai"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium",children:" Generate with AI"}),e.jsx("button",{onClick:()=>z(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium",children:"Create Manual"})]})]}):e.jsx("div",{className:"space-y-3",children:A.map(P=>e.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-100 hover:border-blue-200 transition-all overflow-hidden",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4",children:[e.jsx("div",{className:"text-xl sm:text-2xl flex-shrink-0",children:ge(P.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:P.name}),P.is_default&&e.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full",children:"Built-in"}),P.generated_by_ai&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full flex items-center gap-1",children:[e.jsx(qp,{className:"h-3 w-3"}),"AI"]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:P.subject})]}),e.jsxs("div",{className:"flex items-center gap-0 sm:gap-1 flex-shrink-0",children:[e.jsx("button",{onClick:()=>F(P.id),className:"p-2 hover:bg-gray-100 rounded-lg",title:P.is_favorite?"Remove from favorites":"Add to favorites",children:e.jsx(Jo,{className:`h-5 w-5 ${P.is_favorite?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})}),e.jsx("button",{onClick:()=>X(P),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Preview",children:e.jsx(Fl,{className:"h-5 w-5 text-gray-500"})}),e.jsx("button",{onClick:()=>z(P),className:"p-2 hover:bg-gray-100 rounded-lg",title:P.is_default?"Duplicate & Edit":"Edit",children:e.jsx(Rc,{className:"h-5 w-5 text-gray-500"})}),!P.is_default&&e.jsx("button",{onClick:()=>ue(P.id),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:e.jsx(yt,{className:"h-5 w-5 text-red-500"})})]})]})},P.id))})]}),x&&j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[j.generated_by_ai&&e.jsx(qp,{className:"h-5 w-5 text-purple-600"}),j.id?"Edit Template":"New Template"]}),e.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Pe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[!j.id&&!j.generated_by_ai&&e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-1 flex",children:[e.jsxs("button",{onClick:()=>S("manual"),className:`flex-1 py-2.5 px-4 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 ${C==="manual"?"bg-white text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Rc,{className:"h-4 w-4"}),"Start from scratch"]}),e.jsxs("button",{onClick:()=>S("ai"),className:`flex-1 py-2.5 px-4 rounded-lg font-medium text-sm transition-all flex items-center justify-center gap-2 ${C==="ai"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(ce,{className:"h-4 w-4"}),"Generate with AI"]})]}),j.generated_by_ai&&e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Generated by AI - Feel free to customize as needed!"})]})}),C==="ai"&&!j.id&&!j.generated_by_ai&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Describe your template *"}),e.jsx("textarea",{value:L.description,onChange:P=>E({...L,description:P.target.value}),placeholder:"e.g., Professional follow-up for sales meetings with warm tone",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 outline-none resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be specific about purpose, tone, and style"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Type"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:wi.map(P=>e.jsxs("button",{onClick:()=>E({...L,type:P.id}),className:`px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${L.type===P.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[P.emoji," ",P.label]},P.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tone"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:$_.map(P=>e.jsxs("button",{onClick:()=>E({...L,tone:P.id}),className:`px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${L.tone===P.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[P.emoji," ",P.label]},P.id))})]}),e.jsxs("button",{onClick:O,disabled:k||!L.description.trim(),className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[k?e.jsx(ne,{className:"h-5 w-5 animate-spin"}):e.jsx(ce,{className:"h-5 w-5"}),k?"Generating...":"Generate Template"]})]}),(C==="manual"||j.id||j.generated_by_ai)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Name *"}),e.jsx("input",{type:"text",value:j.name,onChange:P=>f({...j,name:P.target.value}),placeholder:"e.g., Friendly Reminder",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:wi.map(P=>e.jsxs("button",{onClick:()=>f({...j,type:P.id}),className:`px-4 py-2 rounded-lg border-2 text-sm font-medium transition-all ${j.type===P.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[P.emoji," ",P.label]},P.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Subject *"}),e.jsx("input",{type:"text",value:j.subject,onChange:P=>f({...j,subject:P.target.value}),placeholder:"e.g., Reminder about our meeting tomorrow",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Body *"}),e.jsx("textarea",{id:"template-body",value:j.body,onChange:P=>f({...j,body:P.target.value}),rows:8,placeholder:"Write your email here...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none resize-none"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(bb,{className:"h-4 w-4"}),"Insert Variables (click to add)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:F_.map(P=>e.jsxs("button",{onClick:()=>Ce(P.key),className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-300 transition-all",children:[e.jsx("span",{className:"font-mono text-blue-600",children:`{{${P.key}}}`}),e.jsxs("span",{className:"text-gray-400 ml-1",children:["(",P.label,")"]})]},P.key))})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-5 py-2.5 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50",children:"Cancel"}),(C==="manual"||j.id||j.generated_by_ai)&&e.jsxs("button",{onClick:Q,disabled:c,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[c?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):e.jsx(Vr,{className:"h-4 w-4"}),c?"Saving...":"Save Template"]})]})]})}),b&&y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-xl w-full shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-100 px-6 py-4 flex items-center justify-between border-b",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Preview"}),e.jsx("p",{className:"font-semibold text-gray-900",children:y.name})]}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-200 rounded-lg",children:e.jsx(Pe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"SUBJECT"}),e.jsx("p",{className:"text-gray-900 font-medium",children:y.subject})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"BODY"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 whitespace-pre-wrap text-gray-800 text-sm",children:y.body})]})]}),e.jsx("div",{className:"bg-gray-50 border-t px-6 py-4 flex justify-end",children:e.jsx("button",{onClick:()=>{g(!1);const P=a.find(B=>B.id===y.id||B.name===y.name);P&&z(P)},className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:"Edit This Template"})})]})})]})}const B0={routing:{icon:r1,label:"Routing",color:"blue",description:"Route bookings to specific team members"},buffer:{icon:he,label:"Buffer",color:"green",description:"Add time gaps between meetings"},availability:{icon:se,label:"Availability",color:"purple",description:"Block or allow specific times"},priority:{icon:Jo,label:"Priority",color:"yellow",description:"Mark certain bookings as important"},auto_response:{icon:Bm,label:"Auto Response",color:"pink",description:"Automatically handle bookings"},custom:{icon:Me,label:"Custom",color:"gray",description:"Custom rule"}},U0=["Route demo requests to Sarah and Mike","Add 15 minute buffer after every meeting","No meetings on Fridays after 3pm","VIP priority for emails from @acme.com","Automatically confirm bookings under 30 minutes"];function B_(){const{hasProFeature:t,showUpgradeModal:s,currentTier:r}=ds(),[n,a]=h.useState([]),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState(!1);h.useEffect(()=>{t()?w():i(!1)},[]);const w=async()=>{try{const f=await _.get("/scheduling-rules");a(f.data.rules||[])}catch(f){console.error("Failed to fetch rules:",f)}finally{i(!1)}},x=async()=>{var f,b;if(d.trim()){c(!0);try{const g=await _.post("/scheduling-rules",{rule_text:d});a([g.data.rule,...n]),u("")}catch(g){console.error("Failed to create rule:",g),alert(((b=(f=g.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to create rule")}finally{c(!1)}}},v=async f=>{if(confirm("Delete this rule?"))try{await _.delete(`/scheduling-rules/${f}`),a(n.filter(b=>b.id!==f))}catch(b){console.error("Failed to delete rule:",b)}},j=async f=>{try{const b=await _.patch(`/scheduling-rules/${f}/toggle`);a(n.map(g=>g.id===f?b.data.rule:g))}catch(b){console.error("Failed to toggle rule:",b)}};return t()?l?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600 relative z-10"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-8 relative z-10",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsx(Me,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"}),"Smart Rules"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Create scheduling rules in plain English"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all p-4 sm:p-6 mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(ce,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-base sm:text-lg font-bold text-gray-900 mb-2",children:"Create a new rule"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Describe what you want in plain English"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"text",value:d,onChange:f=>u(f.target.value),onKeyPress:f=>f.key==="Enter"&&x(),placeholder:'e.g., "Add 15 min buffer after meetings"',className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 outline-none text-sm sm:text-base"}),e.jsxs("button",{onClick:x,disabled:o||!d.trim(),className:"w-full sm:w-auto px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-semibold disabled:opacity-50 flex items-center justify-center gap-2",children:[o?e.jsx(ne,{className:"h-5 w-5 animate-spin"}):e.jsx(vt,{className:"h-5 w-5"}),"Add Rule"]})]}),e.jsx("button",{onClick:()=>p(!m),className:"mt-3 text-sm text-purple-600 hover:text-purple-700 font-medium",children:m?"Hide examples":"Show examples"}),m&&e.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2",children:U0.map((f,b)=>e.jsxs("button",{onClick:()=>u(f),className:"text-left text-sm p-3 bg-gray-50 hover:bg-purple-50 rounded-lg border border-gray-200 hover:border-purple-300 transition-colors",children:['"',f,'"']},b))})]})]})}),n.length===0?e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-gray-200 p-12 text-center",children:[e.jsx(Me,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No rules yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create your first rule above"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:["Your Rules (",n.length,")"]}),n.map(f=>{const b=B0[f.rule_type]||B0.custom,g=b.icon;return e.jsx("div",{className:`bg-white rounded-xl border-2 p-3 sm:p-4 transition-all ${f.is_active?"border-gray-200":"border-gray-100 opacity-60"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${b.color==="blue"?"bg-blue-100":b.color==="green"?"bg-green-100":b.color==="purple"?"bg-purple-100":b.color==="yellow"?"bg-yellow-100":b.color==="pink"?"bg-pink-100":"bg-gray-100"}`,children:e.jsx(g,{className:`h-5 w-5 ${b.color==="blue"?"text-blue-600":b.color==="green"?"text-green-600":b.color==="purple"?"text-purple-600":b.color==="yellow"?"text-yellow-600":b.color==="pink"?"text-pink-600":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base break-words",children:['"',f.rule_text,'"']}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${b.color==="blue"?"bg-blue-100 text-blue-700":b.color==="green"?"bg-green-100 text-green-700":b.color==="purple"?"bg-purple-100 text-purple-700":b.color==="yellow"?"bg-yellow-100 text-yellow-700":b.color==="pink"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:b.label}),e.jsx("span",{className:"text-xs text-gray-400",children:f.is_active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:flex-shrink-0",children:[e.jsx("button",{onClick:()=>j(f.id),className:`p-2 rounded-lg transition-colors ${f.is_active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:f.is_active?"Disable rule":"Enable rule",children:f.is_active?e.jsx(o1,{className:"h-6 w-6"}):e.jsx(i1,{className:"h-6 w-6"})}),e.jsx("button",{onClick:()=>v(f.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete rule",children:e.jsx(yt,{className:"h-5 w-5"})})]})]})},f.id)})]}),e.jsx("div",{className:"mt-6 sm:mt-8 bg-blue-50 rounded-xl border border-blue-200 p-3 sm:p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs sm:text-sm text-blue-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"How rules work"}),e.jsxs("ul",{className:"space-y-1 text-blue-700",children:[e.jsx("li",{children:"* Rules are applied automatically when someone books with you"}),e.jsx("li",{children:"* Higher priority rules are checked first"}),e.jsx("li",{children:"* Toggle rules off temporarily without deleting them"})]})]})]})})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"max-w-3xl mx-auto px-4 py-16 relative z-10",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 border-white/20 p-8 md:p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Me,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Smart Rules"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Create scheduling rules in plain English. No complex setup required."}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-4",children:"Example rules you can create:"}),e.jsx("ul",{className:"space-y-2",children:U0.map((f,b)=>e.jsxs("li",{className:"flex items-start gap-2 text-purple-800",children:[e.jsx(xe,{className:"h-5 w-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("span",{children:['"',f,'"']})]},b))})]}),e.jsxs("button",{onClick:()=>s("rules"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all font-semibold text-lg flex items-center gap-2 mx-auto",children:[e.jsx(Ms,{className:"h-5 w-5"}),"Upgrade to Pro - $15/month"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Currently on: ",e.jsx("span",{className:"font-medium capitalize",children:r})," plan"]})]})})]})}function Jv({variant:t="default",compact:s=!1,className:r=""}){const n=we(),a={default:{title:"Upgrade to Pro",description:"Unlimited bookings, AI features, and priority support.",icon:Ms,gradient:"from-purple-600 to-pink-600",bgGradient:"from-purple-50 to-pink-50",borderColor:"border-purple-300"},ai:{title:"Unlock Unlimited AI",description:"Unlimited ChatGPT queries and advanced AI features.",icon:ce,gradient:"from-blue-600 to-cyan-600",bgGradient:"from-blue-50 to-cyan-50",borderColor:"border-blue-300"},team:{title:"Upgrade to Team",description:"Team scheduling, admin controls, and collaboration.",icon:Le,gradient:"from-green-600 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",borderColor:"border-green-300"},power:{title:"Go Pro",description:"Unlimited everything. No limits, no compromises.",icon:Me,gradient:"from-orange-600 to-red-600",bgGradient:"from-orange-50 to-red-50",borderColor:"border-orange-300"}},l=a[t]||a.default,i=l.icon;return s?e.jsx("div",{className:`bg-gradient-to-br ${l.bgGradient} border-2 ${l.borderColor} rounded-xl p-4 ${r}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${l.gradient} rounded-lg flex items-center justify-center shadow-lg flex-shrink-0`,children:e.jsx(i,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:l.title}),e.jsx("p",{className:"text-xs text-gray-600",children:l.description})]})]}),e.jsxs("button",{onClick:()=>n("/billing"),className:`group px-4 py-2 bg-gradient-to-r ${l.gradient} text-white rounded-lg hover:shadow-lg transition-all font-semibold text-sm whitespace-nowrap flex items-center gap-2`,children:["Upgrade",e.jsx(qe,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})}):e.jsxs("div",{className:`bg-gradient-to-br ${l.bgGradient} border-2 ${l.borderColor} rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all ${r}`,children:[e.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${l.gradient} rounded-xl flex items-center justify-center shadow-lg mb-4`,children:e.jsx(i,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[l.title,e.jsx(Ms,{className:"w-5 h-5 text-amber-500"})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:l.description}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-1",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"$15"}),e.jsx("span",{className:"text-gray-600",children:"/month"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"or $144/year (save 20%)"})]}),e.jsxs("button",{onClick:()=>n("/billing"),className:`group w-full bg-gradient-to-r ${l.gradient} text-white px-6 py-3 rounded-xl font-bold hover:shadow-2xl hover:scale-105 transition-all flex items-center justify-center gap-2`,children:["Upgrade Now",e.jsx(qe,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t-2 border-white/50",children:e.jsxs("ul",{className:"space-y-2 text-xs text-gray-700",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full"}),e.jsx("span",{children:"Unlimited bookings"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full"}),e.jsx("span",{children:"Unlimited AI queries"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full"}),e.jsx("span",{children:"Priority support"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full"}),e.jsx("span",{children:"Advanced analytics"})]})]})})]})}function U_(){const t=we(),s=pa(),{showUpgradeModal:r}=ds(),[n,a]=h.useState(null),[l,i]=h.useState(""),[o,c]=h.useState([]),[d,u]=h.useState(!1),[m,p]=h.useState(!0),[w,x]=h.useState(!1),[v,j]=h.useState(""),[f,b]=h.useState(""),[g,y]=h.useState(""),[N,C]=h.useState("collective"),[S,k]=h.useState("1"),[T,L]=h.useState("7"),[E,V]=h.useState([]),[R,M]=h.useState([]),[H,O]=h.useState([]),[D,A]=h.useState(!1);h.useEffect(()=>{F()},[]);const F=async()=>{p(!0);try{await Promise.all([z(),Q(),ue()])}catch(q){console.error("Error loading data:",q)}finally{p(!1)}},z=async()=>{try{const q=await _.get("/auth/me"),G=q.data.user||q.data;a(G)}catch(q){console.error("Failed to load profile:",q)}},Q=async()=>{try{const q=await _.get("/magic-links");c(q.data.links||[])}catch(q){console.error("Load magic links error:",q)}},ue=async()=>{try{const q=await _.get("/magic-links/available-members");V(q.data.teams||[]),M(q.data.members||[])}catch(q){console.error("Load available members error:",q)}},Ce=(q,G="permanent")=>{navigator.clipboard.writeText(q),i(G),s.success("Link copied to clipboard! "),setTimeout(()=>i(""),2e3)},ge=async()=>{var G,K;if(((n==null?void 0:n.subscription_tier)||"free")==="free"){r("magic_links");return}u(!0);try{const ye={name:v.trim()||null,attendee_email:f.trim()||null,attendee_name:g.trim()||null,member_ids:H.map(Xe=>Xe.id),scheduling_mode:N,usage_limit:S==="unlimited"?null:parseInt(S),expires_in_days:T==="never"?"never":parseInt(T)};await _.post("/magic-links",ye),j(""),b(""),y(""),O([]),C("collective"),k("1"),L("7"),x(!1),await Q(),s.success("Quick link created! ")}catch(ye){console.error("Generate quick link error:",ye),s.error(((K=(G=ye.response)==null?void 0:G.data)==null?void 0:K.error)||"Could not generate quick link")}finally{u(!1)}},X=async q=>{if(confirm("Are you sure you want to delete this quick link?"))try{await _.delete(`/magic-links/${q}`),await Q(),s.success("Quick link deleted")}catch{s.error("Could not delete quick link")}},P=q=>{const G=H.some(K=>K.id===q.id);O(G?H.filter(K=>K.id!==q.id):[...H,q])},B=q=>{if(!q)return{text:"Never expires",color:"green"};const G=new Date,K=new Date(q),ye=Math.ceil((K-G)/(1e3*60*60*24));return ye<0?{text:"Expired",color:"red"}:ye===0?{text:"Expires today",color:"orange"}:ye===1?{text:"Expires tomorrow",color:"orange"}:ye<=3?{text:`Expires in ${ye} days`,color:"yellow"}:{text:`Expires in ${ye} days`,color:"gray"}},Y=q=>{const G=new Date;if(q.is_used&&q.usage_limit===1)return{label:"Used",color:"bg-gray-100 text-gray-600",icon:rr};if(q.is_exhausted||q.usage_limit&&q.usage_count>=q.usage_limit)return{label:"Exhausted",color:"bg-gray-100 text-gray-600",icon:rr};if(q.expires_at){const Se=new Date(q.expires_at);if(q.is_expired||Se<G)return{label:"Expired",color:"bg-red-100 text-red-600",icon:$t}}const K=B(q.expires_at),ye=q.usage_limit?`${q.usage_count}/${q.usage_limit}`:"";let Xe="bg-green-100 text-green-600";return K.color==="orange"?Xe="bg-orange-100 text-orange-600":K.color==="yellow"&&(Xe="bg-yellow-100 text-yellow-700"),{label:`Active (${ye})`,color:Xe,icon:he,expiration:K}},oe=()=>{const q=(n==null?void 0:n.subscription_tier)||"free";return q==="pro"||q==="team"};return m?e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx(ne,{className:"h-10 w-10 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your links..."})]})]}):e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[e.jsx(yo,{className:"h-8 w-8 text-purple-600"}),"Booking Links"]}),e.jsx("p",{className:"text-gray-600",children:"Share your profile link or create quick links for specific meetings"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-blue-200/30 transition-all hover:-translate-y-1",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(yo,{className:"h-5 w-5 text-white"})}),"Your Profile Link"]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your permanent link - share it anywhere"}),n!=null&&n.username?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white border border-blue-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Your profile link"}),e.jsx("p",{className:"font-mono text-sm text-blue-700 break-all",children:`${window.location.origin}/${n.username}`})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Ce(`${window.location.origin}/${n.username}`,"permanent"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all shadow-lg ${l==="permanent"?"bg-green-600 text-white":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-2xl hover:shadow-blue-200/50 hover:-translate-y-0.5"}`,children:l==="permanent"?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-4 w-4"}),"Copy Link"]})}),e.jsx("button",{onClick:()=>window.open(`/${n.username}`,"_blank"),className:"px-4 py-3 bg-white/80 text-blue-600 border-2 border-blue-300 rounded-xl hover:bg-blue-50 hover:-translate-y-0.5 transition-all shadow-lg",title:"Preview booking page",children:e.jsx(St,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[e.jsx(rr,{className:"h-4 w-4"}),e.jsx("span",{children:"Unlimited uses, never expires"})]})]}):e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"Set up your username in Settings to get your personal booking link."}),e.jsxs("button",{onClick:()=>t("/settings"),className:"w-full px-6 py-3 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-xl font-bold hover:shadow-2xl hover:shadow-orange-200/50 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2",children:[e.jsx(Gp,{className:"h-5 w-5"}),"Go to Settings"]})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all hover:-translate-y-1",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(ce,{className:"h-5 w-5 text-white"})}),"Quick Links",!oe()&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-200 text-purple-700 text-xs font-bold rounded-full",children:"PRO"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Create instant booking links for specific meetings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Link name (e.g., 'Sales Demo with John')",value:v,onChange:q=>j(q.target.value),className:"w-full px-4 py-3 bg-white border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent hover:border-purple-300 transition-all focus:shadow-lg focus:shadow-purple-100/50",maxLength:100}),e.jsxs("button",{onClick:()=>x(!w),className:"flex items-center gap-2 text-purple-700 hover:text-purple-900 text-sm font-medium transition-colors",children:[w?e.jsx(U2,{className:"h-4 w-4"}):e.jsx(Sl,{className:"h-4 w-4"}),w?"Hide options":"More options"]}),w&&e.jsxs("div",{className:"space-y-4 p-4 bg-white/50 rounded-xl border border-purple-100",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(Rt,{className:"h-3 w-3 inline mr-1"}),"Pre-fill Name"]}),e.jsx("input",{type:"text",placeholder:"John Smith",value:g,onChange:q=>y(q.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(Te,{className:"h-3 w-3 inline mr-1"}),"Pre-fill Email"]}),e.jsx("input",{type:"email",placeholder:"john@company.com",value:f,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-2",children:[e.jsx(Le,{className:"h-3 w-3 inline mr-1"}),"Team Members in Meeting"]}),H.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:H.map(q=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:[q.name,e.jsx("button",{onClick:()=>P(q),className:"hover:text-purple-900",children:e.jsx(Pe,{className:"h-3 w-3"})})]},q.id))}),e.jsxs("button",{onClick:()=>A(!D),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm text-left text-purple-600 hover:bg-purple-50 flex items-center justify-between",children:[e.jsx("span",{children:H.length===0?"+ Add team members":"+ Add more members"}),e.jsx(Sl,{className:`h-4 w-4 transition-transform ${D?"rotate-180":""}`})]}),D&&R.length>0&&e.jsx("div",{className:"mt-2 max-h-64 overflow-y-auto bg-white border border-purple-200 rounded-lg divide-y divide-purple-100",children:E.map(q=>{const G=R.filter(Se=>Se.team_id===q.id),K=G.every(Se=>H.some(ae=>ae.id===Se.id)),ye=G.some(Se=>H.some(ae=>ae.id===Se.id)),Xe=()=>{if(K)O(H.filter(Se=>!G.some(ae=>ae.id===Se.id)));else{const Se=[...H];G.forEach(ae=>{Se.some(Ue=>Ue.id===ae.id)||Se.push(ae)}),O(Se)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"px-3 py-2 bg-purple-50 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-purple-800",children:q.name}),e.jsx("button",{onClick:Xe,className:`text-xs px-2 py-1 rounded transition-colors ${K?"bg-purple-600 text-white":ye?"bg-purple-200 text-purple-700":"bg-purple-100 text-purple-600 hover:bg-purple-200"}`,children:K?" All":"Select All"})]}),G.map(Se=>{const ae=H.some(Ue=>Ue.id===Se.id);return e.jsxs("button",{onClick:()=>P(Se),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-3 hover:bg-purple-50 ${ae?"bg-purple-100":""}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${ae?"bg-purple-600 border-purple-600":"border-gray-300"}`,children:ae&&e.jsx(de,{className:"h-3 w-3 text-white"})}),e.jsx("span",{className:"flex-1",children:Se.name})]},Se.id)})]},q.id)})}),R.length===0&&e.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"No team members available. Create a team first."})]}),H.length>1&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-2",children:[e.jsx(Gp,{className:"h-3 w-3 inline mr-1"}),"Scheduling Mode"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>C("collective"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${N==="collective"?"bg-purple-600 text-white":"bg-white border border-purple-200 text-purple-700 hover:bg-purple-50"}`,children:["Collective",e.jsx("p",{className:"text-xs opacity-75",children:"All must be free"})]}),e.jsxs("button",{onClick:()=>C("round_robin"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${N==="round_robin"?"bg-purple-600 text-white":"bg-white border border-purple-200 text-purple-700 hover:bg-purple-50"}`,children:["Round Robin",e.jsx("p",{className:"text-xs opacity-75",children:"Any one available"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(G2,{className:"h-3 w-3 inline mr-1"}),"Usage Limit"]}),e.jsxs("select",{value:S,onChange:q=>k(q.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"1",children:"Single use"}),e.jsx("option",{value:"5",children:"5 bookings"}),e.jsx("option",{value:"10",children:"10 bookings"}),e.jsx("option",{value:"unlimited",children:"Unlimited"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(se,{className:"h-3 w-3 inline mr-1"}),"Link Expiration"]}),e.jsxs("select",{value:T,onChange:q=>L(q.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"1",children:"1 day"}),e.jsx("option",{value:"3",children:"3 days"}),e.jsx("option",{value:"7",children:"7 days (recommended)"}),e.jsx("option",{value:"14",children:"14 days"}),e.jsx("option",{value:"30",children:"30 days"}),e.jsx("option",{value:"never",children:"Never expires"})]}),e.jsx("p",{className:"text-xs text-purple-500 mt-1",children:"Link will automatically expire after this period"})]})]})]}),e.jsx("button",{onClick:ge,disabled:d,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"animate-spin h-5 w-5"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-5 w-5"}),"Create Quick Link"]})}),!oe()&&e.jsx("div",{className:"p-3 bg-purple-100/50 rounded-xl text-center",children:e.jsxs("p",{className:"text-sm text-purple-700",children:[e.jsx(ce,{className:"h-4 w-4 inline mr-1"}),"Upgrade to Pro for unlimited quick links"]})})]})]})]}),o.length>0&&e.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl p-6 border-2 border-white/20 hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-purple-600"}),"Recent Quick Links"]}),e.jsx("button",{onClick:Q,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-purple-100 rounded-lg transition-all hover:-translate-y-0.5",title:"Refresh",children:e.jsx(vs,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"space-y-3",children:o.map(q=>{const G=Y(q),K=G.icon,ye=q.is_expired||q.expires_at&&new Date(q.expires_at)<new Date,Xe=q.is_exhausted||q.usage_limit&&q.usage_count>=q.usage_limit,Se=!q.is_used&&!ye&&!Xe;return e.jsx("div",{className:`p-4 rounded-xl border-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all ${Se?"bg-white/80 backdrop-blur-sm border-purple-300 hover:border-purple-400 hover:shadow-purple-200/30":"bg-gray-50/80 border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-2",children:[e.jsxs("span",{className:`px-2 py-0.5 rounded-lg ${G.color} text-xs font-medium flex items-center gap-1`,children:[e.jsx(K,{className:"h-3 w-3"}),G.label]}),G.expiration&&e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-xs font-medium ${G.expiration.color==="green"?"bg-green-100 text-green-700":G.expiration.color==="red"?"bg-red-100 text-red-600 line-through":G.expiration.color==="orange"?"bg-orange-100 text-orange-700":G.expiration.color==="yellow"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:G.expiration.text}),q.scheduling_mode&&q.scheduling_mode!=="collective"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium",children:q.scheduling_mode})]}),e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:q.link_name||`Quick Link ${q.token.substring(0,8)}...`}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500 mt-1",children:[q.attendee_email&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-3 w-3"}),q.attendee_email]}),q.members&&q.members.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"h-3 w-3"}),q.members.map(ae=>ae.name).join(", ")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"h-3 w-3"}),new Date(q.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[Se&&e.jsx("button",{onClick:()=>Ce(q.url,q.token),className:`px-3 py-2 rounded-lg font-medium text-sm transition-all flex items-center gap-1 shadow-lg ${l===q.token?"bg-green-600 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5"}`,children:l===q.token?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-4 w-4"}),"Copy"]})}),e.jsx("button",{onClick:()=>X(q.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all hover:-translate-y-0.5",title:"Delete link",children:e.jsx(yt,{className:"h-4 w-4"})})]})]})},q.id)})})]}),(n==null?void 0:n.tier)==="free"&&e.jsx("div",{className:"mt-8",children:e.jsx(Jv,{variant:"default"})}),o.length===0&&e.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-xl rounded-2xl border-2 border-dashed border-purple-300 p-8 text-center shadow-lg",children:[e.jsx(ce,{className:"h-12 w-12 text-purple-400 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"No quick links yet"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create your first quick link above for specific clients or team meetings"})]})]})]})}const z_=()=>{var k;const[t,s]=h.useState(null),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(null);h.useEffect(()=>{p()},[]);const p=async()=>{l(!0),m(null);try{const T=await fetch("/api/billing/subscription",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(T.ok)s(await T.json());else throw new Error("Failed to fetch subscription");const L=await fetch("/api/billing/invoices",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(L.ok){const E=await L.json();n(E.invoices||[])}}catch(T){console.error("Billing fetch error:",T),m("Failed to load billing information")}finally{l(!1)}},w=async()=>{if(confirm(`Are you sure you want to cancel?

You'll keep access until the end of your billing period.`)){o(!0);try{const T=await fetch("/api/billing/cancel",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),L=await T.json();T.ok&&L.success?(s(E=>({...E,status:"cancelled",cancel_at:L.cancel_at})),alert("Subscription cancelled. Access continues until "+new Date(L.cancel_at).toLocaleDateString())):alert(L.error||"Failed to cancel subscription")}catch{alert("Failed to cancel subscription")}finally{o(!1)}}},x=async()=>{o(!0);try{const T=await fetch("/api/billing/reactivate",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),L=await T.json();T.ok&&L.success?(s(E=>({...E,status:"active",cancel_at:null})),alert("Subscription reactivated!")):alert(L.error||"Failed to reactivate")}catch{alert("Failed to reactivate subscription")}finally{o(!1)}},v=T=>{d(!1),p(),alert(`Successfully upgraded to ${T.name}!`)},j=T=>T?new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",f=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T);if(a)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-4 sm:p-6 lg:p-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-center h-64 relative z-10",children:[e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading billing information..."})]})]});if(u)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-4 sm:p-6 lg:p-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto bg-red-50 border border-red-200 rounded-lg p-6 text-center relative z-10",children:[e.jsx(He,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error Loading Billing"}),e.jsx("p",{className:"text-red-600 mb-4",children:u}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"})]})]});const b=(t==null?void 0:t.plan)||"free",g=b!=="free",y=(t==null?void 0:t.status)==="cancelled",N={free:{name:"Free",price:0,icon:dr,features:["Basic AI features","Bookings included","Personal booking link","Email support"]},pro:{name:"Pro",price:15,icon:Me,features:["Unlimited AI queries","Unlimited bookings","Unlimited links","Priority support"]},team:{name:"Team",price:25,icon:Le,features:["Everything in Pro","Team collaboration","Admin dashboard","Priority support"]}},C=N[b]||N.free,S=C.icon;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-4 sm:p-6 lg:p-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Billing & Subscription"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your plan and billing information"})]}),e.jsx("button",{onClick:p,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Refresh",children:e.jsx(vs,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 ${y?"border-yellow-300":g?"border-purple-200":"border-gray-200"} overflow-hidden`,children:[e.jsx("div",{className:`p-6 ${g?"bg-gradient-to-r from-purple-50 to-blue-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${g?"bg-purple-100":"bg-gray-200"}`,children:e.jsx(S,{className:`h-8 w-8 ${g?"text-purple-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[C.name," Plan"]}),g&&!y&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Active"}),y&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:"Cancelling"})]}),e.jsx("p",{className:"text-gray-600",children:C.price===0?"Free forever":`$${C.price}/month`})]})]}),b!=="team"&&!y&&e.jsxs("button",{onClick:()=>d(!0),className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[e.jsx(Ms,{className:"h-4 w-4"}),b==="free"?"Upgrade":"Upgrade to Team"]})]})}),e.jsxs("div",{className:"p-6 border-t border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Features"}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:C.features.map((T,L)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(xe,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),T]},L))}),b!=="team"&&!y&&e.jsxs("button",{onClick:()=>d(!0),className:"sm:hidden w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[e.jsx(Ms,{className:"h-4 w-4"}),b==="free"?"Upgrade Now":"Upgrade to Team"]})]})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"AI Queries"}),e.jsx(Me,{className:"h-5 w-5 text-purple-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g?" Unlimited":"10/month"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Bookings"}),e.jsx(se,{className:"h-5 w-5 text-blue-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g?" Unlimited":"50/month"})]})]}),g&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(dr,{className:"h-5 w-5"}),"Subscription Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:`font-medium flex items-center gap-2 ${y?"text-yellow-600":"text-green-600"}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx($t,{className:"h-4 w-4"})," Cancelled"]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4"})," Active"]})})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Price"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",C.price,"/month"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:y?"Access ends":"Next billing"}),e.jsx("span",{className:"font-medium text-gray-900",children:j((t==null?void 0:t.current_period_end)||(t==null?void 0:t.next_billing_date))})]}),(t==null?void 0:t.payment_method)&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Payment method"}),e.jsxs("span",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(gb,{className:"h-4 w-4"}),(k=t.payment_method.brand)==null?void 0:k.toUpperCase(),"  ",t.payment_method.last4,e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",t.payment_method.exp_month,"/",t.payment_method.exp_year,")"]})]})]})]}),y&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Subscription Cancelled"}),e.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:["Your subscription will end on ",j((t==null?void 0:t.cancel_at)||(t==null?void 0:t.current_period_end)),". You'll keep access to all features until then."]})]})]})}),e.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:y?e.jsx("button",{onClick:x,disabled:i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:i?e.jsx(ne,{className:"h-5 w-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"h-5 w-5"})," Reactivate Subscription"]})}):e.jsx("button",{onClick:w,disabled:i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 disabled:opacity-50",children:i?e.jsx(ne,{className:"h-5 w-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx($t,{className:"h-5 w-5"})," Cancel Subscription"]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ic,{className:"h-5 w-5"}),"Billing History"]}),r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ic,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No billing history yet"}),!g&&e.jsxs("button",{onClick:()=>d(!0),className:"mt-4 text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1 mx-auto",children:["Upgrade to Pro ",e.jsx(qe,{className:"h-4 w-4"})]})]}):e.jsx("div",{className:"space-y-3",children:r.map((T,L)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${T.status==="paid"?"bg-green-100":"bg-yellow-100"}`,children:e.jsx(Ic,{className:`h-5 w-5 ${T.status==="paid"?"text-green-600":"text-yellow-600"}`})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[f(T.amount)," - ",T.description]}),e.jsx("p",{className:"text-sm text-gray-500",children:j(T.date)})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T.status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:T.status==="paid"?"Paid":"Pending"})]},T.id||L))})]}),!g&&e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:"Ready to unlock more?"}),e.jsx("p",{className:"text-purple-100",children:"Get unlimited AI queries, unlimited bookings, and priority support."})]}),e.jsxs("button",{onClick:()=>d(!0),className:"w-full sm:w-auto px-6 py-3 bg-white text-purple-600 font-semibold rounded-lg hover:bg-gray-100 flex items-center justify-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"}),"Upgrade to Pro - $15/month"]})]})}),e.jsxs("div",{className:"text-center text-sm text-gray-500 py-4",children:[e.jsxs("p",{children:["Need help? Contact us at ",e.jsx("a",{href:"mailto:support@trucal.xyz",className:"text-purple-600 hover:underline",children:"support@trucal.xyz"})]}),e.jsx("p",{className:"mt-1",children:" All payments secured by Stripe  Cancel anytime"})]})]}),e.jsx(my,{isOpen:c,onClose:()=>d(!1),onSuccess:v,currentTier:b})]})},V_=[{id:"free",name:"Free",price:0,period:"forever",description:"Get started with basic scheduling",icon:Me,color:"gray",features:[{text:"Basic AI features",included:!0},{text:"Unlimited bookings",included:!0},{text:"Unlimited event types",included:!0},{text:"Google & Outlook sync",included:!0},{text:"Email notifications",included:!0},{text:"Buffer times",included:!1},{text:"Custom email templates",included:!1},{text:"Smart rules",included:!1},{text:"Teams",included:!1}],cta:"Current Plan",popular:!1},{id:"plus",name:"Plus",price:8,period:"/month",description:"For individuals who need more",icon:ce,color:"blue",features:[{text:"Advanced AI features",included:!0},{text:"Unlimited bookings",included:!0},{text:"Unlimited event types",included:!0},{text:"Multiple calendars",included:!0},{text:"Buffer times",included:!0},{text:"Custom email templates",included:!0},{text:"Priority support",included:!0},{text:"Smart rules",included:!1},{text:"Teams",included:!1}],cta:"Upgrade",popular:!1},{id:"pro",name:"Pro",price:15,period:"/month",description:"Full power for professionals",icon:Ms,color:"purple",features:[{text:"Unlimited AI queries",included:!0},{text:"Unlimited bookings",included:!0},{text:"Unlimited event types",included:!0},{text:"All calendar connections",included:!0},{text:"Buffer times",included:!0},{text:"Custom email templates",included:!0},{text:"Smart rules",included:!0},{text:"Email assistant",included:!0},{text:"Priority support",included:!0}],cta:"Upgrade",popular:!0},{id:"team",name:"Team",price:25,period:"/month",description:"For teams that schedule together",icon:Le,color:"pink",features:[{text:"Everything in Pro",included:!0},{text:"Team collaboration",included:!0},{text:"Add team members",included:!0},{text:"Round-robin scheduling",included:!0},{text:"Team availability",included:!0},{text:"Load balancing",included:!0},{text:"Autonomous mode",included:!0},{text:"Priority support",included:!0}],cta:"Upgrade",popular:!1},{id:"enterprise",name:"Enterprise",price:"Custom",period:"",description:"For large organizations",icon:Il,color:"slate",features:[{text:"Unlimited AI queries",included:!0},{text:"Unlimited team members",included:!0},{text:"SSO / SAML",included:!0},{text:"Audit logs",included:!0},{text:"Custom integrations",included:!0},{text:"Dedicated support",included:!0},{text:"SLA guarantee",included:!0},{text:"Onboarding assistance",included:!0}],cta:"Contact Sales",popular:!1}],W_={gray:{bg:"bg-gray-100",text:"text-gray-600",border:"border-gray-200"},blue:{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-200"},purple:{bg:"bg-purple-100",text:"text-purple-600",border:"border-purple-500"},pink:{bg:"bg-pink-100",text:"text-pink-600",border:"border-pink-200"},slate:{bg:"bg-slate-100",text:"text-slate-600",border:"border-slate-200"}};function H_(){const t=we(),{currentTier:s,refreshUsage:r}=ds(),[n,a]=h.useState(null),l=async o=>{if(o!=="free"){if(o==="enterprise"){window.location.href="mailto:sales@trucal.xyz?subject=Enterprise%20Inquiry";return}a(o);try{const c=await _.post("/billing/create-checkout",{plan:o});c.data.checkout_url?(r&&r(),t("/settings?upgraded=true")):c.data.url&&(window.location.href=c.data.url)}catch(c){console.error("Upgrade error:",c),alert("Failed to process upgrade. Please try again.")}finally{a(null)}}},i=!!localStorage.getItem("token");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 py-12 px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[e.jsxs(gt,{to:i?"/dashboard":"/",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Back to ",i?"Dashboard":"Home"]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, transparent pricing"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Start free, upgrade when you need more. No hidden fees."})]}),e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-6",children:V_.map(o=>{const c=o.icon,d=s===o.id,u=W_[o.color];return e.jsxs("div",{className:`relative bg-white/80 backdrop-blur-xl rounded-2xl border-2 p-6 flex flex-col transition-all ${o.popular?"border-purple-500 shadow-xl shadow-purple-500/20 hover:shadow-2xl hover:shadow-purple-500/30":u.border+" hover:shadow-xl hover:shadow-purple-200/20"}`,children:[o.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-purple-500 text-white text-xs font-bold rounded-full",children:"MOST POPULAR"}),e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${u.bg} mb-4`,children:e.jsx(c,{className:`h-6 w-6 ${u.text}`})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:o.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.description}),e.jsx("div",{className:"mt-4 mb-6",children:typeof o.price=="number"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",o.price]}),e.jsx("span",{className:"text-gray-500",children:o.period})]}):e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:o.price})}),e.jsx("ul",{className:"space-y-3 flex-1",children:o.features.map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2",children:[m.included?e.jsx(de,{className:"h-5 w-5 text-green-500 flex-shrink-0"}):e.jsx(Pe,{className:"h-5 w-5 text-gray-300 flex-shrink-0"}),e.jsx("span",{className:m.included?"text-gray-700 text-sm":"text-gray-400 text-sm",children:m.text})]},p))}),e.jsx("button",{onClick:()=>l(o.id),disabled:d||n===o.id,className:`mt-6 w-full py-3 rounded-xl font-semibold transition-all ${d?"bg-gray-100 text-gray-500 cursor-default":o.popular?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5":"bg-gray-900 text-white hover:bg-gray-800"}`,children:n===o.id?"Loading...":d?"Current Plan":o.cta})]},o.id)})}),e.jsx("div",{className:"mt-16 text-center",children:e.jsx("p",{className:"text-gray-500",children:"All plans include SSL encryption, 99.9% uptime, and email support."})})]})]})}function z0(){const t=we(),s=pa(),[r,n]=h.useState([]),[a,l]=h.useState([]),[i,o]=h.useState({totalAttendees:0,totalMeetings:0,avgMeetings:0}),[c,d]=h.useState(!0),[u,m]=h.useState(""),[p,w]=h.useState("meeting_count_desc"),[x,v]=h.useState(null),[j,f]=h.useState(!1),[b,g]=h.useState(null),[y,N]=h.useState(""),[C,S]=h.useState(!1);h.useEffect(()=>{k()},[]);const k=async()=>{try{d(!0);const[O,D]=await Promise.all([_.attendees.getAll(),_.attendees.getStats()]);n(O.data||[]),o(D.data||{totalAttendees:0,totalMeetings:0,avgMeetings:0})}catch(O){console.error("Failed to load attendees:",O),s.error("Failed to load attendee profiles")}finally{d(!1)}};h.useEffect(()=>{let O=[...r];if(u){const D=u.toLowerCase();O=O.filter(A=>{var F,z,Q;return((F=A.name)==null?void 0:F.toLowerCase().includes(D))||((z=A.email)==null?void 0:z.toLowerCase().includes(D))||((Q=A.company)==null?void 0:Q.toLowerCase().includes(D))})}switch(p){case"meeting_count_desc":O.sort((D,A)=>A.meeting_count-D.meeting_count);break;case"meeting_count_asc":O.sort((D,A)=>D.meeting_count-A.meeting_count);break;case"last_meeting_desc":O.sort((D,A)=>new Date(A.last_meeting_date)-new Date(D.last_meeting_date));break;case"last_meeting_asc":O.sort((D,A)=>new Date(D.last_meeting_date)-new Date(A.last_meeting_date));break;case"total_time_desc":O.sort((D,A)=>A.total_meeting_minutes-D.total_meeting_minutes);break;case"total_time_asc":O.sort((D,A)=>D.total_meeting_minutes-A.total_meeting_minutes);break;case"name_asc":O.sort((D,A)=>(D.name||D.email).localeCompare(A.name||A.email));break}l(O)},[r,u,p]);const T=async O=>{var D;try{f(!0);const A=await _.attendees.getByEmail(O);g(A.data),N(((D=A.data.profile)==null?void 0:D.notes)||"")}catch(A){console.error("Failed to load attendee details:",A),s.error("Failed to load attendee details")}finally{f(!1)}},L=O=>{v(O),T(O.email)},E=()=>{v(null),g(null),N("")},V=async()=>{if(x)try{S(!0),await _.attendees.updateNotes(x.email,y),n(O=>O.map(D=>D.email===x.email?{...D,notes:y}:D)),b&&g({...b,profile:{...b.profile,notes:y}}),s.success("Notes saved successfully")}catch(O){console.error("Failed to save notes:",O),s.error("Failed to save notes")}finally{S(!1)}},R=(O,D)=>{if(O){const A=O.split(" ");return A.length>=2?(A[0][0]+A[1][0]).toUpperCase():O.substring(0,2).toUpperCase()}return D.substring(0,2).toUpperCase()},M=O=>{if(O<60)return`${O}m`;const D=Math.floor(O/60),A=O%60;return A>0?`${D}h ${A}m`:`${D}h`},H=O=>{if(!O)return"N/A";const D=new Date(O),F=Math.floor((new Date-D)/(1e3*60*60*24));return F===0?"Today":F===1?"Yesterday":F<7?`${F} days ago`:F<30?`${Math.floor(F/7)} weeks ago`:F<365?`${Math.floor(F/30)} months ago`:D.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return c?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center",children:e.jsx(ne,{className:"h-8 w-8 text-purple-600 animate-spin"})}):e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-white/20 shadow-lg relative z-10",children:e.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-xl",children:e.jsx(Le,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relationship Insights"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your attendee relationships"})]})]}),e.jsx("button",{onClick:()=>t("/dashboard"),className:"px-5 py-2.5 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold",children:"Back to Dashboard"})]})})}),e.jsxs("main",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 py-8 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-5 border border-white/20 shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Attendees"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.totalAttendees||a.length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(Le,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-5 border border-white/20 shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Meetings"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.totalMeetings||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-5 border border-white/20 shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Avg Meetings/Attendee"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.avgMeetings?i.avgMeetings.toFixed(1):"0"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(nr,{className:"h-6 w-6 text-green-600"})})]})})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-6 border border-white/20 shadow-xl mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or company...",value:u,onChange:O=>m(O.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all"})]}),e.jsxs("div",{className:"relative min-w-[200px]",children:[e.jsxs("select",{value:p,onChange:O=>w(O.target.value),className:"w-full appearance-none px-4 py-3 pr-10 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all cursor-pointer",children:[e.jsx("option",{value:"meeting_count_desc",children:"Most Meetings"}),e.jsx("option",{value:"meeting_count_asc",children:"Fewest Meetings"}),e.jsx("option",{value:"last_meeting_desc",children:"Recently Met"}),e.jsx("option",{value:"last_meeting_asc",children:"Least Recently Met"}),e.jsx("option",{value:"total_time_desc",children:"Most Time Spent"}),e.jsx("option",{value:"total_time_asc",children:"Least Time Spent"}),e.jsx("option",{value:"name_asc",children:"Name (A-Z)"})]}),e.jsx(Sl,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]})}),a.length===0?e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-12 border border-white/20 shadow-xl text-center",children:[e.jsx(Le,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium text-lg",children:"No attendees found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:u?"Try adjusting your search":"Your attendee relationships will appear here"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(O=>e.jsxs("div",{onClick:()=>L(O),className:"bg-white/80 backdrop-blur-xl rounded-2xl p-5 border-2 border-gray-200 hover:border-purple-400 shadow-lg hover:shadow-xl transition-all cursor-pointer hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-lg font-bold shadow-md flex-shrink-0",children:R(O.name,O.email)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 truncate",children:O.name||O.email}),O.name&&e.jsx("p",{className:"text-sm text-gray-600 truncate",children:O.email}),O.company&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:O.company})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[e.jsx(se,{className:"h-4 w-4"}),"Meetings"]}),e.jsx("span",{className:"font-semibold text-purple-600",children:O.meeting_count||0})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[e.jsx(he,{className:"h-4 w-4"}),"Total Time"]}),e.jsx("span",{className:"font-semibold text-blue-600",children:M(O.total_meeting_minutes||0)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[e.jsx(nr,{className:"h-4 w-4"}),"Last Met"]}),e.jsx("span",{className:"font-semibold text-green-600",children:H(O.last_meeting_date)})]})]}),O.notes&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 flex items-start gap-1",children:[e.jsx(hs,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-2",children:O.notes})]})})]},O.email))})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-8 rounded-t-3xl shadow-lg z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Attendee Details"}),e.jsx("button",{onClick:E,className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-all",children:e.jsx(Pe,{className:"h-6 w-6 text-white"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center text-white text-3xl font-bold",children:R(x.name,x.email)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:x.name||x.email}),e.jsxs("p",{className:"text-purple-100 flex items-center gap-2 mt-1",children:[e.jsx(Te,{className:"h-4 w-4"}),x.email]}),(x.company||x.title)&&e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-purple-100",children:[x.company&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(O2,{className:"h-4 w-4"}),x.company]}),x.title&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($2,{className:"h-4 w-4"}),x.title]})]})]})]})]}),e.jsx("div",{className:"p-6",children:j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ne,{className:"h-8 w-8 text-purple-600 animate-spin"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 text-center border border-purple-100",children:[e.jsx(se,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.meeting_count||0}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Meetings"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 text-center border border-blue-100",children:[e.jsx(he,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M(x.total_meeting_minutes||0)}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Total Time"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 text-center border border-green-100",children:[e.jsx(nr,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:H(x.last_meeting_date)}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Last Met"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Notes about ",x.name||"this person"]}),e.jsx("textarea",{value:y,onChange:O=>N(O.target.value),placeholder:"Add notes about your relationship, preferences, or conversation topics...",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-400 focus:ring-2 focus:ring-purple-200 transition-all min-h-[120px]"}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("button",{onClick:V,disabled:C,className:"px-5 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):"Save Notes"})})]}),(b==null?void 0:b.recentMeetings)&&b.recentMeetings.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),"Recent Meetings"]}),e.jsx("div",{className:"space-y-2",children:b.recentMeetings.map(O=>e.jsx("div",{className:"p-4 bg-white rounded-xl border border-gray-200 hover:border-purple-300 transition-all cursor-pointer",onClick:()=>{t(`/bookings?id=${O.id}`),E()},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:O.title||"Meeting"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[new Date(O.start_time).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),"  ",new Date(O.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${O.status==="confirmed"?"bg-green-100 text-green-800":O.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:O.status})]})},O.id))})]})]})})]})})]})}function G_(){const t=we(),{showUpgradeModal:s,hasTeamFeature:r,currentTier:n,loading:a}=ds(),[l,i]=h.useState([]),[o,c]=h.useState(!0),[d,u]=h.useState(!1),[m,p]=h.useState(null),[w,x]=h.useState({name:"",description:""}),[v,j]=h.useState(null),[f,b]=h.useState(null),[g,y]=h.useState(null),[N,C]=h.useState(!1),S=h.useRef(null),k=D=>{if(!D)return!1;if(D.is_personal===!0)return!0;const A=(D.name||"").toLowerCase();return!!(A.includes("personal")&&A.includes("booking"))},T=async()=>{try{const z=[...((await gs.getAll()).data.teams||[]).filter(Q=>!k(Q))].sort((Q,ue)=>(Q.name||"").localeCompare(ue.name||""));i(z)}catch(D){console.error(" Error loading teams:",D)}finally{c(!1)}},L=D=>k(D)?D.booking_token?{url:`${window.location.origin}/book/${D.booking_token}`,token:D.booking_token}:null:D.team_booking_token?{url:`${window.location.origin}/book/${D.team_booking_token}`,token:D.team_booking_token}:null,E=D=>{const A=L(D);if(!A){alert(" Booking link not available. Please refresh the page or contact support.");return}navigator.clipboard.writeText(A.url).then(()=>{p(A.token),setTimeout(()=>p(null),2e3)}).catch(F=>{console.error(" Failed to copy:",F),alert("Failed to copy link. Please try again.")})},V=async D=>{D.preventDefault();try{await gs.create(w),u(!1),x({name:"",description:""}),T()}catch(A){console.error(" Error creating team:",A),alert("Failed to create team. Please try again.")}},R=async D=>{if(D.preventDefault(),!!f){C(!0);try{await gs.update(f.id,{name:f.name,description:f.description}),b(null),T()}catch(A){console.error(" Error updating team:",A),alert("Failed to update team. Please try again.")}finally{C(!1)}}},M=async D=>{C(!0);try{await gs.delete(D),y(null),T()}catch(A){console.error(" Error deleting team:",A),alert("Failed to delete team. Please try again.")}finally{C(!1)}},H=D=>{const A=L(D);A&&window.open(A.url,"_blank"),j(null)};if(h.useEffect(()=>{T()},[]),h.useEffect(()=>{const D=A=>{S.current&&!S.current.contains(A.target)&&j(null)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),!r())return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 relative z-10",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 md:p-12 text-center border-2 border-white/20 hover:shadow-purple-200/30 transition-all",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Le,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Team Features"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Create teams, add members, and manage group scheduling with round-robin and collective booking modes."}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-4",children:"What you get with Team plan:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Create unlimited teams"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Up to 10 team members per team"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Round-robin booking mode"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Collective team scheduling"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Team booking links"]})]})]}),e.jsx("button",{onClick:()=>s("teams"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all font-semibold text-lg shadow-lg",children:"Upgrade to Team Plan - $25/month"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Currently on: ",e.jsx("span",{className:"font-medium capitalize",children:n})," plan"]})]})})]});const O=({team:D})=>{const A=k(D),F=L(D),z=v===D.id;return e.jsxs("div",{className:"relative",ref:z?S:null,children:[e.jsx("button",{onClick:Q=>{Q.stopPropagation(),j(z?null:D.id)},className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors",children:e.jsx(yb,{className:"h-4 w-4 text-white"})}),z&&e.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsxs("button",{onClick:()=>{t(`/teams/${D.id}/settings`),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(dr,{className:"h-4 w-4 text-gray-500"}),"Team Settings"]}),!A&&e.jsxs("button",{onClick:()=>{b({...D}),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(zm,{className:"h-4 w-4 text-gray-500"}),"Edit Team"]}),F&&e.jsxs("button",{onClick:()=>H(D),className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(St,{className:"h-4 w-4 text-gray-500"}),"Open Booking Page"]}),F&&e.jsxs("button",{onClick:()=>{E(D),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(zt,{className:"h-4 w-4 text-gray-500"}),"Copy Booking Link"]}),!A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 my-2"}),e.jsxs("button",{onClick:()=>{y(D),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors",children:[e.jsx(yt,{className:"h-4 w-4"}),"Delete Team"]})]})]})]})};return o?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading teams..."})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[e.jsx(Le,{className:"h-8 w-8 text-purple-600"}),"Teams"]}),e.jsx("p",{className:"text-gray-600",children:"Manage your scheduling teams and members"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center gap-2 font-semibold shadow-lg",children:[e.jsx(vt,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Create Team"})]})]}),l.length===0?e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-12 text-center border-2 border-white/20 hover:shadow-purple-200/30 transition-all",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Le,{className:"h-10 w-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No teams yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create your first team to start managing group bookings"}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all inline-flex items-center gap-2 font-semibold shadow-lg",children:[e.jsx(vt,{className:"h-5 w-5"}),"Create Your First Team"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(D=>{var Q;const A=k(D),F=L(D),z=!!F;return e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl hover:shadow-2xl hover:shadow-purple-200/30 transition-all border-2 border-white/20 overflow-hidden hover:-translate-y-1",children:[e.jsxs("div",{className:`p-6 relative ${A?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:[A&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"bg-white/30 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(Jo,{className:"h-3 w-3 fill-white"}),"Personal"]})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(O,{team:D})}),e.jsx("div",{className:`w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 ${A?"mt-8":""}`,children:e.jsx(Le,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:D.name}),e.jsx("p",{className:`text-sm line-clamp-2 ${A?"text-green-100":"text-blue-100"}`,children:D.description||"No description"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.member_count||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.booking_count||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bookings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((Q=D.booking_mode)==null?void 0:Q.substring(0,2).toUpperCase())||"RR"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Mode"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>t(`/teams/${D.id}/members`),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-3 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 font-semibold shadow-lg",children:[e.jsx(dr,{className:"h-4 w-4"}),"Manage Team"]}),e.jsx("button",{onClick:()=>E(D),disabled:!z,className:`w-full px-4 py-3 rounded-xl transition-all flex items-center justify-center gap-2 font-semibold shadow-lg ${z?m===(F==null?void 0:F.token)?"bg-green-600 text-white":"bg-white/80 text-gray-700 hover:bg-white hover:shadow-xl hover:-translate-y-0.5 border-2 border-gray-200":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:z?m===(F==null?void 0:F.token)?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-4 w-4"}),"Copy ",A?"Link":"Team Link"]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4"}),"No Link"]})})]})]})]},D.id)})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl max-w-md w-full p-8 shadow-2xl border-2 border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Team"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Pe,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name *"}),e.jsx("input",{type:"text",required:!0,value:w.name,onChange:D=>x({...w,name:D.target.value}),placeholder:"Sales Team",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:w.description,onChange:D=>x({...w,description:D.target.value}),placeholder:"Book time with our sales team",rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 hover:-translate-y-0.5 font-semibold transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 font-semibold transition-all shadow-lg",children:"Create"})]})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl max-w-md w-full p-8 shadow-2xl border-2 border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Team"}),e.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Pe,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name *"}),e.jsx("input",{type:"text",required:!0,value:f.name,onChange:D=>b({...f,name:D.target.value}),placeholder:"Sales Team",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:f.description||"",onChange:D=>b({...f,description:D.target.value}),placeholder:"Book time with our sales team",rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>b(null),disabled:N,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 hover:-translate-y-0.5 font-semibold transition-all disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg",children:N?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl max-w-md w-full p-8 shadow-2xl border-2 border-white/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(yt,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delete Team?"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:g.name}),"? This action cannot be undone. All team members will be removed."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>y(null),disabled:N,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 hover:-translate-y-0.5 font-semibold transition-all disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:()=>M(g.id),disabled:N,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 hover:shadow-2xl hover:shadow-red-200/50 hover:-translate-y-0.5 font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg",children:N?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-4 w-4"}),"Delete Team"]})})]})]})})})]})}function q_(){const{teamId:t}=Ls(),s=we(),[r,n]=h.useState(!0),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState({name:"",description:"",duration:30,mode:"round-robin",bufferTime:0,leadTime:60});h.useEffect(()=>{u()},[t]);const u=async()=>{try{const x=(await gs.getAll()).data.teams.find(v=>v.id===parseInt(t));d(x||c)}catch(w){console.error("Error loading team:",w)}finally{n(!1)}},m=async()=>{try{l(!0),await gs.update(t,c),o(!0),setTimeout(()=>o(!1),2e3)}catch(w){console.error("Error saving team:",w)}finally{l(!1)}},p=async()=>{if(confirm("Are you sure you want to delete this team? This cannot be undone."))try{await gs.delete(t),s("/teams")}catch(w){console.error("Error deleting team:",w)}};return r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>s("/teams"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 font-semibold",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Back to Teams"]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Team Settings"}),e.jsx("p",{className:"text-gray-600",children:"Configure your team's booking preferences"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden border-2 border-white/20 hover:shadow-purple-200/30 transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:e.jsx(dr,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:c.name}),e.jsx("p",{className:"text-blue-100",children:c.description})]})]})}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Le,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name"}),e.jsx("input",{type:"text",value:c.name,onChange:w=>d({...c,name:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Sales Team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:w=>d({...c,description:w.target.value}),rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all",placeholder:"Book time with our sales team"})]})]}),e.jsxs("div",{className:"space-y-6 pt-6 border-t-2 border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-purple-600"}),"Scheduling Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Meeting Duration (minutes)"}),e.jsx("input",{type:"number",value:c.duration,onChange:w=>d({...c,duration:parseInt(w.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Scheduling Mode"}),e.jsxs("select",{value:c.mode,onChange:w=>d({...c,mode:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"round-robin",children:"Round Robin"}),e.jsx("option",{value:"collective",children:"Collective"}),e.jsx("option",{value:"first-available",children:"First Available"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Buffer Time (minutes)"}),e.jsx("input",{type:"number",value:c.bufferTime,onChange:w=>d({...c,bufferTime:parseInt(w.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Lead Time (minutes)"}),e.jsx("input",{type:"number",value:c.leadTime,onChange:w=>d({...c,leadTime:parseInt(w.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-100 rounded-xl p-6",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"Scheduling Mode Explained"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"Round Robin:"}),e.jsx("span",{children:"Distributes bookings evenly among team members."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"Collective:"}),e.jsx("span",{children:"All team members must be available for the meeting."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"First Available:"}),e.jsx("span",{children:"Books with the first available team member."})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:m,disabled:a,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 font-bold disabled:opacity-50 shadow-lg",children:a?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Saving..."]}):i?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-5 w-5"}),"Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Vr,{className:"h-5 w-5"}),"Save Changes"]})}),e.jsxs("button",{onClick:p,className:"bg-white/80 border-2 border-red-500 text-red-600 px-8 py-4 rounded-xl hover:bg-red-50 hover:shadow-2xl hover:shadow-red-200/50 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 font-bold shadow-lg",children:[e.jsx(yt,{className:"h-5 w-5"}),"Delete Team"]})]})]})]})}function Y_({isOpen:t,onClose:s,member:r,teamId:n,onSave:a}){var u,m;const[l,i]=h.useState({name:"",role:"member",priority:1,is_active:!0}),[o,c]=h.useState(!1);h.useEffect(()=>{r&&i({name:r.user_name||r.name||"",role:r.role||"member",priority:r.priority||1,is_active:r.is_active!==!1})},[r]);const d=async p=>{var w,x;if(p.preventDefault(),!!r){c(!0);try{const v=await _.patch(`/teams/${n}/members/${r.id}`,{name:l.name||null,role:l.role,priority:parseInt(l.priority,10),is_active:l.is_active});a&&a(v.data.member),alert("Member updated successfully!"),s()}catch(v){console.error("Error updating member:",v),alert(((x=(w=v.response)==null?void 0:w.data)==null?void 0:x.error)||"Failed to update member")}finally{c(!1)}}};return!t||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Rt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Member Settings"}),e.jsx("p",{className:"text-blue-100 text-sm",children:r.user_name||r.name||r.email})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Pe,{className:"h-5 w-5 text-white"})})]})}),e.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:((u=r.user_name)==null?void 0:u.charAt(0))||((m=r.name)==null?void 0:m.charAt(0))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:r.user_name||r.name||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:r.user_email||r.email})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Display Name (Optional)"]})}),e.jsx("input",{type:"text",value:l.name,onChange:p=>i({...l,name:p.target.value}),placeholder:"Leave empty to use account name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Override the name from their account for this team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Role"]})}),e.jsxs("select",{value:l.role,onChange:p=>i({...l,role:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admins can manage team settings and members"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"h-4 w-4"}),"Priority"]})}),e.jsx("input",{type:"number",min:"1",max:"100",value:l.priority,onChange:p=>i({...l,priority:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority members get bookings first in round-robin mode"})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.is_active,onChange:p=>i({...l,is_active:p.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Active Member"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Inactive members won't receive bookings"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,disabled:o,className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vr,{className:"h-4 w-4"}),"Save Changes"]})})]})]})]})})}function K_(){const{teamId:t}=Ls(),s=we(),[r,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState([]),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[p,w]=h.useState(null),[x,v]=h.useState({email:"",name:"",role:"member"}),[j,f]=h.useState(null),[b,g]=h.useState("month"),[y,N]=h.useState(!1),C=async()=>{if(t){N(!0);try{const M=await _.get(`/teams/${t}/booking-stats?period=${b}`);f(M.data)}catch(M){console.error("Failed to fetch booking stats:",M)}finally{N(!1)}}};h.useEffect(()=>{S()},[t]),h.useEffect(()=>{C()},[t,b]);const S=async()=>{try{const[M,H]=await Promise.all([gs.getAll(),gs.getMembers(t)]),O=M.data.teams.find(D=>D.id===parseInt(t,10));l(O||null),o(H.data.members||[])}catch(M){console.error("Error loading team members:",M)}finally{n(!1)}},k=async M=>{var H,O;if(M.preventDefault(),!x.email){alert("Email is required");return}try{const D=await _.post(`/teams/${t}/members`,{email:x.email,name:x.name||null,role:x.role});d(!1),v({email:"",name:"",role:"member"}),alert(" Invitation sent to "+x.email+"! They will appear as a member once they accept.")}catch(D){console.error("Error adding member:",D);const A=((O=(H=D.response)==null?void 0:H.data)==null?void 0:O.error)||"Failed to add member";A.includes("already exists")?alert(" This member already exists in the team!"):alert(`Error: ${A}`)}},T=async M=>{if(window.confirm("Remove this member from the team?"))try{await gs.removeMember(t,M),S()}catch(H){console.error("Error removing member:",H)}},L=async(M,H)=>{try{await gs.updateMemberStatus(t,M,!H),S()}catch(O){console.error("Error updating member:",O)}},E=M=>{if(!M)return;const H=`${window.location.origin}/book/${M}`;navigator.clipboard.writeText(H),alert("Booking link copied to clipboard!")},V=M=>{w(M),m(!0)},R=M=>{o(i.map(H=>H.id===M.id?{...H,...M}:H))};return r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>s("/teams"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 font-semibold",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Back to Teams"]}),e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Team Members"}),e.jsxs("p",{className:"text-gray-600",children:[(a==null?void 0:a.name)||"Team","  Manage your team members"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>s(`/teams/${t}/settings`),className:"bg-white border-2 border-gray-300 text-gray-700 px-5 py-2.5 rounded-xl hover:bg-gray-50 transition-all flex items-center gap-2 font-semibold",children:[e.jsx(dr,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Team Settings"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-5 py-2.5 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center gap-2 font-semibold shadow-lg",children:[e.jsx(vt,{className:"h-5 w-5"}),"Add Member"]})]})]})]}),j&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 p-6 mb-6 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(kl,{className:"h-5 w-5 text-blue-600"}),"Booking Distribution"]}),e.jsxs("select",{value:b,onChange:M=>g(M.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5",children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:j.summary.total_bookings})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Avg per Member"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:j.summary.average_per_member})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Team Size"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:j.summary.total_members})]}),e.jsxs("div",{className:`rounded-lg p-3 ${j.summary.fairness_status==="even"?"bg-green-50":j.summary.fairness_status==="moderate"?"bg-yellow-50":"bg-red-50"}`,children:[e.jsx("p",{className:`text-xs font-medium ${j.summary.fairness_status==="even"?"text-green-600":j.summary.fairness_status==="moderate"?"text-yellow-600":"text-red-600"}`,children:"Distribution"}),e.jsx("p",{className:`text-lg font-bold flex items-center gap-1 ${j.summary.fairness_status==="even"?"text-green-900":j.summary.fairness_status==="moderate"?"text-yellow-900":"text-red-900"}`,children:j.summary.fairness_status==="even"?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-5 w-5"})," Even"]}):j.summary.fairness_status==="moderate"?e.jsxs(e.Fragment,{children:[e.jsx(Nl,{className:"h-5 w-5"})," Moderate"]}):e.jsxs(e.Fragment,{children:[e.jsx(Nl,{className:"h-5 w-5"})," Uneven"]})})]})]}),e.jsx("div",{className:"space-y-3",children:j.members.map(M=>{const H=Math.max(...j.members.map(D=>parseInt(D.total_bookings)||0),1),O=(parseInt(M.total_bookings)||0)/H*100;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-32 truncate text-sm font-medium text-gray-700",children:M.member_name}),e.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-6 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-full rounded-full flex items-center justify-end px-2 transition-all duration-500",style:{width:`${Math.max(O,5)}%`},children:e.jsx("span",{className:"text-xs font-bold text-white",children:M.total_bookings})})}),e.jsxs("div",{className:"w-20 text-right text-xs text-gray-500",children:[Math.round(parseInt(M.total_minutes)/60),"h booked"]})]},M.member_id)})})]}),i.length===0?e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-12 text-center border-2 border-white/20 hover:shadow-purple-200/30 transition-all",children:[e.jsx(Le,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No members yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add team members to start scheduling"}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all inline-flex items-center gap-2 font-semibold shadow-lg",children:[e.jsx(vt,{className:"h-5 w-5"}),"Add Your First Member"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(M=>{var H,O;return e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all border-2 border-white/20 overflow-hidden hover:-translate-y-1",children:[e.jsx("div",{className:"p-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center text-white font-bold text-xl flex-shrink-0 shadow-lg",children:((H=M.user_name)==null?void 0:H.charAt(0))||((O=M.name)==null?void 0:O.charAt(0))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 truncate",children:M.user_name||M.name||"Unknown"}),M.role==="admin"&&e.jsx(Ms,{className:"h-4 w-4 text-yellow-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:M.user_email||M.email})]})]})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[M.is_active?e.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2.5 py-1 rounded-full text-xs font-semibold",children:[e.jsx(xe,{className:"h-3 w-3"}),"Active"]}):e.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-semibold",children:[e.jsx($t,{className:"h-3 w-3"}),"Inactive"]}),e.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2.5 py-1 rounded-full text-xs font-semibold capitalize",children:[e.jsx(At,{className:"h-3 w-3"}),M.role||"member"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.booking_count||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Bookings"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.priority||1}),e.jsx("p",{className:"text-xs text-gray-500",children:"Priority"})]})]}),e.jsx("div",{className:"mb-4",children:M.booking_token?e.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("span",{className:"text-xs text-blue-700 font-mono truncate",children:["/book/",M.booking_token.substring(0,12),"..."]}),e.jsxs("button",{onClick:()=>E(M.booking_token),className:"flex items-center gap-1 text-xs bg-blue-600 text-white px-2.5 py-1 rounded-lg hover:bg-blue-700 transition-colors font-medium flex-shrink-0",children:[e.jsx(zt,{className:"h-3 w-3"}),"Copy"]})]})}):e.jsx("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:"No booking link yet"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>V(M),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2.5 rounded-xl hover:shadow-lg transition-all text-sm font-semibold flex items-center justify-center gap-2",children:[e.jsx(dr,{className:"h-4 w-4"}),"Member Settings"]}),e.jsxs("button",{onClick:()=>s(`/teams/${t}/members/${M.id}/availability`),className:"w-full bg-blue-50 text-blue-700 px-4 py-2 rounded-xl hover:bg-blue-100 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Availability"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>L(M.id,M.is_active),className:`flex-1 px-4 py-2 rounded-xl transition-colors text-sm font-semibold ${M.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:M.is_active?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>T(M.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors",title:"Remove member",children:e.jsx(yt,{className:"h-4 w-4"})})]})]})]})]},M.id)})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Add Team Member"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Email Address"]})}),e.jsx("input",{type:"email",required:!0,value:x.email,onChange:M=>v({...x,email:M.target.value}),placeholder:"member@example.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Role"]})}),e.jsxs("select",{value:x.role,onChange:M=>v({...x,role:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all",children:"Add Member"})]})]})]})}),e.jsx(Y_,{isOpen:u,onClose:()=>{m(!1),w(null)},member:p,teamId:parseInt(t,10),onSave:R})]})}const ld=[{value:"America/New_York",label:"Eastern Time (ET)",offset:"UTC-5"},{value:"America/Chicago",label:"Central Time (CT)",offset:"UTC-6"},{value:"America/Denver",label:"Mountain Time (MT)",offset:"UTC-7"},{value:"America/Los_Angeles",label:"Pacific Time (PT)",offset:"UTC-8"},{value:"America/Anchorage",label:"Alaska Time (AKT)",offset:"UTC-9"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",offset:"UTC-10"},{value:"Europe/London",label:"London (GMT)",offset:"UTC+0"},{value:"Europe/Paris",label:"Paris (CET)",offset:"UTC+1"},{value:"Europe/Berlin",label:"Berlin (CET)",offset:"UTC+1"},{value:"Europe/Madrid",label:"Madrid (CET)",offset:"UTC+1"},{value:"Europe/Rome",label:"Rome (CET)",offset:"UTC+1"},{value:"Europe/Athens",label:"Athens (EET)",offset:"UTC+2"},{value:"Europe/Moscow",label:"Moscow (MSK)",offset:"UTC+3"},{value:"Asia/Dubai",label:"Dubai (GST)",offset:"UTC+4"},{value:"Asia/Kolkata",label:"India (IST)",offset:"UTC+5:30"},{value:"Asia/Bangkok",label:"Bangkok (ICT)",offset:"UTC+7"},{value:"Asia/Singapore",label:"Singapore (SGT)",offset:"UTC+8"},{value:"Asia/Manila",label:"Manila (PHT)",offset:"UTC+8"},{value:"Asia/Hong_Kong",label:"Hong Kong (HKT)",offset:"UTC+8"},{value:"Asia/Shanghai",label:"Shanghai (CST)",offset:"UTC+8"},{value:"Asia/Tokyo",label:"Tokyo (JST)",offset:"UTC+9"},{value:"Asia/Seoul",label:"Seoul (KST)",offset:"UTC+9"},{value:"Australia/Perth",label:"Perth (AWST)",offset:"UTC+8"},{value:"Australia/Adelaide",label:"Adelaide (ACST)",offset:"UTC+9:30"},{value:"Australia/Brisbane",label:"Brisbane (AEST)",offset:"UTC+10"},{value:"Australia/Sydney",label:"Sydney (AEDT)",offset:"UTC+11"},{value:"Australia/Melbourne",label:"Melbourne (AEDT)",offset:"UTC+11"},{value:"Pacific/Auckland",label:"Auckland (NZDT)",offset:"UTC+13"},{value:"Pacific/Fiji",label:"Fiji (FJT)",offset:"UTC+12"}],J_=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return console.error("Failed to detect timezone:",t),"America/New_York"}};function Q_({value:t,onChange:s,showLabel:r=!0}){var m;const[n,a]=h.useState(!1),[l,i]=h.useState(""),[o,c]=h.useState(null);h.useEffect(()=>{const p=J_();c(p),!t&&s&&s(p)},[]);const d=ld.filter(p=>p.label.toLowerCase().includes(l.toLowerCase())||p.value.toLowerCase().includes(l.toLowerCase())),u=ld.find(p=>p.value===t);return e.jsxs("div",{className:"relative",children:[r&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Dt,{className:"inline h-4 w-4 mr-1"}),"Timezone"]}),e.jsx("button",{type:"button",onClick:()=>a(!n),className:"w-full px-4 py-3 text-left bg-white border-2 border-gray-300 rounded-xl hover:border-blue-500 focus:border-blue-500 focus:outline-none transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:(u==null?void 0:u.label)||"Select timezone"}),e.jsx("p",{className:"text-xs text-gray-500",children:(u==null?void 0:u.offset)||"Choose your timezone"})]})]}),e.jsx("svg",{className:`h-5 w-5 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),e.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-96 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Search timezones...",value:l,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})}),o&&o!==t&&e.jsx("div",{className:"p-2 bg-blue-50 border-b border-blue-100",children:e.jsx("button",{type:"button",onClick:()=>{s(o),a(!1)},className:"w-full text-left px-3 py-2 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bn,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Use detected timezone"}),e.jsx("p",{className:"text-xs text-blue-700",children:(m=ld.find(p=>p.value===o))==null?void 0:m.label})]})]})})}),e.jsx("div",{className:"overflow-y-auto max-h-80",children:d.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No timezones found"}):d.map(p=>e.jsx("button",{type:"button",onClick:()=>{s(p.value),a(!1),i("")},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0 ${t===p.value?"bg-blue-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium ${t===p.value?"text-blue-600":"text-gray-900"}`,children:p.label}),e.jsx("p",{className:"text-xs text-gray-500",children:p.offset})]}),t===p.value&&e.jsx(de,{className:"h-5 w-5 text-blue-600"})]})},p.value))})]})]})]})}function X_(){const{teamId:t,memberId:s}=Ls(),r=we(),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState("America/New_York"),[m,p]=h.useState(0),[w,x]=h.useState(0),[v,j]=h.useState(30),[f,b]=h.useState(null),[g,y]=h.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[N,C]=h.useState([]),[S,k]=h.useState(null),T=[{key:"monday",label:"Mon",full:"Monday"},{key:"tuesday",label:"Tue",full:"Tuesday"},{key:"wednesday",label:"Wed",full:"Wednesday"},{key:"thursday",label:"Thu",full:"Thursday"},{key:"friday",label:"Fri",full:"Friday"},{key:"saturday",label:"Sat",full:"Saturday"},{key:"sunday",label:"Sun",full:"Sunday"}],L=[{value:0,label:"None",desc:"Back-to-back OK"},{value:5,label:"5min",desc:"Quick break"},{value:10,label:"10min",desc:"Short buffer"},{value:15,label:"15min",desc:"Standard"},{value:30,label:"30min",desc:"Extended"},{value:60,label:"1hr",desc:"Full hour"}],E=[{value:0,label:"None",desc:"Instant booking"},{value:2,label:"2hrs",desc:"Same day OK"},{value:4,label:"4hrs",desc:"Half day notice"},{value:24,label:"24hrs",desc:"1 day notice"},{value:48,label:"48hrs",desc:"2 days notice"},{value:168,label:"1wk",desc:"Weekly planning"}],V=[{value:7,label:"1wk",desc:"Short term"},{value:14,label:"2wks",desc:"Biweekly"},{value:30,label:"1mo",desc:"Monthly"},{value:60,label:"2mo",desc:"Quarterly"},{value:90,label:"3mo",desc:"Long term"},{value:180,label:"6mo",desc:"Extended"}],R=[{value:null,label:"Unlimited",desc:"No limit"},{value:1,label:"1",desc:"One per day"},{value:2,label:"2",desc:"Two max"},{value:3,label:"3",desc:"Three max"},{value:5,label:"5",desc:"Five max"},{value:10,label:"10",desc:"Ten max"}],M=(X,P="success")=>{k({message:X,type:P}),setTimeout(()=>k(null),2e3)},H=X=>{if(!X)return"";const P=new Date(X),B=P.getFullYear(),Y=String(P.getMonth()+1).padStart(2,"0"),oe=String(P.getDate()).padStart(2,"0"),q=String(P.getHours()).padStart(2,"0"),G=String(P.getMinutes()).padStart(2,"0");return`${B}-${Y}-${oe}T${q}:${G}`};h.useEffect(()=>{O()},[s]);const O=async()=>{try{a(!0);const P=(await _.availability.getSettings(t,s)).data;c(P.member),p(P.member.buffer_time||0),x(P.member.lead_time_hours||0),j(P.member.booking_horizon_days||30),b(P.member.daily_booking_cap||null),P.member.working_hours&&y(P.member.working_hours);const B=(P.blocked_times||[]).map(Y=>({...Y,start_time:H(Y.start_time),end_time:H(Y.end_time)}));C(B);try{const Y=await _.timezone.getMemberTimezone(s);Y.data.timezone&&u(Y.data.timezone)}catch{console.warn("Timezone load failed (Backend 404 likely). Using default.")}}catch(X){console.error("Error loading availability:",X),M("Failed to load settings","error")}finally{a(!1)}},D=async()=>{var X,P;try{i(!0);const B=N.filter(oe=>oe.start_time&&oe.end_time).map(oe=>({start_time:new Date(oe.start_time).toISOString(),end_time:new Date(oe.end_time).toISOString(),reason:oe.reason||null})),Y={buffer_time:m,lead_time_hours:w,booking_horizon_days:v,daily_booking_cap:f,working_hours:g,blocked_times:B};console.log(" Saving availability to",`/team-members/${s}/availability`,Y),await _.availability.updateSettings(t,s,Y);try{console.log(" Saving member timezone to",`/team-members/${s}/timezone`,d),await _.timezone.updateMemberTimezone(s,d)}catch(oe){console.warn(" Timezone save failed (non-fatal):",(X=oe==null?void 0:oe.response)==null?void 0:X.status,((P=oe==null?void 0:oe.response)==null?void 0:P.data)||oe.message)}M(" Availability saved!")}catch(B){console.error(" Error saving availability:",B),B.response&&(console.error(" Status:",B.response.status),console.error(" Response data:",B.response.data)),M("Save failed","error")}finally{i(!1)}},A=X=>{y({...g,[X]:{...g[X],enabled:!g[X].enabled}})},F=(X,P,B)=>{y({...g,[X]:{...g[X],[P]:B}})},z=()=>{C([...N,{id:`temp-${Date.now()}`,start_time:"",end_time:"",reason:""}])},Q=X=>{C(N.filter((P,B)=>B!==X))},ue=(X,P,B)=>{const Y=[...N];Y[X][P]=B,C(Y)},Ce=()=>{const X={...g};Object.keys(X).forEach(P=>X[P].enabled=!0),y(X)},ge=()=>{const X={...g};X.saturday.enabled=!1,X.sunday.enabled=!1,Object.keys(X).forEach(P=>{P!=="saturday"&&P!=="sunday"&&(X[P].enabled=!0)}),y(X)};return n?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx(ne,{className:"h-10 w-10 animate-spin text-purple-600 mx-auto relative z-10"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-4 sm:p-8 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),S&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl shadow-2xl font-semibold ${S.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:[S.type==="error"?e.jsx(He,{className:"h-5 w-5"}):e.jsx(xe,{className:"h-5 w-5"}),S.message]})}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Qs,{className:"h-4 w-4"})," Back"]}),e.jsxs("button",{onClick:D,disabled:l,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-lg hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 disabled:opacity-50 flex items-center gap-2 transition-all",children:[l?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):e.jsx(Vr,{className:"h-4 w-4"}),"Save"]})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-xl p-6 rounded-xl shadow-lg border-2 border-white/20",children:e.jsx(Q_,{value:d,onChange:u})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border-2 border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center gap-3",children:[e.jsx(he,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Buffer Time"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Gap between meetings"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:L.map(X=>e.jsxs("button",{onClick:()=>p(X.value),className:`p-3 rounded-xl border-2 text-left transition-all ${m===X.value?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900",children:X.label}),e.jsx("p",{className:"text-xs text-gray-600",children:X.desc})]},X.value))})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border-2 border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 px-6 py-4 flex items-center gap-3",children:[e.jsx(Me,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Lead Time"}),e.jsx("p",{className:"text-green-100 text-sm",children:"Minimum notice required"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:E.map(X=>e.jsxs("button",{onClick:()=>x(X.value),className:`p-3 rounded-xl border-2 text-left transition-all ${w===X.value?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-green-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900",children:X.label}),e.jsx("p",{className:"text-xs text-gray-600",children:X.desc})]},X.value))})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border-2 border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 px-6 py-4 flex items-center gap-3",children:[e.jsx(nr,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Booking Window"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"How far in advance guests can book"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.map(X=>e.jsxs("button",{onClick:()=>j(X.value),className:`p-3 rounded-xl border-2 text-left transition-all ${v===X.value?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900",children:X.label}),e.jsx("p",{className:"text-xs text-gray-600",children:X.desc})]},X.value))})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border-2 border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-6 py-4 flex items-center gap-3",children:[e.jsx(At,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Daily Limit"}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Prevent burnout by capping meetings"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:R.map(X=>e.jsxs("button",{onClick:()=>b(X.value),className:`w-full p-3 rounded-xl border-2 text-left transition-all ${f===X.value?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 bg-white hover:border-orange-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900 break-words",children:X.label}),e.jsx("p",{className:"text-xs text-gray-600",children:X.desc})]},X.label))})})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl shadow-lg border-2 border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-4 py-2.5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-white",children:"Working Hours"}),e.jsx("p",{className:"text-indigo-100 text-xs",children:"When you're available"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Ce,className:"px-2.5 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg text-xs font-medium",children:"All Days"}),e.jsx("button",{onClick:ge,className:"px-2.5 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg text-xs font-medium",children:"Weekdays"})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-2",children:T.map(X=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",checked:g[X.key].enabled,onChange:()=>A(X.key),className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium w-24",children:X.full})]}),g[X.key].enabled?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"time",value:g[X.key].start,onChange:P=>F(X.key,"start",P.target.value),className:"w-24 border border-gray-300 rounded-lg px-2 py-1 text-sm"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("input",{type:"time",value:g[X.key].end,onChange:P=>F(X.key,"end",P.target.value),className:"w-24 border border-gray-300 rounded-lg px-2 py-1 text-sm"})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Unavailable"})]},X.key))})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-xl shadow-lg border-2 border-white/20 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Blocked times"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Periods when you are never bookable (vacation, breaks, events)."})]})]}),e.jsxs("button",{type:"button",onClick:z,className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700",children:[e.jsx(vt,{className:"h-4 w-4"}),"Add block"]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[N.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:"No blocked times yet. Add one to keep certain periods unavailable."}),N.map((X,P)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start"}),e.jsx("input",{type:"datetime-local",value:X.start_time||"",onChange:B=>ue(P,"start_time",B.target.value),className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End"}),e.jsx("input",{type:"datetime-local",value:X.end_time||"",onChange:B=>ue(P,"end_time",B.target.value),className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Reason (optional)"}),e.jsx("input",{type:"text",value:X.reason||"",onChange:B=>ue(P,"reason",B.target.value),placeholder:"Vacation, lunch, focus time...",className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]}),e.jsx("button",{type:"button",onClick:()=>Q(P),className:"self-start sm:self-auto px-2 py-2 text-red-500 hover:text-red-600",children:e.jsx(yt,{className:"h-4 w-4"})})]},X.id||P))]})]})]})]})}function Z_(){const{hasProFeature:t,showUpgradeModal:s,currentTier:r,loading:n}=ds(),[a,l]=h.useState({brand_logo_url:"",brand_primary_color:"#8B5CF6",brand_accent_color:"#EC4899",hide_powered_by:!1}),[i,o]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[p,w]=h.useState(""),[x,v]=h.useState(!1),[j,f]=h.useState(""),[b,g]=h.useState("event-select"),y=h.useRef(null);h.useEffect(()=>{N()},[]);const N=async()=>{try{const E=await _.get("/user/branding");E.data&&l({brand_logo_url:E.data.brand_logo_url||"",brand_primary_color:E.data.brand_primary_color||"#8B5CF6",brand_accent_color:E.data.brand_accent_color||"#EC4899",hide_powered_by:E.data.hide_powered_by||!1})}catch(E){console.error("Failed to fetch branding:",E)}finally{o(!1)}},C=async E=>{var M,H,O;const V=(M=E.target.files)==null?void 0:M[0];if(!V)return;if(!["image/png","image/jpeg","image/jpg","image/svg+xml","image/webp"].includes(V.type)){f("Please upload a PNG, JPG, SVG, or WebP image");return}if(V.size>2*1024*1024){f("Image must be less than 2MB");return}v(!0),f("");try{const D=new FormData;D.append("logo",V);const A=await _.post("/user/branding/logo",D,{headers:{"Content-Type":"multipart/form-data"}});A.data.logo_url&&l(F=>({...F,brand_logo_url:A.data.logo_url}))}catch(D){console.error("Failed to upload logo:",D),f(((O=(H=D.response)==null?void 0:H.data)==null?void 0:O.error)||"Failed to upload logo")}finally{v(!1),y.current&&(y.current.value="")}},S=()=>{l(E=>({...E,brand_logo_url:""}))},k=async()=>{var E,V;d(!0),w(""),m(!1);try{await _.put("/user/branding",a),m(!0),setTimeout(()=>m(!1),3e3)}catch(R){console.error("Failed to save branding:",R),w(((V=(E=R.response)==null?void 0:E.data)==null?void 0:V.error)||"Failed to save branding settings")}finally{d(!1)}},T=()=>{l({brand_logo_url:"",brand_primary_color:"#8B5CF6",brand_accent_color:"#EC4899",hide_powered_by:!1})},L=[{primary:"#8B5CF6",accent:"#EC4899",name:"Purple Pink"},{primary:"#3B82F6",accent:"#06B6D4",name:"Blue Cyan"},{primary:"#10B981",accent:"#34D399",name:"Green"},{primary:"#F59E0B",accent:"#F97316",name:"Orange"},{primary:"#EF4444",accent:"#F43F5E",name:"Red Rose"},{primary:"#6366F1",accent:"#8B5CF6",name:"Indigo"},{primary:"#000000",accent:"#374151",name:"Monochrome"}];return n||i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600"})}):t()?e.jsxs("div",{className:"max-w-6xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(Um,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Branding"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Personalize your booking pages"})]})]}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold",children:r==="team"?"Team":"Pro"})]}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl text-sm flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4 flex-shrink-0"}),p]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[e.jsx(Y2,{className:"h-4 w-4 inline mr-2"}),"Logo"]}),a.brand_logo_url?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-xl border-2 border-gray-200 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:a.brand_logo_url,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Logo uploaded"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{var E;return(E=y.current)==null?void 0:E.click()},className:"px-3 py-1.5 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Change"}),e.jsx("button",{onClick:S,className:"px-3 py-1.5 bg-red-50 border border-red-200 rounded-lg text-sm font-medium text-red-600 hover:bg-red-100 transition-colors",children:"Remove"})]})]})]}):e.jsx("div",{onClick:()=>{var E;return(E=y.current)==null?void 0:E.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50/50 transition-all",children:x?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(vo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Click to upload logo"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, SVG or WebP (max 2MB)"})]})}),e.jsx("input",{ref:y,type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",onChange:C,className:"hidden"}),j&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(He,{className:"h-4 w-4"}),j]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"Recommended: Square image, at least 200x200px. Transparent background works best."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[e.jsx(ce,{className:"h-4 w-4 inline mr-2"}),"Color Presets"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((E,V)=>e.jsxs("button",{onClick:()=>l({...a,brand_primary_color:E.primary,brand_accent_color:E.accent}),className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${a.brand_primary_color===E.primary&&a.brand_accent_color===E.accent?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"w-5 h-5 rounded-full flex-shrink-0",style:{background:`linear-gradient(135deg, ${E.primary}, ${E.accent})`}}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:E.name})]},V))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Primary Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:a.brand_primary_color,onChange:E=>l({...a,brand_primary_color:E.target.value}),className:"w-10 h-10 rounded-lg border border-gray-200 cursor-pointer"}),e.jsx("input",{type:"text",value:a.brand_primary_color,onChange:E=>l({...a,brand_primary_color:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm focus:ring-2 focus:ring-purple-500",placeholder:"#8B5CF6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Accent Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:a.brand_accent_color,onChange:E=>l({...a,brand_accent_color:E.target.value}),className:"w-10 h-10 rounded-lg border border-gray-200 cursor-pointer"}),e.jsx("input",{type:"text",value:a.brand_accent_color,onChange:E=>l({...a,brand_accent_color:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm focus:ring-2 focus:ring-purple-500",placeholder:"#EC4899"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a.hide_powered_by?e.jsx($m,{className:"h-5 w-5 text-gray-400"}):e.jsx(Fl,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:'Hide "Powered by ScheduleSync"'}),e.jsx("p",{className:"text-xs text-gray-500",children:"Remove branding from your booking pages"})]})]}),e.jsx("button",{onClick:()=>l({...a,hide_powered_by:!a.hide_powered_by}),className:`relative w-12 h-7 rounded-full transition-colors ${a.hide_powered_by?"bg-purple-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 bg-white rounded-full shadow transition-transform ${a.hide_powered_by?"translate-x-5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm",children:[e.jsx(vs,{className:"h-4 w-4"}),"Reset to Default"]}),e.jsx("button",{onClick:k,disabled:c,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-semibold transition-all text-sm ${u?"bg-green-500 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-lg"} disabled:opacity-50`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):u?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4"}),"Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Vr,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Live Preview"}),e.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>g("event-select"),className:`px-2 py-1 text-xs font-medium rounded transition-colors ${b==="event-select"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Step 1"}),e.jsx("button",{onClick:()=>g("form"),className:`px-2 py-1 text-xs font-medium rounded transition-colors ${b==="form"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Step 2"})]})]}),e.jsxs("div",{className:"bg-slate-100 rounded-xl p-3 sticky top-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden flex min-h-[380px] border border-slate-100",children:[e.jsxs("div",{className:"w-[38%] bg-slate-50 border-r border-slate-200 p-4 flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[a.brand_logo_url?e.jsx("div",{className:"w-12 h-12 rounded-2xl overflow-hidden shadow-lg mb-3 bg-white border border-slate-200",children:e.jsx("img",{src:a.brand_logo_url,alt:"Logo",className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-lg mb-3",style:{background:`linear-gradient(135deg, ${a.brand_primary_color}, ${a.brand_accent_color})`},children:"Y"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"Book a meeting with"}),e.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Your Name"}),e.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Your Team"}),b==="form"&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-1",children:"30 Minute Meeting"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 text-xs",children:[e.jsx(he,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:"30 min"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"A quick call to discuss your needs and answer questions."})]}),b==="event-select"&&e.jsx("div",{className:"mt-4 p-3 rounded-xl border text-xs",style:{backgroundColor:a.brand_primary_color+"10",borderColor:a.brand_primary_color+"30",color:a.brand_primary_color},children:"Select an event type to continue."})]}),!a.hide_powered_by&&e.jsx("div",{className:"pt-4 text-[10px] text-slate-300 font-medium",children:"Powered by ScheduleSync"})]}),e.jsxs("div",{className:"w-[62%] bg-white p-4 overflow-hidden",children:[b==="event-select"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-1",children:"Select an Event Type"}),e.jsx("p",{className:"text-slate-500 text-xs mb-4",children:"Choose the type of meeting you'd like to schedule."}),e.jsx("div",{className:"space-y-2",children:["30 Minute Meeting","Quick Chat","Consultation"].map((E,V)=>e.jsxs("div",{className:"group flex items-center gap-3 p-3 rounded-xl border border-slate-200 transition-all cursor-pointer hover:shadow-md",style:{borderColor:V===0?a.brand_primary_color:"#e2e8f0"},children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110",style:{backgroundColor:a.brand_primary_color+"20",color:a.brand_primary_color},children:e.jsx(he,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-slate-900 text-xs",children:E}),e.jsxs("p",{className:"text-slate-500 text-[10px]",children:[V===0?"30":V===1?"15":"60"," minutes"]})]}),e.jsx(Lr,{className:"h-4 w-4 transition-transform group-hover:translate-x-1",style:{color:a.brand_primary_color}})]},V))})]}),b==="form"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-3",children:"Finalize Booking"}),e.jsxs("div",{className:"rounded-xl p-3 mb-4 flex justify-between items-center border",style:{backgroundColor:a.brand_primary_color+"15",borderColor:a.brand_primary_color+"30"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wide",style:{color:a.brand_primary_color},children:"Selected Time"}),e.jsx("p",{className:"font-semibold text-xs mt-0.5",style:{color:a.brand_primary_color},children:"Monday, January 15"}),e.jsx("p",{className:"text-[10px]",style:{color:a.brand_primary_color+"cc"},children:"10:00 AM - 10:30 AM"})]}),e.jsx("button",{className:"text-[10px] font-medium underline",style:{color:a.brand_primary_color},children:"Change"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-slate-700 mb-1",children:"Your Name"}),e.jsx("div",{className:"w-full px-3 py-2 rounded-lg border border-slate-300 bg-slate-50 text-xs text-slate-400",children:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-slate-700 mb-1",children:"Email Address"}),e.jsx("div",{className:"w-full px-3 py-2 rounded-lg border border-slate-300 bg-slate-50 text-xs text-slate-400",children:"john@example.com"})]})]}),e.jsx("button",{className:"w-full mt-4 text-white py-2.5 rounded-xl font-bold text-xs cursor-default",style:{backgroundColor:a.brand_primary_color},children:"Confirm Booking"})]})]})]}),e.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"This preview matches your actual booking page layout"})]})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Gs,{className:"h-8 w-8 text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Custom Branding"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:'Make your booking pages match your brand with custom logos, colors, and remove the "Powered by" badge.'}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6 max-w-sm mx-auto text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Pro features include:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-green-500"}),"Custom logo on booking pages"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-green-500"}),"Custom brand colors"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-green-500"}),'Hide "Powered by ScheduleSync"']}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-green-500"}),"Professional appearance"]})]})]}),e.jsx("button",{onClick:()=>s("branding"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Upgrade to Pro - $15/month"})]})}function eT(){var te;const[t]=zr(),s=we(),r=pa(),{hasProFeature:n,hasTeamFeature:a,currentTier:l}=ds();console.log(" UserSettings - currentTier:",l);const[i,o]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[p,w]=h.useState(t.get("tab")||"profile"),[x,v]=h.useState({name:"",email:"",username:"",timezone:"America/New_York",bio:""}),[j,f]=h.useState(!1),[b,g]=h.useState(!1),[y,N]=h.useState(null),[C,S]=h.useState({enabled:!0,hoursBefore:24,sendToHost:!0,sendToGuest:!0,customHours:[24,1]}),[k,T]=h.useState(!1),[L,E]=h.useState({send_confirmations:!0,send_reminders:!0,send_cancellations:!0,send_reschedule:!0,reminder_hours:24}),[V,R]=h.useState(!1),[M,H]=h.useState({google:{connected:!1,email:null,lastSync:null},microsoft:{connected:!1,email:null,lastSync:null}}),[O,D]=h.useState(!1),[A,F]=h.useState(!1),[z,Q]=h.useState(""),[ue,Ce]=h.useState(""),[ge,X]=h.useState(null),[P,B]=h.useState(!1),[Y,oe]=h.useState(!1),[q,G]=h.useState(!1),[K,ye]=h.useState(!1),[Xe,Se]=h.useState(!1),[ae,Ue]=h.useState({is_enabled:!0,default_duration:30,max_slots_to_show:5,intro_message:"I'm helping {{hostName}} find a time for your meeting.",signature:"Powered by TruCal",bot_email:"yourname@mg.trucal.xyz"}),[it,Gt]=h.useState(!1),[ss,ot]=h.useState(!1);h.useEffect(()=>{nt()},[]),h.useEffect(()=>{const U=t.get("tab");U&&w(U)},[t]);const nt=async()=>{var U,re,pe,ve,Ae,Oe;try{const fe=await Wr.me(),De=fe.data.user||fe.data;let _e="";try{_e=((re=(U=(await _.get("/user/profile")).data)==null?void 0:U.user)==null?void 0:re.bio)||""}catch(Fe){console.log("Could not load profile bio:",Fe.message)}v({name:De.name||"",email:De.email||"",username:De.username||((pe=De.email)==null?void 0:pe.split("@")[0])||"",timezone:De.timezone||"America/New_York",bio:_e});try{const be=(((ve=(await _.get("/teams")).data)==null?void 0:ve.teams)||[]).find(ke=>{var $s;return($s=ke.name)==null?void 0:$s.includes("Personal Bookings")});if(be){N(be.id);try{T(!0);const ke=await hu.getSettings(),$s=((Ae=ke.data)==null?void 0:Ae.settings)||ke.data||{};S({enabled:$s.enabled??!0,hoursBefore:$s.hours_before??24,sendToHost:$s.send_to_host??!0,sendToGuest:$s.send_to_guest??!0,customHours:$s.custom_hours||[24,1]})}catch(ke){console.error("Error loading reminder settings:",ke)}finally{T(!1)}}}catch(Fe){console.log("Teams not available:",((Oe=Fe.response)==null?void 0:Oe.status)===403?"requires Team subscription":Fe.message)}await qr(),await Is(),await ct(),p==="integrations"&&await Yr()}catch(fe){console.error("Error loading settings:",fe)}finally{o(!1)}},Is=async()=>{try{R(!0);const U=await _.get("/settings/email-preferences");U.data&&E({send_confirmations:U.data.send_confirmations??!0,send_reminders:U.data.send_reminders??!0,send_cancellations:U.data.send_cancellations??!0,send_reschedule:U.data.send_reschedule??!0,reminder_hours:U.data.reminder_hours??24})}catch(U){console.error("Error loading email preferences:",U)}finally{R(!1)}},ct=async()=>{var U;try{Gt(!0);const re=await _.get("/settings/email-bot");(U=re.data)!=null&&U.settings&&Ue(re.data.settings)}catch(re){console.error("Error loading TruCal Assistant (via email) settings:",re)}finally{Gt(!1)}},Fs=async U=>{var re;try{Gt(!0);const pe=await _.put("/settings/email-bot",U);(re=pe.data)!=null&&re.settings&&(Ue(pe.data.settings),r.success("Email bot settings updated"))}catch(pe){console.error("Error updating TruCal Assistant (via email) settings:",pe),r.error("Failed to update settings")}finally{Gt(!1)}},Gr=()=>{navigator.clipboard.writeText(ae.bot_email||"yourname@mg.trucal.xyz"),ot(!0),setTimeout(()=>ot(!1),2e3)},qr=async()=>{var U,re,pe,ve,Ae,Oe;try{D(!0);const De=(await Ua.getStatus()).data;H({google:{connected:((U=De.google)==null?void 0:U.connected)||!1,email:((re=De.google)==null?void 0:re.email)||null,lastSync:((pe=De.google)==null?void 0:pe.last_sync)||null},microsoft:{connected:((ve=De.microsoft)==null?void 0:ve.connected)||!1,email:((Ae=De.microsoft)==null?void 0:Ae.email)||null,lastSync:((Oe=De.microsoft)==null?void 0:Oe.last_sync)||null}})}catch(fe){console.error("Error loading calendar status:",fe)}finally{D(!1)}},Yr=async()=>{B(!0);try{const U=await Za.getToken();U.data.jwt_token&&(Q(U.data.jwt_token),Ce(U.data.expires_in||"90 days"),X(U.data.setup_status))}catch(U){console.error("ChatGPT token load error:",U)}finally{B(!1)}},Kr=async()=>{try{await navigator.clipboard.writeText(z),oe(!0),r.success("ChatGPT token copied to clipboard! "),setTimeout(()=>oe(!1),2e3)}catch(U){console.error("Error copying ChatGPT token:",U),r.error("Could not copy token. Please select and copy manually.")}},ba=async()=>{G(!0);try{const U=await Za.refreshToken();U.data.jwt_token&&(Q(U.data.jwt_token),Ce(U.data.expires_in||"90 days"),r.success("ChatGPT token refreshed successfully! "))}catch(U){console.error("Error refreshing ChatGPT token:",U),r.error("Could not refresh ChatGPT token")}finally{G(!1)}},ya=async()=>{ye(!0);try{const U=await Za.testConnection();U.data.connection_status==="READY"?r.success(" ChatGPT connection ready! All tests passed."):(r.warning(" Some issues found. Check your ScheduleSync setup."),console.log("Test results:",U.data.tests))}catch(U){console.error("Error testing ChatGPT connection:",U),r.error(" Connection test failed")}finally{ye(!1)}},Jr=async()=>{try{const re=await(await fetch("/api/user/chatgpt-openapi-schema")).json(),pe=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),ve=URL.createObjectURL(pe),Ae=document.createElement("a");Ae.href=ve,Ae.download="schedulesync-chatgpt-api-schema.json",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(ve),r.success(" API schema downloaded!")}catch(U){console.error("Error downloading schema:",U),r.error("Could not download API schema")}},us=async()=>{try{const re=(await Ua.connectGoogle()).data.url;window.location.href=re}catch(U){console.error("Error connecting Google:",U),alert("Failed to connect Google Calendar")}},Qr=async()=>{try{const re=(await _.oauth.getMicrosoftUrl()).data.url;window.location.href=re}catch(U){console.error("Error connecting Microsoft:",U),alert("Failed to connect Microsoft Calendar")}},va=async()=>{if(confirm("Disconnect Google Calendar? This will stop syncing your events."))try{await Ua.disconnectGoogle(),await qr(),alert("Google Calendar disconnected successfully!")}catch(U){console.error("Error disconnecting Google:",U),alert("Failed to disconnect Google Calendar")}},ja=async()=>{try{F(!0),await Ua.syncEvents(),await qr(),alert("Calendar synced successfully!")}catch(U){console.error("Error syncing calendar:",U),alert("Failed to sync calendar")}finally{F(!1)}},I=async()=>{var U,re;d(!0);try{await _.put("/user/profile",{name:x.name,username:x.username,bio:x.bio}),await sc.update(x.timezone),await hu.updateSettings({enabled:C.enabled,hours_before:C.hoursBefore,send_to_host:C.sendToHost,send_to_guest:C.sendToGuest,custom_hours:C.customHours||[24,1]}),await _.put("/settings/email-preferences",L),m(!0),r.success("Settings saved successfully!"),setTimeout(()=>m(!1),2e3)}catch(pe){console.error("Error saving:",pe);const ve=((re=(U=pe.response)==null?void 0:U.data)==null?void 0:re.error)||"Failed to save settings";r.error(ve)}finally{d(!1)}},J=U=>{if(!U)return"Never";const re=new Date(U),ve=new Date-re,Ae=Math.floor(ve/6e4);return Ae<1?"Just now":Ae<60?`${Ae}m ago`:Ae<1440?`${Math.floor(Ae/60)}h ago`:re.toLocaleDateString()},$=async U=>{w(U),U==="integrations"&&!z&&await Yr()};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-500 mt-1 text-sm sm:text-base",children:"Manage your profile, calendars, integrations and notifications"})]}),p!=="calendars"&&p!=="integrations"&&p!=="branding"&&e.jsxs("button",{onClick:I,disabled:c,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 sm:px-6 py-2.5 rounded-full hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 font-bold text-sm shadow-lg disabled:opacity-70 w-full sm:w-auto",children:[c?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):u?e.jsx(de,{className:"h-4 w-4"}):e.jsx(Vr,{className:"h-4 w-4"}),c?"Saving...":u?"Saved":"Save Changes"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full md:w-64 flex-shrink-0",children:[e.jsxs("nav",{className:"flex md:flex-col gap-1 overflow-x-auto md:overflow-x-visible pb-2 md:pb-0",children:[e.jsxs("button",{onClick:()=>$("profile"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="profile"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(Rt,{size:18})," Profile"]}),e.jsxs("button",{onClick:()=>$("calendars"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="calendars"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(se,{size:18})," Calendars"]}),e.jsxs("button",{onClick:()=>$("integrations"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="integrations"?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(yo,{size:18})," Integrations",z&&e.jsx("div",{className:"ml-auto w-2 h-2 bg-green-500 rounded-full"})]}),e.jsxs("button",{onClick:()=>$("notifications"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="notifications"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(Te,{size:18})," Notifications"]}),e.jsxs("button",{onClick:()=>$("templates"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="templates"?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(Te,{size:18})," Templates",!n()&&e.jsx("span",{className:"ml-auto text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-semibold",children:"PRO"})]}),e.jsxs("button",{onClick:()=>$("branding"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="branding"?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(Um,{size:18})," Branding",!n()&&e.jsx("span",{className:"ml-auto text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-semibold",children:"PRO"})]}),e.jsxs("button",{onClick:()=>$("email-bot"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="email-bot"?"bg-green-50 text-green-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(pt,{size:18})," TruCal Assistant (via email)",!n()&&e.jsx("span",{className:"ml-auto text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-semibold",children:"PRO"})]})]}),!n()&&e.jsx("div",{className:"mt-4",children:e.jsx(Jv,{variant:"ai",compact:!0})})]}),e.jsxs("div",{className:"flex-1 bg-white/80 backdrop-blur-xl rounded-xl border-2 border-white/20 shadow-xl min-h-[400px] overflow-hidden hover:shadow-2xl hover:shadow-purple-200/30 transition-all",children:[p==="profile"&&e.jsxs("div",{className:"p-4 sm:p-8 max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Profile Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:x.name,onChange:U=>v({...x,name:U.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:x.email,disabled:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400 text-sm",children:"schedulesync.app/"}),e.jsx("input",{type:"text",value:x.username,onChange:U=>v({...x,username:U.target.value.toLowerCase().replace(/[^a-z0-9_-]/g,"")}),className:"w-full pl-[130px] pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"your-username"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Your booking page URL: ",e.jsxs("span",{className:"font-medium text-blue-600",children:[window.location.origin,"/",x.username]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timezone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:x.timezone,onChange:U=>v({...x,timezone:U.target.value}),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx("option",{value:"Europe/London",children:"London"}),e.jsx("option",{value:"Asia/Singapore",children:"Singapore"}),e.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"}),e.jsx("option",{value:"Australia/Sydney",children:"Sydney"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:x.bio,onChange:U=>v({...x,bio:U.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Tell guests a little about yourself...",rows:4,maxLength:500}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[((te=x.bio)==null?void 0:te.length)||0,"/500 characters. This will appear on your public booking page."]})]})]})]}),p==="integrations"&&e.jsxs("div",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Integrations"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect external services to enhance your scheduling workflow"})]}),e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-2xl border-2 border-indigo-200 p-4 sm:p-6 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(pt,{className:"h-5 w-5 sm:h-7 sm:w-7 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center gap-2",children:["ChatGPT Integration",e.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Connect ScheduleSync to ChatGPT"})]})]}),(ge==null?void 0:ge.has_booking_setup)&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg border border-green-200 self-start sm:self-auto",children:[e.jsx(xe,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap",children:"Ready for ChatGPT"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl border border-white/50 p-4 sm:p-5 mb-5 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-3",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(J2,{className:"h-5 w-5 text-indigo-600"}),"Your API Token"]}),e.jsxs("button",{onClick:ba,disabled:q,className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center gap-1 transition-all disabled:opacity-50 self-start sm:self-auto",children:[q?e.jsx(ne,{className:"h-4 w-4 animate-spin"}):e.jsx(vs,{className:"h-4 w-4"}),"Refresh"]})]}),P?e.jsxs("div",{className:"flex items-center gap-2 p-4",children:[e.jsx(ne,{className:"h-4 w-4 animate-spin text-indigo-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Loading token..."})]}):z?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gray-900 text-gray-100 p-3 sm:p-4 rounded-lg font-mono text-xs break-all border overflow-x-auto",children:z}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-xs text-gray-500 flex flex-wrap items-center gap-2 sm:gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"h-3 w-3"}),"Expires: ",ue]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(At,{className:"h-3 w-3"}),"Bearer Token"]})]}),e.jsx("button",{onClick:Kr,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center justify-center gap-2 transition-all shadow-sm w-full sm:w-auto",children:Y?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"h-4 w-4"}),"Copy Token"]})})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(pt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"ChatGPT integration not available"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 mb-5",children:[e.jsx("button",{onClick:ya,disabled:K||!z,className:"px-4 py-2.5 sm:py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:K?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vb,{className:"h-4 w-4"}),"Test Connection"]})}),e.jsxs("button",{onClick:Jr,disabled:!z,className:"px-4 py-2.5 sm:py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[e.jsx(Ko,{className:"h-4 w-4"}),"Download Schema"]}),e.jsxs("button",{onClick:()=>Se(!0),className:"px-4 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all shadow-sm text-sm",children:[e.jsx(F2,{className:"h-4 w-4"}),"Setup Guide"]})]}),e.jsxs("div",{className:"p-3 sm:p-4 bg-white/60 backdrop-blur-sm rounded-lg border border-white/50",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(Me,{className:"h-4 w-4 text-yellow-500"}),"Quick Setup"]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:"1"}),e.jsx("span",{className:"text-gray-700",children:"Copy token"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:"2"}),e.jsx("span",{className:"text-gray-700",children:"Create GPT"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:"3"}),e.jsx("span",{className:"text-gray-700",children:"Import schema"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-700",children:"Done!"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Te,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-700 text-sm sm:text-base",children:"Slack Integration"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full font-semibold",children:"Coming Soon"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Schedule meetings directly from Slack channels"})]}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-700 text-sm sm:text-base",children:"Microsoft Teams"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full font-semibold",children:"Coming Soon"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Enterprise-grade Teams integration"})]})]})]})]}),p==="calendars"&&e.jsxs("div",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Calendar Connections"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect your calendars to prevent double bookings."})]}),O?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"space-y-4 max-w-2xl",children:[e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:"Google Calendar"}),M.google.connected?e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:M.google.email}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Last synced: ",J(M.google.lastSync)]})]}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not connected"})]})]}),e.jsx("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:M.google.connected?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ja,disabled:A,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 w-full sm:w-auto",children:[e.jsx(vs,{className:`h-4 w-4 ${A?"animate-spin":""}`}),"Sync Now"]}),e.jsxs("button",{onClick:va,className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(c1,{className:"h-4 w-4"}),"Disconnect"]})]}):e.jsxs("button",{onClick:us,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(St,{className:"h-4 w-4"}),"Connect"]})})]})}),e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:"Microsoft Outlook"}),M.microsoft.connected?e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:M.microsoft.email}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Last synced: ",J(M.microsoft.lastSync)]})]}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not connected"})]})]}),e.jsx("div",{className:"w-full sm:w-auto",children:M.microsoft.connected?e.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-400 rounded-lg text-sm font-medium cursor-not-allowed w-full sm:w-auto",disabled:!0,children:"Connected"}):e.jsxs("button",{onClick:Qr,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(St,{className:"h-4 w-4"}),"Connect"]})})]})}),e.jsx("div",{className:"rounded-lg border border-blue-100 bg-blue-50 px-4 py-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"How calendar sync works:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" We check your calendar for conflicts before showing available slots"}),e.jsx("li",{children:" Your calendar data stays private - we only check busy/free status"}),e.jsx("li",{children:" Sync happens automatically every 15 minutes"}),e.jsx("li",{children:' You can manually sync anytime using "Sync Now"'})]})]})]})}),e.jsx("div",{className:"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 sm:p-6 hover:border-purple-400 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(vo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:"Import from Calendly"}),e.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded-full font-semibold",children:"NEW"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-700 mb-2",children:"Migrate your event types, availability, and booking history"}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-purple-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"h-3 w-3"}),"Events"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"h-3 w-3"}),"Availability"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"h-3 w-3"}),"Bookings"]})]})]})]}),e.jsxs("button",{onClick:()=>s("/import/calendly"),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(vo,{className:"h-4 w-4"}),"Start Import"]})]})})]})]}),p==="notifications"&&e.jsxs("div",{className:"p-4 sm:p-8 max-w-xl space-y-8",children:[(k||V)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Loading notification settings"]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Choose which emails you want to receive for your bookings."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(xe,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Booking Confirmations"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Email sent when someone books a meeting with you"})]})]}),e.jsx("button",{type:"button",onClick:()=>E(U=>({...U,send_confirmations:!U.send_confirmations})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${L.send_confirmations?"bg-green-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${L.send_confirmations?"translate-x-5":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(he,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Meeting Reminders"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Email sent before an upcoming meeting"})]})]}),e.jsx("button",{type:"button",onClick:()=>E(U=>({...U,send_reminders:!U.send_reminders})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${L.send_reminders?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${L.send_reminders?"translate-x-5":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Pe,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Notices"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Email sent when a booking is cancelled"})]})]}),e.jsx("button",{type:"button",onClick:()=>E(U=>({...U,send_cancellations:!U.send_cancellations})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${L.send_cancellations?"bg-red-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${L.send_cancellations?"translate-x-5":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(vs,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Reschedule Notices"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Email sent when a booking is rescheduled"})]})]}),e.jsx("button",{type:"button",onClick:()=>E(U=>({...U,send_reschedule:!U.send_reschedule})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${L.send_reschedule?"bg-purple-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${L.send_reschedule?"translate-x-5":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{className:`pt-6 border-t border-gray-200 ${L.send_reminders?"":"opacity-50 pointer-events-none"}`,children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Reminder Timing"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"When should reminders be sent?"}),e.jsxs("select",{value:L.reminder_hours,onChange:U=>E(re=>({...re,reminder_hours:Number(U.target.value)})),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-sm",children:[e.jsx("option",{value:1,children:"1 hour before"}),e.jsx("option",{value:2,children:"2 hours before"}),e.jsx("option",{value:24,children:"24 hours before"}),e.jsx("option",{value:48,children:"48 hours before"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Who should receive reminders?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:C.sendToHost,onChange:U=>S(re=>({...re,sendToHost:U.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"Send to me (host)"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:C.sendToGuest,onChange:U=>S(re=>({...re,sendToGuest:U.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"Send to guest"})]})]})]})]})]}),e.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50/50 px-4 py-3 text-xs text-blue-800 flex gap-2",children:[e.jsx(He,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Email notifications only apply to future bookings. You can also customize email content in the Templates section."})]})]}),p==="templates"&&e.jsx("div",{className:"p-4 sm:p-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Templates"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Customize confirmation, reminder, and cancellation emails"}),e.jsx("button",{onClick:()=>s("/templates"),className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700",children:"Manage Templates"})]})}),p==="branding"&&e.jsx("div",{className:"p-4 sm:p-8",children:e.jsx(Z_,{})}),p==="email-bot"&&e.jsxs("div",{className:"p-4 sm:p-8 max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Scheduling Assistant"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Let people schedule with you by CC'ing your scheduling email address."}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 mb-6 border border-green-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your scheduling email:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 px-4 py-2 bg-white rounded-lg font-mono text-green-700 text-sm border border-green-200",children:ae.bot_email||"yourname@mg.trucal.xyz"}),e.jsxs("button",{onClick:Gr,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center gap-2",children:[ss?e.jsx(de,{size:16}):e.jsx(zt,{size:16}),ss?"Copied!":"Copy"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Just CC this address in any email to propose meeting times automatically!"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 border border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How it works:"}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),"CC ",e.jsx("span",{className:"font-mono text-green-700",children:ae.bot_email||"yourname@mg.trucal.xyz"})," in an email thread"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),"The bot proposes available times based on your calendar"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),"Guest clicks a time and it's booked instantly"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Default Meeting Duration"}),e.jsxs("select",{value:ae.default_duration,onChange:U=>Fs({default_duration:parseInt(U.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",disabled:it,children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"60 minutes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Time Slots to Propose"}),e.jsxs("select",{value:ae.max_slots_to_show,onChange:U=>Fs({max_slots_to_show:parseInt(U.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",disabled:it,children:[e.jsx("option",{value:3,children:"3 options"}),e.jsx("option",{value:5,children:"5 options"}),e.jsx("option",{value:7,children:"7 options"}),e.jsx("option",{value:10,children:"10 options"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Introduction Message"}),e.jsx("textarea",{value:ae.intro_message,onChange:U=>Ue({...ae,intro_message:U.target.value}),onBlur:()=>Fs({intro_message:ae.intro_message}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none resize-none",rows:2,placeholder:"I'm helping {{hostName}} find a time for your meeting.",disabled:it}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Use ","{{hostName}}"," to include your name"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Signature"}),e.jsx("input",{type:"text",value:ae.signature,onChange:U=>Ue({...ae,signature:U.target.value}),onBlur:()=>Fs({signature:ae.signature}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",placeholder:"Powered by TruCal",disabled:it})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"TruCal Assistant (via email) Active"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically respond to CC'd emails"})]}),e.jsx("button",{onClick:()=>Fs({is_enabled:!ae.is_enabled}),disabled:it,className:`relative w-12 h-6 rounded-full transition-colors ${ae.is_enabled?"bg-green-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${ae.is_enabled?"left-7":"left-1"}`})})]})]})]})]})]}),Xe&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-4 sm:p-6 relative border-2 border-white/20",children:[e.jsx("button",{onClick:()=>Se(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Pe,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(pt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600"}),"ChatGPT Setup Guide"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Follow these steps to connect ScheduleSync to ChatGPT"})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Copy Your JWT Token"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:'Use the token from the section above. Click "Copy Token" to copy it.'}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," This token expires in 90 days."]})})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Create ChatGPT Custom GPT"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Go to ChatGPT and create a new custom GPT."}),e.jsxs("a",{href:"https://chat.openai.com/gpts/discovery",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors text-sm",children:[e.jsx(St,{className:"h-4 w-4"}),"Open ChatGPT GPTs"]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Configure Your GPT"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Name:"}),e.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-xs sm:text-sm",children:"AI Meeting Booker"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Description:"}),e.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-xs sm:text-sm",children:"The fastest way to a confirmed meeting"})]})]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Add API Actions"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Import our API schema and configure authentication."}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-600",children:[e.jsx("li",{children:'Click "Actions" in your GPT configuration'}),e.jsx("li",{children:'Click "Create new action"'}),e.jsx("li",{children:"Download and import our API schema"}),e.jsx("li",{children:'Set Authentication to "Bearer"'}),e.jsx("li",{children:"Paste your JWT token as the Bearer token"})]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Test Your Integration"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Try these commands in your ChatGPT:"}),e.jsx("div",{className:"space-y-2",children:[`"What's my booking link?"`,'"Create a temp link for John"','"Find meeting times for next week"'].map((U,re)=>e.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-xs sm:text-sm",children:U},re))})]})]})})]}),e.jsx("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 text-center sm:text-left",children:"Need help? Test your connection above or contact support."}),e.jsx("button",{onClick:()=>Se(!1),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors w-full sm:w-auto",children:"Got it!"})]})})]})})]})]})}function tT(){const[t,s]=h.useState(!0),[r,n]=h.useState([]),[a,l]=h.useState(!1);h.useEffect(()=>{i()},[]);const i=async()=>{try{const m=await(await fetch("https://schedulesync-web-production.up.railway.app/api/calendars",{credentials:"include"})).json();n(m.calendars||[])}catch(u){console.error("Error loading calendars:",u)}finally{s(!1)}},o=()=>{window.location.href="https://schedulesync-web-production.up.railway.app/api/auth/google/calendar"},c=async u=>{try{l(!0),await fetch(`https://schedulesync-web-production.up.railway.app/api/calendars/${u}/sync`,{method:"POST",credentials:"include"}),i()}catch(m){console.error("Error syncing calendar:",m)}finally{l(!1)}},d=async u=>{if(confirm("Disconnect this calendar? Your availability will no longer sync."))try{await fetch(`https://schedulesync-web-production.up.railway.app/api/calendars/${u}`,{method:"DELETE",credentials:"include"}),i()}catch(m){console.error("Error disconnecting calendar:",m)}};return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600 relative z-10"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Calendar Settings"}),e.jsx("p",{className:"text-gray-600",children:"Connect and manage your calendar integrations"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl hover:shadow-purple-200/30 overflow-hidden border-2 border-white/20 mb-6 transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(se,{className:"h-6 w-6"}),"Connected Calendars"]})}),e.jsx("div",{className:"p-8",children:r.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[e.jsx(se,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"No calendars connected"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Connect your calendar to sync availability"}),e.jsxs("button",{onClick:o,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold text-sm sm:text-base",children:[e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect Google Calendar"]})]}):e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.map(u=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 sm:p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[u.calendar_name||"Primary Calendar",u.is_primary&&e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full text-xs font-semibold",children:"Primary"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:u.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.sync_status==="active"?e.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(xe,{className:"h-3 w-3"}),"Synced"]}):e.jsxs("span",{className:"flex items-center gap-1 text-xs text-yellow-600",children:[e.jsx(He,{className:"h-3 w-3"}),"Sync pending"]}),u.last_sync&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Last sync: ",new Date(u.last_sync).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[e.jsx("button",{onClick:()=>c(u.id),disabled:a,className:"p-2 sm:p-2.5 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors disabled:opacity-50",title:"Sync now",children:e.jsx(vs,{className:`h-5 w-5 ${a?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>d(u.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Disconnect",children:e.jsx(yt,{className:"h-5 w-5"})})]})]},u.id)),e.jsxs("button",{onClick:o,className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all text-gray-600 hover:text-purple-600 font-semibold flex items-center justify-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"Add Another Calendar"]})]})})]}),e.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-2xl p-6",children:[e.jsxs("h3",{className:"font-bold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-purple-600"}),"How Calendar Sync Works"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-purple-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"We only check if you're free or busy - event details stay private"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Bookings are automatically synced to your calendar"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Changes update in real-time to prevent double-booking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(xe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"You can disconnect at any time from this page"})]})]})]})]})]})}const sT=[{id:"manual",name:"Manual",description:"You review and confirm every booking",icon:At,color:"gray"},{id:"suggest",name:"AI Suggests",description:"AI suggests actions, you approve",icon:Me,color:"blue"},{id:"auto",name:"Fully Autonomous",description:"AI automatically handles bookings based on your rules",icon:pt,color:"purple"}];function rT(){const{hasTeamFeature:t,showUpgradeModal:s,currentTier:r}=ds(),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState("manual"),[d,u]=h.useState({max_duration:60,allowed_hours_start:9,allowed_hours_end:17,blocked_days:[],max_daily_bookings:8,vip_domains:[],blocked_domains:[]}),[m,p]=h.useState(""),[w,x]=h.useState(""),[v,j]=h.useState(null);h.useEffect(()=>{f()},[]);const f=async()=>{try{const k=await _.get("/autonomous-settings");c(k.data.mode||"manual"),u({...d,...k.data.rules})}catch(k){console.error("Failed to fetch settings:",k)}finally{a(!1)}},b=async()=>{i(!0);try{await _.put("/autonomous-settings",{mode:o,rules:d}),alert("Settings saved!")}catch(k){console.error("Failed to save:",k),alert("Failed to save settings")}finally{i(!1)}},g=async()=>{try{const k=new Date;k.setHours(14,0,0,0),k.setDate(k.getDate()+1);const T=await _.post("/test-auto-confirm",{start_time:k.toISOString(),duration:30,attendee_email:"test@example.com"});j(T.data)}catch(k){console.error("Test failed:",k)}},y=k=>{d.blocked_days.includes(k)?u({...d,blocked_days:d.blocked_days.filter(T=>T!==k)}):u({...d,blocked_days:[...d.blocked_days,k]})},N=()=>{m&&!d.vip_domains.includes(m)&&(u({...d,vip_domains:[...d.vip_domains,m]}),p(""))},C=()=>{w&&!d.blocked_domains.includes(w)&&(u({...d,blocked_domains:[...d.blocked_domains,w]}),x(""))};if(!t())return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"max-w-3xl mx-auto px-4 py-16 relative z-10",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 border-white/20 p-8 md:p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(pt,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Autonomous Mode"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Let AI handle your scheduling automatically based on your rules."}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-4",children:"What it can do:"}),e.jsxs("ul",{className:"space-y-2 text-purple-800",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Auto-confirm bookings that match your criteria"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Block unwanted time slots automatically"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"VIP treatment for important contacts"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600"}),"Set daily booking limits"]})]})]}),e.jsxs("button",{onClick:()=>s("autonomous"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all font-semibold text-lg flex items-center gap-2 mx-auto",children:[e.jsx(Ms,{className:"h-5 w-5"}),"Upgrade to Team - $25/month"]})]})})]});if(n)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600 relative z-10"})]});const S=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-8 relative z-10",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsx(pt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"}),"Autonomous Mode"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Let AI handle your scheduling based on your rules"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl border-2 border-white/20 shadow-lg hover:shadow-2xl hover:shadow-purple-200/30 transition-all p-4 sm:p-6 mb-6",children:[e.jsx("h2",{className:"font-bold text-gray-900 mb-4 text-sm sm:text-base",children:"Scheduling Mode"}),e.jsx("div",{className:"grid gap-2 sm:gap-3",children:sT.map(k=>{const T=k.icon,L=o===k.id;return e.jsxs("button",{onClick:()=>c(k.id),className:`flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl border-2 transition-all text-left ${L?`border-${k.color}-500 bg-${k.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${L?`bg-${k.color}-500`:"bg-gray-100"}`,children:e.jsx(T,{className:`h-5 w-5 sm:h-6 sm:w-6 ${L?"text-white":"text-gray-500"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`font-semibold text-sm sm:text-base ${L?`text-${k.color}-900`:"text-gray-900"}`,children:k.name}),e.jsx("p",{className:`text-xs sm:text-sm ${L?`text-${k.color}-700`:"text-gray-500"}`,children:k.description})]}),L&&e.jsx(de,{className:`h-5 w-5 sm:h-6 sm:w-6 text-${k.color}-600 flex-shrink-0`})]},k.id)})})]}),o!=="manual"&&e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-purple-200 p-4 sm:p-6 mb-6",children:[e.jsxs("h2",{className:"font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(Me,{className:"h-5 w-5 text-purple-600"}),"Auto-Confirm Rules"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(he,{className:"h-4 w-4 inline mr-1"}),"Maximum Meeting Duration"]}),e.jsxs("select",{value:d.max_duration,onChange:k=>u({...d,max_duration:parseInt(k.target.value)}),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"60 minutes"}),e.jsx("option",{value:90,children:"90 minutes"}),e.jsx("option",{value:120,children:"2 hours"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Meetings longer than this will require approval"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(he,{className:"h-4 w-4 inline mr-1"}),"Allowed Hours"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsx("select",{value:d.allowed_hours_start,onChange:k=>u({...d,allowed_hours_start:parseInt(k.target.value)}),className:"flex-1 px-4 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[...Array(24)].map((k,T)=>e.jsxs("option",{value:T,children:[T,":00"]},T))}),e.jsx("span",{className:"text-gray-500 text-center",children:"to"}),e.jsx("select",{value:d.allowed_hours_end,onChange:k=>u({...d,allowed_hours_end:parseInt(k.target.value)}),className:"flex-1 px-4 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[...Array(24)].map((k,T)=>e.jsxs("option",{value:T,children:[T,":00"]},T))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(se,{className:"h-4 w-4 inline mr-1"}),"Block Days (require approval)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(k=>e.jsx("button",{onClick:()=>y(k),className:`px-3 py-1.5 rounded-lg text-sm font-medium capitalize transition-all ${d.blocked_days.includes(k)?"bg-red-100 text-red-700 border-2 border-red-300":"bg-gray-100 text-gray-600 border-2 border-gray-200"}`,children:k.slice(0,3)},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Maximum Daily Bookings"}),e.jsx("input",{type:"number",min:"1",max:"20",value:d.max_daily_bookings,onChange:k=>u({...d,max_daily_bookings:parseInt(k.target.value)}),className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(Te,{className:"h-4 w-4 inline mr-1"}),"VIP Domains (always auto-confirm)"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:m,onChange:k=>p(k.target.value),placeholder:"e.g., google.com",className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl text-sm"}),e.jsxs("button",{onClick:N,className:"w-full sm:w-auto px-4 py-2 bg-green-100 text-green-700 rounded-xl hover:bg-green-200 flex items-center justify-center",children:[e.jsx(vt,{className:"h-5 w-5"}),e.jsx("span",{className:"sm:hidden ml-2",children:"Add Domain"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.vip_domains.map(k=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[k,e.jsx("button",{onClick:()=>u({...d,vip_domains:d.vip_domains.filter(T=>T!==k)}),children:e.jsx(Pe,{className:"h-4 w-4"})})]},k))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(Te,{className:"h-4 w-4 inline mr-1"}),"Blocked Domains (always require approval)"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:w,onChange:k=>x(k.target.value),placeholder:"e.g., spam.com",className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl text-sm"}),e.jsxs("button",{onClick:C,className:"w-full sm:w-auto px-4 py-2 bg-red-100 text-red-700 rounded-xl hover:bg-red-200 flex items-center justify-center",children:[e.jsx(vt,{className:"h-5 w-5"}),e.jsx("span",{className:"sm:hidden ml-2",children:"Add Domain"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.blocked_domains.map(k=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[k,e.jsx("button",{onClick:()=>u({...d,blocked_domains:d.blocked_domains.filter(T=>T!==k)}),children:e.jsx(Pe,{className:"h-4 w-4"})})]},k))})]})]})]}),o!=="manual"&&e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-200 p-4 sm:p-6 mb-6",children:[e.jsx("h2",{className:"font-bold text-gray-900 mb-4 text-sm sm:text-base",children:"Test Your Rules"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 font-medium",children:"Test with sample booking"}),v&&e.jsxs("div",{className:`mt-4 p-4 rounded-xl ${v.autoConfirm?"bg-green-50 border-2 border-green-200":"bg-yellow-50 border-2 border-yellow-200"}`,children:[e.jsx("p",{className:`font-semibold ${v.autoConfirm?"text-green-800":"text-yellow-800"}`,children:v.autoConfirm?" Would be auto-confirmed":" Would require approval"}),e.jsx("p",{className:`text-sm mt-1 ${v.autoConfirm?"text-green-700":"text-yellow-700"}`,children:v.reason})]})]}),e.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-3 sm:p-4 mb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Om,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs sm:text-sm text-blue-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"How it works"}),e.jsxs("ul",{className:"space-y-1 text-blue-700",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Manual:"})," All bookings require your confirmation"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"AI Suggests:"})," Bookings go to pending, AI suggests action"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Fully Autonomous:"})," AI auto-confirms if rules pass, else pending"]})]})]})]})}),e.jsxs("button",{onClick:b,disabled:l,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold disabled:opacity-50 flex items-center justify-center gap-2",children:[l?e.jsx(ne,{className:"h-5 w-5 animate-spin"}):e.jsx(de,{className:"h-5 w-5"}),l?"Saving...":"Save Settings"]})]})]})}function nT({slots:t,onSelectDate:s,onClose:r,selectedDate:n}){const[a,l]=h.useState(new Date),[i,o]=h.useState({});h.useEffect(()=>{console.log(" Normalizing slots for calendar modal..."),console.log(" Original slot keys (first 5):",Object.keys(t).slice(0,5));const j={};let f=0,b=0;for(const[g,y]of Object.entries(t))try{const N=new Date(g);if(isNaN(N.getTime())){console.warn(" Invalid date:",g),b++;continue}const C=N.getFullYear(),S=String(N.getMonth()+1).padStart(2,"0"),k=String(N.getDate()).padStart(2,"0"),T=`${C}-${S}-${k}`;j[T]=y,f<5&&console.log(` Converted: "${g}"  "${T}" (${y.length} slots)`),f++}catch(N){console.error(" Error normalizing date:",g,N),b++}console.log(` Normalization complete: Success: ${f} dates, Failed: ${b} dates`),o(j)},[t]),h.useEffect(()=>{if(Object.keys(i).length===0)return;const j=Object.keys(i).filter(N=>{const C=i[N];return C&&C.some(S=>S.status==="available")}).sort();if(j.length===0)return;const f=j[0],[b,g]=f.split("-").map(Number),y=new Date(b,g-1,1);l(y)},[i]);const c=j=>{const f=j.getFullYear(),b=String(j.getMonth()+1).padStart(2,"0"),g=String(j.getDate()).padStart(2,"0");return`${f}-${b}-${g}`},d=j=>{const f=i[j];return f?f.filter(b=>b.status==="available").length:0},u=j=>{const f=new Date;return j.getDate()===f.getDate()&&j.getMonth()===f.getMonth()&&j.getFullYear()===f.getFullYear()},m=j=>{const f=new Date;f.setHours(0,0,0,0);const b=new Date(j);return b.setHours(0,0,0,0),b<f},p=j=>{console.log(" Date clicked in modal:",j),s(j),r()},w=()=>{const j=a.getFullYear(),f=a.getMonth(),b=new Date(j,f,1),y=new Date(j,f+1,0).getDate(),N=b.getDay(),C=[];for(let S=0;S<N;S++)C.push(e.jsx("div",{className:"h-16 sm:h-20"},`empty-${S}`));for(let S=1;S<=y;S++){const k=new Date(j,f,S),T=c(k),L=d(T),E=L>0,V=u(k),R=m(k),M=n===T;C.push(e.jsxs("div",{onClick:()=>{!R&&E&&p(T)},className:`h-16 sm:h-20 rounded-lg border-2 transition-all relative group ${M?"border-blue-500 bg-blue-50 shadow-md ring-2 ring-blue-200":E&&!R?"border-gray-200 hover:border-blue-300 hover:bg-blue-50 hover:shadow-md cursor-pointer active:scale-95":"border-gray-100 bg-gray-50 cursor-not-allowed opacity-50"}`,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-1 pointer-events-none",children:[e.jsx("span",{className:`text-base sm:text-lg font-semibold ${V?"text-blue-600":E&&!R?"text-gray-900":"text-gray-400"}`,children:S}),E&&!R&&e.jsxs("div",{className:"flex items-center gap-0.5 mt-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${M?"bg-blue-500":"bg-green-500"}`}),e.jsx("span",{className:`text-[10px] font-medium ${M?"text-blue-600":"text-green-600"}`,children:L})]}),V&&e.jsx("span",{className:"text-[9px] text-blue-600 font-bold uppercase mt-0.5",children:"Today"}),M&&e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),E&&!R&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 shadow-lg",children:[L," slot",L!==1?"s":""," available",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-gray-900"})})]})]},S))}return C},x=Object.values(i).reduce((j,f)=>j+f.filter(b=>b.status==="available").length,0),v=Object.keys(i).filter(j=>{const[f,b]=j.split("-").map(Number);return f===a.getFullYear()&&b===a.getMonth()+1&&d(j)>0}).length;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-[9999]",onClick:r,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 rounded-t-2xl z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(se,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Select a Date"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:[x," total slots available"]})]})]}),e.jsx("div",{onClick:r,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors cursor-pointer",children:e.jsx(Pe,{className:"h-5 w-5 text-gray-500"})})]}),v>0&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 sm:p-3 flex items-start gap-2",children:[e.jsx(Om,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs sm:text-sm text-green-800",children:[e.jsxs("span",{className:"font-semibold",children:[v," day",v!==1?"s":""]})," with available slots in ",a.toLocaleDateString("en-US",{month:"long"})]})]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{onClick:()=>l(new Date(a.getFullYear(),a.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(fb,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("div",{onClick:()=>l(new Date(a.getFullYear(),a.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Lr,{className:"h-5 w-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>e.jsx("div",{className:"text-center text-xs font-semibold text-gray-500 py-2",children:j},j))}),e.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:w()}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Legend:"}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Available slots"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Selected date"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"No slots"})]})]})]})]})]})})}function aT(t){return Mm.createPortal(e.jsx(nT,{...t}),document.body)}function lT({bookingToken:t,guestCalendar:s=null,duration:r=30,onSlotSelected:n,timezone:a="UTC"}){var L,E,V;const[l,i]=h.useState({}),[o,c]=h.useState({}),[d,u]=h.useState(null),[m,p]=h.useState(null),[w,x]=h.useState(!0),[v,j]=h.useState(null),[f,b]=h.useState(!1),[g,y]=h.useState(!1),N=(s==null?void 0:s.signedIn)===!0;h.useEffect(()=>{if(!l||Object.keys(l).length===0){c({});return}const R={};for(const[M,H]of Object.entries(l))try{const O=new Date(M);if(!isNaN(O.getTime())){const D=O.getFullYear(),A=String(O.getMonth()+1).padStart(2,"0"),F=String(O.getDate()).padStart(2,"0"),z=`${D}-${A}-${F}`;R[z]=H}}catch(O){console.warn("Error normalizing date:",M,O)}c(R)},[l]),h.useEffect(()=>{if(Object.keys(o).length!==0)if(d){if(!o[d]){const R=Object.keys(o).sort().find(M=>o[M].some(H=>H.status==="available"));R&&u(R)}}else{const R=Object.keys(o).sort().find(M=>o[M].some(H=>H.status==="available"));R&&(console.log(" Auto-selecting first available date:",R),u(R))}},[o]),h.useEffect(()=>{C()},[t,s,r,a]);const C=async()=>{try{x(!0),console.log(" Using timezone:",a);const M=(await Rr.getSlots(t,{guestAccessToken:s==null?void 0:s.accessToken,guestRefreshToken:s==null?void 0:s.refreshToken,duration:r,timezone:a})).data;console.log(" Loaded slots:",{totalDates:Object.keys(M.slots).length,availableSlots:M.summary.availableSlots,hasGuestCalendar:N}),i(M.slots),j(M.summary)}catch(R){console.error(" Error loading slots:",R)}finally{x(!1)}},S=(R,M)=>{if(M)return{button:"border-blue-600 bg-blue-600",text:"text-white",badge:"bg-white/20 text-white",icon:"text-white"};if(!N)return{button:"border-gray-300 bg-white hover:bg-gray-50 hover:border-gray-400 hover:shadow-md",text:"text-gray-900",badge:"bg-gray-500 text-white",icon:"text-gray-600"};const H={green:{button:"border-green-500 bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 hover:shadow-md",text:"text-green-900",badge:"bg-green-500 text-white",icon:"text-green-600"},blue:{button:"border-blue-500 bg-gradient-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 hover:shadow-md",text:"text-blue-900",badge:"bg-blue-500 text-white",icon:"text-blue-600"},purple:{button:"border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 hover:shadow-md",text:"text-purple-900",badge:"bg-purple-500 text-white",icon:"text-purple-600"},yellow:{button:"border-yellow-500 bg-gradient-to-br from-yellow-50 to-orange-50 hover:from-yellow-100 hover:to-orange-100 hover:shadow-md",text:"text-yellow-900",badge:"bg-yellow-500 text-white",icon:"text-yellow-600"},gray:{button:"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:shadow-md",text:"text-gray-900",badge:"bg-gray-500 text-white",icon:"text-gray-600"}};return H[R]||H.gray},k=R=>R>=90?e.jsx(Jo,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-current"}):R>=80?e.jsx(ce,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):R>=70?e.jsx(Me,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):e.jsx(de,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),T=R=>{console.log(" SmartSlotPicker: Date received:",R);try{let M;if(/^\d{4}-\d{2}-\d{2}$/.test(R))M=R;else{const H=new Date(R);if(isNaN(H.getTime()))return console.error(" Invalid date format:",R),!1;{const O=H.getFullYear(),D=String(H.getMonth()+1).padStart(2,"0"),A=String(H.getDate()).padStart(2,"0");M=`${O}-${D}-${A}`}}console.log(" Normalized date:",M),u(M),p(null)}catch(M){console.error(" Error normalizing date:",M)}return!1};return w?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[e.jsx(ne,{className:"h-8 w-8 sm:h-10 sm:w-10 animate-spin text-blue-600 mb-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:N?"Finding best times for both of you...":"Loading availability..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("div",{className:`flex items-center gap-2 ${d?"text-green-600":"text-blue-600 font-semibold"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-green-100":"bg-blue-100"}`,children:d?e.jsx(de,{className:"h-4 w-4"}):e.jsx("span",{className:"text-xs font-bold",children:"1"})}),e.jsx("span",{children:"Pick a date"})]}),e.jsx(qe,{className:"h-4 w-4 text-slate-300"}),e.jsxs("div",{className:`flex items-center gap-2 ${d?"text-blue-600 font-semibold":"text-slate-400"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-blue-100":"bg-slate-100"}`,children:e.jsx("span",{className:"text-xs font-bold",children:"2"})}),e.jsx("span",{children:"Choose a time"})]})]}),v&&v.availableSlots>0&&e.jsx("div",{className:`border-2 rounded-xl p-4 ${N?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${N?"bg-green-500":"bg-blue-500"}`,children:e.jsx(se,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:`text-base font-bold ${N?"text-green-900":"text-blue-900"}`,children:[v.availableSlots," available slot",v.availableSlots!==1?"s":""," found"]}),N?e.jsx("p",{className:"text-sm text-green-700 mt-0.5",children:" Showing mutual availability with AI-ranked suggestions"}):e.jsx("p",{className:"text-sm text-blue-700 mt-0.5",children:"Showing all available times. Connect your calendar next time for personalized suggestions!"})]})]})}),v&&v.availableSlots===0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-yellow-900",children:["No available slots in the next ",((L=v.settings)==null?void 0:L.horizonDays)||30," days"]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Try connecting your calendar or contact the organizer directly"})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),"Select a date"]}),d&&o[d]&&e.jsxs("span",{className:"text-sm text-green-600 font-medium flex items-center gap-1",children:[e.jsx(de,{className:"h-4 w-4"}),new Date((E=o[d][0])==null?void 0:E.start).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),e.jsx("button",{type:"button",onClick:R=>{R.preventDefault(),R.stopPropagation(),y(!0)},className:"w-full p-6 border-2 border-dashed border-blue-300 rounded-2xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(se,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-700",children:d?"Change Date":"Open Calendar"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Browse available dates in calendar view"})]})]})})]}),d&&o[d]&&e.jsxs("div",{className:"pt-6 border-t-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"2"})}),"Choose your time"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:[r," min slots"]}),e.jsx("button",{type:"button",onClick:()=>b(!f),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:f?e.jsxs(e.Fragment,{children:[e.jsx($m,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Hide unavailable"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fl,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Show all"})]})})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-semibold",children:new Date((V=o[d][0])==null?void 0:V.start).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),e.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",o[d].filter(R=>R.status==="available").length," times available"]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 max-h-[60vh] overflow-y-auto",children:o[d].filter(R=>R.status==="available"?!0:f).map((R,M)=>{const H=(m==null?void 0:m.start)===R.start;if(R.status==="available"){const D=S(R.matchColor,H),A=()=>k(R.matchScore);return e.jsxs("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),p(R),n(R),console.log(" Slot selected:",R.time,"Match score:",R.matchScore)},className:`relative p-4 rounded-lg border-2 text-left transition-all min-h-[100px] active:scale-95 ${D.button}`,children:[N&&R.matchScore&&R.matchScore>=70&&!H&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full ${D.badge} shadow-sm`,children:[e.jsx(A,{}),e.jsxs("span",{className:"text-[10px] font-bold",children:[R.matchScore,"%"]})]})}),e.jsxs("div",{className:"flex items-start justify-between gap-1 mb-2",children:[e.jsx("span",{className:`text-lg font-bold ${D.text}`,children:R.time}),H&&e.jsx(de,{className:"h-5 w-5 text-white flex-shrink-0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:`text-xs font-bold ${H?"text-white":D.text}`,children:H?"Selected":N&&R.matchLabel?R.matchLabel:"Available"}),!H&&N&&R.matchScore&&e.jsxs("div",{className:`flex items-center gap-1 ${D.icon}`,children:[R.matchScore>=90&&e.jsx("span",{className:"text-[10px] font-medium",children:"Excellent time!"}),R.matchScore>=80&&R.matchScore<90&&e.jsx("span",{className:"text-[10px] font-medium",children:"Great choice"}),R.matchScore>=70&&R.matchScore<80&&e.jsx("span",{className:"text-[10px] font-medium",children:"Good option"}),R.matchScore<70&&R.matchScore>=60&&e.jsx("span",{className:"text-[10px] font-medium",children:"Fair match"})]})]})]},M)}else return e.jsxs("button",{type:"button",disabled:!0,className:"p-3 rounded-lg border border-gray-200 bg-gray-50 text-left opacity-60 cursor-not-allowed min-h-[100px]",title:R.details,children:[e.jsx("div",{className:"flex items-center justify-between gap-1",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:R.time})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 truncate",children:[R.reason==="organizer_busy"&&" Busy",R.reason==="guest_busy"&&" You're busy",R.reason==="outside_hours"&&" Off hours",R.reason==="lead_time"&&" Too soon",R.reason==="buffer"&&" Buffer",R.reason==="daily_cap"&&" Daily limit",R.reason==="blocked"&&" Blocked"]})]},M)})})]}),g&&e.jsx(aT,{slots:l,onSelectDate:T,onClose:()=>y(!1),selectedDate:d})]})}const id=({children:t,className:s=""})=>e.jsx("div",{className:`animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-forwards ${s}`,children:t});function V0(){var I,J;const t=Ls(),[s,r]=zr(),n=we(),a=t.username&&t.eventSlug,l=t.token,i=t.username,o=t.eventSlug,[c,d]=h.useState(!0),[u,m]=h.useState(!1),[p,w]=h.useState(!1),[x,v]=h.useState(!1),[j,f]=h.useState(!1),[b,g]=h.useState(!1),[y,N]=h.useState(null),[C,S]=h.useState(!1),[k,T]=h.useState(null),[L,E]=h.useState([]),[V,R]=h.useState(null),[M,H]=h.useState(null),[O,D]=h.useState(null),[A,F]=h.useState([]),[z,Q]=h.useState(null),[ue,Ce]=h.useState(""),[ge,X]=h.useState(null),[P,B]=h.useState({logo_url:null,primary_color:"#3B82F6",accent_color:"#6366F1",hide_powered_by:!1}),[Y,oe]=h.useState(!1),[q,G]=h.useState("loading"),[K,ye]=h.useState(null),[Xe,Se]=h.useState(!1),[ae,Ue]=h.useState({attendee_name:"",attendee_email:"",notes:"",custom_answers:{}}),[it,Gt]=h.useState([]),[ss,ot]=h.useState(""),[nt,Is]=h.useState(""),[ct,Fs]=h.useState(null);h.useEffect(()=>{try{const $=Intl.DateTimeFormat().resolvedOptions().timeZone;Is($)}catch{Is("UTC")}},[]),h.useEffect(()=>{if(a)return;const $=s.get("reschedule");$&&(g(!0),N($))},[l,a]),h.useEffect(()=>{Gr()},[]),h.useEffect(()=>{if(a)return;const $=s.get("code"),te=s.get("state");!$||!(te!=null&&te.startsWith("guest-booking:"))||!l||Xe||(Se(!0),(async()=>{try{Ce("");const U=te.split(":")[2]||"google";let re;U==="microsoft"?re=await Vs.guestMicrosoftAuth($,l):re=await Vs.guestGoogleAuth($,l);const pe=re.data;ye({signedIn:!0,hasCalendarAccess:pe.hasCalendarAccess||!1,provider:U,email:pe.email||"",name:pe.name||"",accessToken:pe.accessToken,refreshToken:pe.refreshToken}),Ue(De=>({...De,attendee_name:De.attendee_name||pe.name||"",attendee_email:De.attendee_email||pe.email||""}));const ve=s.get("type"),Ae=s.get("reschedule");let Oe=`/book/${l}`;const fe=new URLSearchParams;ve&&fe.set("type",ve),Ae&&fe.set("reschedule",Ae),fe.toString()&&(Oe+=`?${fe.toString()}`),n(Oe,{replace:!0})}catch{Ce("Failed to connect calendar. Please try again."),G("calendar-choice");const re=new URLSearchParams(s);re.delete("code"),re.delete("state"),n(`/book/${l}?${re.toString()}`,{replace:!0})}})())},[s,l,n,Xe,a]),h.useEffect(()=>{if(a||!(K!=null&&K.signedIn)||A.length===0)return;const $=localStorage.getItem("schedulesync_oauth_return");if($)try{const te=JSON.parse($);if(Date.now()-te.timestamp>5*60*1e3){localStorage.removeItem("schedulesync_oauth_return");return}if(te.eventTypeId){const U=A.find(re=>re.id===te.eventTypeId);if(U){Q(U);const re=new URLSearchParams(s);re.set("type",te.eventTypeSlug),r(re,{replace:!0})}}te.step&&G(te.step),localStorage.removeItem("schedulesync_oauth_return")}catch{localStorage.removeItem("schedulesync_oauth_return")}},[K==null?void 0:K.signedIn,A,s,r,a]);const Gr=async()=>{var $,te,U,re,pe,ve,Ae;try{if(d(!0),a){const be=await fetch(`/api/public/booking/${i}/${o}`);if(!be.ok)throw new Error("Event type not found");const ke=await be.json();R(ke.host),ke.branding&&B({logo_url:ke.branding.logo_url||null,primary_color:ke.branding.primary_color||"#3B82F6",accent_color:ke.branding.accent_color||"#6366F1",hide_powered_by:ke.branding.hide_powered_by||!1}),D({name:ke.host.name,user_name:ke.host.username,id:ke.host.username}),H({name:`${ke.host.name}'s Events`,id:"public"}),Q(ke.eventType),F([ke.eventType]),G("form"),d(!1);return}const Oe=await Rr.getByToken(l),fe=(($=Oe.data)==null?void 0:$.data)||Oe.data||{};if(!fe.team||!fe.member)throw new Error("Missing info");if(fe.member.external_booking_link&&!b){w(!0),D(fe.member),setTimeout(()=>{window.location.href=fe.member.external_booking_link},1500);return}if(H(fe.team),D(fe.member),fe.isMagicLink&&(S(!0),fe.magicLinkData&&T(fe.magicLinkData),fe.participants&&fe.participants.length>0&&E(fe.participants)),(te=fe.member)!=null&&te.user_id)try{const be=await fetch(`/api/user/${fe.member.user_id}/branding`);if(be.ok){const ke=await be.json();B({logo_url:ke.brand_logo_url||null,primary_color:ke.brand_primary_color||"#3B82F6",accent_color:ke.brand_accent_color||"#6366F1",hide_powered_by:ke.hide_powered_by||!1})}}catch{}const De=fe.isDirectLink===!0||fe.skipEventTypes===!0||fe.linkType==="member"||b;if(f(De),fe.prefill&&Ue(be=>({...be,attendee_name:fe.prefill.attendee_name||be.attendee_name,attendee_email:fe.prefill.attendee_email||be.attendee_email})),fe.bookingToken&&X(fe.bookingToken),fe.selectedEventType&&(Q(fe.selectedEventType),F(fe.eventTypes||[fe.selectedEventType])),De){fe.selectedEventType||(F([]),Q(null)),G("calendar-choice");return}let _e=fe.eventTypes||[];_e.length===0&&!De&&(_e=(await Gm.getAll()).data.eventTypes||[]);const Fe=_e.filter(be=>be.is_active!==!1);F(Fe);const dt=s.get("type");if(dt){const be=Fe.find(ke=>ke.slug===dt);be?(Q(be),G("calendar-choice")):G(Fe.length>0?"event-select":"calendar-choice")}else Fe.length===1?(Q(Fe[0]),G("calendar-choice")):Fe.length>1?G("event-select"):G("calendar-choice")}catch(Oe){if(((U=Oe.response)==null?void 0:U.status)===410||((pe=(re=Oe.response)==null?void 0:re.data)==null?void 0:pe.code)==="LINK_USED"){v(!0),d(!1);return}Ce(Oe.message||((Ae=(ve=Oe.response)==null?void 0:ve.data)==null?void 0:Ae.error)||"Invalid booking link")}finally{d(!1)}},qr=$=>{Q($);const te=new URLSearchParams(s);te.set("type",$.slug),r(te),G("calendar-choice")},Yr=async $=>{try{if(z){const re={token:l,eventTypeId:z.id,eventTypeSlug:z.slug,step:"form",timestamp:Date.now()};localStorage.setItem("schedulesync_oauth_return",JSON.stringify(re))}let te;$==="google"?te=await Vs.getGoogleGuestUrl(l):$==="microsoft"&&(te=await Vs.getMicrosoftGuestUrl(l));const U=te.data.url;window.location.href=U}catch{Ce("Failed to connect calendar. Please try again.")}},Kr=()=>{if(!ss.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ss)){alert("Please enter a valid email address");return}if(it.includes(ss)||ss===ae.attendee_email){alert("This email is already added");return}Gt([...it,ss]),ot("")},ba=$=>{Gt(it.filter(te=>te!==$))},ya=async $=>{var te,U,re;if($.preventDefault(),!!ct)try{if(m(!0),a){const Oe=await fetch("/api/public/booking/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,event_slug:o,start_time:ct.start,end_time:ct.end,attendee_name:ae.attendee_name,attendee_email:ae.attendee_email,notes:ae.notes,additional_attendees:it,guest_timezone:nt,custom_answers:ae.custom_answers})});if(!Oe.ok){const Fe=await Oe.json();throw new Error(Fe.error||"Failed to create booking")}const De=(await Oe.json()).booking,_e={id:De.id,start_time:ct.start,end_time:ct.end,attendee_name:ae.attendee_name,attendee_email:ae.attendee_email,additional_attendees:it,guest_timezone:nt,organizer_name:V.name,team_name:M.name,event_type:z.title,duration:z.duration,notes:ae.notes,meet_link:De.meet_link,manage_token:De.manage_token,is_reschedule:!1,confirmation_message:z.confirmation_message};n(`/booking-confirmation?data=${encodeURIComponent(JSON.stringify(_e))}`);return}const ve=(await Rr.create({token:l,slot:ct,...ae,additional_attendees:it,guest_timezone:nt,custom_answers:ae.custom_answers,event_type_id:z==null?void 0:z.id,event_type_slug:z==null?void 0:z.slug,reschedule_token:y,is_magic_link:C,magic_link_token:C?l:null,magic_link_id:(k==null?void 0:k.id)||null})).data.booking,Ae={id:ve==null?void 0:ve.id,start_time:ct.start,end_time:ct.end,attendee_name:ae.attendee_name,attendee_email:ae.attendee_email,additional_attendees:it,guest_timezone:nt,organizer_name:(O==null?void 0:O.name)||(O==null?void 0:O.user_name),team_name:M==null?void 0:M.name,event_type:(z==null?void 0:z.title)||(z==null?void 0:z.name),duration:(z==null?void 0:z.duration)||30,notes:ae.notes,meet_link:ve==null?void 0:ve.meet_link,booking_token:(ve==null?void 0:ve.booking_token)||l,manage_token:ve==null?void 0:ve.manage_token,is_reschedule:b,confirmation_message:z==null?void 0:z.confirmation_message};n(`/booking-confirmation?data=${encodeURIComponent(JSON.stringify(Ae))}`)}catch(pe){((te=pe.response)==null?void 0:te.status)===410?v(!0):alert(pe.message||((re=(U=pe.response)==null?void 0:U.data)==null?void 0:re.error)||"Failed to create booking.")}finally{m(!1)}},Jr=(z==null?void 0:z.duration)||(O==null?void 0:O.default_duration)||30,us=(V==null?void 0:V.name)||(O==null?void 0:O.name)||(O==null?void 0:O.user_name),Qr=((I=us==null?void 0:us[0])==null?void 0:I.toUpperCase())||"U",va=$=>$?$.startsWith("http")?$:`${Gb}${$}`:null,ja=a?`public:${i}:${o}`:ge||l;return c||p?e.jsx(iT,{redirecting:p,memberName:us,branding:P}):x?e.jsx(oT,{}):ue&&!M?e.jsx(cT,{error:ue}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 md:p-6 font-sans relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl w-full max-w-6xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] border border-white/20 relative z-10",children:[e.jsxs("div",{className:"md:w-1/3 bg-gradient-to-br from-slate-50 to-purple-50/30 border-r border-purple-100/50 p-4 sm:p-6 md:p-8 flex flex-col relative backdrop-blur-sm",children:[e.jsx("div",{className:"absolute top-5 right-5 w-24 h-24 border-2 border-purple-200/30 rounded-full"}),e.jsx("div",{className:"absolute bottom-5 left-5 w-16 h-16 border-2 border-pink-200/30 rounded-full"}),b&&e.jsxs("div",{className:"mb-6 bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200/50 rounded-2xl p-4 flex gap-3 items-start shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(vs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-amber-800 uppercase tracking-wide mb-1",children:"Rescheduling"}),e.jsx("p",{className:"text-sm text-amber-700 leading-tight",children:"Your original booking will be cancelled once you confirm a new time."})]})]}),C&&e.jsxs("div",{className:"mb-6 bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-200/50 rounded-2xl p-4 flex gap-3 items-start shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(ce,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-purple-800 uppercase tracking-wide mb-1",children:(k==null?void 0:k.name)||"Quick Link"}),e.jsx("p",{className:"text-sm text-purple-700 leading-tight",children:(k==null?void 0:k.scheduling_mode)==="collective"?"Group meeting - all participants required":"Single-use booking link"})]})]}),L.length>1&&e.jsxs("div",{className:"mb-6 bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200/50 rounded-2xl p-5 shadow-sm",children:[e.jsxs("p",{className:"text-xs font-bold text-indigo-800 uppercase tracking-wide mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:e.jsx(Rt,{className:"h-3 w-3 text-white"})}),"Meeting Participants"]}),e.jsx("div",{className:"space-y-2",children:L.map(($,te)=>{var U,re;return e.jsxs("div",{className:"flex items-center gap-3 bg-white/60 backdrop-blur-sm px-3 py-2 rounded-xl",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center text-white text-sm font-bold shadow-md",style:{background:`linear-gradient(135deg, ${P.primary_color}, ${P.accent_color})`},children:((re=(U=$.name)==null?void 0:U[0])==null?void 0:re.toUpperCase())||"U"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("p",{className:"text-sm font-semibold text-indigo-900 truncate",children:[$.name,$.is_host&&e.jsx("span",{className:"ml-2 text-xs bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-2 py-1 rounded-lg font-bold",children:"Host"})]})})]},$.id)})}),(k==null?void 0:k.scheduling_mode)==="collective"&&e.jsx("p",{className:"text-xs text-indigo-600 mt-3 font-medium",children:"All participants' calendars will be checked"})]}),e.jsxs("div",{className:"flex-1 mt-8",children:[e.jsxs("div",{className:"mb-6",children:[P.logo_url&&!Y?e.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-lg mb-4 bg-white border border-slate-200",children:e.jsx("img",{src:va(P.logo_url),alt:"Logo",className:"w-full h-full object-contain",onError:()=>oe(!0)})}):e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shadow-lg mb-4",style:{background:`linear-gradient(135deg, ${P.primary_color}, ${P.accent_color})`},children:Qr}),e.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Book a meeting with"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:us}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:M==null?void 0:M.name})]}),(V==null?void 0:V.bio)&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:V.bio})}),z?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4 duration-500",children:[e.jsx("div",{className:"h-px bg-slate-200 w-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:z.title}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[Jr," min"]})]}),z.location&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(bn,{className:"h-4 w-4"}),e.jsx("span",{children:z.location})]})]})]}),z.description&&e.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:z.description}),z.pre_meeting_instructions&&e.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:[e.jsx("p",{className:"text-xs font-bold text-amber-800 uppercase tracking-wide mb-1",children:"Before the Meeting"}),e.jsx("p",{className:"text-sm text-amber-700 leading-relaxed",children:z.pre_meeting_instructions})]})]}):e.jsx("div",{className:"mt-8 p-4 rounded-xl border",style:{backgroundColor:P.primary_color+"10",borderColor:P.primary_color+"30"},children:e.jsx("p",{className:"text-sm",style:{color:P.primary_color},children:"Please select an event type from the list to continue."})})]}),!P.hide_powered_by&&e.jsx("div",{className:"mt-auto pt-6 text-xs text-slate-300 font-medium",children:"Powered by TruCal"})]}),e.jsxs("div",{className:"md:w-2/3 bg-white p-4 sm:p-6 md:p-10 overflow-y-auto relative",children:[q==="event-select"&&!a&&e.jsxs(id,{className:"max-w-xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Select an Event Type"}),e.jsx("p",{className:"text-slate-500 mb-8",children:"Choose the type of meeting you'd like to schedule."}),e.jsx("div",{className:"grid gap-4",children:A.map($=>e.jsxs("button",{onClick:()=>qr($),className:"group relative flex items-center gap-4 p-6 rounded-2xl border-2 border-slate-200 hover:shadow-xl hover:shadow-purple-100/50 transition-all text-left bg-white hover:-translate-y-0.5",onMouseEnter:te=>{te.currentTarget.style.borderColor=P.primary_color},onMouseLeave:te=>{te.currentTarget.style.borderColor="#e2e8f0"},children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform shadow-md",style:{background:`linear-gradient(135deg, ${P.primary_color}, ${P.accent_color})`},children:e.jsx(he,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:$.title}),e.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[$.duration," minutes"]})]}),e.jsx(Lr,{className:"h-5 w-5 group-hover:translate-x-1 transition-all",style:{color:P.primary_color}})]},$.id))})]}),q==="calendar-choice"&&!a&&e.jsxs(id,{className:"max-w-lg mx-auto py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:P.primary_color+"15"},children:e.jsx(ce,{className:"h-8 w-8",style:{color:P.primary_color}})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Check for conflicts?"}),e.jsxs("p",{className:"text-slate-500 mt-2",children:["Sign in to overlay your calendar availability on top of ",us==null?void 0:us.split(" ")[0],"'s schedule."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>Yr("google"),className:"w-full flex items-center p-5 rounded-xl border-2 border-slate-200 hover:border-red-300 hover:bg-gradient-to-br hover:from-red-50 hover:to-orange-50 transition-all group hover:shadow-lg hover:-translate-y-0.5",children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"",className:"h-6 w-6 mr-4"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"block font-semibold text-slate-900",children:"Connect Google Calendar"}),e.jsx("span",{className:"block text-xs text-slate-500",children:"We'll only read your busy times"})]}),e.jsx(qe,{className:"h-5 w-5 text-slate-300 group-hover:text-red-500 transition-colors"})]}),e.jsxs("button",{onClick:()=>Yr("microsoft"),className:"w-full flex items-center p-5 rounded-xl border-2 border-slate-200 hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-indigo-50 transition-all group hover:shadow-lg hover:-translate-y-0.5",children:[e.jsxs("div",{className:"h-6 w-6 mr-4 grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"bg-[#f35325]"}),e.jsx("div",{className:"bg-[#81bc06]"}),e.jsx("div",{className:"bg-[#05a6f0]"}),e.jsx("div",{className:"bg-[#ffba08]"})]}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"block font-semibold text-slate-900",children:"Connect Outlook / Office 365"}),e.jsx("span",{className:"block text-xs text-slate-500",children:"We'll only read your busy times"})]}),e.jsx(qe,{className:"h-5 w-5 text-slate-300 group-hover:text-blue-500 transition-colors"})]}),e.jsxs("div",{className:"relative py-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-100"})}),e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"bg-white px-2 text-xs text-slate-400 uppercase tracking-wide",children:"Or"})})]}),e.jsx("button",{onClick:()=>G("form"),className:"w-full py-4 text-slate-600 font-medium hover:text-slate-900 hover:bg-slate-50 rounded-xl transition-all hover:shadow-md",children:"Skip and select time manually"})]})]}),q==="form"&&e.jsxs(id,{className:"h-full flex flex-col",children:[(K==null?void 0:K.signedIn)&&e.jsxs("div",{className:"mb-4 inline-flex items-center gap-3 px-4 py-2.5 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200/50 text-green-700 rounded-xl text-sm font-semibold self-start shadow-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse shadow-md"}),"Using your calendar: ",K.email]}),nt&&e.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold self-start shadow-sm border",style:{background:`linear-gradient(135deg, ${P.primary_color}15, ${P.accent_color}15)`,color:P.primary_color,borderColor:P.primary_color+"30"},children:[e.jsx(he,{className:"h-4 w-4"}),"Your timezone: ",nt]}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:ct?"Finalize Booking":"Select a Time"}),!ct&&e.jsx("div",{className:"flex-1",children:e.jsx(lT,{bookingToken:ja,guestCalendar:K,onSlotSelected:Fs,duration:Jr,timezone:nt})}),ct&&e.jsxs("div",{className:"max-w-lg mx-auto w-full animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"rounded-2xl p-5 mb-6 flex justify-between items-center border-2 shadow-lg shadow-purple-100/50",style:{background:`linear-gradient(135deg, ${P.primary_color}15, ${P.accent_color}15)`,borderColor:P.primary_color+"30"},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-md",style:{background:`linear-gradient(135deg, ${P.primary_color}, ${P.accent_color})`},children:e.jsx(xe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-wide mb-1",style:{color:P.primary_color},children:"Selected Time"}),e.jsx("p",{className:"font-semibold",style:{color:P.primary_color},children:new Date(ct.start).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-sm",style:{color:P.primary_color+"cc"},children:[new Date(ct.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(ct.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsx("button",{onClick:()=>Fs(null),className:"text-sm font-semibold px-4 py-2 rounded-lg hover:bg-white/50 transition-all",style:{color:P.primary_color},children:"Change"})]}),e.jsxs("form",{onSubmit:ya,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Name"}),e.jsx("input",{type:"text",required:!0,value:ae.attendee_name,onChange:$=>Ue({...ae,attendee_name:$.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all hover:border-slate-300 focus:shadow-lg focus:shadow-purple-100/50",placeholder:"John Doe",style:{"--tw-ring-color":P.primary_color}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",required:!0,value:ae.attendee_email,onChange:$=>Ue({...ae,attendee_email:$.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all hover:border-slate-300 focus:shadow-lg focus:shadow-purple-100/50",placeholder:"john@example.com",style:{"--tw-ring-color":P.primary_color}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Additional Notes"}),e.jsx("textarea",{value:ae.notes,onChange:$=>Ue({...ae,notes:$.target.value}),rows:"3",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all resize-none hover:border-slate-300 focus:shadow-lg focus:shadow-purple-100/50",placeholder:"Anything specific you want to discuss?",style:{"--tw-ring-color":P.primary_color}})]}),((J=z==null?void 0:z.custom_questions)==null?void 0:J.length)>0&&e.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-4",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Additional Questions"}),z.custom_questions.map($=>{var te;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[$.label,$.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),$.type==="textarea"?e.jsx("textarea",{value:ae.custom_answers[$.id]||"",onChange:U=>Ue({...ae,custom_answers:{...ae.custom_answers,[$.id]:U.target.value}}),required:$.required,rows:"3",className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all resize-none hover:border-slate-300 focus:shadow-lg focus:shadow-purple-100/50",placeholder:$.placeholder||"",style:{"--tw-ring-color":P.primary_color}}):$.type==="select"?e.jsxs("select",{value:ae.custom_answers[$.id]||"",onChange:U=>Ue({...ae,custom_answers:{...ae.custom_answers,[$.id]:U.target.value}}),required:$.required,className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all bg-white hover:border-slate-300 focus:shadow-lg focus:shadow-purple-100/50",style:{"--tw-ring-color":P.primary_color},children:[e.jsx("option",{value:"",children:"Select an option"}),(te=$.options)==null?void 0:te.map((U,re)=>e.jsx("option",{value:U,children:U},re))]}):e.jsx("input",{type:$.type==="email"?"email":$.type==="phone"?"tel":"text",value:ae.custom_answers[$.id]||"",onChange:U=>Ue({...ae,custom_answers:{...ae.custom_answers,[$.id]:U.target.value}}),required:$.required,className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all hover:border-slate-300 focus:shadow-lg focus:shadow-purple-100/50",placeholder:$.placeholder||"",style:{"--tw-ring-color":P.primary_color}})]},$.id)})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Invite Others to This Meeting"}),it.length>0&&e.jsx("div",{className:"space-y-2 mb-3",children:it.map(($,te)=>e.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-slate-50 to-purple-50/30 px-4 py-3 rounded-xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:P.primary_color+"20"},children:e.jsx(Rt,{className:"h-4 w-4",style:{color:P.primary_color}})}),e.jsx("span",{className:"text-sm text-slate-700 font-medium",children:$})]}),e.jsx("button",{type:"button",onClick:()=>ba($),className:"text-slate-400 hover:text-red-600 transition-colors p-1 hover:bg-red-50 rounded-lg",children:e.jsx(Pe,{className:"h-4 w-4"})})]},te))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:ss,onChange:$=>ot($.target.value),onKeyPress:$=>{$.key==="Enter"&&($.preventDefault(),Kr())},className:"flex-1 px-4 py-2.5 sm:py-3 rounded-lg border-2 border-slate-200 focus:ring-2 focus:border-transparent outline-none transition-all text-sm hover:border-slate-300 focus:shadow-md focus:shadow-purple-100/50",placeholder:"colleague@example.com",style:{"--tw-ring-color":P.primary_color}}),e.jsxs("button",{type:"button",onClick:Kr,className:"px-4 py-2.5 sm:py-3 rounded-lg font-medium text-sm flex items-center gap-1 text-white shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5",style:{background:`linear-gradient(135deg, ${P.primary_color}, ${P.accent_color})`},children:[e.jsx(vt,{className:"h-4 w-4"}),"Add"]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Additional attendees will receive calendar invites and meeting details"})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full mt-6 text-white py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg hover:shadow-2xl hover:shadow-purple-200/50 transition-all disabled:opacity-50 flex items-center justify-center gap-2 hover:-translate-y-0.5 active:translate-y-0",style:{background:`linear-gradient(135deg, ${P.primary_color}, ${P.accent_color})`},children:u?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),b?"Confirming...":"Booking..."]}):e.jsx(e.Fragment,{children:b?"Confirm Reschedule":"Confirm Booking"})})]})]})]})]})]})]})}function iT({redirecting:t,memberName:s,branding:r}){const n=(r==null?void 0:r.primary_color)||"#3B82F6";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center animate-pulse relative z-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:n+"20"},children:t?e.jsx(St,{className:"h-8 w-8",style:{color:n}}):e.jsx(ne,{className:"h-8 w-8 animate-spin",style:{color:n}})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:t?`Redirecting to ${s}...`:"Loading availability..."})]})]})}function oT(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border-2 border-white/20 relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Fm,{className:"h-10 w-10 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link Already Used"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This single-use booking link has already been used or has expired."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please request a new link from the organizer if you need to book another time."})]})]})}function cT({error:t}){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border-2 border-white/20 relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Nl,{className:"h-10 w-10 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:t||"This booking link is invalid or has expired."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You can safely close this page."})]})]})}function Qv({children:t,user:s,badge:r,branding:n}){const a=d=>(d==null?void 0:d.split(" ").map(u=>u[0]).join("").toUpperCase())||"?",l=(n==null?void 0:n.primary_color)||"#8B5CF6",i=(n==null?void 0:n.accent_color)||"#EC4899",o=(n==null?void 0:n.hide_powered_by)||!1,c={background:`linear-gradient(135deg, ${l}, ${i})`};return e.jsx("div",{className:"min-h-screen",style:{background:`linear-gradient(135deg, ${l}08, ${i}08, #fafafa)`},children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"h-24 relative",style:c,children:r&&e.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-white text-xs font-medium",children:r})}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsxs("div",{className:"flex items-end gap-4 -mt-12 mb-6 relative z-10",children:[s!=null&&s.avatar_url?e.jsx("img",{src:s.avatar_url,alt:s==null?void 0:s.name,className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg object-cover bg-white relative z-10"}):n!=null&&n.logo_url?e.jsx("div",{className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg bg-white flex items-center justify-center relative z-10",children:e.jsx("img",{src:n.logo_url,alt:"Logo",className:"w-16 h-16 object-contain"})}):e.jsx("div",{className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg flex items-center justify-center relative z-10",style:c,children:e.jsx("span",{className:"text-3xl font-bold text-white",children:a(s==null?void 0:s.name)})}),e.jsxs("div",{className:"pb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.name)||"Book a Meeting"}),(s==null?void 0:s.bio)&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:s.bio})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-6 pb-6 border-b border-gray-100",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{children:"Times shown in your local timezone"})]}),t]})]}),!o&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 text-sm text-gray-400 hover:text-purple-600 transition-colors",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsxs("span",{children:["Powered by ",e.jsx("span",{className:"font-semibold",children:"TruCal"})]})]})})]})})}function Xv({event:t,onClick:s,branding:r}){const n=c=>{const d=(c||"").toLowerCase();return d.includes("zoom")||d.includes("meet")||d.includes("video")||d.includes("google")?e.jsx(Vt,{className:"h-4 w-4"}):d.includes("phone")?e.jsx($l,{className:"h-4 w-4"}):d.includes("person")||d.includes("office")?e.jsx(bn,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})},a=(c,d)=>{if(d)switch(d){case"google_meet":return"Google Meet";case"zoom":return"Zoom";case"teams":return"MS Teams";case"phone":return"Phone call";case"in_person":return"In person"}if(!c)return"Video call";const u=c.toLowerCase();return u.includes("zoom")?"Zoom":u.includes("meet")||u.includes("google")?"Google Meet":u.includes("teams")?"MS Teams":u.includes("phone")?"Phone call":u.includes("person")||u.includes("office")?"In person":"Video call"},l=(r==null?void 0:r.primary_color)||"#8B5CF6";r!=null&&r.accent_color;const i=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500"],o=(t.id||0)%i.length;return t.color,e.jsx("button",{onClick:s,className:"w-full group text-left",children:e.jsxs("div",{className:"flex items-center gap-4 p-5 bg-gray-50 hover:bg-white rounded-2xl border-2 border-gray-100 hover:border-purple-200 hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${i[o]} flex items-center justify-center flex-shrink-0 shadow-md`,children:e.jsx(se,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors truncate text-lg",children:t.name}),t.description&&e.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mt-2",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(he,{className:"h-4 w-4"}),t.duration," min"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[n(t.location||t.location_type),a(t.location,t.location_type)]}),t.price>0&&e.jsxs("span",{className:"text-green-600 font-medium",children:["$",t.price]})]})]}),e.jsx(Lr,{className:"h-5 w-5 text-gray-300 group-hover:text-purple-500 group-hover:translate-x-1 transition-all flex-shrink-0"})]})})}function dT(){const{token:t}=Ls(),s=we(),[r,n]=h.useState(null),[a,l]=h.useState(!0),[i,o]=h.useState(null);h.useEffect(()=>{c()},[t]);const c=async()=>{try{let x=await fetch(`/api/magic-links/validate/${t}`);if(x.ok||(x=await fetch(`/api/book/${t}`)),!x.ok){x.status===410?o({type:"expired",message:"This link has expired"}):x.status===404?o({type:"not_found",message:"This link is invalid or has already been used"}):o({type:"error",message:"Something went wrong"});return}const v=await x.json();v.data?n({user:v.data.member||v.data.user,eventType:v.data.eventType,quickLink:v.data.magicLink||v.data.quickLink}):n({user:v.user||v.member,eventType:v.eventType||v.event_type,quickLink:v.magicLink||v.quickLink||v})}catch(x){console.error("Error loading quick link:",x),o({type:"error",message:"Failed to load booking page"})}finally{l(!1)}};if(a)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx(ne,{className:"h-10 w-10 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading booking page..."})]})]});if(i)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 text-center max-w-md w-full border-2 border-white/20 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(He,{className:"h-8 w-8 text-red-500"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.type==="expired"?"Link Expired":"Link Not Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:i.message}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please contact the person who sent you this link for a new one."})]})]});const{user:d,eventType:u,quickLink:m}=r||{};let p=null;m!=null&&m.attendee_name?p=`For ${m.attendee_name}`:((m==null?void 0:m.usage_limit)===1||m!=null&&m.is_single_use)&&(p="Single use");const w=u?{id:u.id,name:u.name||u.title||"Meeting",description:u.description,duration:u.duration||30,location:u.location||u.location_type,location_type:u.location_type}:{id:1,name:(m==null?void 0:m.name)||"Quick Meeting",description:(m==null?void 0:m.description)||`Meeting with ${d==null?void 0:d.name}`,duration:(m==null?void 0:m.duration)||30,location:"video"};return e.jsxs(Qv,{user:d,badge:p,children:[(m==null?void 0:m.attendee_name)&&e.jsx("div",{className:"mb-6 p-4 bg-purple-50 rounded-xl border border-purple-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Rt,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-purple-900",children:["Hi ",m.attendee_name,"!"]}),e.jsxs("p",{className:"text-sm text-purple-700",children:[d==null?void 0:d.name," has invited you to book a meeting"]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mb-4",children:m!=null&&m.attendee_name?"Your meeting":"Book a meeting"}),e.jsx(Xv,{event:w,onClick:()=>{s(`/book/${t}?continue=true`)}})]}),(m==null?void 0:m.expires_at)&&e.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-gray-400",children:[e.jsx(he,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["Link expires ",new Date(m.expires_at).toLocaleDateString()]})]})]})}function uT(){const{token:t}=Ls(),s=we(),[r,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[p,w]=h.useState("");h.useEffect(()=>{x()},[t]);const x=async()=>{var C,S;try{o(null);const k=await Rr.getManagementDetails(t);console.log(" Booking data loaded:",k.data),l(k.data.booking)}catch(k){console.error("Error loading booking:",k),o(((S=(C=k.response)==null?void 0:C.data)==null?void 0:S.error)||"Failed to load booking")}finally{n(!1)}},v=async()=>{var C,S;try{d(!0),await Rr.cancelByToken(t,p||"Cancelled by guest"),m(!1),await x()}catch(k){console.error("Error cancelling booking:",k),alert(((S=(C=k.response)==null?void 0:C.data)==null?void 0:S.error)||"Failed to cancel booking. Please try again.")}finally{d(!1)}},j=()=>{const C=a.member_booking_token||a.booking_token||a.team_member_token;C?s(`/book/${C}?reschedule=${t}`):alert("Unable to reschedule online. Please contact the organizer directly.")},f=C=>new Date(C).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=C=>new Date(C).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),g=()=>{if(!a)return"";const C=new Date(a.start_time),S=new Date(a.end_time);return`${Math.round((S-C)/(1e3*60))} min`};if(r)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your booking..."})]})]});if(i||!a)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-12 text-center max-w-md border-2 border-white/20 relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx($t,{className:"h-10 w-10 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i||"This booking link is invalid or has expired. Please check your email for the correct link or contact the organizer."}),e.jsx("p",{className:"text-sm text-gray-400",children:"You can safely close this page."})]})]});const y=a.status==="cancelled",N=new Date(a.start_time)<new Date;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 py-12 px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-3xl mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 mb-3",children:[e.jsx(ce,{className:"w-6 h-6 text-purple-600 animate-pulse"}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Manage Your Booking"}),e.jsx(ce,{className:"w-6 h-6 text-pink-600 animate-pulse"})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:"View details or make changes to your scheduled meeting"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100 mb-6",children:[e.jsxs("div",{className:`relative p-8 overflow-hidden ${y?"bg-gradient-to-r from-red-500 to-red-600":N?"bg-gradient-to-r from-gray-500 to-gray-600":"bg-gradient-to-br from-purple-600 via-purple-500 to-pink-500"}`,children:[!y&&!N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-5 left-5 w-16 h-16 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute bottom-5 right-5 w-24 h-24 border-2 border-white/20 rounded-full"})]}),e.jsx("div",{className:"relative z-10 flex items-center justify-center gap-3 text-white",children:y?e.jsxs(e.Fragment,{children:[e.jsx($t,{className:"h-8 w-8",strokeWidth:2.5}),e.jsx("span",{className:"text-3xl font-bold",children:"Cancelled"})]}):N?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-8 w-8",strokeWidth:2.5}),e.jsx("span",{className:"text-3xl font-bold",children:"Completed"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:e.jsx(xe,{className:"h-6 w-6",strokeWidth:2.5})}),e.jsx("span",{className:"text-3xl font-bold drop-shadow-lg",children:"Confirmed"})]})}),!y&&!N&&e.jsx("p",{className:"relative z-10 text-center text-white/90 mt-3 text-base font-medium",children:"Your meeting is scheduled and ready "})]}),e.jsxs("div",{className:"p-8 space-y-5",children:[e.jsxs("div",{className:"flex items-start gap-4 p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-100",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(se,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Date & Time"}),e.jsx("p",{className:"text-gray-700 font-medium",children:f(a.start_time)}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[b(a.start_time)," - ",b(a.end_time)]}),e.jsxs("span",{className:"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(he,{className:"h-3 w-3"}),g()]})]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-100",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(Rt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Meeting With"}),e.jsx("p",{className:"text-gray-700 font-medium text-lg",children:a.organizer_name}),a.organizer_email&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:a.organizer_email})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-100",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(Te,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Your Information"}),e.jsx("p",{className:"text-gray-700 font-medium text-lg",children:a.attendee_name}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:a.attendee_email})]})]}),a.meet_link&&!y&&e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-100",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(Vt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-3",children:"Video Conference"}),e.jsxs("a",{href:a.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 py-2.5 rounded-xl font-semibold transition-all transform hover:scale-105 text-sm shadow-lg",children:[e.jsx(Vt,{className:"h-4 w-4"}),"Join Video Call"]})]})]}),a.notes&&e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Notes"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.notes})]})]})]}),!y&&!N&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 mb-6 border-2 border-purple-100",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-6 text-lg flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-purple-600"}),"Need to make changes?"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:j,disabled:c,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all flex items-center justify-center gap-2 font-bold disabled:opacity-50 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(vs,{className:"h-5 w-5"}),"Reschedule Meeting"]}),e.jsxs("button",{onClick:()=>m(!0),disabled:c,className:"bg-white border-2 border-purple-200 text-purple-700 px-6 py-4 rounded-xl hover:bg-purple-50 hover:border-purple-300 transition-all flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:[e.jsx($t,{className:"h-5 w-5"}),"Cancel Meeting"]})]})]}),y&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{className:"h-6 w-6 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-800 mb-1",children:"This meeting has been cancelled"}),e.jsx("p",{className:"text-red-700 text-sm",children:"If you'd like to schedule a new meeting, please contact the organizer for a new booking link."})]})]})}),N&&!y&&e.jsx("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(xe,{className:"h-6 w-6 text-gray-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"This meeting has already taken place"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Thank you for attending! If you need to schedule another meeting, please contact the organizer."})]})]})}),e.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[e.jsx("p",{children:"You can safely close this page."}),e.jsxs("p",{className:"mt-3",children:["Powered by"," ",e.jsx("span",{className:"font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"TruCal"})]})]})]}),e.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($t,{className:"h-8 w-8 text-red-500"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cancel Meeting?"}),e.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to cancel your meeting with ",a.organizer_name,"?"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation (optional)"}),e.jsx("textarea",{value:p,onChange:C=>w(C.target.value),placeholder:"Let them know why you're cancelling...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500 outline-none transition-colors resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(!1),disabled:c,className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Keep Meeting"}),e.jsx("button",{onClick:v,disabled:c,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-semibold transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 animate-spin"}),"Cancelling..."]}):"Yes, Cancel"})]})]})})]})}function mT(){const[t]=zr(),s=we(),[r,n]=h.useState("processing"),a=t.get("redirect_status");return h.useEffect(()=>{a==="succeeded"?(n("success"),setTimeout(()=>s("/booking-success"),3e3)):n(a==="failed"?"failed":"processing")},[a,s]),e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl shadow-xl rounded-2xl border-2 border-white/20 p-8 text-center relative z-10",children:[r==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Redirecting you to your booking confirmation..."})]}),r==="failed"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong with your payment. Please try again."}),e.jsx("button",{onClick:()=>s(-1),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-bold hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all",children:"Go Back"})]}),r==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Payment..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your transaction."})]})]})]})}function hT({plan:t,onSuccess:s,onCancel:r}){const n=uy(),a=cy(),[l,i]=h.useState(!1),[o,c]=h.useState(null),d=async m=>{if(m.preventDefault(),!n||!a){c("Stripe is not loaded. Please refresh the page.");return}i(!0),c(null);try{console.log(" Creating subscription for plan:",t.id);const p=await fetch("/api/subscriptions/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan_id:t.id})}),w=await p.json();if(console.log(" Backend response:",w),!p.ok)throw new Error(w.error||"Subscription creation failed");if(w.client_secret&&w.client_secret!=="simulated_success"){console.log(" Processing Stripe payment...");const x=a.getElement(wo),{error:v,paymentIntent:j}=await n.confirmCardPayment(w.client_secret,{payment_method:{card:x,billing_details:{name:"Subscription User"}}});if(v)throw new Error(v.message);j.status==="succeeded"&&(console.log(" Payment successful!"),s(t))}else console.log(" Simulated payment success"),s(t)}catch(p){console.error(" Subscription error:",p),c(p.message)}finally{i(!1)}},u={style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"},fontFamily:"system-ui, -apple-system, sans-serif"},invalid:{color:"#ef4444"}},hidePostalCode:!1};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(ce,{className:"h-5 w-5 text-blue-600"}),e.jsxs("h3",{className:"font-bold text-blue-900",children:[t.name," Plan"]})]}),e.jsxs("p",{className:"text-3xl font-black text-gray-900 mb-1",children:["$",t.price,e.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"What you'll get:"}),e.jsx("ul",{className:"space-y-1",children:t.features.slice(0,3).map((m,p)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2 text-xs",children:""}),m]},p))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vb,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-yellow-800 font-bold text-sm",children:"Test Mode Active"})]}),e.jsx("p",{className:"text-yellow-800 text-sm font-medium mb-1",children:"This is a demo payment form"}),e.jsxs("div",{className:"text-yellow-700 text-xs space-y-1",children:[e.jsxs("p",{children:["Use test card: ",e.jsx("span",{className:"font-mono bg-yellow-100 px-2 py-1 rounded",children:"4242 4242 4242 4242"})]}),e.jsx("p",{children:"Expiry: Any future date | CVC: Any 3 digits"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-5",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(gb,{className:"h-5 w-5 text-blue-600"}),"Payment Information"]}),e.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-lg bg-gray-50 min-h-[50px] flex items-center",children:e.jsx(wo,{options:u,className:"w-full"})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-gray-500",children:[e.jsx(Gs,{className:"h-4 w-4"}),e.jsx("span",{children:"Secured by Stripe  Cancel anytime"})]})]}),o&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(He,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Payment Error"}),e.jsx("p",{className:"text-red-800 text-sm mt-1",children:o})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:r,disabled:l,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!n||l,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"h-5 w-5"}),"Pay $",t.price,"/month"]})})]}),e.jsxs("div",{className:"text-center pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gs,{className:"h-4 w-4"}),e.jsx("span",{children:"SSL Encrypted"})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{children:"Powered by Stripe"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" 30-day money-back guarantee  Cancel anytime"})]})]})})}console.log("LOADING PURPLE UI VERSION - BUILD 2024-11-22-V3");function pT(){var Y,oe,q;const{token:t}=Ls(),s=we(),[r,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState({}),[p,w]=h.useState({name:"",email:"",phone:"",notes:""}),[x,v]=h.useState(!1),[j,f]=h.useState(!1),[b,g]=h.useState(!1),[y,N]=h.useState(null),[C,S]=h.useState(!1),[k,T]=h.useState(""),[L,E]=h.useState(!1),[V,R]=h.useState(null),[M,H]=h.useState(null),[O,D]=h.useState(!1),[A,F]=h.useState(null);h.useEffect(()=>{t&&(z(),Q())},[t]),h.useEffect(()=>{a&&!C&&ue()},[a,V]);const z=async()=>{try{n(!0),N(null);const G=await _.get(`/book/${t}`);l(G.data.data)}catch(G){console.error("Error loading booking data:",G),N("Failed to load booking page. Invalid or expired link.")}finally{n(!1)}},Q=async()=>{try{const K=await(await fetch(`/api/book/${t}/pricing`)).json();if(H(K),K.paymentRequired&&K.price>0){const Xe=await(await fetch("/api/payments/config")).json();F(ey(Xe.publishableKey))}}catch(G){console.error("Error loading pricing:",G)}},ue=async()=>{try{S(!0);const G=await _.post(`/book/${t}/slots-with-status`,{guestAccessToken:V,guestRefreshToken:null,duration:30,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone});m(G.data.slots||{});const K=Object.keys(G.data.slots||{});K.length>0&&!i&&o(K[0])}catch(G){console.error("Error loading slots:",G)}finally{S(!1)}},Ce=async G=>{try{f(!0),(await _.post("/api/payments/confirm-booking",{paymentIntentId:G,bookingToken:t,slot:c,attendeeName:p.name,attendeeEmail:p.email,notes:p.notes})).data.success&&(g(!0),D(!1))}catch(K){console.error("Booking error:",K),alert("Failed to create booking after payment. Please contact support.")}finally{f(!1)}},ge=async G=>{if(G.preventDefault(),!c||!x){alert("Please select a time slot and agree to terms");return}if(M!=null&&M.paymentRequired&&(M==null?void 0:M.price)>0){D(!0);return}try{f(!0),(await _.post("/api/bookings",{token:t,slot:c,attendee_name:p.name,attendee_email:p.email,notes:p.notes})).data.success&&g(!0)}catch(K){console.error("Booking error:",K),alert("Failed to create booking")}finally{f(!1)}},X=Object.keys(u).slice(0,7).map(G=>{var ye;const K=new Date((ye=u[G][0])==null?void 0:ye.start);return{key:G,label:G.split(",")[0],day:K.getDate(),month:K.toLocaleDateString("en-US",{month:"short"})}}),P=G=>({USD:"$",EUR:"",GBP:"",AUD:"A$",CAD:"C$"})[G]||G;if(r)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx(ne,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading booking page..."})]})]});if(y)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-md w-full border-2 border-white/20 relative z-10",children:[e.jsx(He,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:y}),e.jsx("button",{onClick:()=>s("/"),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all",children:"Go to Homepage"})]})]});if(b)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-lg w-full border-2 border-white/20 relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(de,{className:"h-10 w-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-3",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Check your email for confirmation and calendar invite."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold",children:"Done"})]})]});if(!a)return null;const B=new URLSearchParams(window.location.search).has("reschedule");return(Y=a==null?void 0:a.member)!=null&&Y.external_booking_link&&!B?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-md w-full border-2 border-white/20 relative z-10",children:[e.jsx(St,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"External Booking"}),e.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["This member uses ",a.member.external_booking_platform," for bookings."]}),e.jsxs("a",{href:a.member.external_booking_link,target:"_blank",rel:"noopener noreferrer",className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2 hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all",children:["Continue to Booking",e.jsx(St,{className:"h-4 w-4"})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 py-12 px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"max-w-3xl mx-auto relative z-10",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border-2 border-white/20 p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center text-white text-2xl font-bold",children:((q=(oe=a.member.name)==null?void 0:oe[0])==null?void 0:q.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"text-gray-900 text-xl font-bold",children:a.member.name}),(M==null?void 0:M.paymentRequired)&&e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),"Premium"]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.team.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"30 min"}),(M==null?void 0:M.paymentRequired)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{className:"text-purple-600 font-semibold",children:[P(M.currency),M.price]})]})]})]})]})}),X.length>0&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-8 w-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(rr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-green-900 mb-1 font-semibold",children:"Availability Confirmed"}),e.jsx("p",{className:"text-green-700 text-sm",children:L?"Great! We found times that work for both calendars.":"Multiple time slots are available for booking."})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-gray-900 font-bold",children:"Select a Date"})]}),C?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ne,{className:"h-8 w-8 animate-spin text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Loading available dates..."})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:X.map(G=>e.jsxs("button",{onClick:()=>o(G.key),className:`p-4 rounded-xl border-2 transition-all text-center ${i===G.key?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50"}`,children:[e.jsx("div",{className:`text-2xl mb-1 font-bold ${i===G.key?"text-purple-600":"text-gray-900"}`,children:G.day}),e.jsx("div",{className:`text-xs ${i===G.key?"text-purple-600":"text-gray-600"}`,children:G.label})]},G.key))})]}),i&&u[i]&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-gray-900 font-bold",children:"Available Times"})]}),e.jsxs("span",{className:"text-xs bg-gray-100 px-3 py-1 rounded-full",children:[u[i].filter(G=>G.status==="available").length," slots"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-80 overflow-y-auto pr-2",children:u[i].map((G,K)=>e.jsxs("button",{onClick:()=>G.status==="available"&&d(G),disabled:G.status!=="available",className:`p-4 rounded-xl border-2 transition-all ${G.status!=="available"?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":c===G?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-400 hover:bg-green-50/50"}`,children:[e.jsx("div",{className:`mb-1 font-semibold ${G.status!=="available"?"text-gray-400":c===G?"text-green-700":"text-gray-900"}`,children:G.time}),G.matchScore&&G.status==="available"&&e.jsx("div",{className:`text-xs ${G.matchScore>=80?"text-green-600":G.matchScore>=60?"text-blue-600":"text-gray-600"}`,children:G.matchLabel}),G.status!=="available"&&e.jsx("div",{className:"text-xs text-gray-400",children:G.details||"Unavailable"})]},K))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Rt,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-gray-900 font-bold",children:"Your Information"})]}),e.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"John Doe",value:p.name,onChange:G=>w({...p,name:G.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"email",placeholder:"john@example.com",value:p.email,onChange:G=>w({...p,email:G.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"tel",placeholder:"+1 (555) 000-0000",value:p.phone,onChange:G=>w({...p,phone:G.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Additional Notes"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bm,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{placeholder:"Any specific topics or questions?",value:p.notes,onChange:G=>w({...p,notes:G.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none min-h-24 resize-none"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:x,onChange:G=>v(G.target.checked),className:"mt-1 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-relaxed cursor-pointer",children:"I agree to the terms and conditions. I will receive a confirmation email after booking."})]}),e.jsx("button",{type:"submit",disabled:!c||!x||j,className:"w-full h-14 bg-gradient-to-r from-purple-500 via-purple-600 to-pink-500 hover:from-purple-600 hover:via-purple-700 hover:to-pink-600 text-white rounded-xl font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):M!=null&&M.paymentRequired?e.jsxs(e.Fragment,{children:["Pay ",P(M.currency),M.price," & Book",e.jsx(qe,{className:"h-5 w-5"})]}):e.jsxs(e.Fragment,{children:["Schedule Booking",e.jsx(qe,{className:"h-5 w-5"})]})})]})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" Your information is secure and will never be shared"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Powered by TruCal"})]})]})}),O&&M&&A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full",children:e.jsx(Ym,{stripe:A,children:e.jsx(hT,{amount:M.price,currency:M.currency,onPaymentSuccess:Ce,onCancel:()=>D(!1),bookingDetails:{token:t,slot:c,attendee_name:p.name,attendee_email:p.email,notes:p.notes}})})})})]})}function W0(){const[t]=zr(),[s,r]=h.useState(null),[n,a]=h.useState(!0),[l,i]=h.useState(!1);h.useEffect(()=>{const x=t.get("data");if(x)try{const j=JSON.parse(decodeURIComponent(x));r(j),console.log(" Booking data:",j)}catch(j){console.error("Failed to parse booking data:",j)}const v=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(v)},[t]);const o=x=>{const v=new Date(x);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(v)},c=x=>{const v=new Date(x);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(v)},d=x=>{const v=new Date(x);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).format(v)},u=()=>{if(!s)return"";const x=new Date(s.start_time),v=new Date(s.end_time);return`${Math.round((v-x)/(1e3*60))} minutes`},m=()=>{if(!s)return;const x=new Date(s.start_time),v=new Date(s.end_time),j=b=>b.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",f=new URLSearchParams({action:"TEMPLATE",text:`Meeting with ${s.organizer_name||"Team"}`,dates:`${j(x)}/${j(v)}`,details:s.notes||"Meeting scheduled via ScheduleSync",location:s.meet_link||"Google Meet (link in calendar invite)"});window.open(`https://calendar.google.com/calendar/render?${f.toString()}`,"_blank")},p=()=>{if(!s)return;const x=new Date(s.start_time),v=new Date(s.end_time),j=new URLSearchParams({path:"/calendar/action/compose",rru:"addevent",subject:`Meeting with ${s.organizer_name||"Team"}`,startdt:x.toISOString(),enddt:v.toISOString(),body:s.notes||"Meeting scheduled via ScheduleSync",location:s.meet_link||"Google Meet (link in calendar invite)"});window.open(`https://outlook.live.com/calendar/0/deeplink/compose?${j.toString()}`,"_blank")},w=()=>{if(!s)return;const x=`
Meeting Confirmation

Date: ${o(s.start_time)}
Time: ${c(s.start_time)} - ${c(s.end_time)}
Duration: ${u()}
With: ${s.organizer_name||"Team"}
${s.meet_link?`
Google Meet: ${s.meet_link}`:""}
${s.notes?`
Notes: ${s.notes}`:""}
    `.trim();navigator.clipboard.writeText(x),i(!0),setTimeout(()=>i(!1),2e3)};return s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[n&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((x,v)=>e.jsx("div",{className:"absolute w-3 h-3 animate-confetti",style:{left:`${Math.random()*100}%`,top:"-20px",animationDelay:`${Math.random()*3}s`,backgroundColor:["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B"][Math.floor(Math.random()*5)],transform:`rotate(${Math.random()*360}deg)`}},v))}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8 animate-fadeInUp",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl animate-scaleIn",children:e.jsx(xe,{className:"h-14 w-14 text-white"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:"You're All Set! "}),e.jsx("p",{className:"text-xl text-gray-600",children:"Your meeting has been confirmed"})]}),s.confirmation_message&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6 mb-6 animate-fadeInUp",style:{animationDelay:"0.05s"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ce,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-green-800 uppercase tracking-wide mb-2",children:["Message from ",s.organizer_name||"your host"]}),e.jsx("p",{className:"text-green-700 leading-relaxed",children:s.confirmation_message})]})]})}),s.meet_link&&e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 rounded-3xl shadow-2xl p-8 mb-6 text-white animate-fadeInUp",style:{animationDelay:"0.05s"},children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-4",children:e.jsx(Vt,{className:"h-10 w-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your Meeting Link"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"Join via Google Meet at the scheduled time"}),e.jsxs("a",{href:s.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-white text-purple-600 px-8 py-4 rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg",children:[e.jsx(Vt,{className:"h-6 w-6"}),e.jsx("span",{children:"Join Google Meet"}),e.jsx(St,{className:"h-5 w-5"})]}),e.jsx("p",{className:"text-sm text-blue-100 mt-4",children:" This link is also in your calendar invite and email"})]})}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Meeting Details"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Confirmation sent to ",s.attendee_email]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(se,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Date"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o(s.start_time)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(he,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Time"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c(s.start_time)," - ",c(s.end_time)]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[u(),"  ",d(s.start_time)]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Rt,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Organizer"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.organizer_name||"Team Member"}),s.team_name&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.team_name})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Te,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Your Email"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.attendee_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.attendee_email})]})]})]})]}),s.notes&&e.jsx("div",{className:"mt-6 pt-6 border-t-2 border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ce,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Meeting Notes"}),e.jsx("p",{className:"text-gray-900",children:s.notes})]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(vt,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Add to Calendar"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:m,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"h-6 w-6"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Google Calendar"})]}),e.jsx(St,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),e.jsxs("button",{onClick:p,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{className:"h-6 w-6",viewBox:"0 0 23 23",fill:"none",children:[e.jsx("path",{d:"M0 0h10.93v10.93H0z",fill:"#F35325"}),e.jsx("path",{d:"M12.07 0H23v10.93H12.07z",fill:"#81BC06"}),e.jsx("path",{d:"M0 12.07h10.93V23H0z",fill:"#05A6F0"}),e.jsx("path",{d:"M12.07 12.07H23V23H12.07z",fill:"#FFBA08"})]}),e.jsx("span",{className:"font-medium text-gray-900",children:"Outlook Calendar"})]}),e.jsx(St,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-fadeInUp",style:{animationDelay:"0.3s"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ce,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Actions"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:w,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(de,{className:"h-5 w-5 text-green-600"}):e.jsx(zt,{className:"h-5 w-5 text-gray-600 group-hover:text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:l?"Copied!":"Copy Details"})]})}),e.jsx("button",{onClick:()=>window.print(),className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ko,{className:"h-5 w-5 text-gray-600 group-hover:text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Print / Save as PDF"})]})})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 rounded-2xl border-2 border-blue-200 p-6 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xe,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"What Happens Next?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Check Your Email"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a calendar invite with a Google Meet link to"," ",e.jsx("span",{className:"font-semibold",children:s.attendee_email})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Add to Your Calendar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use the buttons above to add this meeting to your preferred calendar app"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-pink-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Join at Scheduled Time"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.meet_link?"Click the Google Meet link above or in your calendar to join":"Click the Google Meet link in your calendar invite to join the meeting"})]})]})]})]})]}),e.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes scaleIn {
          from {
            transform: scale(0.5);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes confettiFall {
          0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }

        .animate-fadeInUp {
          animation: fadeInUp 0.6s ease-out;
        }

        .animate-scaleIn {
          animation: scaleIn 0.5s ease-out;
        }

        .animate-confetti {
          animation: confettiFall 3s linear forwards;
        }

        @media print {
          .fixed {
            display: none;
          }
        }
      `})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(se,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Booking Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your booking information."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You can safely close this page."})]})})}function xT(){const{username:t}=Ls(),s=we(),[r,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState([]),[u,m]=h.useState({logo_url:null,primary_color:"#8B5CF6",accent_color:"#EC4899",hide_powered_by:!1});h.useEffect(()=>{p()},[t]);const p=async()=>{n(!0),l(null);try{const x=await fetch(`/api/public/user/${t}`),v=await x.json();if(!x.ok)throw new Error(v.error||"User not found");o(v.user);const j=(v.eventTypes||[]).filter(f=>{var b,g,y;return!((b=f.name)!=null&&b.toLowerCase().includes("default"))&&!((g=f.name)!=null&&g.toLowerCase().includes("magic link"))&&!((y=f.name)!=null&&y.toLowerCase().includes("quick link"))&&f.is_active!==!1});d(j),v.branding&&m({logo_url:v.branding.logo_url||null,primary_color:v.branding.primary_color||"#8B5CF6",accent_color:v.branding.accent_color||"#EC4899",hide_powered_by:v.branding.hide_powered_by||!1})}catch(x){console.error("Failed to fetch user profile:",x),l(x.message||"Failed to load booking page")}finally{n(!1)}},w=x=>{s(`/book/${t}/${x.slug}`)};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:`linear-gradient(135deg, ${u.primary_color}10, ${u.accent_color}10, #fafafa)`},children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"h-10 w-10 animate-spin mx-auto mb-4",style:{color:u.primary_color}}),e.jsx("p",{className:"text-gray-500",children:"Loading booking page..."})]})}):a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center px-4 relative overflow-hidden",children:[e.jsx("style",{children:`
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-32 left-1/2 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 border-white/20 p-8 md:p-12 text-center max-w-md w-full relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(He,{className:"h-8 w-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a==="User not found"?`We couldn't find a user with the username "${t}".`:a}),e.jsx("button",{onClick:()=>s("/"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-2xl hover:shadow-purple-200/50 hover:-translate-y-0.5 transition-all",children:"Go to Homepage"})]})]}):e.jsx(Qv,{user:i,branding:u,children:c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"No meetings available right now"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mb-4",children:"Select an event type"}),c.map(x=>e.jsx(Xv,{event:x,onClick:()=>w(x),branding:u},x.id))]})})}function fT(){const[t]=zr(),s=we(),[r,n]=h.useState("loading"),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState(null),u=t.get("user"),m=t.get("time"),p=t.get("thread");h.useEffect(()=>{if(!u||!m){n("error"),o("Invalid booking link");return}w()},[]);const w=async()=>{var b,g;n("confirming");try{const y=await _.post("/public/quick-book",{username:u,time:m,threadId:p});l(y.data.booking),d(y.data.host),n("confirmed")}catch(y){console.error("Quick book error:",y),o(((g=(b=y.response)==null?void 0:b.data)==null?void 0:g.error)||"Failed to confirm booking"),n("error")}},x=m?new Date(decodeURIComponent(m)):null;if(r==="loading"||r==="confirming")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Confirming your booking..."})]})});if(r==="error")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx(He,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Booking Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),u&&e.jsx("button",{onClick:()=>s(`/${u}`),className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:"View All Available Times"})]})});const v=b=>b==null?void 0:b.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),j=b=>b==null?void 0:b.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),f=b=>{if(!x||!a)return"#";const g=x.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",N=new Date(x.getTime()+(a.duration||30)*6e4).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",C=encodeURIComponent(`Meeting with ${c==null?void 0:c.name}`),S=encodeURIComponent("Meeting scheduled via TruCal");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${C}&dates=${g}/${N}&details=${S}`};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl overflow-hidden max-w-2xl w-full transform transition-all duration-500 hover:scale-[1.01]",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 via-purple-500 to-pink-500 p-12 text-center overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-32 h-32 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-white/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 mb-6 bg-white/20 backdrop-blur-sm rounded-full animate-bounce-slow",children:e.jsx(xe,{className:"w-12 h-12 text-white drop-shadow-lg",strokeWidth:2.5})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-6 h-6 text-yellow-300 animate-pulse"}),e.jsx("h1",{className:"text-4xl font-bold text-white drop-shadow-lg",children:"All Set!"}),e.jsx(ce,{className:"w-6 h-6 text-yellow-300 animate-pulse"})]}),e.jsx("p",{className:"text-xl text-white/90 font-medium",children:"Your meeting is confirmed"})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-6 border border-purple-100",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-purple-600"}),"Meeting Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(se,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Date"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v(x)})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(he,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Time"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j(x)}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Duration: ",(a==null?void 0:a.duration)||30," minutes"]})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Rt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Meeting with"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c==null?void 0:c.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c==null?void 0:c.email})]})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-purple-100 rounded-2xl p-6 mb-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ko,{className:"w-5 h-5 text-purple-600"}),"Add to Calendar"]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsxs("a",{href:f(),target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx(se,{className:"w-4 h-4"}),"Google Calendar"]})})]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Te,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Confirmation email sent!"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Check your inbox for meeting details and calendar invite."})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[(a==null?void 0:a.manage_token)&&e.jsx("a",{href:`/manage/${a.manage_token}`,className:"flex-1 px-6 py-3 bg-white border-2 border-purple-200 text-purple-700 rounded-xl font-semibold hover:bg-purple-50 hover:border-purple-300 transition-all text-center",children:"Reschedule or Cancel"}),u&&e.jsx("button",{onClick:()=>s(`/${u}`),className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"Book Another Time"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-gray-400",children:["Powered by"," ",e.jsx("span",{className:"font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"TruCal"})]})})]})]}),e.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        .animate-bounce-slow {
          animation: bounce 2s infinite;
        }
      `})]})}function od({Component:t}){const{login:s}=Yo(),r=we(),n=(a,l)=>{console.log(" LoginWrapper received:",{token:(a==null?void 0:a.substring(0,20))+"...",user:l==null?void 0:l.email,onboarded:l==null?void 0:l.onboarded}),s(a,l),(l==null?void 0:l.onboarded)===!1?r("/onboarding",{replace:!0}):r("/dashboard",{replace:!0})};return e.jsx(t,{onLogin:n})}function gT(){return e.jsx(M2,{children:e.jsx(r5,{children:e.jsx(i5,{children:e.jsx(u5,{children:e.jsxs(v5,{children:[e.jsxs(v2,{children:[e.jsx(me,{path:"/",element:e.jsx(j6,{})}),e.jsx(me,{path:"/login",element:e.jsx(Vc,{})}),e.jsx(me,{path:"/register",element:e.jsx(Vc,{})}),e.jsx(me,{path:"/signup",element:e.jsx(Vc,{})}),e.jsx(me,{path:"/demo",element:e.jsx(k6,{})}),e.jsx(me,{path:"/forgot-password",element:e.jsx(S6,{})}),e.jsx(me,{path:"/reset-password/:token",element:e.jsx(C6,{})}),e.jsx(me,{path:"/verify-email",element:e.jsx(_6,{})}),e.jsx(me,{path:"/privacy",element:e.jsx(b_,{})}),e.jsx(me,{path:"/terms",element:e.jsx(y_,{})}),e.jsx(me,{path:"/about",element:e.jsx(v_,{})}),e.jsx(me,{path:"/pricing",element:e.jsx(H_,{})}),e.jsx(me,{path:"/oauth/callback",element:e.jsx(od,{Component:Ra})}),e.jsx(me,{path:"/oauth/callback/microsoft",element:e.jsx(od,{Component:Ra})}),e.jsx(me,{path:"/oauth/callback/calendly",element:e.jsx(od,{Component:Ra})}),e.jsx(me,{path:"/oauth/callback/google/guest",element:e.jsx(Ra,{})}),e.jsx(me,{path:"/oauth/callback/microsoft/guest",element:e.jsx(Ra,{})}),e.jsx(me,{path:"/onboarding",element:e.jsx(zc,{children:e.jsx(x_,{})})}),e.jsx(me,{path:"/admin",element:e.jsx(zc,{children:e.jsx(f_,{})})}),e.jsx(me,{path:"/book/:username/:eventSlug",element:e.jsx(V0,{})}),e.jsx(me,{path:"/book/:token",element:e.jsx(V0,{})}),e.jsx(me,{path:"/m/:token",element:e.jsx(dT,{})}),e.jsx(me,{path:"/book",element:e.jsx(pT,{})}),e.jsx(me,{path:"/quick-book",element:e.jsx(fT,{})}),e.jsx(me,{path:"/manage/:token",element:e.jsx(uT,{})}),e.jsx(me,{path:"/payment/status",element:e.jsx(mT,{})}),e.jsx(me,{path:"/booking-success",element:e.jsx(W0,{})}),e.jsx(me,{path:"/booking-confirmation",element:e.jsx(W0,{})}),e.jsx(me,{path:"/import/calendly",element:e.jsx(I_,{})}),e.jsxs(me,{element:e.jsx(zc,{children:e.jsx(v6,{})}),children:[e.jsx(me,{path:"/dashboard",element:e.jsx(w_,{})}),e.jsx(me,{path:"/bookings",element:e.jsx(k_,{})}),e.jsx(me,{path:"/analytics",element:e.jsx(S_,{})}),e.jsx(me,{path:"/availability",element:e.jsx(R_,{})}),e.jsx(me,{path:"/templates",element:e.jsx(O_,{})}),e.jsx(me,{path:"/rules",element:e.jsx(B_,{})}),e.jsx(me,{path:"/autonomous",element:e.jsx(rT,{})}),e.jsx(me,{path:"/my-links",element:e.jsx(U_,{})}),e.jsx(me,{path:"/billing",element:e.jsx(z_,{})}),e.jsx(me,{path:"/relationships",element:e.jsx(z0,{})}),e.jsx(me,{path:"/contacts",element:e.jsx(z0,{})}),e.jsx(me,{path:"/events",element:e.jsx(E_,{})}),e.jsx(me,{path:"/events/new",element:e.jsx(F0,{})}),e.jsx(me,{path:"/events/:id",element:e.jsx(L_,{})}),e.jsx(me,{path:"/events/:id/edit",element:e.jsx(F0,{})}),e.jsx(me,{path:"/teams",element:e.jsx(G_,{})}),e.jsx(me,{path:"/teams/:teamId/settings",element:e.jsx(q_,{})}),e.jsx(me,{path:"/teams/:teamId/members",element:e.jsx(K_,{})}),e.jsx(me,{path:"/teams/:teamId/members/:memberId/availability",element:e.jsx(X_,{})}),e.jsx(me,{path:"/invite/:token",element:e.jsx(g_,{})}),e.jsx(me,{path:"/settings",element:e.jsx(eT,{})}),e.jsx(me,{path:"/settings/calendar",element:e.jsx(tT,{})})]}),e.jsx(me,{path:"/:username",element:e.jsx(xT,{})}),e.jsx(me,{path:"*",element:e.jsx(Ii,{to:"/",replace:!0})})]}),e.jsx(s6,{})]})})})})})}function bT(){return e.jsx(j5,{children:e.jsx(T2,{children:e.jsx(gT,{})})})}cd.createRoot(document.getElementById("root")).render(e.jsx(Ie.StrictMode,{children:e.jsx(bT,{})}));
