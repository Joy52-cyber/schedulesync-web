function Wp(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function jm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vm={exports:{}},Ul={},wm={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),Hp=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Xp=Symbol.for("react.memo"),Zp=Symbol.for("react.lazy"),Nd=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=Nd&&t[Nd]||t["@@iterator"],typeof t=="function"?t:null)}var Nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},km=Object.assign,Sm={};function ln(t,s,r){this.props=t,this.context=s,this.refs=Sm,this.updater=r||Nm}ln.prototype.isReactComponent={};ln.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cm(){}Cm.prototype=ln.prototype;function nc(t,s,r){this.props=t,this.context=s,this.refs=Sm,this.updater=r||Nm}var ac=nc.prototype=new Cm;ac.constructor=nc;km(ac,ln.prototype);ac.isPureReactComponent=!0;var kd=Array.isArray,_m=Object.prototype.hasOwnProperty,lc={current:null},Tm={key:!0,ref:!0,__self:!0,__source:!0};function Em(t,s,r){var n,a={},l=null,i=null;if(s!=null)for(n in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)_m.call(s,n)&&!Tm.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ma,type:t,key:l,ref:i,props:a,_owner:lc.current}}function tf(t,s){return{$$typeof:ma,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function ic(t){return typeof t=="object"&&t!==null&&t.$$typeof===ma}function sf(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Sd=/\/+/g;function mi(t,s){return typeof t=="object"&&t!==null&&t.key!=null?sf(""+t.key):s.toString(36)}function Ya(t,s,r,n,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ma:case Hp:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+mi(i,0):n,kd(a)?(r="",t!=null&&(r=t.replace(Sd,"$&/")+"/"),Ya(a,s,r,"",function(d){return d})):a!=null&&(ic(a)&&(a=tf(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Sd,"$&/")+"/")+t)),s.push(a)),1;if(i=0,n=n===""?".":n+":",kd(t))for(var o=0;o<t.length;o++){l=t[o];var c=n+mi(l,o);i+=Ya(l,s,r,c,a)}else if(c=ef(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=n+mi(l,o++),i+=Ya(l,s,r,c,a);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function Sa(t,s,r){if(t==null)return t;var n=[],a=0;return Ya(t,n,"","",function(l){return s.call(r,l,a++)}),n}function rf(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Ja={transition:null},nf={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:lc};function Pm(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Sa,forEach:function(t,s,r){Sa(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Sa(t,function(){s++}),s},toArray:function(t){return Sa(t,function(s){return s})||[]},only:function(t){if(!ic(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=ln;be.Fragment=Gp;be.Profiler=Vp;be.PureComponent=nc;be.StrictMode=qp;be.Suspense=Qp;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;be.act=Pm;be.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=km({},t.props),a=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=lc.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)_m.call(s,c)&&!Tm.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ma,type:t.type,key:a,ref:l,props:n,_owner:i}};be.createContext=function(t){return t={$$typeof:Jp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yp,_context:t},t.Consumer=t};be.createElement=Em;be.createFactory=function(t){var s=Em.bind(null,t);return s.type=t,s};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:Kp,render:t}};be.isValidElement=ic;be.lazy=function(t){return{$$typeof:Zp,_payload:{_status:-1,_result:t},_init:rf}};be.memo=function(t,s){return{$$typeof:Xp,type:t,compare:s===void 0?null:s}};be.startTransition=function(t){var s=Ja.transition;Ja.transition={};try{t()}finally{Ja.transition=s}};be.unstable_act=Pm;be.useCallback=function(t,s){return jt.current.useCallback(t,s)};be.useContext=function(t){return jt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};be.useEffect=function(t,s){return jt.current.useEffect(t,s)};be.useId=function(){return jt.current.useId()};be.useImperativeHandle=function(t,s,r){return jt.current.useImperativeHandle(t,s,r)};be.useInsertionEffect=function(t,s){return jt.current.useInsertionEffect(t,s)};be.useLayoutEffect=function(t,s){return jt.current.useLayoutEffect(t,s)};be.useMemo=function(t,s){return jt.current.useMemo(t,s)};be.useReducer=function(t,s,r){return jt.current.useReducer(t,s,r)};be.useRef=function(t){return jt.current.useRef(t)};be.useState=function(t){return jt.current.useState(t)};be.useSyncExternalStore=function(t,s,r){return jt.current.useSyncExternalStore(t,s,r)};be.useTransition=function(){return jt.current.useTransition()};be.version="18.3.1";wm.exports=be;var m=wm.exports;const Te=jm(m),af=Wp({__proto__:null,default:Te},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=m,of=Symbol.for("react.element"),cf=Symbol.for("react.fragment"),df=Object.prototype.hasOwnProperty,uf=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mf={key:!0,ref:!0,__self:!0,__source:!0};function Am(t,s,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)df.call(s,n)&&!mf.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:of,type:t,key:l,ref:i,props:a,_owner:uf.current}}Ul.Fragment=cf;Ul.jsx=Am;Ul.jsxs=Am;vm.exports=Ul;var e=vm.exports,Ki={},Lm={exports:{}},$t={},Mm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(A,q){var $=A.length;A.push(q);e:for(;0<$;){var X=$-1>>>1,le=A[X];if(0<a(le,q))A[X]=q,A[$]=le,$=X;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var q=A[0],$=A.pop();if($!==q){A[0]=$;e:for(var X=0,le=A.length,Ne=le>>>1;X<Ne;){var de=2*(X+1)-1,L=A[de],B=de+1,T=A[B];if(0>a(L,$))B<le&&0>a(T,L)?(A[X]=T,A[B]=$,X=B):(A[X]=L,A[de]=$,X=de);else if(B<le&&0>a(T,$))A[X]=T,A[B]=$,X=B;else break e}}return q}function a(A,q){var $=A.sortIndex-q.sortIndex;return $!==0?$:A.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,x=null,y=3,w=!1,g=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var q=r(d);q!==null;){if(q.callback===null)n(d);else if(q.startTime<=A)n(d),q.sortIndex=q.expirationTime,s(c,q);else break;q=r(d)}}function h(A){if(v=!1,p(A),!g)if(r(c)!==null)g=!0,V(N);else{var q=r(d);q!==null&&D(h,q.startTime-A)}}function N(A,q){g=!1,v&&(v=!1,f(C),C=-1),w=!0;var $=y;try{for(p(q),x=r(c);x!==null&&(!(x.expirationTime>q)||A&&!O());){var X=x.callback;if(typeof X=="function"){x.callback=null,y=x.priorityLevel;var le=X(x.expirationTime<=q);q=t.unstable_now(),typeof le=="function"?x.callback=le:x===r(c)&&n(c),p(q)}else n(c);x=r(c)}if(x!==null)var Ne=!0;else{var de=r(d);de!==null&&D(h,de.startTime-q),Ne=!1}return Ne}finally{x=null,y=$,w=!1}}var S=!1,k=null,C=-1,P=5,I=-1;function O(){return!(t.unstable_now()-I<P)}function M(){if(k!==null){var A=t.unstable_now();I=A;var q=!0;try{q=k(!0,A)}finally{q?E():(S=!1,k=null)}}else S=!1}var E;if(typeof b=="function")E=function(){b(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=M,E=function(){K.postMessage(null)}}else E=function(){j(M,0)};function V(A){k=A,S||(S=!0,E())}function D(A,q){C=j(function(){A(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||w||(g=!0,V(N))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return A()}finally{y=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=y;y=A;try{return q()}finally{y=$}},t.unstable_scheduleCallback=function(A,q,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,A){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,A={id:u++,callback:q,priorityLevel:A,startTime:$,expirationTime:le,sortIndex:-1},$>X?(A.sortIndex=$,s(d,A),r(c)===null&&A===r(d)&&(v?(f(C),C=-1):v=!0,D(h,$-X))):(A.sortIndex=le,s(c,A),g||w||(g=!0,V(N))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var q=y;return function(){var $=y;y=q;try{return A.apply(this,arguments)}finally{y=$}}}})(Rm);Mm.exports=Rm;var xf=Mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=m,Ft=xf;function G(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dm=new Set,qn={};function Sr(t,s){Kr(t,s),Kr(t+"Capture",s)}function Kr(t,s){for(qn[t]=s,t=0;t<s.length;t++)Dm.add(s[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qi=Object.prototype.hasOwnProperty,pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cd={},_d={};function ff(t){return Qi.call(_d,t)?!0:Qi.call(Cd,t)?!1:pf.test(t)?_d[t]=!0:(Cd[t]=!0,!1)}function gf(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yf(t,s,r,n){if(s===null||typeof s>"u"||gf(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function vt(t,s,r,n,a,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];lt[s]=new vt(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var oc=/[\-:]([a-z])/g;function cc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(oc,cc);lt[s]=new vt(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(oc,cc);lt[s]=new vt(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(oc,cc);lt[s]=new vt(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function dc(t,s,r,n){var a=lt.hasOwnProperty(s)?lt[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(yf(s,r,a,n)&&(r=null),n||a===null?ff(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var Ms=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ca=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),Xi=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Fm=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),Zi=Symbol.for("react.suspense"),eo=Symbol.for("react.suspense_list"),xc=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),$m=Symbol.for("react.offscreen"),Td=Symbol.iterator;function fn(t){return t===null||typeof t!="object"?null:(t=Td&&t[Td]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,xi;function Pn(t){if(xi===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);xi=s&&s[1]||""}return`
`+xi+t}var hi=!1;function pi(t,s){if(!t||hi)return"";hi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{hi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pn(t):""}function bf(t){switch(t.tag){case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 2:case 15:return t=pi(t.type,!1),t;case 11:return t=pi(t.type.render,!1),t;case 1:return t=pi(t.type,!0),t;default:return""}}function to(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lr:return"Fragment";case Ar:return"Portal";case Xi:return"Profiler";case uc:return"StrictMode";case Zi:return"Suspense";case eo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fm:return(t.displayName||"Context")+".Consumer";case Im:return(t._context.displayName||"Context")+".Provider";case mc:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xc:return s=t.displayName||null,s!==null?s:to(t.type)||"Memo";case $s:s=t._payload,t=t._init;try{return to(t(s))}catch{}}return null}function jf(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return to(s);case 8:return s===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Um(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vf(t){var s=Um(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function _a(t){t._valueTracker||(t._valueTracker=vf(t))}function Om(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=Um(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function so(t,s){var r=s.checked;return $e({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ed(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=er(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function zm(t,s){s=s.checked,s!=null&&dc(t,"checked",s,!1)}function ro(t,s){zm(t,s);var r=er(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?no(t,s.type,r):s.hasOwnProperty("defaultValue")&&no(t,s.type,er(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Pd(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function no(t,s,r){(s!=="number"||ul(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var An=Array.isArray;function Wr(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+er(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function ao(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(G(91));return $e({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ad(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(G(92));if(An(r)){if(1<r.length)throw Error(G(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:er(r)}}function Bm(t,s){var r=er(s.value),n=er(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ld(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Wm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Wm(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ta,Hm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ta.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Vn(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(t){wf.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Dn[s]=Dn[t]})});function Gm(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Dn.hasOwnProperty(t)&&Dn[t]?(""+s).trim():s+"px"}function qm(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Gm(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Nf=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,s){if(s){if(Nf[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(G(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(G(61))}if(s.style!=null&&typeof s.style!="object")throw Error(G(62))}}function oo(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uo=null,Hr=null,Gr=null;function Md(t){if(t=pa(t)){if(typeof uo!="function")throw Error(G(280));var s=t.stateNode;s&&(s=Hl(s),uo(t.stateNode,t.type,s))}}function Vm(t){Hr?Gr?Gr.push(t):Gr=[t]:Hr=t}function Ym(){if(Hr){var t=Hr,s=Gr;if(Gr=Hr=null,Md(t),s)for(t=0;t<s.length;t++)Md(s[t])}}function Jm(t,s){return t(s)}function Km(){}var fi=!1;function Qm(t,s,r){if(fi)return t(s,r);fi=!0;try{return Jm(t,s,r)}finally{fi=!1,(Hr!==null||Gr!==null)&&(Km(),Ym())}}function Yn(t,s){var r=t.stateNode;if(r===null)return null;var n=Hl(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(G(231,s,typeof r));return r}var mo=!1;if(Es)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{mo=!1}function kf(t,s,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var In=!1,ml=null,xl=!1,xo=null,Sf={onError:function(t){In=!0,ml=t}};function Cf(t,s,r,n,a,l,i,o,c){In=!1,ml=null,kf.apply(Sf,arguments)}function _f(t,s,r,n,a,l,i,o,c){if(Cf.apply(this,arguments),In){if(In){var d=ml;In=!1,ml=null}else throw Error(G(198));xl||(xl=!0,xo=d)}}function Cr(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function Xm(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Rd(t){if(Cr(t)!==t)throw Error(G(188))}function Tf(t){var s=t.alternate;if(!s){if(s=Cr(t),s===null)throw Error(G(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Rd(a),t;if(l===n)return Rd(a),s;l=l.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?t:s}function Zm(t){return t=Tf(t),t!==null?ex(t):null}function ex(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=ex(t);if(s!==null)return s;t=t.sibling}return null}var tx=Ft.unstable_scheduleCallback,Dd=Ft.unstable_cancelCallback,Ef=Ft.unstable_shouldYield,Pf=Ft.unstable_requestPaint,Be=Ft.unstable_now,Af=Ft.unstable_getCurrentPriorityLevel,pc=Ft.unstable_ImmediatePriority,sx=Ft.unstable_UserBlockingPriority,hl=Ft.unstable_NormalPriority,Lf=Ft.unstable_LowPriority,rx=Ft.unstable_IdlePriority,Ol=null,ps=null;function Mf(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Ol,t,void 0,(t.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:If,Rf=Math.log,Df=Math.LN2;function If(t){return t>>>=0,t===0?32:31-(Rf(t)/Df|0)|0}var Ea=64,Pa=4194304;function Ln(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pl(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Ln(o):(l&=i,l!==0&&(n=Ln(l)))}else i=r&~a,i!==0?n=Ln(i):l!==0&&(n=Ln(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-ns(s),a=1<<r,n|=t[r],s&=~a;return n}function Ff(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $f(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ns(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=Ff(o,s)):c<=s&&(t.expiredLanes|=o),l&=~o}}function ho(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nx(){var t=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),t}function gi(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function xa(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-ns(s),t[s]=r}function Uf(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ns(r),l=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~l}}function fc(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-ns(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var Ce=0;function ax(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lx,gc,ix,ox,cx,po=!1,Aa=[],Gs=null,qs=null,Vs=null,Jn=new Map,Kn=new Map,Os=[],Of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(t,s){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Jn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(s.pointerId)}}function yn(t,s,r,n,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},s!==null&&(s=pa(s),s!==null&&gc(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function zf(t,s,r,n,a){switch(s){case"focusin":return Gs=yn(Gs,t,s,r,n,a),!0;case"dragenter":return qs=yn(qs,t,s,r,n,a),!0;case"mouseover":return Vs=yn(Vs,t,s,r,n,a),!0;case"pointerover":var l=a.pointerId;return Jn.set(l,yn(Jn.get(l)||null,t,s,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Kn.set(l,yn(Kn.get(l)||null,t,s,r,n,a)),!0}return!1}function dx(t){var s=ur(t.target);if(s!==null){var r=Cr(s);if(r!==null){if(s=r.tag,s===13){if(s=Xm(r),s!==null){t.blockedOn=s,cx(t.priority,function(){ix(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ka(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=fo(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);co=n,r.target.dispatchEvent(n),co=null}else return s=pa(r),s!==null&&gc(s),t.blockedOn=r,!1;s.shift()}return!0}function Fd(t,s,r){Ka(t)&&r.delete(s)}function Bf(){po=!1,Gs!==null&&Ka(Gs)&&(Gs=null),qs!==null&&Ka(qs)&&(qs=null),Vs!==null&&Ka(Vs)&&(Vs=null),Jn.forEach(Fd),Kn.forEach(Fd)}function bn(t,s){t.blockedOn===s&&(t.blockedOn=null,po||(po=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Bf)))}function Qn(t){function s(a){return bn(a,t)}if(0<Aa.length){bn(Aa[0],t);for(var r=1;r<Aa.length;r++){var n=Aa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Gs!==null&&bn(Gs,t),qs!==null&&bn(qs,t),Vs!==null&&bn(Vs,t),Jn.forEach(s),Kn.forEach(s),r=0;r<Os.length;r++)n=Os[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Os.length&&(r=Os[0],r.blockedOn===null);)dx(r),r.blockedOn===null&&Os.shift()}var qr=Ms.ReactCurrentBatchConfig,fl=!0;function Wf(t,s,r,n){var a=Ce,l=qr.transition;qr.transition=null;try{Ce=1,yc(t,s,r,n)}finally{Ce=a,qr.transition=l}}function Hf(t,s,r,n){var a=Ce,l=qr.transition;qr.transition=null;try{Ce=4,yc(t,s,r,n)}finally{Ce=a,qr.transition=l}}function yc(t,s,r,n){if(fl){var a=fo(t,s,r,n);if(a===null)_i(t,s,n,gl,r),Id(t,n);else if(zf(a,t,s,r,n))n.stopPropagation();else if(Id(t,n),s&4&&-1<Of.indexOf(t)){for(;a!==null;){var l=pa(a);if(l!==null&&lx(l),l=fo(t,s,r,n),l===null&&_i(t,s,n,gl,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else _i(t,s,n,null,r)}}var gl=null;function fo(t,s,r,n){if(gl=null,t=hc(n),t=ur(t),t!==null)if(s=Cr(t),s===null)t=null;else if(r=s.tag,r===13){if(t=Xm(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return gl=t,null}function ux(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Af()){case pc:return 1;case sx:return 4;case hl:case Lf:return 16;case rx:return 536870912;default:return 16}default:return 16}}var Bs=null,bc=null,Qa=null;function mx(){if(Qa)return Qa;var t,s=bc,r=s.length,n,a="value"in Bs?Bs.value:Bs.textContent,l=a.length;for(t=0;t<r&&s[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&s[r-n]===a[l-n];n++);return Qa=a.slice(t,1<n?1-n:void 0)}function Xa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function $d(){return!1}function Ut(t){function s(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?La:$d,this.isPropagationStopped=$d,this}return $e(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),s}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=Ut(on),ha=$e({},on,{view:0,detail:0}),Gf=Ut(ha),yi,bi,jn,zl=$e({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(yi=t.screenX-jn.screenX,bi=t.screenY-jn.screenY):bi=yi=0,jn=t),yi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),Ud=Ut(zl),qf=$e({},zl,{dataTransfer:0}),Vf=Ut(qf),Yf=$e({},ha,{relatedTarget:0}),ji=Ut(Yf),Jf=$e({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=Ut(Jf),Qf=$e({},on,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xf=Ut(Qf),Zf=$e({},on,{data:0}),Od=Ut(Zf),e0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=s0[t])?!!s[t]:!1}function vc(){return r0}var n0=$e({},ha,{key:function(t){if(t.key){var s=e0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a0=Ut(n0),l0=$e({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=Ut(l0),i0=$e({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),o0=Ut(i0),c0=$e({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=Ut(c0),u0=$e({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=Ut(u0),x0=[9,13,27,32],wc=Es&&"CompositionEvent"in window,Fn=null;Es&&"documentMode"in document&&(Fn=document.documentMode);var h0=Es&&"TextEvent"in window&&!Fn,xx=Es&&(!wc||Fn&&8<Fn&&11>=Fn),Bd=" ",Wd=!1;function hx(t,s){switch(t){case"keyup":return x0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function px(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function p0(t,s){switch(t){case"compositionend":return px(s);case"keypress":return s.which!==32?null:(Wd=!0,Bd);case"textInput":return t=s.data,t===Bd&&Wd?null:t;default:return null}}function f0(t,s){if(Mr)return t==="compositionend"||!wc&&hx(t,s)?(t=mx(),Qa=bc=Bs=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xx&&s.locale!=="ko"?null:s.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!g0[t.type]:s==="textarea"}function fx(t,s,r,n){Vm(n),s=yl(s,"onChange"),0<s.length&&(r=new jc("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var $n=null,Xn=null;function y0(t){_x(t,0)}function Bl(t){var s=Ir(t);if(Om(s))return t}function b0(t,s){if(t==="change")return s}var gx=!1;if(Es){var vi;if(Es){var wi="oninput"in document;if(!wi){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),wi=typeof Gd.oninput=="function"}vi=wi}else vi=!1;gx=vi&&(!document.documentMode||9<document.documentMode)}function qd(){$n&&($n.detachEvent("onpropertychange",yx),Xn=$n=null)}function yx(t){if(t.propertyName==="value"&&Bl(Xn)){var s=[];fx(s,Xn,t,hc(t)),Qm(y0,s)}}function j0(t,s,r){t==="focusin"?(qd(),$n=s,Xn=r,$n.attachEvent("onpropertychange",yx)):t==="focusout"&&qd()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(Xn)}function w0(t,s){if(t==="click")return Bl(s)}function N0(t,s){if(t==="input"||t==="change")return Bl(s)}function k0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ls=typeof Object.is=="function"?Object.is:k0;function Zn(t,s){if(ls(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Qi.call(s,a)||!ls(t[a],s[a]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yd(t,s){var r=Vd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vd(r)}}function bx(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?bx(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function jx(){for(var t=window,s=ul();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=ul(t.document)}return s}function Nc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function S0(t){var s=jx(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&bx(r.ownerDocument.documentElement,r)){if(n!==null&&Nc(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!t.extend&&l>n&&(a=n,n=l,l=a),a=Yd(r,l);var i=Yd(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),l>n?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C0=Es&&"documentMode"in document&&11>=document.documentMode,Rr=null,go=null,Un=null,yo=!1;function Jd(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yo||Rr==null||Rr!==ul(n)||(n=Rr,"selectionStart"in n&&Nc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&Zn(Un,n)||(Un=n,n=yl(go,"onSelect"),0<n.length&&(s=new jc("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=Rr)))}function Ma(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Dr={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Ni={},vx={};Es&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Wl(t){if(Ni[t])return Ni[t];if(!Dr[t])return t;var s=Dr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in vx)return Ni[t]=s[r];return t}var wx=Wl("animationend"),Nx=Wl("animationiteration"),kx=Wl("animationstart"),Sx=Wl("transitionend"),Cx=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(t,s){Cx.set(t,s),Sr(s,[t])}for(var ki=0;ki<Kd.length;ki++){var Si=Kd[ki],_0=Si.toLowerCase(),T0=Si[0].toUpperCase()+Si.slice(1);sr(_0,"on"+T0)}sr(wx,"onAnimationEnd");sr(Nx,"onAnimationIteration");sr(kx,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(Sx,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Qd(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,_f(n,s,void 0,t),t.currentTarget=null}function _x(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Qd(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Qd(a,o,d),l=c}}}if(xl)throw t=xo,xl=!1,xo=null,t}function Ae(t,s){var r=s[No];r===void 0&&(r=s[No]=new Set);var n=t+"__bubble";r.has(n)||(Tx(s,t,2,!1),r.add(n))}function Ci(t,s,r){var n=0;s&&(n|=4),Tx(r,t,n,s)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function ea(t){if(!t[Ra]){t[Ra]=!0,Dm.forEach(function(r){r!=="selectionchange"&&(E0.has(r)||Ci(r,!1,t),Ci(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ra]||(s[Ra]=!0,Ci("selectionchange",!1,s))}}function Tx(t,s,r,n){switch(ux(s)){case 1:var a=Wf;break;case 4:a=Hf;break;default:a=yc}r=a.bind(null,s,r,t),a=void 0,!mo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function _i(t,s,r,n,a){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=ur(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Qm(function(){var d=l,u=hc(r),x=[];e:{var y=Cx.get(t);if(y!==void 0){var w=jc,g=t;switch(t){case"keypress":if(Xa(r)===0)break e;case"keydown":case"keyup":w=a0;break;case"focusin":g="focus",w=ji;break;case"focusout":g="blur",w=ji;break;case"beforeblur":case"afterblur":w=ji;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=o0;break;case wx:case Nx:case kx:w=Kf;break;case Sx:w=d0;break;case"scroll":w=Gf;break;case"wheel":w=m0;break;case"copy":case"cut":case"paste":w=Xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=zd}var v=(s&4)!==0,j=!v&&t==="scroll",f=v?y!==null?y+"Capture":null:y;v=[];for(var b=d,p;b!==null;){p=b;var h=p.stateNode;if(p.tag===5&&h!==null&&(p=h,f!==null&&(h=Yn(b,f),h!=null&&v.push(ta(b,h,p)))),j)break;b=b.return}0<v.length&&(y=new w(y,g,null,r,u),x.push({event:y,listeners:v}))}}if(!(s&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&r!==co&&(g=r.relatedTarget||r.fromElement)&&(ur(g)||g[Ps]))break e;if((w||y)&&(y=u.window===u?u:(y=u.ownerDocument)?y.defaultView||y.parentWindow:window,w?(g=r.relatedTarget||r.toElement,w=d,g=g?ur(g):null,g!==null&&(j=Cr(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=d),w!==g)){if(v=Ud,h="onMouseLeave",f="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=zd,h="onPointerLeave",f="onPointerEnter",b="pointer"),j=w==null?y:Ir(w),p=g==null?y:Ir(g),y=new v(h,b+"leave",w,r,u),y.target=j,y.relatedTarget=p,h=null,ur(u)===d&&(v=new v(f,b+"enter",g,r,u),v.target=p,v.relatedTarget=j,h=v),j=h,w&&g)t:{for(v=w,f=g,b=0,p=v;p;p=Tr(p))b++;for(p=0,h=f;h;h=Tr(h))p++;for(;0<b-p;)v=Tr(v),b--;for(;0<p-b;)f=Tr(f),p--;for(;b--;){if(v===f||f!==null&&v===f.alternate)break t;v=Tr(v),f=Tr(f)}v=null}else v=null;w!==null&&Xd(x,y,w,v,!1),g!==null&&j!==null&&Xd(x,j,g,v,!0)}}e:{if(y=d?Ir(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var N=b0;else if(Hd(y))if(gx)N=N0;else{N=v0;var S=j0}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=w0);if(N&&(N=N(t,d))){fx(x,N,r,u);break e}S&&S(t,y,d),t==="focusout"&&(S=y._wrapperState)&&S.controlled&&y.type==="number"&&no(y,"number",y.value)}switch(S=d?Ir(d):window,t){case"focusin":(Hd(S)||S.contentEditable==="true")&&(Rr=S,go=d,Un=null);break;case"focusout":Un=go=Rr=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,Jd(x,r,u);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":Jd(x,r,u)}var k;if(wc)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mr?hx(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(xx&&r.locale!=="ko"&&(Mr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mr&&(k=mx()):(Bs=u,bc="value"in Bs?Bs.value:Bs.textContent,Mr=!0)),S=yl(d,C),0<S.length&&(C=new Od(C,t,null,r,u),x.push({event:C,listeners:S}),k?C.data=k:(k=px(r),k!==null&&(C.data=k)))),(k=h0?p0(t,r):f0(t,r))&&(d=yl(d,"onBeforeInput"),0<d.length&&(u=new Od("onBeforeInput","beforeinput",null,r,u),x.push({event:u,listeners:d}),u.data=k))}_x(x,s)})}function ta(t,s,r){return{instance:t,listener:s,currentTarget:r}}function yl(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Yn(t,r),l!=null&&n.unshift(ta(t,l,a)),l=Yn(t,s),l!=null&&n.push(ta(t,l,a))),t=t.return}return n}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xd(t,s,r,n,a){for(var l=s._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Yn(r,l),c!=null&&i.unshift(ta(r,c,o))):a||(c=Yn(r,l),c!=null&&i.push(ta(r,c,o)))),r=r.return}i.length!==0&&t.push({event:s,listeners:i})}var P0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Zd(t){return(typeof t=="string"?t:""+t).replace(P0,`
`).replace(A0,"")}function Da(t,s,r){if(s=Zd(s),Zd(t)!==s&&r)throw Error(G(425))}function bl(){}var bo=null,jo=null;function vo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(t){return eu.resolve(null).then(t).catch(R0)}:wo;function R0(t){setTimeout(function(){throw t})}function Ti(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Qn(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Qn(s)}function Ys(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function tu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var cn=Math.random().toString(36).slice(2),xs="__reactFiber$"+cn,sa="__reactProps$"+cn,Ps="__reactContainer$"+cn,No="__reactEvents$"+cn,D0="__reactListeners$"+cn,I0="__reactHandles$"+cn;function ur(t){var s=t[xs];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ps]||r[xs]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=tu(t);t!==null;){if(r=t[xs])return r;t=tu(t)}return s}t=r,r=t.parentNode}return null}function pa(t){return t=t[xs]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Hl(t){return t[sa]||null}var ko=[],Fr=-1;function rr(t){return{current:t}}function Le(t){0>Fr||(t.current=ko[Fr],ko[Fr]=null,Fr--)}function Pe(t,s){Fr++,ko[Fr]=t.current,t.current=s}var tr={},xt=rr(tr),St=rr(!1),yr=tr;function Qr(t,s){var r=t.type.contextTypes;if(!r)return tr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=s[l];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Ct(t){return t=t.childContextTypes,t!=null}function jl(){Le(St),Le(xt)}function su(t,s,r){if(xt.current!==tr)throw Error(G(168));Pe(xt,s),Pe(St,r)}function Ex(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(G(108,jf(t)||"Unknown",a));return $e({},r,n)}function vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,yr=xt.current,Pe(xt,t),Pe(St,St.current),!0}function ru(t,s,r){var n=t.stateNode;if(!n)throw Error(G(169));r?(t=Ex(t,s,yr),n.__reactInternalMemoizedMergedChildContext=t,Le(St),Le(xt),Pe(xt,t)):Le(St),Pe(St,r)}var Ns=null,Gl=!1,Ei=!1;function Px(t){Ns===null?Ns=[t]:Ns.push(t)}function F0(t){Gl=!0,Px(t)}function nr(){if(!Ei&&Ns!==null){Ei=!0;var t=0,s=Ce;try{var r=Ns;for(Ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ns=null,Gl=!1}catch(a){throw Ns!==null&&(Ns=Ns.slice(t+1)),tx(pc,nr),a}finally{Ce=s,Ei=!1}}return null}var $r=[],Ur=0,wl=null,Nl=0,zt=[],Bt=0,br=null,ks=1,Ss="";function cr(t,s){$r[Ur++]=Nl,$r[Ur++]=wl,wl=t,Nl=s}function Ax(t,s,r){zt[Bt++]=ks,zt[Bt++]=Ss,zt[Bt++]=br,br=t;var n=ks;t=Ss;var a=32-ns(n)-1;n&=~(1<<a),r+=1;var l=32-ns(s)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ks=1<<32-ns(s)+a|r<<a|n,Ss=l+t}else ks=1<<l|r<<a|n,Ss=t}function kc(t){t.return!==null&&(cr(t,1),Ax(t,1,0))}function Sc(t){for(;t===wl;)wl=$r[--Ur],$r[Ur]=null,Nl=$r[--Ur],$r[Ur]=null;for(;t===br;)br=zt[--Bt],zt[Bt]=null,Ss=zt[--Bt],zt[Bt]=null,ks=zt[--Bt],zt[Bt]=null}var It=null,Dt=null,Me=!1,rs=null;function Lx(t,s){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function nu(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,It=t,Dt=Ys(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,It=t,Dt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=br!==null?{id:ks,overflow:Ss}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,It=t,Dt=null,!0):!1;default:return!1}}function So(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Co(t){if(Me){var s=Dt;if(s){var r=s;if(!nu(t,s)){if(So(t))throw Error(G(418));s=Ys(r.nextSibling);var n=It;s&&nu(t,s)?Lx(n,r):(t.flags=t.flags&-4097|2,Me=!1,It=t)}}else{if(So(t))throw Error(G(418));t.flags=t.flags&-4097|2,Me=!1,It=t}}}function au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function Ia(t){if(t!==It)return!1;if(!Me)return au(t),Me=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!vo(t.type,t.memoizedProps)),s&&(s=Dt)){if(So(t))throw Mx(),Error(G(418));for(;s;)Lx(t,s),s=Ys(s.nextSibling)}if(au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){Dt=Ys(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}Dt=null}}else Dt=It?Ys(t.stateNode.nextSibling):null;return!0}function Mx(){for(var t=Dt;t;)t=Ys(t.nextSibling)}function Xr(){Dt=It=null,Me=!1}function Cc(t){rs===null?rs=[t]:rs.push(t)}var $0=Ms.ReactCurrentBatchConfig;function vn(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,t));var a=n,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,t))}return t}function Fa(t,s){throw t=Object.prototype.toString.call(s),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function lu(t){var s=t._init;return s(t._payload)}function Rx(t){function s(f,b){if(t){var p=f.deletions;p===null?(f.deletions=[b],f.flags|=16):p.push(b)}}function r(f,b){if(!t)return null;for(;b!==null;)s(f,b),b=b.sibling;return null}function n(f,b){for(f=new Map;b!==null;)b.key!==null?f.set(b.key,b):f.set(b.index,b),b=b.sibling;return f}function a(f,b){return f=Xs(f,b),f.index=0,f.sibling=null,f}function l(f,b,p){return f.index=p,t?(p=f.alternate,p!==null?(p=p.index,p<b?(f.flags|=2,b):p):(f.flags|=2,b)):(f.flags|=1048576,b)}function i(f){return t&&f.alternate===null&&(f.flags|=2),f}function o(f,b,p,h){return b===null||b.tag!==6?(b=Ii(p,f.mode,h),b.return=f,b):(b=a(b,p),b.return=f,b)}function c(f,b,p,h){var N=p.type;return N===Lr?u(f,b,p.props.children,h,p.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$s&&lu(N)===b.type)?(h=a(b,p.props),h.ref=vn(f,b,p),h.return=f,h):(h=al(p.type,p.key,p.props,null,f.mode,h),h.ref=vn(f,b,p),h.return=f,h)}function d(f,b,p,h){return b===null||b.tag!==4||b.stateNode.containerInfo!==p.containerInfo||b.stateNode.implementation!==p.implementation?(b=Fi(p,f.mode,h),b.return=f,b):(b=a(b,p.children||[]),b.return=f,b)}function u(f,b,p,h,N){return b===null||b.tag!==7?(b=fr(p,f.mode,h,N),b.return=f,b):(b=a(b,p),b.return=f,b)}function x(f,b,p){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ii(""+b,f.mode,p),b.return=f,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ca:return p=al(b.type,b.key,b.props,null,f.mode,p),p.ref=vn(f,null,b),p.return=f,p;case Ar:return b=Fi(b,f.mode,p),b.return=f,b;case $s:var h=b._init;return x(f,h(b._payload),p)}if(An(b)||fn(b))return b=fr(b,f.mode,p,null),b.return=f,b;Fa(f,b)}return null}function y(f,b,p,h){var N=b!==null?b.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:o(f,b,""+p,h);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ca:return p.key===N?c(f,b,p,h):null;case Ar:return p.key===N?d(f,b,p,h):null;case $s:return N=p._init,y(f,b,N(p._payload),h)}if(An(p)||fn(p))return N!==null?null:u(f,b,p,h,null);Fa(f,p)}return null}function w(f,b,p,h,N){if(typeof h=="string"&&h!==""||typeof h=="number")return f=f.get(p)||null,o(b,f,""+h,N);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ca:return f=f.get(h.key===null?p:h.key)||null,c(b,f,h,N);case Ar:return f=f.get(h.key===null?p:h.key)||null,d(b,f,h,N);case $s:var S=h._init;return w(f,b,p,S(h._payload),N)}if(An(h)||fn(h))return f=f.get(p)||null,u(b,f,h,N,null);Fa(b,h)}return null}function g(f,b,p,h){for(var N=null,S=null,k=b,C=b=0,P=null;k!==null&&C<p.length;C++){k.index>C?(P=k,k=null):P=k.sibling;var I=y(f,k,p[C],h);if(I===null){k===null&&(k=P);break}t&&k&&I.alternate===null&&s(f,k),b=l(I,b,C),S===null?N=I:S.sibling=I,S=I,k=P}if(C===p.length)return r(f,k),Me&&cr(f,C),N;if(k===null){for(;C<p.length;C++)k=x(f,p[C],h),k!==null&&(b=l(k,b,C),S===null?N=k:S.sibling=k,S=k);return Me&&cr(f,C),N}for(k=n(f,k);C<p.length;C++)P=w(k,f,C,p[C],h),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?C:P.key),b=l(P,b,C),S===null?N=P:S.sibling=P,S=P);return t&&k.forEach(function(O){return s(f,O)}),Me&&cr(f,C),N}function v(f,b,p,h){var N=fn(p);if(typeof N!="function")throw Error(G(150));if(p=N.call(p),p==null)throw Error(G(151));for(var S=N=null,k=b,C=b=0,P=null,I=p.next();k!==null&&!I.done;C++,I=p.next()){k.index>C?(P=k,k=null):P=k.sibling;var O=y(f,k,I.value,h);if(O===null){k===null&&(k=P);break}t&&k&&O.alternate===null&&s(f,k),b=l(O,b,C),S===null?N=O:S.sibling=O,S=O,k=P}if(I.done)return r(f,k),Me&&cr(f,C),N;if(k===null){for(;!I.done;C++,I=p.next())I=x(f,I.value,h),I!==null&&(b=l(I,b,C),S===null?N=I:S.sibling=I,S=I);return Me&&cr(f,C),N}for(k=n(f,k);!I.done;C++,I=p.next())I=w(k,f,C,I.value,h),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?C:I.key),b=l(I,b,C),S===null?N=I:S.sibling=I,S=I);return t&&k.forEach(function(M){return s(f,M)}),Me&&cr(f,C),N}function j(f,b,p,h){if(typeof p=="object"&&p!==null&&p.type===Lr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ca:e:{for(var N=p.key,S=b;S!==null;){if(S.key===N){if(N=p.type,N===Lr){if(S.tag===7){r(f,S.sibling),b=a(S,p.props.children),b.return=f,f=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$s&&lu(N)===S.type){r(f,S.sibling),b=a(S,p.props),b.ref=vn(f,S,p),b.return=f,f=b;break e}r(f,S);break}else s(f,S);S=S.sibling}p.type===Lr?(b=fr(p.props.children,f.mode,h,p.key),b.return=f,f=b):(h=al(p.type,p.key,p.props,null,f.mode,h),h.ref=vn(f,b,p),h.return=f,f=h)}return i(f);case Ar:e:{for(S=p.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===p.containerInfo&&b.stateNode.implementation===p.implementation){r(f,b.sibling),b=a(b,p.children||[]),b.return=f,f=b;break e}else{r(f,b);break}else s(f,b);b=b.sibling}b=Fi(p,f.mode,h),b.return=f,f=b}return i(f);case $s:return S=p._init,j(f,b,S(p._payload),h)}if(An(p))return g(f,b,p,h);if(fn(p))return v(f,b,p,h);Fa(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,b!==null&&b.tag===6?(r(f,b.sibling),b=a(b,p),b.return=f,f=b):(r(f,b),b=Ii(p,f.mode,h),b.return=f,f=b),i(f)):r(f,b)}return j}var Zr=Rx(!0),Dx=Rx(!1),kl=rr(null),Sl=null,Or=null,_c=null;function Tc(){_c=Or=Sl=null}function Ec(t){var s=kl.current;Le(kl),t._currentValue=s}function _o(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function Vr(t,s){Sl=t,_c=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(kt=!0),t.firstContext=null)}function Vt(t){var s=t._currentValue;if(_c!==t)if(t={context:t,memoizedValue:s,next:null},Or===null){if(Sl===null)throw Error(G(308));Or=t,Sl.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return s}var mr=null;function Pc(t){mr===null?mr=[t]:mr.push(t)}function Ix(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Pc(s)):(r.next=a.next,a.next=r),s.interleaved=r,As(t,n)}function As(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Us=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fx(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Js(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,As(t,r)}return a=n.interleaved,a===null?(s.next=s,Pc(n)):(s.next=a.next,a.next=s),n.interleaved=s,As(t,r)}function Za(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,fc(t,r)}}function iu(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=s:l=l.next=s}else a=l=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function Cl(t,s,r,n){var a=t.updateQueue;Us=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var x=a.baseState;i=0,u=d=c=null,o=l;do{var y=o.lane,w=o.eventTime;if((n&y)===y){u!==null&&(u=u.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(y=s,w=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){x=g.call(w,x,y);break e}x=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,y=typeof g=="function"?g.call(w,x,y):g,y==null)break e;x=$e({},x,y);break e;case 2:Us=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=a.effects,y===null?a.effects=[o]:y.push(o))}else w={eventTime:w,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=w,c=x):u=u.next=w,i|=y;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(u===null&&(c=x),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do i|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);vr|=i,t.lanes=i,t.memoizedState=x}}function ou(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var fa={},fs=rr(fa),ra=rr(fa),na=rr(fa);function xr(t){if(t===fa)throw Error(G(174));return t}function Lc(t,s){switch(Pe(na,s),Pe(ra,t),Pe(fs,fa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lo(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=lo(s,t)}Le(fs),Pe(fs,s)}function en(){Le(fs),Le(ra),Le(na)}function $x(t){xr(na.current);var s=xr(fs.current),r=lo(s,t.type);s!==r&&(Pe(ra,t),Pe(fs,r))}function Mc(t){ra.current===t&&(Le(fs),Le(ra))}var De=rr(0);function _l(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pi=[];function Rc(){for(var t=0;t<Pi.length;t++)Pi[t]._workInProgressVersionPrimary=null;Pi.length=0}var el=Ms.ReactCurrentDispatcher,Ai=Ms.ReactCurrentBatchConfig,jr=0,Ie=null,Ye=null,Ze=null,Tl=!1,On=!1,aa=0,U0=0;function ot(){throw Error(G(321))}function Dc(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!ls(t[r],s[r]))return!1;return!0}function Ic(t,s,r,n,a,l){if(jr=l,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,el.current=t===null||t.memoizedState===null?W0:H0,t=r(n,a),On){l=0;do{if(On=!1,aa=0,25<=l)throw Error(G(301));l+=1,Ze=Ye=null,s.updateQueue=null,el.current=G0,t=r(n,a)}while(On)}if(el.current=El,s=Ye!==null&&Ye.next!==null,jr=0,Ze=Ye=Ie=null,Tl=!1,s)throw Error(G(300));return t}function Fc(){var t=aa!==0;return aa=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ie.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var s=Ze===null?Ie.memoizedState:Ze.next;if(s!==null)Ze=s,Ye=t;else{if(t===null)throw Error(G(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Ze===null?Ie.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function la(t,s){return typeof s=="function"?s(t):s}function Li(t){var s=Yt(),r=s.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=Ye,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((jr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var x={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=x,i=n):c=c.next=x,Ie.lanes|=u,vr|=u}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,ls(n,s.memoizedState)||(kt=!0),s.memoizedState=n,s.baseState=i,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do l=a.lane,Ie.lanes|=l,vr|=l,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Mi(t){var s=Yt(),r=s.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,l=s.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);ls(l,s.memoizedState)||(kt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function Ux(){}function Ox(t,s){var r=Ie,n=Yt(),a=s(),l=!ls(n.memoizedState,a);if(l&&(n.memoizedState=a,kt=!0),n=n.queue,$c(Wx.bind(null,r,n,t),[t]),n.getSnapshot!==s||l||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,ia(9,Bx.bind(null,r,n,a,s),void 0,null),tt===null)throw Error(G(349));jr&30||zx(r,s,a)}return a}function zx(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ie.updateQueue,s===null?(s={lastEffect:null,stores:null},Ie.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Bx(t,s,r,n){s.value=r,s.getSnapshot=n,Hx(s)&&Gx(t)}function Wx(t,s,r){return r(function(){Hx(s)&&Gx(t)})}function Hx(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!ls(t,r)}catch{return!0}}function Gx(t){var s=As(t,1);s!==null&&as(s,t,1,-1)}function cu(t){var s=ms();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},s.queue=t,t=t.dispatch=B0.bind(null,Ie,t),[s.memoizedState,t]}function ia(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Ie.updateQueue,s===null?(s={lastEffect:null,stores:null},Ie.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function qx(){return Yt().memoizedState}function tl(t,s,r,n){var a=ms();Ie.flags|=t,a.memoizedState=ia(1|s,r,void 0,n===void 0?null:n)}function ql(t,s,r,n){var a=Yt();n=n===void 0?null:n;var l=void 0;if(Ye!==null){var i=Ye.memoizedState;if(l=i.destroy,n!==null&&Dc(n,i.deps)){a.memoizedState=ia(s,r,l,n);return}}Ie.flags|=t,a.memoizedState=ia(1|s,r,l,n)}function du(t,s){return tl(8390656,8,t,s)}function $c(t,s){return ql(2048,8,t,s)}function Vx(t,s){return ql(4,2,t,s)}function Yx(t,s){return ql(4,4,t,s)}function Jx(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Kx(t,s,r){return r=r!=null?r.concat([t]):null,ql(4,4,Jx.bind(null,s,t),r)}function Uc(){}function Qx(t,s){var r=Yt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Dc(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function Xx(t,s){var r=Yt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Dc(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function Zx(t,s,r){return jr&21?(ls(r,s)||(r=nx(),Ie.lanes|=r,vr|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=r)}function O0(t,s){var r=Ce;Ce=r!==0&&4>r?r:4,t(!0);var n=Ai.transition;Ai.transition={};try{t(!1),s()}finally{Ce=r,Ai.transition=n}}function eh(){return Yt().memoizedState}function z0(t,s,r){var n=Qs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},th(t))sh(s,r);else if(r=Ix(t,s,r,n),r!==null){var a=bt();as(r,t,n,a),rh(r,s,n)}}function B0(t,s,r){var n=Qs(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(th(t))sh(s,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,ls(o,i)){var c=s.interleaved;c===null?(a.next=a,Pc(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=Ix(t,s,a,n),r!==null&&(a=bt(),as(r,t,n,a),rh(r,s,n))}}function th(t){var s=t.alternate;return t===Ie||s!==null&&s===Ie}function sh(t,s){On=Tl=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function rh(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,fc(t,r)}}var El={readContext:Vt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},W0={readContext:Vt,useCallback:function(t,s){return ms().memoizedState=[t,s===void 0?null:s],t},useContext:Vt,useEffect:du,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,tl(4194308,4,Jx.bind(null,s,t),r)},useLayoutEffect:function(t,s){return tl(4194308,4,t,s)},useInsertionEffect:function(t,s){return tl(4,2,t,s)},useMemo:function(t,s){var r=ms();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=ms();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=z0.bind(null,Ie,t),[n.memoizedState,t]},useRef:function(t){var s=ms();return t={current:t},s.memoizedState=t},useState:cu,useDebugValue:Uc,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=cu(!1),s=t[0];return t=O0.bind(null,t[1]),ms().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Ie,a=ms();if(Me){if(r===void 0)throw Error(G(407));r=r()}else{if(r=s(),tt===null)throw Error(G(349));jr&30||zx(n,s,r)}a.memoizedState=r;var l={value:r,getSnapshot:s};return a.queue=l,du(Wx.bind(null,n,l,t),[t]),n.flags|=2048,ia(9,Bx.bind(null,n,l,r,s),void 0,null),r},useId:function(){var t=ms(),s=tt.identifierPrefix;if(Me){var r=Ss,n=ks;r=(n&~(1<<32-ns(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=aa++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=U0++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},H0={readContext:Vt,useCallback:Qx,useContext:Vt,useEffect:$c,useImperativeHandle:Kx,useInsertionEffect:Vx,useLayoutEffect:Yx,useMemo:Xx,useReducer:Li,useRef:qx,useState:function(){return Li(la)},useDebugValue:Uc,useDeferredValue:function(t){var s=Yt();return Zx(s,Ye.memoizedState,t)},useTransition:function(){var t=Li(la)[0],s=Yt().memoizedState;return[t,s]},useMutableSource:Ux,useSyncExternalStore:Ox,useId:eh,unstable_isNewReconciler:!1},G0={readContext:Vt,useCallback:Qx,useContext:Vt,useEffect:$c,useImperativeHandle:Kx,useInsertionEffect:Vx,useLayoutEffect:Yx,useMemo:Xx,useReducer:Mi,useRef:qx,useState:function(){return Mi(la)},useDebugValue:Uc,useDeferredValue:function(t){var s=Yt();return Ye===null?s.memoizedState=t:Zx(s,Ye.memoizedState,t)},useTransition:function(){var t=Mi(la)[0],s=Yt().memoizedState;return[t,s]},useMutableSource:Ux,useSyncExternalStore:Ox,useId:eh,unstable_isNewReconciler:!1};function ts(t,s){if(t&&t.defaultProps){s=$e({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function To(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:$e({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vl={isMounted:function(t){return(t=t._reactInternals)?Cr(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=bt(),a=Qs(t),l=Cs(n,a);l.payload=s,r!=null&&(l.callback=r),s=Js(t,l,a),s!==null&&(as(s,t,a,n),Za(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=bt(),a=Qs(t),l=Cs(n,a);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=Js(t,l,a),s!==null&&(as(s,t,a,n),Za(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=bt(),n=Qs(t),a=Cs(r,n);a.tag=2,s!=null&&(a.callback=s),s=Js(t,a,n),s!==null&&(as(s,t,n,r),Za(s,t,n))}};function uu(t,s,r,n,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,i):s.prototype&&s.prototype.isPureReactComponent?!Zn(r,n)||!Zn(a,l):!0}function nh(t,s,r){var n=!1,a=tr,l=s.contextType;return typeof l=="object"&&l!==null?l=Vt(l):(a=Ct(s)?yr:xt.current,n=s.contextTypes,l=(n=n!=null)?Qr(t,a):tr),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vl,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),s}function mu(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Vl.enqueueReplaceState(s,s.state,null)}function Eo(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Ac(t);var l=s.contextType;typeof l=="object"&&l!==null?a.context=Vt(l):(l=Ct(s)?yr:xt.current,a.context=Qr(t,l)),a.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(To(t,s,l,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Vl.enqueueReplaceState(a,a.state,null),Cl(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function tn(t,s){try{var r="",n=s;do r+=bf(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:a,digest:null}}function Ri(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Po(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var q0=typeof WeakMap=="function"?WeakMap:Map;function ah(t,s,r){r=Cs(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Al||(Al=!0,Oo=n),Po(t,s)},r}function lh(t,s,r){r=Cs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){Po(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Po(t,s),typeof n!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function xu(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new q0;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=lg.bind(null,t,s,r),s.then(t,t))}function hu(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function pu(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Cs(-1,1),s.tag=2,Js(r,s,1))),r.lanes|=1),t)}var V0=Ms.ReactCurrentOwner,kt=!1;function gt(t,s,r,n){s.child=t===null?Dx(s,null,r,n):Zr(s,t.child,r,n)}function fu(t,s,r,n,a){r=r.render;var l=s.ref;return Vr(s,a),n=Ic(t,s,r,n,l,a),r=Fc(),t!==null&&!kt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Ls(t,s,a)):(Me&&r&&kc(s),s.flags|=1,gt(t,s,n,a),s.child)}function gu(t,s,r,n,a){if(t===null){var l=r.type;return typeof l=="function"&&!Vc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,ih(t,s,l,n,a)):(t=al(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Zn,r(i,n)&&t.ref===s.ref)return Ls(t,s,a)}return s.flags|=1,t=Xs(l,n),t.ref=s.ref,t.return=s,s.child=t}function ih(t,s,r,n,a){if(t!==null){var l=t.memoizedProps;if(Zn(l,n)&&t.ref===s.ref)if(kt=!1,s.pendingProps=n=l,(t.lanes&a)!==0)t.flags&131072&&(kt=!0);else return s.lanes=t.lanes,Ls(t,s,a)}return Ao(t,s,r,n,a)}function oh(t,s,r){var n=s.pendingProps,a=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Br,Rt),Rt|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Pe(Br,Rt),Rt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Pe(Br,Rt),Rt|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,Pe(Br,Rt),Rt|=n;return gt(t,s,a,r),s.child}function ch(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Ao(t,s,r,n,a){var l=Ct(r)?yr:xt.current;return l=Qr(s,l),Vr(s,a),r=Ic(t,s,r,n,l,a),n=Fc(),t!==null&&!kt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Ls(t,s,a)):(Me&&n&&kc(s),s.flags|=1,gt(t,s,r,a),s.child)}function yu(t,s,r,n,a){if(Ct(r)){var l=!0;vl(s)}else l=!1;if(Vr(s,a),s.stateNode===null)sl(t,s),nh(s,r,n),Eo(s,r,n,a),n=!0;else if(t===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Vt(d):(d=Ct(r)?yr:xt.current,d=Qr(s,d));var u=r.getDerivedStateFromProps,x=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&mu(s,i,n,d),Us=!1;var y=s.memoizedState;i.state=y,Cl(s,n,i,a),c=s.memoizedState,o!==n||y!==c||St.current||Us?(typeof u=="function"&&(To(s,r,u,n),c=s.memoizedState),(o=Us||uu(s,r,o,n,y,c,d))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{i=s.stateNode,Fx(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:ts(s.type,o),i.props=d,x=s.pendingProps,y=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=Ct(r)?yr:xt.current,c=Qr(s,c));var w=r.getDerivedStateFromProps;(u=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||y!==c)&&mu(s,i,n,c),Us=!1,y=s.memoizedState,i.state=y,Cl(s,n,i,a);var g=s.memoizedState;o!==x||y!==g||St.current||Us?(typeof w=="function"&&(To(s,r,w,n),g=s.memoizedState),(d=Us||uu(s,r,d,n,y,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=g),i.props=n,i.state=g,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(s.flags|=1024),n=!1)}return Lo(t,s,r,n,l,a)}function Lo(t,s,r,n,a,l){ch(t,s);var i=(s.flags&128)!==0;if(!n&&!i)return a&&ru(s,r,!1),Ls(t,s,l);n=s.stateNode,V0.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&i?(s.child=Zr(s,t.child,null,l),s.child=Zr(s,null,o,l)):gt(t,s,o,l),s.memoizedState=n.state,a&&ru(s,r,!0),s.child}function dh(t){var s=t.stateNode;s.pendingContext?su(t,s.pendingContext,s.pendingContext!==s.context):s.context&&su(t,s.context,!1),Lc(t,s.containerInfo)}function bu(t,s,r,n,a){return Xr(),Cc(a),s.flags|=256,gt(t,s,r,n),s.child}var Mo={dehydrated:null,treeContext:null,retryLane:0};function Ro(t){return{baseLanes:t,cachePool:null,transitions:null}}function uh(t,s,r){var n=s.pendingProps,a=De.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Pe(De,a&1),t===null)return Co(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=n.children,t=n.fallback,l?(n=s.mode,l=s.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Kl(i,n,0,null),t=fr(t,n,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=Ro(r),s.memoizedState=Mo,t):Oc(s,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Y0(t,s,i,n,o,a,r);if(l){l=n.fallback,i=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Xs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Xs(o,l):(l=fr(l,i,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,i=t.child.memoizedState,i=i===null?Ro(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,s.memoizedState=Mo,n}return l=t.child,t=l.sibling,n=Xs(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function Oc(t,s){return s=Kl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function $a(t,s,r,n){return n!==null&&Cc(n),Zr(s,t.child,null,r),t=Oc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Y0(t,s,r,n,a,l,i){if(r)return s.flags&256?(s.flags&=-257,n=Ri(Error(G(422))),$a(t,s,i,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=n.fallback,a=s.mode,n=Kl({mode:"visible",children:n.children},a,0,null),l=fr(l,a,i,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&Zr(s,t.child,null,i),s.child.memoizedState=Ro(i),s.memoizedState=Mo,l);if(!(s.mode&1))return $a(t,s,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(G(419)),n=Ri(l,n,void 0),$a(t,s,i,n)}if(o=(i&t.childLanes)!==0,kt||o){if(n=tt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,As(t,a),as(n,t,a,-1))}return qc(),n=Ri(Error(G(421))),$a(t,s,i,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=ig.bind(null,t),a._reactRetry=s,null):(t=l.treeContext,Dt=Ys(a.nextSibling),It=s,Me=!0,rs=null,t!==null&&(zt[Bt++]=ks,zt[Bt++]=Ss,zt[Bt++]=br,ks=t.id,Ss=t.overflow,br=s),s=Oc(s,n.children),s.flags|=4096,s)}function ju(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),_o(t.return,s,r)}function Di(t,s,r,n,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function mh(t,s,r){var n=s.pendingProps,a=n.revealOrder,l=n.tail;if(gt(t,s,n.children,r),n=De.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ju(t,r,s);else if(t.tag===19)ju(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Pe(De,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&_l(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Di(s,!1,a,r,l);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&_l(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Di(s,!0,r,null,l);break;case"together":Di(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sl(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Ls(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),vr|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(G(153));if(s.child!==null){for(t=s.child,r=Xs(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Xs(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function J0(t,s,r){switch(s.tag){case 3:dh(s),Xr();break;case 5:$x(s);break;case 1:Ct(s.type)&&vl(s);break;case 4:Lc(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Pe(kl,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Pe(De,De.current&1),s.flags|=128,null):r&s.child.childLanes?uh(t,s,r):(Pe(De,De.current&1),t=Ls(t,s,r),t!==null?t.sibling:null);Pe(De,De.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return mh(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pe(De,De.current),n)break;return null;case 22:case 23:return s.lanes=0,oh(t,s,r)}return Ls(t,s,r)}var xh,Do,hh,ph;xh=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Do=function(){};hh=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,xr(fs.current);var l=null;switch(r){case"input":a=so(t,a),n=so(t,n),l=[];break;case"select":a=$e({},a,{value:void 0}),n=$e({},n,{value:void 0}),l=[];break;case"textarea":a=ao(t,a),n=ao(t,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=bl)}io(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qn.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ae("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};ph=function(t,s,r,n){r!==n&&(s.flags|=4)};function wn(t,s){if(!Me)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ct(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function K0(t,s,r){var n=s.pendingProps;switch(Sc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return Ct(s.type)&&jl(),ct(s),null;case 3:return n=s.stateNode,en(),Le(St),Le(xt),Rc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ia(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,rs!==null&&(Wo(rs),rs=null))),Do(t,s),ct(s),null;case 5:Mc(s);var a=xr(na.current);if(r=s.type,t!==null&&s.stateNode!=null)hh(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(G(166));return ct(s),null}if(t=xr(fs.current),Ia(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[xs]=s,n[sa]=l,t=(s.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(a=0;a<Mn.length;a++)Ae(Mn[a],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ed(n,l),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Ae("invalid",n);break;case"textarea":Ad(n,l),Ae("invalid",n)}io(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Da(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Da(n.textContent,o,t),a=["children",""+o]):qn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ae("scroll",n)}switch(r){case"input":_a(n),Pd(n,l,!0);break;case"textarea":_a(n),Ld(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=bl)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[xs]=s,t[sa]=n,xh(t,s,!1,!1),s.stateNode=t;e:{switch(i=oo(r,n),r){case"dialog":Ae("cancel",t),Ae("close",t),a=n;break;case"iframe":case"object":case"embed":Ae("load",t),a=n;break;case"video":case"audio":for(a=0;a<Mn.length;a++)Ae(Mn[a],t);a=n;break;case"source":Ae("error",t),a=n;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),a=n;break;case"details":Ae("toggle",t),a=n;break;case"input":Ed(t,n),a=so(t,n),Ae("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=$e({},n,{value:void 0}),Ae("invalid",t);break;case"textarea":Ad(t,n),a=ao(t,n),Ae("invalid",t);break;default:a=n}io(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?qm(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hm(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vn(t,c):typeof c=="number"&&Vn(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(qn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Ae("scroll",t):c!=null&&dc(t,l,c,i))}switch(r){case"input":_a(t),Pd(t,n,!1);break;case"textarea":_a(t),Ld(t);break;case"option":n.value!=null&&t.setAttribute("value",""+er(n.value));break;case"select":t.multiple=!!n.multiple,l=n.value,l!=null?Wr(t,!!n.multiple,l,!1):n.defaultValue!=null&&Wr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=bl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ct(s),null;case 6:if(t&&s.stateNode!=null)ph(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(G(166));if(r=xr(na.current),xr(fs.current),Ia(s)){if(n=s.stateNode,r=s.memoizedProps,n[xs]=s,(l=n.nodeValue!==r)&&(t=It,t!==null))switch(t.tag){case 3:Da(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Da(n.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xs]=s,s.stateNode=n}return ct(s),null;case 13:if(Le(De),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Dt!==null&&s.mode&1&&!(s.flags&128))Mx(),Xr(),s.flags|=98560,l=!1;else if(l=Ia(s),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(G(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(G(317));l[xs]=s}else Xr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ct(s),l=!1}else rs!==null&&(Wo(rs),rs=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||De.current&1?Ke===0&&(Ke=3):qc())),s.updateQueue!==null&&(s.flags|=4),ct(s),null);case 4:return en(),Do(t,s),t===null&&ea(s.stateNode.containerInfo),ct(s),null;case 10:return Ec(s.type._context),ct(s),null;case 17:return Ct(s.type)&&jl(),ct(s),null;case 19:if(Le(De),l=s.memoizedState,l===null)return ct(s),null;if(n=(s.flags&128)!==0,i=l.rendering,i===null)if(n)wn(l,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=_l(t),i!==null){for(s.flags|=128,wn(l,!1),n=i.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,t=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Pe(De,De.current&1|2),s.child}t=t.sibling}l.tail!==null&&Be()>sn&&(s.flags|=128,n=!0,wn(l,!1),s.lanes=4194304)}else{if(!n)if(t=_l(i),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),wn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Me)return ct(s),null}else 2*Be()-l.renderingStartTime>sn&&r!==1073741824&&(s.flags|=128,n=!0,wn(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Be(),s.sibling=null,r=De.current,Pe(De,n?r&1|2:r&1),s):(ct(s),null);case 22:case 23:return Gc(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Rt&1073741824&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),null;case 24:return null;case 25:return null}throw Error(G(156,s.tag))}function Q0(t,s){switch(Sc(s),s.tag){case 1:return Ct(s.type)&&jl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return en(),Le(St),Le(xt),Rc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Mc(s),null;case 13:if(Le(De),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(G(340));Xr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Le(De),null;case 4:return en(),null;case 10:return Ec(s.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Ua=!1,dt=!1,X0=typeof WeakSet=="function"?WeakSet:Set,re=null;function zr(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(t,s,n)}else r.current=null}function Io(t,s,r){try{r()}catch(n){Ue(t,s,n)}}var vu=!1;function Z0(t,s){if(bo=fl,t=jx(),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,x=t,y=null;t:for(;;){for(var w;x!==r||a!==0&&x.nodeType!==3||(o=i+a),x!==l||n!==0&&x.nodeType!==3||(c=i+n),x.nodeType===3&&(i+=x.nodeValue.length),(w=x.firstChild)!==null;)y=x,x=w;for(;;){if(x===t)break t;if(y===r&&++d===a&&(o=i),y===l&&++u===n&&(c=i),(w=x.nextSibling)!==null)break;x=y,y=x.parentNode}x=w}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(jo={focusedElem:t,selectionRange:r},fl=!1,re=s;re!==null;)if(s=re,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,re=t;else for(;re!==null;){s=re;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,j=g.memoizedState,f=s.stateNode,b=f.getSnapshotBeforeUpdate(s.elementType===s.type?v:ts(s.type,v),j);f.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var p=s.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(h){Ue(s,s.return,h)}if(t=s.sibling,t!==null){t.return=s.return,re=t;break}re=s.return}return g=vu,vu=!1,g}function zn(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&Io(s,r,l)}a=a.next}while(a!==n)}}function Yl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Fo(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function fh(t){var s=t.alternate;s!==null&&(t.alternate=null,fh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[xs],delete s[sa],delete s[No],delete s[D0],delete s[I0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gh(t){return t.tag===5||t.tag===3||t.tag===4}function wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $o(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=bl));else if(n!==4&&(t=t.child,t!==null))for($o(t,s,r),t=t.sibling;t!==null;)$o(t,s,r),t=t.sibling}function Uo(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Uo(t,s,r),t=t.sibling;t!==null;)Uo(t,s,r),t=t.sibling}var nt=null,ss=!1;function Fs(t,s,r){for(r=r.child;r!==null;)yh(t,s,r),r=r.sibling}function yh(t,s,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Ol,r)}catch{}switch(r.tag){case 5:dt||zr(r,s);case 6:var n=nt,a=ss;nt=null,Fs(t,s,r),nt=n,ss=a,nt!==null&&(ss?(t=nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(ss?(t=nt,r=r.stateNode,t.nodeType===8?Ti(t.parentNode,r):t.nodeType===1&&Ti(t,r),Qn(t)):Ti(nt,r.stateNode));break;case 4:n=nt,a=ss,nt=r.stateNode.containerInfo,ss=!0,Fs(t,s,r),nt=n,ss=a;break;case 0:case 11:case 14:case 15:if(!dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Io(r,s,i),a=a.next}while(a!==n)}Fs(t,s,r);break;case 1:if(!dt&&(zr(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ue(r,s,o)}Fs(t,s,r);break;case 21:Fs(t,s,r);break;case 22:r.mode&1?(dt=(n=dt)||r.memoizedState!==null,Fs(t,s,r),dt=n):Fs(t,s,r);break;default:Fs(t,s,r)}}function Nu(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new X0),s.forEach(function(n){var a=og.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function es(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=t,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,ss=!1;break e;case 3:nt=o.stateNode.containerInfo,ss=!0;break e;case 4:nt=o.stateNode.containerInfo,ss=!0;break e}o=o.return}if(nt===null)throw Error(G(160));yh(l,i,a),nt=null,ss=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ue(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)bh(s,t),s=s.sibling}function bh(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(s,t),ds(t),n&4){try{zn(3,t,t.return),Yl(3,t)}catch(v){Ue(t,t.return,v)}try{zn(5,t,t.return)}catch(v){Ue(t,t.return,v)}}break;case 1:es(s,t),ds(t),n&512&&r!==null&&zr(r,r.return);break;case 5:if(es(s,t),ds(t),n&512&&r!==null&&zr(r,r.return),t.flags&32){var a=t.stateNode;try{Vn(a,"")}catch(v){Ue(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&zm(a,l),oo(o,i);var d=oo(o,l);for(i=0;i<c.length;i+=2){var u=c[i],x=c[i+1];u==="style"?qm(a,x):u==="dangerouslySetInnerHTML"?Hm(a,x):u==="children"?Vn(a,x):dc(a,u,x,d)}switch(o){case"input":ro(a,l);break;case"textarea":Bm(a,l);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Wr(a,!!l.multiple,w,!1):y!==!!l.multiple&&(l.defaultValue!=null?Wr(a,!!l.multiple,l.defaultValue,!0):Wr(a,!!l.multiple,l.multiple?[]:"",!1))}a[sa]=l}catch(v){Ue(t,t.return,v)}}break;case 6:if(es(s,t),ds(t),n&4){if(t.stateNode===null)throw Error(G(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(v){Ue(t,t.return,v)}}break;case 3:if(es(s,t),ds(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qn(s.containerInfo)}catch(v){Ue(t,t.return,v)}break;case 4:es(s,t),ds(t);break;case 13:es(s,t),ds(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Wc=Be())),n&4&&Nu(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(dt=(d=dt)||u,es(s,t),dt=d):es(s,t),ds(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(x=re=u;re!==null;){switch(y=re,w=y.child,y.tag){case 0:case 11:case 14:case 15:zn(4,y,y.return);break;case 1:zr(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){n=y,r=y.return;try{s=n,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(v){Ue(n,r,v)}}break;case 5:zr(y,y.return);break;case 22:if(y.memoizedState!==null){Su(x);continue}}w!==null?(w.return=y,re=w):Su(x)}u=u.sibling}e:for(u=null,x=t;;){if(x.tag===5){if(u===null){u=x;try{a=x.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Gm("display",i))}catch(v){Ue(t,t.return,v)}}}else if(x.tag===6){if(u===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(v){Ue(t,t.return,v)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;u===x&&(u=null),x=x.return}u===x&&(u=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:es(s,t),ds(t),n&4&&Nu(t);break;case 21:break;default:es(s,t),ds(t)}}function ds(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(gh(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vn(a,""),n.flags&=-33);var l=wu(t);Uo(t,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=wu(t);$o(t,o,i);break;default:throw Error(G(161))}}catch(c){Ue(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function eg(t,s,r){re=t,jh(t)}function jh(t,s,r){for(var n=(t.mode&1)!==0;re!==null;){var a=re,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Ua;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||dt;o=Ua;var d=dt;if(Ua=i,(dt=c)&&!d)for(re=a;re!==null;)i=re,c=i.child,i.tag===22&&i.memoizedState!==null?Cu(a):c!==null?(c.return=i,re=c):Cu(a);for(;l!==null;)re=l,jh(l),l=l.sibling;re=a,Ua=o,dt=d}ku(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,re=l):ku(t)}}function ku(t){for(;re!==null;){var s=re;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:dt||Yl(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!dt)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:ts(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&ou(s,l,n);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}ou(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var x=u.dehydrated;x!==null&&Qn(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}dt||s.flags&512&&Fo(s)}catch(y){Ue(s,s.return,y)}}if(s===t){re=null;break}if(r=s.sibling,r!==null){r.return=s.return,re=r;break}re=s.return}}function Su(t){for(;re!==null;){var s=re;if(s===t){re=null;break}var r=s.sibling;if(r!==null){r.return=s.return,re=r;break}re=s.return}}function Cu(t){for(;re!==null;){var s=re;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Yl(4,s)}catch(c){Ue(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Ue(s,a,c)}}var l=s.return;try{Fo(s)}catch(c){Ue(s,l,c)}break;case 5:var i=s.return;try{Fo(s)}catch(c){Ue(s,i,c)}}}catch(c){Ue(s,s.return,c)}if(s===t){re=null;break}var o=s.sibling;if(o!==null){o.return=s.return,re=o;break}re=s.return}}var tg=Math.ceil,Pl=Ms.ReactCurrentDispatcher,zc=Ms.ReactCurrentOwner,Gt=Ms.ReactCurrentBatchConfig,ke=0,tt=null,Ge=null,at=0,Rt=0,Br=rr(0),Ke=0,oa=null,vr=0,Jl=0,Bc=0,Bn=null,Nt=null,Wc=0,sn=1/0,ws=null,Al=!1,Oo=null,Ks=null,Oa=!1,Ws=null,Ll=0,Wn=0,zo=null,rl=-1,nl=0;function bt(){return ke&6?Be():rl!==-1?rl:rl=Be()}function Qs(t){return t.mode&1?ke&2&&at!==0?at&-at:$0.transition!==null?(nl===0&&(nl=nx()),nl):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:ux(t.type)),t):1}function as(t,s,r,n){if(50<Wn)throw Wn=0,zo=null,Error(G(185));xa(t,r,n),(!(ke&2)||t!==tt)&&(t===tt&&(!(ke&2)&&(Jl|=r),Ke===4&&zs(t,at)),_t(t,n),r===1&&ke===0&&!(s.mode&1)&&(sn=Be()+500,Gl&&nr()))}function _t(t,s){var r=t.callbackNode;$f(t,s);var n=pl(t,t===tt?at:0);if(n===0)r!==null&&Dd(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&Dd(r),s===1)t.tag===0?F0(_u.bind(null,t)):Px(_u.bind(null,t)),M0(function(){!(ke&6)&&nr()}),r=null;else{switch(ax(n)){case 1:r=pc;break;case 4:r=sx;break;case 16:r=hl;break;case 536870912:r=rx;break;default:r=hl}r=Th(r,vh.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function vh(t,s){if(rl=-1,nl=0,ke&6)throw Error(G(327));var r=t.callbackNode;if(Yr()&&t.callbackNode!==r)return null;var n=pl(t,t===tt?at:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=Ml(t,n);else{s=n;var a=ke;ke|=2;var l=Nh();(tt!==t||at!==s)&&(ws=null,sn=Be()+500,pr(t,s));do try{ng();break}catch(o){wh(t,o)}while(!0);Tc(),Pl.current=l,ke=a,Ge!==null?s=0:(tt=null,at=0,s=Ke)}if(s!==0){if(s===2&&(a=ho(t),a!==0&&(n=a,s=Bo(t,a))),s===1)throw r=oa,pr(t,0),zs(t,n),_t(t,Be()),r;if(s===6)zs(t,n);else{if(a=t.current.alternate,!(n&30)&&!sg(a)&&(s=Ml(t,n),s===2&&(l=ho(t),l!==0&&(n=l,s=Bo(t,l))),s===1))throw r=oa,pr(t,0),zs(t,n),_t(t,Be()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(G(345));case 2:dr(t,Nt,ws);break;case 3:if(zs(t,n),(n&130023424)===n&&(s=Wc+500-Be(),10<s)){if(pl(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){bt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=wo(dr.bind(null,t,Nt,ws),s);break}dr(t,Nt,ws);break;case 4:if(zs(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var i=31-ns(n);l=1<<i,i=s[i],i>a&&(a=i),n&=~l}if(n=a,n=Be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tg(n/1960))-n,10<n){t.timeoutHandle=wo(dr.bind(null,t,Nt,ws),n);break}dr(t,Nt,ws);break;case 5:dr(t,Nt,ws);break;default:throw Error(G(329))}}}return _t(t,Be()),t.callbackNode===r?vh.bind(null,t):null}function Bo(t,s){var r=Bn;return t.current.memoizedState.isDehydrated&&(pr(t,s).flags|=256),t=Ml(t,s),t!==2&&(s=Nt,Nt=r,s!==null&&Wo(s)),t}function Wo(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function sg(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!ls(l(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zs(t,s){for(s&=~Bc,s&=~Jl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-ns(s),n=1<<r;t[r]=-1,s&=~n}}function _u(t){if(ke&6)throw Error(G(327));Yr();var s=pl(t,0);if(!(s&1))return _t(t,Be()),null;var r=Ml(t,s);if(t.tag!==0&&r===2){var n=ho(t);n!==0&&(s=n,r=Bo(t,n))}if(r===1)throw r=oa,pr(t,0),zs(t,s),_t(t,Be()),r;if(r===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,dr(t,Nt,ws),_t(t,Be()),null}function Hc(t,s){var r=ke;ke|=1;try{return t(s)}finally{ke=r,ke===0&&(sn=Be()+500,Gl&&nr())}}function wr(t){Ws!==null&&Ws.tag===0&&!(ke&6)&&Yr();var s=ke;ke|=1;var r=Gt.transition,n=Ce;try{if(Gt.transition=null,Ce=1,t)return t()}finally{Ce=n,Gt.transition=r,ke=s,!(ke&6)&&nr()}}function Gc(){Rt=Br.current,Le(Br)}function pr(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L0(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(Sc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jl();break;case 3:en(),Le(St),Le(xt),Rc();break;case 5:Mc(n);break;case 4:en();break;case 13:Le(De);break;case 19:Le(De);break;case 10:Ec(n.type._context);break;case 22:case 23:Gc()}r=r.return}if(tt=t,Ge=t=Xs(t.current,null),at=Rt=s,Ke=0,oa=null,Bc=Jl=vr=0,Nt=Bn=null,mr!==null){for(s=0;s<mr.length;s++)if(r=mr[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}mr=null}return t}function wh(t,s){do{var r=Ge;try{if(Tc(),el.current=El,Tl){for(var n=Ie.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Tl=!1}if(jr=0,Ze=Ye=Ie=null,On=!1,aa=0,zc.current=null,r===null||r.return===null){Ke=1,oa=s,Ge=null;break}e:{var l=t,i=r.return,o=r,c=s;if(s=at,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,x=u.tag;if(!(u.mode&1)&&(x===0||x===11||x===15)){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var w=hu(i);if(w!==null){w.flags&=-257,pu(w,i,o,l,s),w.mode&1&&xu(l,d,s),s=w,c=d;var g=s.updateQueue;if(g===null){var v=new Set;v.add(c),s.updateQueue=v}else g.add(c);break e}else{if(!(s&1)){xu(l,d,s),qc();break e}c=Error(G(426))}}else if(Me&&o.mode&1){var j=hu(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),pu(j,i,o,l,s),Cc(tn(c,o));break e}}l=c=tn(c,o),Ke!==4&&(Ke=2),Bn===null?Bn=[l]:Bn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var f=ah(l,c,s);iu(l,f);break e;case 1:o=c;var b=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof b.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ks===null||!Ks.has(p)))){l.flags|=65536,s&=-s,l.lanes|=s;var h=lh(l,o,s);iu(l,h);break e}}l=l.return}while(l!==null)}Sh(r)}catch(N){s=N,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function Nh(){var t=Pl.current;return Pl.current=El,t===null?El:t}function qc(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),tt===null||!(vr&268435455)&&!(Jl&268435455)||zs(tt,at)}function Ml(t,s){var r=ke;ke|=2;var n=Nh();(tt!==t||at!==s)&&(ws=null,pr(t,s));do try{rg();break}catch(a){wh(t,a)}while(!0);if(Tc(),ke=r,Pl.current=n,Ge!==null)throw Error(G(261));return tt=null,at=0,Ke}function rg(){for(;Ge!==null;)kh(Ge)}function ng(){for(;Ge!==null&&!Ef();)kh(Ge)}function kh(t){var s=_h(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,s===null?Sh(t):Ge=s,zc.current=null}function Sh(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=Q0(r,s),r!==null){r.flags&=32767,Ge=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Ge=null;return}}else if(r=K0(r,s,Rt),r!==null){Ge=r;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=t}while(s!==null);Ke===0&&(Ke=5)}function dr(t,s,r){var n=Ce,a=Gt.transition;try{Gt.transition=null,Ce=1,ag(t,s,r,n)}finally{Gt.transition=a,Ce=n}return null}function ag(t,s,r,n){do Yr();while(Ws!==null);if(ke&6)throw Error(G(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(Uf(t,l),t===tt&&(Ge=tt=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Oa||(Oa=!0,Th(hl,function(){return Yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Gt.transition,Gt.transition=null;var i=Ce;Ce=1;var o=ke;ke|=4,zc.current=null,Z0(t,r),bh(r,t),S0(jo),fl=!!bo,jo=bo=null,t.current=r,eg(r),Pf(),ke=o,Ce=i,Gt.transition=l}else t.current=r;if(Oa&&(Oa=!1,Ws=t,Ll=a),l=t.pendingLanes,l===0&&(Ks=null),Mf(r.stateNode),_t(t,Be()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Al)throw Al=!1,t=Oo,Oo=null,t;return Ll&1&&t.tag!==0&&Yr(),l=t.pendingLanes,l&1?t===zo?Wn++:(Wn=0,zo=t):Wn=0,nr(),null}function Yr(){if(Ws!==null){var t=ax(Ll),s=Gt.transition,r=Ce;try{if(Gt.transition=null,Ce=16>t?16:t,Ws===null)var n=!1;else{if(t=Ws,Ws=null,Ll=0,ke&6)throw Error(G(331));var a=ke;for(ke|=4,re=t.current;re!==null;){var l=re,i=l.child;if(re.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(re=d;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:zn(8,u,l)}var x=u.child;if(x!==null)x.return=u,re=x;else for(;re!==null;){u=re;var y=u.sibling,w=u.return;if(fh(u),u===d){re=null;break}if(y!==null){y.return=w,re=y;break}re=w}}}var g=l.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}re=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,re=i;else e:for(;re!==null;){if(l=re,l.flags&2048)switch(l.tag){case 0:case 11:case 15:zn(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,re=f;break e}re=l.return}}var b=t.current;for(re=b;re!==null;){i=re;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,re=p;else e:for(i=b;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Yl(9,o)}}catch(N){Ue(o,o.return,N)}if(o===i){re=null;break e}var h=o.sibling;if(h!==null){h.return=o.return,re=h;break e}re=o.return}}if(ke=a,nr(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Ol,t)}catch{}n=!0}return n}finally{Ce=r,Gt.transition=s}}return!1}function Tu(t,s,r){s=tn(r,s),s=ah(t,s,1),t=Js(t,s,1),s=bt(),t!==null&&(xa(t,1,s),_t(t,s))}function Ue(t,s,r){if(t.tag===3)Tu(t,t,r);else for(;s!==null;){if(s.tag===3){Tu(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ks===null||!Ks.has(n))){t=tn(r,t),t=lh(s,t,1),s=Js(s,t,1),t=bt(),s!==null&&(xa(s,1,t),_t(s,t));break}}s=s.return}}function lg(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=bt(),t.pingedLanes|=t.suspendedLanes&r,tt===t&&(at&r)===r&&(Ke===4||Ke===3&&(at&130023424)===at&&500>Be()-Wc?pr(t,0):Bc|=r),_t(t,s)}function Ch(t,s){s===0&&(t.mode&1?(s=Pa,Pa<<=1,!(Pa&130023424)&&(Pa=4194304)):s=1);var r=bt();t=As(t,s),t!==null&&(xa(t,s,r),_t(t,r))}function ig(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Ch(t,r)}function og(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(s),Ch(t,r)}var _h;_h=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||St.current)kt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return kt=!1,J0(t,s,r);kt=!!(t.flags&131072)}else kt=!1,Me&&s.flags&1048576&&Ax(s,Nl,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;sl(t,s),t=s.pendingProps;var a=Qr(s,xt.current);Vr(s,r),a=Ic(null,s,n,t,a,r);var l=Fc();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ct(n)?(l=!0,vl(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ac(s),a.updater=Vl,s.stateNode=a,a._reactInternals=s,Eo(s,n,t,r),s=Lo(null,s,n,!0,l,r)):(s.tag=0,Me&&l&&kc(s),gt(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(sl(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=dg(n),t=ts(n,t),a){case 0:s=Ao(null,s,n,t,r);break e;case 1:s=yu(null,s,n,t,r);break e;case 11:s=fu(null,s,n,t,r);break e;case 14:s=gu(null,s,n,ts(n.type,t),r);break e}throw Error(G(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ts(n,a),Ao(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ts(n,a),yu(t,s,n,a,r);case 3:e:{if(dh(s),t===null)throw Error(G(387));n=s.pendingProps,l=s.memoizedState,a=l.element,Fx(t,s),Cl(s,n,null,r);var i=s.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=tn(Error(G(423)),s),s=bu(t,s,n,r,a);break e}else if(n!==a){a=tn(Error(G(424)),s),s=bu(t,s,n,r,a);break e}else for(Dt=Ys(s.stateNode.containerInfo.firstChild),It=s,Me=!0,rs=null,r=Dx(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),n===a){s=Ls(t,s,r);break e}gt(t,s,n,r)}s=s.child}return s;case 5:return $x(s),t===null&&Co(s),n=s.type,a=s.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,vo(n,a)?i=null:l!==null&&vo(n,l)&&(s.flags|=32),ch(t,s),gt(t,s,i,r),s.child;case 6:return t===null&&Co(s),null;case 13:return uh(t,s,r);case 4:return Lc(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=Zr(s,null,n,r):gt(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ts(n,a),fu(t,s,n,a,r);case 7:return gt(t,s,s.pendingProps,r),s.child;case 8:return gt(t,s,s.pendingProps.children,r),s.child;case 12:return gt(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,l=s.memoizedProps,i=a.value,Pe(kl,n._currentValue),n._currentValue=i,l!==null)if(ls(l.value,i)){if(l.children===a.children&&!St.current){s=Ls(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=Cs(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),_o(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(G(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),_o(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}gt(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,Vr(s,r),a=Vt(a),n=n(a),s.flags|=1,gt(t,s,n,r),s.child;case 14:return n=s.type,a=ts(n,s.pendingProps),a=ts(n.type,a),gu(t,s,n,a,r);case 15:return ih(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ts(n,a),sl(t,s),s.tag=1,Ct(n)?(t=!0,vl(s)):t=!1,Vr(s,r),nh(s,n,a),Eo(s,n,a,r),Lo(null,s,n,!0,t,r);case 19:return mh(t,s,r);case 22:return oh(t,s,r)}throw Error(G(156,s.tag))};function Th(t,s){return tx(t,s)}function cg(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,s,r,n){return new cg(t,s,r,n)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dg(t){if(typeof t=="function")return Vc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mc)return 11;if(t===xc)return 14}return 2}function Xs(t,s){var r=t.alternate;return r===null?(r=Wt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function al(t,s,r,n,a,l){var i=2;if(n=t,typeof t=="function")Vc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Lr:return fr(r.children,a,l,s);case uc:i=8,a|=8;break;case Xi:return t=Wt(12,r,s,a|2),t.elementType=Xi,t.lanes=l,t;case Zi:return t=Wt(13,r,s,a),t.elementType=Zi,t.lanes=l,t;case eo:return t=Wt(19,r,s,a),t.elementType=eo,t.lanes=l,t;case $m:return Kl(r,a,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Im:i=10;break e;case Fm:i=9;break e;case mc:i=11;break e;case xc:i=14;break e;case $s:i=16,n=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return s=Wt(i,r,s,a),s.elementType=t,s.type=n,s.lanes=l,s}function fr(t,s,r,n){return t=Wt(7,t,n,s),t.lanes=r,t}function Kl(t,s,r,n){return t=Wt(22,t,n,s),t.elementType=$m,t.lanes=r,t.stateNode={isHidden:!1},t}function Ii(t,s,r){return t=Wt(6,t,null,s),t.lanes=r,t}function Fi(t,s,r){return s=Wt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ug(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yc(t,s,r,n,a,l,i,o,c){return t=new ug(t,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=Wt(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(l),t}function mg(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function Eh(t){if(!t)return tr;t=t._reactInternals;e:{if(Cr(t)!==t||t.tag!==1)throw Error(G(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ct(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(G(171))}if(t.tag===1){var r=t.type;if(Ct(r))return Ex(t,r,s)}return s}function Ph(t,s,r,n,a,l,i,o,c){return t=Yc(r,n,!0,t,a,l,i,o,c),t.context=Eh(null),r=t.current,n=bt(),a=Qs(r),l=Cs(n,a),l.callback=s??null,Js(r,l,a),t.current.lanes=a,xa(t,a,n),_t(t,n),t}function Ql(t,s,r,n){var a=s.current,l=bt(),i=Qs(a);return r=Eh(r),s.context===null?s.context=r:s.pendingContext=r,s=Cs(l,i),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=Js(a,s,i),t!==null&&(as(t,a,i,l),Za(t,a,i)),i}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eu(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Jc(t,s){Eu(t,s),(t=t.alternate)&&Eu(t,s)}function xg(){return null}var Ah=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}Xl.prototype.render=Kc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(G(409));Ql(t,s,null,null)};Xl.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;wr(function(){Ql(null,t,null,null)}),s[Ps]=null}};function Xl(t){this._internalRoot=t}Xl.prototype.unstable_scheduleHydration=function(t){if(t){var s=ox();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Os.length&&s!==0&&s<Os[r].priority;r++);Os.splice(r,0,t),r===0&&dx(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function hg(t,s,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=Rl(i);l.call(d)}}var i=Ph(s,n,t,0,null,!1,!1,"",Pu);return t._reactRootContainer=i,t[Ps]=i.current,ea(t.nodeType===8?t.parentNode:t),wr(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Rl(c);o.call(d)}}var c=Yc(t,0,!1,null,null,!1,!1,"",Pu);return t._reactRootContainer=c,t[Ps]=c.current,ea(t.nodeType===8?t.parentNode:t),wr(function(){Ql(s,c,r,n)}),c}function ei(t,s,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Rl(i);o.call(c)}}Ql(s,i,t,a)}else i=hg(r,s,t,a,n);return Rl(i)}lx=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Ln(s.pendingLanes);r!==0&&(fc(s,r|1),_t(s,Be()),!(ke&6)&&(sn=Be()+500,nr()))}break;case 13:wr(function(){var n=As(t,1);if(n!==null){var a=bt();as(n,t,1,a)}}),Jc(t,1)}};gc=function(t){if(t.tag===13){var s=As(t,134217728);if(s!==null){var r=bt();as(s,t,134217728,r)}Jc(t,134217728)}};ix=function(t){if(t.tag===13){var s=Qs(t),r=As(t,s);if(r!==null){var n=bt();as(r,t,s,n)}Jc(t,s)}};ox=function(){return Ce};cx=function(t,s){var r=Ce;try{return Ce=t,s()}finally{Ce=r}};uo=function(t,s,r){switch(s){case"input":if(ro(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=Hl(n);if(!a)throw Error(G(90));Om(n),ro(n,a)}}}break;case"textarea":Bm(t,r);break;case"select":s=r.value,s!=null&&Wr(t,!!r.multiple,s,!1)}};Jm=Hc;Km=wr;var pg={usingClientEntryPoint:!1,Events:[pa,Ir,Hl,Vm,Ym,Hc]},Nn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:Nn.bundleType,version:Nn.version,rendererPackageName:Nn.rendererPackageName,rendererConfig:Nn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zm(t),t===null?null:t.stateNode},findFiberByHostInstance:Nn.findFiberByHostInstance||xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Ol=za.inject(fg),ps=za}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;$t.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(s))throw Error(G(200));return mg(t,s,null,r)};$t.createRoot=function(t,s){if(!Qc(t))throw Error(G(299));var r=!1,n="",a=Ah;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Yc(t,1,!1,null,null,r,!1,n,a),t[Ps]=s.current,ea(t.nodeType===8?t.parentNode:t),new Kc(s)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Zm(s),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return wr(t)};$t.hydrate=function(t,s,r){if(!Zl(s))throw Error(G(200));return ei(null,t,s,!0,r)};$t.hydrateRoot=function(t,s,r){if(!Qc(t))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=Ah;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=Ph(s,null,t,1,r??null,a,!1,l,i),t[Ps]=s.current,ea(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Xl(s)};$t.render=function(t,s,r){if(!Zl(s))throw Error(G(200));return ei(null,t,s,!1,r)};$t.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(G(40));return t._reactRootContainer?(wr(function(){ei(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};$t.unstable_batchedUpdates=Hc;$t.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Zl(r))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return ei(t,s,r,!1,n)};$t.version="18.3.1-next-f1338f8080-20240426";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(t){console.error(t)}}Lh(),Lm.exports=$t;var Xc=Lm.exports,Au=Xc;Ki.createRoot=Au.createRoot,Ki.hydrateRoot=Au.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ca.apply(this,arguments)}var Hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hs||(Hs={}));const Lu="popstate";function gg(t){t===void 0&&(t={});function s(n,a){let{pathname:l,search:i,hash:o}=n.location;return Ho("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Dl(a)}return bg(s,r,null,t)}function We(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Mh(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function yg(){return Math.random().toString(36).substr(2,8)}function Mu(t,s){return{usr:t.state,key:t.key,idx:s}}function Ho(t,s,r,n){return r===void 0&&(r=null),ca({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?dn(s):s,{state:r,key:s&&s.key||n||yg()})}function Dl(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function dn(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function bg(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=Hs.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(ca({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function x(){o=Hs.Pop;let j=u(),f=j==null?null:j-d;d=j,c&&c({action:o,location:v.location,delta:f})}function y(j,f){o=Hs.Push;let b=Ho(v.location,j,f);d=u()+1;let p=Mu(b,d),h=v.createHref(b);try{i.pushState(p,"",h)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(h)}l&&c&&c({action:o,location:v.location,delta:1})}function w(j,f){o=Hs.Replace;let b=Ho(v.location,j,f);d=u();let p=Mu(b,d),h=v.createHref(b);i.replaceState(p,"",h),l&&c&&c({action:o,location:v.location,delta:0})}function g(j){let f=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof j=="string"?j:Dl(j);return b=b.replace(/ $/,"%20"),We(f,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,f)}let v={get action(){return o},get location(){return t(a,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Lu,x),c=j,()=>{a.removeEventListener(Lu,x),c=null}},createHref(j){return s(a,j)},createURL:g,encodeLocation(j){let f=g(j);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:w,go(j){return i.go(j)}};return v}var Ru;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ru||(Ru={}));function jg(t,s,r){return r===void 0&&(r="/"),vg(t,s,r)}function vg(t,s,r,n){let a=typeof s=="string"?dn(s):s,l=Zc(a.pathname||"/",r);if(l==null)return null;let i=Rh(t);wg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=Rg(l);o=Ag(i[c],d)}return o}function Rh(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Zs([n,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(We(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Rh(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:Eg(d,l.index),routesMeta:u})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Dh(l.path))a(l,i,c)}),s}function Dh(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Dh(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function wg(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Pg(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ng=/^:[\w-]+$/,kg=3,Sg=2,Cg=1,_g=10,Tg=-2,Du=t=>t==="*";function Eg(t,s){let r=t.split("/"),n=r.length;return r.some(Du)&&(n+=Tg),s&&(n+=Sg),r.filter(a=>!Du(a)).reduce((a,l)=>a+(Ng.test(l)?kg:l===""?Cg:_g),n)}function Pg(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function Ag(t,s,r){let{routesMeta:n}=t,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=l==="/"?s:s.slice(l.length)||"/",x=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),y=c.route;if(!x)return null;Object.assign(a,x.params),i.push({params:a,pathname:Zs([l,x.pathname]),pathnameBase:$g(Zs([l,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(l=Zs([l,x.pathnameBase]))}return i}function Lg(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Mg(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,u,x)=>{let{paramName:y,isOptional:w}=u;if(y==="*"){let v=o[x]||"";i=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[x];return w&&!g?d[y]=void 0:d[y]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function Mg(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Mh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function Rg(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Mh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Zc(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Dg(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?dn(t):t;return{pathname:r?r.startsWith("/")?r:Ig(r,s):s,search:Ug(n),hash:Og(a)}}function Ig(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $i(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fg(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function ed(t,s){let r=Fg(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function td(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=dn(t):(a=ca({},t),We(!a.pathname||!a.pathname.includes("?"),$i("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),$i("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),$i("#","search","hash",a)));let l=t===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let x=s.length-1;if(!n&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}o=x>=0?s[x]:"/"}let c=Dg(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Zs=t=>t.join("/").replace(/\/\/+/g,"/"),$g=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ug=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Og=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ih=["post","put","patch","delete"];new Set(Ih);const Bg=["get",...Ih];new Set(Bg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},da.apply(this,arguments)}const sd=m.createContext(null),Wg=m.createContext(null),ar=m.createContext(null),ti=m.createContext(null),js=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Fh=m.createContext(null);function Hg(t,s){let{relative:r}=s===void 0?{}:s;un()||We(!1);let{basename:n,navigator:a}=m.useContext(ar),{hash:l,pathname:i,search:o}=Uh(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Zs([n,i])),a.createHref({pathname:c,search:o,hash:l})}function un(){return m.useContext(ti)!=null}function Xt(){return un()||We(!1),m.useContext(ti).location}function $h(t){m.useContext(ar).static||m.useLayoutEffect(t)}function _e(){let{isDataRoute:t}=m.useContext(js);return t?ay():Gg()}function Gg(){un()||We(!1);let t=m.useContext(sd),{basename:s,future:r,navigator:n}=m.useContext(ar),{matches:a}=m.useContext(js),{pathname:l}=Xt(),i=JSON.stringify(ed(a,r.v7_relativeSplatPath)),o=m.useRef(!1);return $h(()=>{o.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let x=td(d,JSON.parse(i),l,u.relative==="path");t==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:Zs([s,x.pathname])),(u.replace?n.replace:n.push)(x,u.state,u)},[s,n,i,l,t])}const qg=m.createContext(null);function Vg(t){let s=m.useContext(js).outlet;return s&&m.createElement(qg.Provider,{value:t},s)}function vs(){let{matches:t}=m.useContext(js),s=t[t.length-1];return s?s.params:{}}function Uh(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=m.useContext(ar),{matches:a}=m.useContext(js),{pathname:l}=Xt(),i=JSON.stringify(ed(a,n.v7_relativeSplatPath));return m.useMemo(()=>td(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function Yg(t,s){return Jg(t,s)}function Jg(t,s,r,n){un()||We(!1);let{navigator:a}=m.useContext(ar),{matches:l}=m.useContext(js),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Xt(),u;if(s){var x;let j=typeof s=="string"?dn(s):s;c==="/"||(x=j.pathname)!=null&&x.startsWith(c)||We(!1),u=j}else u=d;let y=u.pathname||"/",w=y;if(c!=="/"){let j=c.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=jg(t,{pathname:w}),v=ey(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Zs([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Zs([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return s&&v?m.createElement(ti.Provider,{value:{location:da({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hs.Pop}},v):v}function Kg(){let t=ny(),s=zg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},s),r?m.createElement("pre",{style:a},r):null,null)}const Qg=m.createElement(Kg,null);class Xg extends m.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?m.createElement(js.Provider,{value:this.props.routeContext},m.createElement(Fh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zg(t){let{routeContext:s,match:r,children:n}=t,a=m.useContext(sd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(js.Provider,{value:s},n)}function ey(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);u>=0||We(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let x=i[u];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=u),x.route.id){let{loaderData:y,errors:w}=r,g=x.route.loader&&y[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,x,y)=>{let w,g=!1,v=null,j=null;r&&(w=o&&x.route.id?o[x.route.id]:void 0,v=x.route.errorElement||Qg,c&&(d<0&&y===0?(ly("route-fallback"),g=!0,j=null):d===y&&(g=!0,j=x.route.hydrateFallbackElement||null)));let f=s.concat(i.slice(0,y+1)),b=()=>{let p;return w?p=v:g?p=j:x.route.Component?p=m.createElement(x.route.Component,null):x.route.element?p=x.route.element:p=u,m.createElement(Zg,{match:x,routeContext:{outlet:u,matches:f,isDataRoute:r!=null},children:p})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?m.createElement(Xg,{location:r.location,revalidation:r.revalidation,component:v,error:w,children:b(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):b()},null)}var Oh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Oh||{}),zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zh||{});function ty(t){let s=m.useContext(sd);return s||We(!1),s}function sy(t){let s=m.useContext(Wg);return s||We(!1),s}function ry(t){let s=m.useContext(js);return s||We(!1),s}function Bh(t){let s=ry(),r=s.matches[s.matches.length-1];return r.route.id||We(!1),r.route.id}function ny(){var t;let s=m.useContext(Fh),r=sy(),n=Bh();return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function ay(){let{router:t}=ty(Oh.UseNavigateStable),s=Bh(zh.UseNavigateStable),r=m.useRef(!1);return $h(()=>{r.current=!0}),m.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,da({fromRouteId:s},l)))},[t,s])}const Iu={};function ly(t,s,r){Iu[t]||(Iu[t]=!0)}function iy(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ll(t){let{to:s,replace:r,state:n,relative:a}=t;un()||We(!1);let{future:l,static:i}=m.useContext(ar),{matches:o}=m.useContext(js),{pathname:c}=Xt(),d=_e(),u=td(s,ed(o,l.v7_relativeSplatPath),c,a==="path"),x=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(x),{replace:r,state:n,relative:a}),[d,x,a,r,n]),null}function oy(t){return Vg(t.context)}function me(t){We(!1)}function cy(t){let{basename:s="/",children:r=null,location:n,navigationType:a=Hs.Pop,navigator:l,static:i=!1,future:o}=t;un()&&We(!1);let c=s.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:l,static:i,future:da({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=dn(n));let{pathname:u="/",search:x="",hash:y="",state:w=null,key:g="default"}=n,v=m.useMemo(()=>{let j=Zc(u,c);return j==null?null:{location:{pathname:j,search:x,hash:y,state:w,key:g},navigationType:a}},[c,u,x,y,w,g,a]);return v==null?null:m.createElement(ar.Provider,{value:d},m.createElement(ti.Provider,{children:r,value:v}))}function dy(t){let{children:s,location:r}=t;return Yg(Go(s),r)}new Promise(()=>{});function Go(t,s){s===void 0&&(s=[]);let r=[];return m.Children.forEach(t,(n,a)=>{if(!m.isValidElement(n))return;let l=[...s,a];if(n.type===m.Fragment){r.push.apply(r,Go(n.props.children,l));return}n.type!==me&&We(!1),!n.props.index||!n.props.children||We(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Go(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qo.apply(this,arguments)}function uy(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function my(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xy(t,s){return t.button===0&&(!s||s==="_self")&&!my(t)}function Vo(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function hy(t,s){let r=Vo(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(l=>{r.append(a,l)})}),r}const py=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fy="6";try{window.__reactRouterVersion=fy}catch{}const gy="startTransition",Fu=af[gy];function yy(t){let{basename:s,children:r,future:n,window:a}=t,l=m.useRef();l.current==null&&(l.current=gg({window:a,v5Compat:!0}));let i=l.current,[o,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=m.useCallback(x=>{d&&Fu?Fu(()=>c(x)):c(x)},[c,d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.useEffect(()=>iy(n),[n]),m.createElement(cy,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const by=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=m.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:x}=s,y=uy(s,py),{basename:w}=m.useContext(ar),g,v=!1;if(typeof d=="string"&&jy.test(d)&&(g=d,by))try{let p=new URL(window.location.href),h=d.startsWith("//")?new URL(p.protocol+d):new URL(d),N=Zc(h.pathname,w);h.origin===p.origin&&N!=null?d=N+h.search+h.hash:v=!0}catch{}let j=Hg(d,{relative:a}),f=vy(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:x});function b(p){n&&n(p),p.defaultPrevented||f(p)}return m.createElement("a",qo({},y,{href:g||j,onClick:v||l?n:b,ref:r,target:c}))});var $u;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($u||($u={}));var Uu;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uu||(Uu={}));function vy(t,s){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=_e(),d=Xt(),u=Uh(t,{relative:i});return m.useCallback(x=>{if(xy(x,r)){x.preventDefault();let y=n!==void 0?n:Dl(d)===Dl(u);c(t,{replace:y,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,r,t,l,i,o])}function _r(t){let s=m.useRef(Vo(t)),r=m.useRef(!1),n=Xt(),a=m.useMemo(()=>hy(n.search,r.current?null:s.current),[n.search]),l=_e(),i=m.useCallback((o,c)=>{const d=Vo(typeof o=="function"?o(a):o);r.current=!0,l("?"+d,c)},[l,a]);return[a,i]}const Wh=m.createContext(null);function wy({children:t}){const[s,r]=m.useState(null),[n,a]=m.useState(null),[l,i]=m.useState(!0);m.useEffect(()=>{try{const u=localStorage.getItem("token"),x=localStorage.getItem("user");if(console.log(" AuthContext hydrating:",{hasStoredToken:!!u,tokenLength:u==null?void 0:u.length,hasStoredUser:!!x,userValid:x?"valid JSON":"missing"}),u&&x){const y=JSON.parse(x);a(u),r(y),console.log(" Auth restored:",{user:y.email,tokenLength:u.length})}else console.log(" Auth not restored - missing data")}catch(u){console.error(" Error restoring auth from storage:",u),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{i(!1)}},[]);const o=(u,x)=>{a(u),r(x),localStorage.setItem("token",u),localStorage.setItem("user",JSON.stringify(x))},c=()=>{a(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user")},d=u=>{r(x=>{const y={...x,...u};return localStorage.setItem("user",JSON.stringify(y)),y})};return e.jsx(Wh.Provider,{value:{user:s,token:n,loading:l,login:o,logout:c,updateUser:d,isAuthenticated:!!s&&!!n},children:t})}function si(){const t=m.useContext(Wh);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ny={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,s)=>{const r=m.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>m.createElement("svg",{ref:u,...Ny,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${ky(t)}`,o].join(" "),...d},[...s.map(([x,y])=>m.createElement(x,y)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Q("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Q("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Q("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Q("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Q("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Q("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Q("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Q("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Q("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Q("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Q("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Q("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Jh(t,s){return function(){return t.apply(s,arguments)}}const{toString:Hy}=Object.prototype,{getPrototypeOf:dd}=Object,{iterator:ai,toStringTag:Kh}=Symbol,li=(t=>s=>{const r=Hy.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cs=t=>(t=t.toLowerCase(),s=>li(s)===t),ii=t=>s=>typeof s===t,{isArray:xn}=Array,nn=ii("undefined");function va(t){return t!==null&&!nn(t)&&t.constructor!==null&&!nn(t.constructor)&&Et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Qh=cs("ArrayBuffer");function Gy(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Qh(t.buffer),s}const qy=ii("string"),Et=ii("function"),Xh=ii("number"),wa=t=>t!==null&&typeof t=="object",Vy=t=>t===!0||t===!1,il=t=>{if(li(t)!=="object")return!1;const s=dd(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Kh in t)&&!(ai in t)},Yy=t=>{if(!wa(t)||va(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Jy=cs("Date"),Ky=cs("File"),Qy=cs("Blob"),Xy=cs("FileList"),Zy=t=>wa(t)&&Et(t.pipe),eb=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Et(t.append)&&((s=li(t))==="formdata"||s==="object"&&Et(t.toString)&&t.toString()==="[object FormData]"))},tb=cs("URLSearchParams"),[sb,rb,nb,ab]=["ReadableStream","Request","Response","Headers"].map(cs),lb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Na(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),xn(t))for(n=0,a=t.length;n<a;n++)s.call(null,t[n],n,t);else{if(va(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let o;for(n=0;n<i;n++)o=l[n],s.call(null,t[o],o,t)}}function Zh(t,s){if(va(t))return null;s=s.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ep=t=>!nn(t)&&t!==hr;function Ko(){const{caseless:t,skipUndefined:s}=ep(this)&&this||{},r={},n=(a,l)=>{const i=t&&Zh(r,l)||l;il(r[i])&&il(a)?r[i]=Ko(r[i],a):il(a)?r[i]=Ko({},a):xn(a)?r[i]=a.slice():(!s||!nn(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Na(arguments[a],n);return r}const ib=(t,s,r,{allOwnKeys:n}={})=>(Na(s,(a,l)=>{r&&Et(a)?t[l]=Jh(a,r):t[l]=a},{allOwnKeys:n}),t),ob=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cb=(t,s,r,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},db=(t,s,r,n)=>{let a,l,i;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)i=a[l],(!n||n(i,t,s))&&!o[i]&&(s[i]=t[i],o[i]=!0);t=r!==!1&&dd(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},ub=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const n=t.indexOf(s,r);return n!==-1&&n===r},mb=t=>{if(!t)return null;if(xn(t))return t;let s=t.length;if(!Xh(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},xb=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&dd(Uint8Array)),hb=(t,s)=>{const n=(t&&t[ai]).call(t);let a;for(;(a=n.next())&&!a.done;){const l=a.value;s.call(t,l[0],l[1])}},pb=(t,s)=>{let r;const n=[];for(;(r=t.exec(s))!==null;)n.push(r);return n},fb=cs("HTMLFormElement"),gb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Gu=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),yb=cs("RegExp"),tp=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Na(r,(a,l)=>{let i;(i=s(a,l,t))!==!1&&(n[l]=i||a)}),Object.defineProperties(t,n)},bb=t=>{tp(t,(s,r)=>{if(Et(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Et(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jb=(t,s)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return xn(t)?n(t):n(String(t).split(s)),r},vb=()=>{},wb=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Nb(t){return!!(t&&Et(t.append)&&t[Kh]==="FormData"&&t[ai])}const kb=t=>{const s=new Array(10),r=(n,a)=>{if(wa(n)){if(s.indexOf(n)>=0)return;if(va(n))return n;if(!("toJSON"in n)){s[a]=n;const l=xn(n)?[]:{};return Na(n,(i,o)=>{const c=r(i,a+1);!nn(c)&&(l[o]=c)}),s[a]=void 0,l}}return n};return r(t,0)},Sb=cs("AsyncFunction"),Cb=t=>t&&(wa(t)||Et(t))&&Et(t.then)&&Et(t.catch),sp=((t,s)=>t?setImmediate:s?((r,n)=>(hr.addEventListener("message",({source:a,data:l})=>{a===hr&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),hr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Et(hr.postMessage)),_b=typeof queueMicrotask<"u"?queueMicrotask.bind(hr):typeof process<"u"&&process.nextTick||sp,Tb=t=>t!=null&&Et(t[ai]),R={isArray:xn,isArrayBuffer:Qh,isBuffer:va,isFormData:eb,isArrayBufferView:Gy,isString:qy,isNumber:Xh,isBoolean:Vy,isObject:wa,isPlainObject:il,isEmptyObject:Yy,isReadableStream:sb,isRequest:rb,isResponse:nb,isHeaders:ab,isUndefined:nn,isDate:Jy,isFile:Ky,isBlob:Qy,isRegExp:yb,isFunction:Et,isStream:Zy,isURLSearchParams:tb,isTypedArray:xb,isFileList:Xy,forEach:Na,merge:Ko,extend:ib,trim:lb,stripBOM:ob,inherits:cb,toFlatObject:db,kindOf:li,kindOfTest:cs,endsWith:ub,toArray:mb,forEachEntry:hb,matchAll:pb,isHTMLForm:fb,hasOwnProperty:Gu,hasOwnProp:Gu,reduceDescriptors:tp,freezeMethods:bb,toObjectSet:jb,toCamelCase:gb,noop:vb,toFiniteNumber:wb,findKey:Zh,global:hr,isContextDefined:ep,isSpecCompliantForm:Nb,toJSONObject:kb,isAsyncFn:Sb,isThenable:Cb,setImmediate:sp,asap:_b,isIterable:Tb};function pe(t,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}R.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const rp=pe.prototype,np={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{np[t]={value:t}});Object.defineProperties(pe,np);Object.defineProperty(rp,"isAxiosError",{value:!0});pe.from=(t,s,r,n,a,l)=>{const i=Object.create(rp);R.toFlatObject(t,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return pe.call(i,o,c,r,n,a),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",l&&Object.assign(i,l),i};const Eb=null;function Qo(t){return R.isPlainObject(t)||R.isArray(t)}function ap(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function qu(t,s,r){return t?t.concat(s).map(function(a,l){return a=ap(a),!r&&l?"["+a+"]":a}).join(r?".":""):s}function Pb(t){return R.isArray(t)&&!t.some(Qo)}const Ab=R.toFlatObject(R,{},null,function(s){return/^is[A-Z]/.test(s)});function oi(t,s,r){if(!R.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=R.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!R.isUndefined(j[v])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(s);if(!R.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(R.isDate(g))return g.toISOString();if(R.isBoolean(g))return g.toString();if(!c&&R.isBlob(g))throw new pe("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(g)||R.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,j){let f=g;if(g&&!j&&typeof g=="object"){if(R.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(R.isArray(g)&&Pb(g)||(R.isFileList(g)||R.endsWith(v,"[]"))&&(f=R.toArray(g)))return v=ap(v),f.forEach(function(p,h){!(R.isUndefined(p)||p===null)&&s.append(i===!0?qu([v],h,l):i===null?v:v+"[]",d(p))}),!1}return Qo(g)?!0:(s.append(qu(j,v,l),d(g)),!1)}const x=[],y=Object.assign(Ab,{defaultVisitor:u,convertValue:d,isVisitable:Qo});function w(g,v){if(!R.isUndefined(g)){if(x.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));x.push(g),R.forEach(g,function(f,b){(!(R.isUndefined(f)||f===null)&&a.call(s,f,R.isString(b)?b.trim():b,v,y))===!0&&w(f,v?v.concat(b):[b])}),x.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return w(t),s}function Vu(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function ud(t,s){this._pairs=[],t&&oi(t,this,s)}const lp=ud.prototype;lp.append=function(s,r){this._pairs.push([s,r])};lp.toString=function(s){const r=s?function(n){return s.call(this,n,Vu)}:Vu;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Lb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ip(t,s,r){if(!s)return t;const n=r&&r.encode||Lb;R.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(s,r):l=R.isURLSearchParams(s)?s.toString():new ud(s,r).toString(n),l){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Yu{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){R.forEach(this.handlers,function(n){n!==null&&s(n)})}}const op={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mb=typeof URLSearchParams<"u"?URLSearchParams:ud,Rb=typeof FormData<"u"?FormData:null,Db=typeof Blob<"u"?Blob:null,Ib={isBrowser:!0,classes:{URLSearchParams:Mb,FormData:Rb,Blob:Db},protocols:["http","https","file","blob","url","data"]},md=typeof window<"u"&&typeof document<"u",Xo=typeof navigator=="object"&&navigator||void 0,Fb=md&&(!Xo||["ReactNative","NativeScript","NS"].indexOf(Xo.product)<0),$b=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ub=md&&window.location.href||"http://localhost",Ob=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:md,hasStandardBrowserEnv:Fb,hasStandardBrowserWebWorkerEnv:$b,navigator:Xo,origin:Ub},Symbol.toStringTag,{value:"Module"})),ut={...Ob,...Ib};function zb(t,s){return oi(t,new ut.classes.URLSearchParams,{visitor:function(r,n,a,l){return ut.isNode&&R.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function Bb(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Wb(t){const s={},r=Object.keys(t);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],s[l]=t[l];return s}function cp(t){function s(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&R.isArray(a)?a.length:i,c?(R.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!R.isObject(a[i]))&&(a[i]=[]),s(r,n,a[i],l)&&R.isArray(a[i])&&(a[i]=Wb(a[i])),!o)}if(R.isFormData(t)&&R.isFunction(t.entries)){const r={};return R.forEachEntry(t,(n,a)=>{s(Bb(n),a,r,0)}),r}return null}function Hb(t,s,r){if(R.isString(t))try{return(s||JSON.parse)(t),R.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ka={transitional:op,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=R.isObject(s);if(l&&R.isHTMLForm(s)&&(s=new FormData(s)),R.isFormData(s))return a?JSON.stringify(cp(s)):s;if(R.isArrayBuffer(s)||R.isBuffer(s)||R.isStream(s)||R.isFile(s)||R.isBlob(s)||R.isReadableStream(s))return s;if(R.isArrayBufferView(s))return s.buffer;if(R.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zb(s,this.formSerializer).toString();if((o=R.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return oi(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),Hb(s)):s}],transformResponse:[function(s){const r=this.transitional||ka.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(R.isResponse(s)||R.isReadableStream(s))return s;if(s&&R.isString(s)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?pe.from(o,pe.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],t=>{ka.headers[t]={}});const Gb=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qb=t=>{const s={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||s[r]&&Gb[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},Ju=Symbol("internals");function kn(t){return t&&String(t).trim().toLowerCase()}function ol(t){return t===!1||t==null?t:R.isArray(t)?t.map(ol):String(t)}function Vb(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)s[n[1]]=n[2];return s}const Yb=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Oi(t,s,r,n,a){if(R.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!R.isString(s)){if(R.isString(n))return s.indexOf(n)!==-1;if(R.isRegExp(n))return n.test(s)}}function Jb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function Kb(t,s){const r=R.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,l,i){return this[n].call(this,s,a,l,i)},configurable:!0})})}let Pt=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function l(o,c,d){const u=kn(c);if(!u)throw new Error("header name must be a non-empty string");const x=R.findKey(a,u);(!x||a[x]===void 0||d===!0||d===void 0&&a[x]!==!1)&&(a[x||c]=ol(o))}const i=(o,c)=>R.forEach(o,(d,u)=>l(d,u,c));if(R.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(R.isString(s)&&(s=s.trim())&&!Yb(s))i(qb(s),r);else if(R.isObject(s)&&R.isIterable(s)){let o={},c,d;for(const u of s){if(!R.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?R.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else s!=null&&l(r,s,n);return this}get(s,r){if(s=kn(s),s){const n=R.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return Vb(a);if(R.isFunction(r))return r.call(this,a,n);if(R.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=kn(s),s){const n=R.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||Oi(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function l(i){if(i=kn(i),i){const o=R.findKey(n,i);o&&(!r||Oi(n,n[o],o,r))&&(delete n[o],a=!0)}}return R.isArray(s)?s.forEach(l):l(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!s||Oi(this,this[l],l,s,!0))&&(delete this[l],a=!0)}return a}normalize(s){const r=this,n={};return R.forEach(this,(a,l)=>{const i=R.findKey(n,l);if(i){r[i]=ol(a),delete r[l];return}const o=s?Jb(l):String(l).trim();o!==l&&delete r[l],r[o]=ol(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return R.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&R.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[Ju]=this[Ju]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=kn(i);n[o]||(Kb(a,i),n[o]=!0)}return R.isArray(s)?s.forEach(l):l(s),this}};Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Pt.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[r]=n}}});R.freezeMethods(Pt);function zi(t,s){const r=this||ka,n=s||r,a=Pt.from(n.headers);let l=n.data;return R.forEach(t,function(o){l=o.call(r,l,a.normalize(),s?s.status:void 0)}),a.normalize(),l}function dp(t){return!!(t&&t.__CANCEL__)}function hn(t,s,r){pe.call(this,t??"canceled",pe.ERR_CANCELED,s,r),this.name="CanceledError"}R.inherits(hn,pe,{__CANCEL__:!0});function up(t,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):s(new pe("Request failed with status code "+r.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Qb(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Xb(t,s){t=t||10;const r=new Array(t),n=new Array(t);let a=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=n[l];i||(i=d),r[a]=c,n[a]=d;let x=l,y=0;for(;x!==a;)y+=r[x++],x=x%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),d-i<s)return;const w=u&&d-u;return w?Math.round(y*1e3/w):void 0}}function Zb(t,s){let r=0,n=1e3/s,a,l;const i=(d,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),t(...d)};return[(...d)=>{const u=Date.now(),x=u-r;x>=n?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-x)))},()=>a&&i(a)]}const Fl=(t,s,r=3)=>{let n=0;const a=Xb(50,250);return Zb(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),u=i<=o;n=i;const x={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(x)},r)},Ku=(t,s)=>{const r=t!=null;return[n=>s[0]({lengthComputable:r,total:t,loaded:n}),s[1]]},Qu=t=>(...s)=>R.asap(()=>t(...s)),ej=ut.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,ut.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(ut.origin),ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent)):()=>!0,tj=ut.hasStandardBrowserEnv?{write(t,s,r,n,a,l){const i=[t+"="+encodeURIComponent(s)];R.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),R.isString(n)&&i.push("path="+n),R.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rj(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function mp(t,s,r){let n=!sj(s);return t&&(n||r==!1)?rj(t,s):s}const Xu=t=>t instanceof Pt?{...t}:t;function kr(t,s){s=s||{};const r={};function n(d,u,x,y){return R.isPlainObject(d)&&R.isPlainObject(u)?R.merge.call({caseless:y},d,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function a(d,u,x,y){if(R.isUndefined(u)){if(!R.isUndefined(d))return n(void 0,d,x,y)}else return n(d,u,x,y)}function l(d,u){if(!R.isUndefined(u))return n(void 0,u)}function i(d,u){if(R.isUndefined(u)){if(!R.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,x){if(x in s)return n(d,u);if(x in t)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,x)=>a(Xu(d),Xu(u),x,!0)};return R.forEach(Object.keys({...t,...s}),function(u){const x=c[u]||a,y=x(t[u],s[u],u);R.isUndefined(y)&&x!==o||(r[u]=y)}),r}const xp=t=>{const s=kr({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=Pt.from(i),s.url=ip(mp(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),R.isFormData(r)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(R.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,x])=>{d.includes(u.toLowerCase())&&i.set(u,x)})}}if(ut.hasStandardBrowserEnv&&(n&&R.isFunction(n)&&(n=n(s)),n||n!==!1&&ej(s.url))){const c=a&&l&&tj.read(l);c&&i.set(a,c)}return s},nj=typeof XMLHttpRequest<"u",aj=nj&&function(t){return new Promise(function(r,n){const a=xp(t);let l=a.data;const i=Pt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,x,y,w,g;function v(){w&&w(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function f(){if(!j)return;const p=Pt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:p,config:t,request:j};up(function(k){r(k),v()},function(k){n(k),v()},N),j=null}"onloadend"in j?j.onloadend=f:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(f)},j.onabort=function(){j&&(n(new pe("Request aborted",pe.ECONNABORTED,t,j)),j=null)},j.onerror=function(h){const N=h&&h.message?h.message:"Network Error",S=new pe(N,pe.ERR_NETWORK,t,j);S.event=h||null,n(S),j=null},j.ontimeout=function(){let h=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||op;a.timeoutErrorMessage&&(h=a.timeoutErrorMessage),n(new pe(h,N.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,j)),j=null},l===void 0&&i.setContentType(null),"setRequestHeader"in j&&R.forEach(i.toJSON(),function(h,N){j.setRequestHeader(N,h)}),R.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),o&&o!=="json"&&(j.responseType=a.responseType),d&&([y,g]=Fl(d,!0),j.addEventListener("progress",y)),c&&j.upload&&([x,w]=Fl(c),j.upload.addEventListener("progress",x),j.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(u=p=>{j&&(n(!p||p.type?new hn(null,t,j):p),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const b=Qb(a.url);if(b&&ut.protocols.indexOf(b)===-1){n(new pe("Unsupported protocol "+b+":",pe.ERR_BAD_REQUEST,t));return}j.send(l||null)})},lj=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof pe?u:new hn(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new pe(`timeout ${s} of ms exceeded`,pe.ETIMEDOUT))},s);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),t=null)};t.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>R.asap(o),c}},ij=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let n=0,a;for(;n<r;)a=n+s,yield t.slice(n,a),n=a},oj=async function*(t,s){for await(const r of cj(t))yield*ij(r,s)},cj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},Zu=(t,s,r,n)=>{const a=oj(t,s);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let x=u.byteLength;if(r){let y=l+=x;r(y)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},em=64*1024,{isFunction:Ba}=R,dj=(({Request:t,Response:s})=>({Request:t,Response:s}))(R.global),{ReadableStream:tm,TextEncoder:sm}=R.global,rm=(t,...s)=>{try{return!!t(...s)}catch{return!1}},uj=t=>{t=R.merge.call({skipUndefined:!0},dj,t);const{fetch:s,Request:r,Response:n}=t,a=s?Ba(s):typeof fetch=="function",l=Ba(r),i=Ba(n);if(!a)return!1;const o=a&&Ba(tm),c=a&&(typeof sm=="function"?(g=>v=>g.encode(v))(new sm):async g=>new Uint8Array(await new r(g).arrayBuffer())),d=l&&o&&rm(()=>{let g=!1;const v=new r(ut.origin,{body:new tm,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),u=i&&o&&rm(()=>R.isReadableStream(new n("").body)),x={stream:u&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!x[g]&&(x[g]=(v,j)=>{let f=v&&v[g];if(f)return f.call(v);throw new pe(`Response type '${g}' is not supported`,pe.ERR_NOT_SUPPORT,j)})});const y=async g=>{if(g==null)return 0;if(R.isBlob(g))return g.size;if(R.isSpecCompliantForm(g))return(await new r(ut.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(R.isArrayBufferView(g)||R.isArrayBuffer(g))return g.byteLength;if(R.isURLSearchParams(g)&&(g=g+""),R.isString(g))return(await c(g)).byteLength},w=async(g,v)=>{const j=R.toFiniteNumber(g.getContentLength());return j??y(v)};return async g=>{let{url:v,method:j,data:f,signal:b,cancelToken:p,timeout:h,onDownloadProgress:N,onUploadProgress:S,responseType:k,headers:C,withCredentials:P="same-origin",fetchOptions:I}=xp(g),O=s||fetch;k=k?(k+"").toLowerCase():"text";let M=lj([b,p&&p.toAbortSignal()],h),E=null;const z=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let K;try{if(S&&d&&j!=="get"&&j!=="head"&&(K=await w(C,f))!==0){let X=new r(v,{method:"POST",body:f,duplex:"half"}),le;if(R.isFormData(f)&&(le=X.headers.get("content-type"))&&C.setContentType(le),X.body){const[Ne,de]=Ku(K,Fl(Qu(S)));f=Zu(X.body,em,Ne,de)}}R.isString(P)||(P=P?"include":"omit");const V=l&&"credentials"in r.prototype,D={...I,signal:M,method:j.toUpperCase(),headers:C.normalize().toJSON(),body:f,duplex:"half",credentials:V?P:void 0};E=l&&new r(v,D);let A=await(l?O(E,I):O(v,D));const q=u&&(k==="stream"||k==="response");if(u&&(N||q&&z)){const X={};["status","statusText","headers"].forEach(L=>{X[L]=A[L]});const le=R.toFiniteNumber(A.headers.get("content-length")),[Ne,de]=N&&Ku(le,Fl(Qu(N),!0))||[];A=new n(Zu(A.body,em,Ne,()=>{de&&de(),z&&z()}),X)}k=k||"text";let $=await x[R.findKey(x,k)||"text"](A,g);return!q&&z&&z(),await new Promise((X,le)=>{up(X,le,{data:$,headers:Pt.from(A.headers),status:A.status,statusText:A.statusText,config:g,request:E})})}catch(V){throw z&&z(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,g,E),{cause:V.cause||V}):pe.from(V,V&&V.code,g,E)}}},mj=new Map,hp=t=>{let s=t?t.env:{};const{fetch:r,Request:n,Response:a}=s,l=[n,a,r];let i=l.length,o=i,c,d,u=mj;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:uj(s)),u=d;return d};hp();const Zo={http:Eb,xhr:aj,fetch:{get:hp}};R.forEach(Zo,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const nm=t=>`- ${t}`,xj=t=>R.isFunction(t)||t===null||t===!1,pp={getAdapter:(t,s)=>{t=R.isArray(t)?t:[t];const{length:r}=t;let n,a;const l={};for(let i=0;i<r;i++){n=t[i];let o;if(a=n,!xj(n)&&(a=Zo[(o=String(n)).toLowerCase()],a===void 0))throw new pe(`Unknown adapter '${o}'`);if(a&&(R.isFunction(a)||(a=a.get(s))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(nm).join(`
`):" "+nm(i[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Zo};function Bi(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hn(null,t)}function am(t){return Bi(t),t.headers=Pt.from(t.headers),t.data=zi.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pp.getAdapter(t.adapter||ka.adapter,t)(t).then(function(n){return Bi(t),n.data=zi.call(t,t.transformResponse,n),n.headers=Pt.from(n.headers),n},function(n){return dp(n)||(Bi(t),n&&n.response&&(n.response.data=zi.call(t,t.transformResponse,n.response),n.response.headers=Pt.from(n.response.headers))),Promise.reject(n)})}const fp="1.12.2",ci={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{ci[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const lm={};ci.transitional=function(s,r,n){function a(l,i){return"[Axios v"+fp+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(s===!1)throw new pe(a(i," has been removed"+(r?" in "+r:"")),pe.ERR_DEPRECATED);return r&&!lm[i]&&(lm[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};ci.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function hj(t,s,r){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const l=n[a],i=s[l];if(i){const o=t[l],c=o===void 0||i(o,l,t);if(c!==!0)throw new pe("option "+l+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pe("Unknown option "+l,pe.ERR_BAD_OPTION)}}const cl={assertOptions:hj,validators:ci},us=cl.validators;let gr=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Yu,response:new Yu}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=kr(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&cl.assertOptions(n,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),a!=null&&(R.isFunction(a)?r.paramsSerializer={serialize:a}:cl.assertOptions(a,{encode:us.function,serialize:us.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),cl.assertOptions(r,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&R.merge(l.common,l[r.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],g=>{delete l[g]}),r.headers=Pt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,x=0,y;if(!c){const g=[am.bind(this),void 0];for(g.unshift(...o),g.push(...d),y=g.length,u=Promise.resolve(r);x<y;)u=u.then(g[x++],g[x++]);return u}y=o.length;let w=r;for(;x<y;){const g=o[x++],v=o[x++];try{w=g(w)}catch(j){v.call(this,j);break}}try{u=am.call(this,w)}catch(g){return Promise.reject(g)}for(x=0,y=d.length;x<y;)u=u.then(d[x++],d[x++]);return u}getUri(s){s=kr(this.defaults,s);const r=mp(s.baseURL,s.url,s.allowAbsoluteUrls);return ip(r,s.params,s.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(s){gr.prototype[s]=function(r,n){return this.request(kr(n||{},{method:s,url:r,data:(n||{}).data}))}});R.forEach(["post","put","patch"],function(s){function r(n){return function(l,i,o){return this.request(kr(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}gr.prototype[s]=r(),gr.prototype[s+"Form"]=r(!0)});let pj=class gp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},s(function(l,i,o){n.reason||(n.reason=new hn(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new gp(function(a){s=a}),cancel:s}}};function fj(t){return function(r){return t.apply(null,r)}}function gj(t){return R.isObject(t)&&t.isAxiosError===!0}const ec={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ec).forEach(([t,s])=>{ec[s]=t});function yp(t){const s=new gr(t),r=Jh(gr.prototype.request,s);return R.extend(r,gr.prototype,s,{allOwnKeys:!0}),R.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return yp(kr(t,a))},r}const He=yp(ka);He.Axios=gr;He.CanceledError=hn;He.CancelToken=pj;He.isCancel=dp;He.VERSION=fp;He.toFormData=oi;He.AxiosError=pe;He.Cancel=He.CanceledError;He.all=function(s){return Promise.all(s)};He.spread=fj;He.isAxiosError=gj;He.mergeConfig=kr;He.AxiosHeaders=Pt;He.formToJSON=t=>cp(R.isHTMLForm(t)?new FormData(t):t);He.getAdapter=pp.getAdapter;He.HttpStatusCode=ec;He.default=He;const{Axios:_w,AxiosError:Tw,CanceledError:Ew,isCancel:Pw,CancelToken:Aw,VERSION:Lw,all:Mw,Cancel:Rw,isAxiosError:Dw,spread:Iw,toFormData:Fw,AxiosHeaders:$w,HttpStatusCode:Uw,formToJSON:Ow,getAdapter:zw,mergeConfig:Bw}=He;let Hn="https://schedulesync-web-production.up.railway.app";Hn=Hn.replace(/\/$/,"");const bp=Hn.endsWith("/api")?Hn:`${Hn}/api`;console.log("?? Final API Base URL:",bp);const _=He.create({baseURL:bp});_.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t});_.interceptors.response.use(t=>t,t=>{var s,r,n,a,l,i,o,c,d,u;return(((s=t.response)==null?void 0:s.status)===401||((r=t.response)==null?void 0:r.status)===403)&&!((a=(n=t.config)==null?void 0:n.url)!=null&&a.includes("/subscription"))&&!((i=(l=t.config)==null?void 0:l.url)!=null&&i.includes("/limits"))&&!((c=(o=t.config)==null?void 0:o.url)!=null&&c.includes("/usage"))&&!((u=(d=t.config)==null?void 0:d.url)!=null&&u.includes("/teams"))&&(console.log("?? Auth failed, clearing token and redirecting..."),localStorage.removeItem("token"),window.location.pathname.includes("/login")||(window.location.href="/login?error=session_expired")),Promise.reject(t)});const ir={login:(t,s)=>_.post("/auth/login",{email:t,password:s}),register:t=>_.post("/auth/register",t),me:()=>_.get("/auth/me"),verifyEmail:t=>_.get("/auth/verify-email",{params:{token:t}}),forgotPassword:t=>_.post("/auth/forgot-password",{email:t}),resetPassword:(t,s)=>_.post("/auth/reset-password",{token:t,newPassword:s}),resendVerification:t=>_.post("/auth/resend-verification",{email:t}),updateProfile:t=>_.put("/users/profile",t),getGoogleUrl:()=>_.get("/auth/google/url")},hs={getGoogleUrl:()=>_.get("/auth/google/url"),getMicrosoftUrl:()=>_.get("/auth/microsoft/url"),getCalendlyUrl:()=>_.get("/auth/calendly/url"),handleGoogleCallback:t=>_.post("/auth/google/callback",{code:t}),handleMicrosoftCallback:t=>_.post("/auth/microsoft/callback",{code:t}),handleCalendlyCallback:t=>_.post("/auth/calendly/callback",{code:t}),getGoogleGuestUrl:t=>_.get("/book/auth/google/url",{params:{bookingToken:t}}),getMicrosoftGuestUrl:t=>_.get("/book/auth/microsoft/url",{params:{bookingToken:t}}),guestGoogleAuth:(t,s)=>_.post("/book/auth/google",{code:t,bookingToken:s}),guestMicrosoftAuth:(t,s)=>_.post("/book/auth/microsoft",{code:t,bookingToken:s})},Ht={getAll:()=>_.get("/teams"),create:t=>_.post("/teams",t),get:t=>_.get(`/teams/${t}`),update:(t,s)=>_.put(`/teams/${t}`,s),delete:t=>_.delete(`/teams/${t}`),getMembers:t=>_.get(`/teams/${t}/members`),addMember:(t,s)=>_.post(`/teams/${t}/members`,s),removeMember:(t,s)=>_.delete(`/teams/${t}/members/${s}`),updateMember:(t,s,r)=>_.put(`/teams/${t}/members/${s}`,r),updateMemberStatus:(t,s,r)=>_.patch(`/teams/${t}/members/${s}/status`,{is_active:r}),updateMemberPricing:(t,s,r)=>_.put(`/teams/${t}/members/${s}/pricing`,r),updateMemberExternalLink:(t,s,r)=>_.put(`/teams/${t}/members/${s}/external-link`,r),list:()=>_.get("/teams")},yj={getSettings:(t,s)=>_.get(`/team-members/${s}/availability`),updateSettings:(t,s,r)=>_.put(`/team-members/${s}/availability`,r)},ua={list:t=>_.get("/bookings",{params:t}),getAll:t=>_.get("/bookings",{params:t}),getByToken:t=>_.get(`/book/${t}`),getSlots:(t,s)=>_.post(`/book/${t}/slots-with-status`,s),create:t=>_.post("/bookings",t),getManagementDetails:t=>_.get(`/bookings/manage/${t}`),rescheduleByToken:(t,s)=>_.post(`/bookings/manage/${t}/reschedule`,s),cancelByToken:(t,s)=>_.post(`/bookings/manage/${t}/cancel`,{reason:s})},tc={getSettings:t=>_.get(`/teams/${t}/reminder-settings`),updateSettings:(t,s)=>_.put(`/teams/${t}/reminder-settings`,s),getStatus:()=>_.get("/reminders/status")},Rn={connectGoogle:()=>_.get("/auth/google/url"),disconnectGoogle:()=>_.post("/calendar/google/disconnect"),getStatus:()=>_.get("/calendar/status"),listEvents:(t,s)=>_.get(`/calendar/events?start=${t}&end=${s}`),syncEvents:()=>_.post("/calendar/sync")},bj={getConfig:()=>_.get("/payments/config"),getPricing:t=>_.get(`/book/${t}/pricing`),createIntent:t=>_.post("/payments/create-intent",t),confirmBooking:t=>_.post("/payments/confirm-booking",t),getPaymentStatus:t=>_.get(`/payments/status/${t}`)},jj={schedule:(t,s)=>_.post("/ai/schedule",{message:t,conversationHistory:s}),confirm:t=>_.post("/ai/schedule/confirm",t),suggest:t=>_.post("/ai/suggest",{preferences:t})},vj={sendMessage:async(t,s=[])=>_.post("/ai/schedule",{message:t,conversationHistory:s}),confirmBooking:async t=>_.post("/ai/schedule/confirm",t),suggestTimes:async(t=30,s=null,r=null)=>_.post("/ai/suggest",{duration:t,attendeeEmail:s,notes:r})},wj={generate:t=>_.post("/single-use-links",t),getRecent:()=>_.get("/single-use-links/recent"),get:t=>_.get(`/single-use-links/${t}`),revoke:t=>_.delete(`/single-use-links/${t}`)},xd={getAll:()=>_.get("/event-types"),list:t=>_.get(`/event-types?member_id=${t}`),create:t=>_.post("/event-types",t),get:t=>_.get(`/event-types/${t}`),update:(t,s)=>_.put(`/event-types/${t}`,s),delete:t=>_.delete(`/event-types/${t}`),toggle:(t,s)=>_.patch(`/event-types/${t}/toggle`,{active:s})},ys=xd,Nj={getAll:()=>_.get("/email-templates"),get:t=>_.get(`/email-templates/${t}`),create:t=>_.post("/email-templates",t),update:(t,s)=>_.put(`/email-templates/${t}`,s),delete:t=>_.delete(`/email-templates/${t}`),toggleFavorite:t=>_.patch(`/email-templates/${t}/favorite`),listForAI:t=>_.get("/chatgpt/email-templates",{params:{type:t}}),findTemplate:(t,s)=>_.get("/chatgpt/find-template",{params:{query:t,type:s}}),sendWithTemplate:t=>_.post("/chatgpt/send-email",t)},kj={getDashboard:()=>_.get("/analytics/dashboard"),getBookingStats:(t,s)=>_.get(`/analytics/bookings?start=${t}&end=${s}`),getTeamStats:t=>_.get(`/analytics/teams/${t}`),getMemberStats:t=>_.get(`/analytics/members/${t}`),exportData:(t="csv")=>_.get(`/analytics/export?format=${t}`)},Pr={list:()=>_.get("/notifications"),markAsRead:t=>_.put(`/notifications/${t}/read`),markAllAsRead:()=>_.put("/notifications/read-all"),delete:t=>_.delete(`/notifications/${t}`),getUnreadCount:()=>_.get("/notifications/unread-count")},di={get:()=>_.get("/user/timezone"),update:t=>_.put("/user/timezone",{timezone:t}),list:()=>_.get("/timezones"),detect:()=>_.get("/timezones/detect"),convert:(t,s,r)=>_.post("/timezones/convert",{fromTimezone:t,toTimezone:s,datetime:r})},Gn={getToken:()=>_.get("/user/jwt-token"),refreshToken:()=>_.post("/user/refresh-chatgpt-token"),testConnection:()=>_.get("/user/test-chatgpt-connection"),getSetupGuide:()=>_.get("/user/chatgpt-setup-guide"),getSchema:()=>_.get("/user/chatgpt-openapi-schema")},Sj={getProfile:()=>_.get("/profile"),updateProfile:t=>_.put("/profile",t),updatePassword:t=>_.put("/profile/password",t),deleteAccount:()=>_.delete("/profile"),usage:()=>_.get("/user/usage"),limits:()=>_.get("/user/limits")};hs.getGoogleUrl;hs.handleGoogleCallback;const Cj={getCurrent:()=>_.get("/subscriptions/current"),create:t=>_.post("/subscriptions/create",t),cancel:()=>_.post("/subscriptions/cancel"),reactivate:()=>_.post("/subscriptions/reactivate"),getSubscription:()=>_.get("/billing/subscription"),createCheckout:t=>_.post("/billing/create-checkout",t),getInvoices:()=>_.get("/billing/invoices"),downloadInvoice:t=>_.get(`/billing/invoices/${t}/download`,{responseType:"blob"}),getBillingPortal:()=>_.post("/subscriptions/billing-portal")};_.auth=ir;_.oauth=hs;_.teams=Ht;_.bookings=ua;_.availability=yj;_.reminders=tc;_.calendar=Rn;_.payments=bj;_.ai=jj;_.aiScheduler=vj;_.singleUseLinks=wj;_.eventTypes=xd;_.events=ys;_.emailTemplates=Nj;_.analytics=kj;_.notifications=Pr;_.timezone=di;_.user=Sj;_.chatgptIntegration=Gn;_.billing=Cj;const hd=m.createContext(null),Sn={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},_j=({notification:t,onClose:s})=>{const r={success:e.jsx(ne,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),error:e.jsx(yt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),info:e.jsx(qh,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),warning:e.jsx(Hh,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"})},n={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200",warning:"bg-yellow-50 border-yellow-200"};return m.useEffect(()=>{if(t.duration===1/0)return;const a=setTimeout(()=>{s(t.id)},t.duration||5e3);return()=>clearTimeout(a)},[t.id,t.duration,s]),e.jsxs("div",{className:`flex items-start gap-3 p-3 sm:p-4 rounded-lg border shadow-lg ${n[t.type]} animate-in slide-in-from-right duration-300 max-w-[calc(100vw-2rem)] sm:max-w-sm`,children:[r[t.type],e.jsxs("div",{className:"flex-1 min-w-0",children:[t.title&&e.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:t.title}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:t.message})]}),e.jsx("button",{onClick:()=>s(t.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(Fe,{className:"w-4 h-4"})})]})};function Tj({children:t}){const[s,r]=m.useState([]),n=(k,C,P="",I=5e3)=>{const M={id:Date.now(),type:k,message:C,title:P,duration:I};r(E=>[...E,M])},a=m.useState([]),l=k=>{r(C=>C.filter(P=>P.id!==k))},i=(k,C="Success")=>n(Sn.SUCCESS,k,C),o=(k,C="Error")=>n(Sn.ERROR,k,C),c=(k,C="Info")=>n(Sn.INFO,k,C),S={success:i,error:o,info:c,warning:(k,C="Warning")=>n(Sn.WARNING,k,C),notify:(k,C,P,I)=>n(k,C,P,I),confirm:async(k,C="Confirm Action")=>new Promise(P=>{const I=Date.now(),O={id:I,type:Sn.WARNING,message:k,title:C,duration:1/0,actions:[{label:"Confirm",onClick:()=>{l(I),P(!0)},className:"bg-blue-600 text-white"},{label:"Cancel",onClick:()=>{l(I),P(!1)},className:"bg-gray-200 text-gray-800"}]};r(M=>[...M,O])}),prompt:async(k,C="Input Required",P="")=>new Promise(I=>{const O=window.prompt(k,P);I(O)}),bookingCreated:k=>{i(`Booking confirmed for ${k.date} at ${k.time}`,"Booking Confirmed")},bookingCancelled:k=>{c(`Your booking for ${k.date} has been cancelled`,"Booking Cancelled")},bookingUpdated:k=>{c(`Your booking has been updated to ${k.date} at ${k.time}`,"Booking Updated")},paymentSuccess:k=>{i(`Payment of $${k} processed successfully`,"Payment Successful")},paymentFailed:k=>{o(k||"Payment could not be processed. Please try again.","Payment Failed")},teamInvite:k=>{c(`You've been invited to join ${k}`,"Team Invitation")},teamMemberAdded:k=>{i(`${k} has been added to the team`,"Team Updated")},calendarSynced:()=>{i("Your calendar has been synchronized successfully","Calendar Synced")},calendarSyncFailed:k=>{o(k||"Failed to sync calendar. Please try again.","Sync Failed")},notifications:a};return e.jsxs(hd.Provider,{value:S,children:[t,e.jsx("div",{className:"fixed top-2 right-2 sm:top-4 sm:right-4 z-[99999] space-y-2 pointer-events-none max-w-full",children:e.jsx("div",{className:"pointer-events-auto space-y-2",children:s.map(k=>e.jsx(_j,{notification:k,onClose:l},k.id))})})]})}function pd(){const t=m.useContext(hd);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t}const im=t=>t?t.replace(/^[\?\s]+/,"").replace(/[\uFFFD\u0000-\u001F]/g,"").trim():"",Ej=({type:t})=>{const s="w-5 h-5";switch(t){case"booking":case"booking_created":case"booking_confirmed":return e.jsx(oe,{className:`${s} text-blue-500`});case"booking_cancelled":return e.jsx(yt,{className:`${s} text-red-500`});case"booking_rescheduled":return e.jsx(bs,{className:`${s} text-orange-500`});case"payment":case"payment_received":return e.jsx(Ty,{className:`${s} text-green-500`});case"reminder":case"reminder_sent":return e.jsx(Se,{className:`${s} text-yellow-500`});case"team":return e.jsx(ze,{className:`${s} text-purple-500`});case"calendar":return e.jsx(oe,{className:`${s} text-indigo-500`});default:return e.jsx(Yo,{className:`${s} text-gray-500`})}};function Pj(){const[t,s]=m.useState(!1),[r,n]=m.useState([]),[a,l]=m.useState(0),[i,o]=m.useState(!1),[c,d]=m.useState(!1),u=m.useContext(hd);if(!u)return console.error("NotificationBell must be used within NotificationProvider"),null;const x=10,y=c?r:r.slice(0,x),w=r.length>x&&!c,g=async()=>{o(!0);try{const h=await Pr.list();n(h.data.notifications||[])}catch(h){console.error("Failed to fetch notifications:",h)}finally{o(!1)}},v=async()=>{try{const h=await Pr.getUnreadCount();l(h.data.count||0)}catch(h){console.error("Failed to fetch unread count:",h)}};m.useEffect(()=>{v();const h=setInterval(v,3e4);return()=>clearInterval(h)},[]),m.useEffect(()=>{t&&(g(),d(!1))},[t]);const j=h=>{const N=new Date(h),k=Math.floor((new Date-N)/1e3);return k<60?"Just now":k<3600?`${Math.floor(k/60)}m ago`:k<86400?`${Math.floor(k/3600)}h ago`:k<604800?`${Math.floor(k/86400)}d ago`:N.toLocaleDateString()},f=async(h,N)=>{h.stopPropagation();try{await Pr.markAsRead(N.id),n(S=>S.map(k=>k.id===N.id?{...k,is_read:!0}:k)),l(S=>Math.max(0,S-1))}catch(S){console.error("Failed to mark as read:",S),u.error("Failed to mark notification as read")}},b=async()=>{try{await Pr.markAllAsRead(),n(h=>h.map(N=>({...N,is_read:!0}))),l(0),u.success("All notifications marked as read")}catch(h){console.error("Failed to mark all as read:",h),u.error("Failed to mark all as read")}},p=async(h,N)=>{h.stopPropagation();try{await Pr.delete(N),n(k=>k.filter(C=>C.id!==N));const S=r.find(k=>k.id===N);S&&!S.is_read&&l(k=>Math.max(0,k-1)),u.success("Notification deleted")}catch(S){console.error("Failed to delete notification:",S),u.error("Failed to delete notification")}};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Yo,{className:"w-5 h-5"}),a>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),e.jsxs("div",{className:"fixed sm:absolute inset-x-2 sm:inset-x-auto sm:right-0 top-14 sm:top-auto sm:mt-2 w-auto sm:w-80 md:w-96 bg-white rounded-lg shadow-xl border z-50 max-h-[70vh] sm:max-h-[600px] flex flex-col",children:[e.jsxs("div",{className:"p-3 sm:p-4 border-b flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["Notifications",r.length>0&&e.jsxs("span",{className:"ml-2 text-xs sm:text-sm text-gray-500 font-normal",children:["(",r.length,")"]})]}),r.length>0&&a>0&&e.jsx("button",{onClick:b,className:"text-xs sm:text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:i?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(se,{className:"w-6 h-6 animate-spin text-gray-400"})}):r.length===0?e.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[e.jsx(Yo,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:"No notifications yet"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"We'll notify you when something happens"})]}):e.jsx("div",{className:"divide-y",children:y.map(h=>e.jsx("div",{className:`p-3 sm:p-4 hover:bg-gray-50 transition-colors ${h.is_read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx(Ej,{type:h.type})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:im(h.title)||"New Notification"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5 line-clamp-2",children:im(h.message)}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:j(h.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!h.is_read&&e.jsx("button",{onClick:N=>f(N,h),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Mark as read",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:N=>p(N,h.id),className:"p-1 text-gray-400 hover:bg-gray-200 rounded",title:"Delete",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]})})]})},h.id))})}),w&&e.jsx("div",{className:"p-2 sm:p-3 border-t bg-gray-50",children:e.jsxs("button",{onClick:()=>d(!0),className:"block w-full text-center text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium py-1",children:["Show ",r.length-x," more"]})}),c&&r.length>x&&e.jsx("div",{className:"p-2 sm:p-3 border-t bg-gray-50",children:e.jsx("button",{onClick:()=>d(!1),className:"block w-full text-center text-xs sm:text-sm text-gray-600 hover:text-gray-800 font-medium py-1",children:"Show less"})})]})]})]})}const Wi={FREE:"free",PRO:"pro",TEAMS:"teams"},Aj=m.createContext(null);function Lj({children:t}){const[s,r]=m.useState({tier:Wi.FREE,loading:!0,error:null,usage:{bookings_this_month:0,event_types_count:0,team_members_count:1},billing:{status:null,current_period_end:null,cancel_at_period_end:!1}});m.useEffect(()=>{localStorage.getItem("token")?n():r(o=>({...o,loading:!1}))},[]);const n=async()=>{var o,c,d,u,x,y;if(!localStorage.getItem("token")){r(w=>({...w,loading:!1}));return}try{const g=(await _.get("/user/subscription")).data;r({tier:g.tier||Wi.FREE,loading:!1,error:null,usage:{bookings_this_month:((o=g.usage)==null?void 0:o.bookings_this_month)||0,event_types_count:((c=g.usage)==null?void 0:c.event_types_count)||0,team_members_count:((d=g.usage)==null?void 0:d.team_members_count)||1},billing:{status:((u=g.billing)==null?void 0:u.status)||null,current_period_end:((x=g.billing)==null?void 0:x.current_period_end)||null,cancel_at_period_end:((y=g.billing)==null?void 0:y.cancel_at_period_end)||!1}})}catch(w){console.error("Failed to fetch subscription:",w),r(g=>({...g,loading:!1,error:"Failed to load subscription",tier:Wi.FREE}))}},a=m.useCallback(()=>n(),[]),l={...s,refresh:a};return e.jsx(Aj.Provider,{value:l,children:t})}const jp=m.createContext(null),vp={ai_queries_used:0,ai_queries_limit:10,bookings_used:0,bookings_limit:50,event_types_used:0,event_types_limit:2,magic_links_used:0,magic_links_limit:3},Mj={showUpgradeModal:()=>{},closeUpgradeModal:()=>{},isAtLimit:()=>!1,requiresUpgrade:()=>!1,hasProFeature:()=>!1,hasTeamFeature:()=>!1,currentTier:"free",usage:vp,loading:!1,refreshUsage:()=>{},modalOpen:!1,modalFeature:null},Rj=()=>{try{const t=localStorage.getItem("usage_data");if(t)return JSON.parse(t)}catch(t){console.warn("Failed to parse stored usage:",t)}return vp},Dj=t=>{try{localStorage.setItem("usage_data",JSON.stringify(t))}catch(s){console.warn("Failed to save usage:",s)}},Rs=()=>{const t=m.useContext(jp);return t||(console.warn("useUpgrade called outside UpgradeProvider, using defaults"),Mj)},Ij=({children:t})=>{const[s,r]=m.useState(!1),[n,a]=m.useState(null),[l,i]=m.useState(()=>localStorage.getItem("subscription_tier")||"free"),[o,c]=m.useState(()=>Rj()),[d,u]=m.useState(!0);m.useEffect(()=>{localStorage.getItem("token")?x():u(!1)},[]);const x=async()=>{try{const p=localStorage.getItem("token");if(!p){u(!1);return}const h=await fetch("/api/user/usage",{headers:{Authorization:`Bearer ${p}`}});if(h.ok){const N=await h.json(),S=N.subscription_tier||N.tier||"free";localStorage.setItem("subscription_tier",S);const k={ai_queries_used:N.ai_queries_used||0,ai_queries_limit:N.ai_queries_limit||10,bookings_used:N.bookings_used||N.monthly_bookings||0,bookings_limit:N.bookings_limit||50,event_types_used:N.event_types_used||0,event_types_limit:N.event_types_limit||2,magic_links_used:N.magic_links_used||0,magic_links_limit:N.magic_links_limit||3};Dj(k),c(k),i(S),console.log(" Usage loaded:",{tier:S,usage:k})}}catch(p){console.error("Failed to fetch usage:",p)}finally{u(!1)}},y=m.useCallback((p=null)=>{a(p),r(!0)},[]),w=m.useCallback(()=>{r(!1),a(null)},[]),g=m.useCallback(p=>{switch(p){case"branding":return l==="free";case"templates":return l==="free";case"teams":return l!=="team";case"magic_links":return l==="free";default:return!1}},[l]),v=m.useCallback(p=>{switch(p){case"ai_queries":return o.ai_queries_limit<1e3&&o.ai_queries_used>=o.ai_queries_limit;case"bookings":return o.bookings_limit<1e3&&o.bookings_used>=o.bookings_limit;case"event_types":return o.event_types_limit<1e3&&o.event_types_used>=o.event_types_limit;case"magic_links":return o.magic_links_limit<1e3&&o.magic_links_used>=o.magic_links_limit;case"teams":return l!=="team";case"templates":return l==="free";case"branding":return l==="free";default:return!1}},[o,l]),j=m.useCallback(()=>l==="pro"||l==="team",[l]),f=m.useCallback(()=>l==="team",[l]),b={showUpgradeModal:y,closeUpgradeModal:w,isAtLimit:v,requiresUpgrade:g,hasProFeature:j,hasTeamFeature:f,currentTier:l,usage:o,loading:d,refreshUsage:x,modalOpen:s,modalFeature:n};return e.jsx(jp.Provider,{value:b,children:t})},Fj=`
  @keyframes walkthrough-pulse {
    0%, 100% { 
      box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.9),
                  0 0 20px 8px rgba(168, 85, 247, 0.4),
                  0 0 40px 16px rgba(236, 72, 153, 0.2);
    }
    50% { 
      box-shadow: 0 0 0 6px rgba(168, 85, 247, 1),
                  0 0 30px 12px rgba(168, 85, 247, 0.6),
                  0 0 60px 24px rgba(236, 72, 153, 0.3);
    }
  }
  
  @keyframes walkthrough-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }
  
  .walkthrough-spotlight-pulse {
    animation: walkthrough-pulse 1.5s ease-in-out infinite;
  }
  
  .walkthrough-highlighted {
    position: relative !important;
    z-index: 9999 !important;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(236, 72, 153, 0.15)) !important;
    border-radius: 12px !important;
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.5) !important;
  }
`;if(typeof document<"u"){const t="walkthrough-styles";if(!document.getElementById(t)){const s=document.createElement("style");s.id=t,s.textContent=Fj,document.head.appendChild(s)}}const $j={Calendar:oe,Bot:qt,Clock:Se,Users:ze,Link:mn,Settings:is,Sparkles:ye,CheckCircle:ne,Zap:qe,Mail:Qe,Globe:Kt};function Uj(t,s){if(!t)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const r=t.getBoundingClientRect(),n=340,a=220,l=16,i=window.innerWidth,o=window.innerHeight;let c={};switch(s){case"top":c={top:`${Math.max(l,r.top-a-l)}px`,left:`${Math.min(i-n-l,Math.max(l,r.left+r.width/2-n/2))}px`};break;case"bottom":c={top:`${Math.min(o-a-l,r.bottom+l)}px`,left:`${Math.min(i-n-l,Math.max(l,r.left+r.width/2-n/2))}px`};break;case"left":c={top:`${Math.min(o-a-l,Math.max(l,r.top+r.height/2-a/2))}px`,left:`${Math.max(l,r.left-n-l)}px`};break;case"right":c={top:`${Math.min(o-a-l,Math.max(l,r.top+r.height/2-a/2))}px`,left:`${Math.min(i-n-l,r.right+l)}px`};break;case"top-left":c={top:`${Math.max(l,r.top-a-l)}px`,left:`${Math.max(l,r.left)}px`};break;default:c={top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}return c}function Oj({targetEl:t,position:s}){const[r,n]=m.useState(null),[a,l]=m.useState(null);return m.useEffect(()=>{if(!t){n(null),l(null);return}const i=()=>{const o=t.getBoundingClientRect(),c=12;n({top:o.top-c,left:o.left-c,width:o.width+c*2,height:o.height+c*2});const d=32;let u={};switch(s){case"bottom":u={top:o.bottom+8,left:o.left+o.width/2-d/2,transform:"rotate(180deg)"};break;case"top":u={top:o.top-d-8,left:o.left+o.width/2-d/2,transform:"rotate(0deg)"};break;case"left":u={top:o.top+o.height/2-d/2,left:o.left-d-8,transform:"rotate(90deg)"};break;case"right":u={top:o.top+o.height/2-d/2,left:o.right+8,transform:"rotate(-90deg)"};break;default:u=null}l(u)};return i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i)}},[t,s]),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed rounded-2xl pointer-events-none z-[9998] transition-all duration-300",style:{...r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.75)"}}),e.jsx("div",{className:"fixed rounded-2xl pointer-events-none z-[9998] transition-all duration-300 walkthrough-spotlight-pulse",style:r}),e.jsx("div",{className:"fixed rounded-2xl border-2 border-white/50 pointer-events-none z-[9998] transition-all duration-300",style:r}),e.jsx("div",{className:"fixed z-[9999] pointer-events-none animate-bounce",style:{top:r.top-36,left:r.left+r.width/2,transform:"translateX(-50%)"},children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1.5",children:[e.jsx(ye,{className:"w-3 h-3"}),"Look here!"]})}),a&&e.jsx("div",{className:"fixed z-[9999] pointer-events-none",style:a,children:e.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",className:"animate-bounce text-purple-500 drop-shadow-lg",children:e.jsx("path",{d:"M16 4 L16 24 M8 16 L16 24 L24 16",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})]}):null}function zj({isActive:t,currentStep:s,totalSteps:r,currentStepData:n,onNext:a,onPrev:l,onDismiss:i,onComplete:o}){const[c,d]=m.useState(null),[u,x]=m.useState({});if(m.useEffect(()=>{if(c)return c.classList.add("walkthrough-highlighted"),c.style.position="relative",c.style.zIndex="9999",c.style.transform="scale(1.05)",c.style.transition="transform 0.3s ease",()=>{c.classList.remove("walkthrough-highlighted"),c.style.position="",c.style.zIndex="",c.style.transform="",c.style.transition=""}},[c]),m.useEffect(()=>{if(!t||!n)return;const j=()=>{if(n.target){const b=document.querySelector(n.target);if(d(b),b){const p=Uj(b,n.position);x(p),b.scrollIntoView({behavior:"smooth",block:"center"})}else d(null),x({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})}else d(null),x({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})},f=setTimeout(j,150);return window.addEventListener("resize",j),window.addEventListener("scroll",j),()=>{clearTimeout(f),window.removeEventListener("resize",j),window.removeEventListener("scroll",j)}},[t,n,s]),!t||!n)return null;const y=$j[n.icon]||ye,w=s===0,g=s===r-1,v=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[9997] transition-opacity duration-300",onClick:i}),e.jsx(Oj,{targetEl:c,position:n==null?void 0:n.position}),e.jsxs("div",{className:"fixed z-[9999] w-[340px] bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden animate-in fade-in zoom-in-95 duration-300",style:u,children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-5 py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(y,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg leading-tight",children:n.title}),e.jsxs("p",{className:"text-purple-200 text-xs mt-0.5",children:["Step ",s+1," of ",r]})]})]}),e.jsx("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors ml-2",children:e.jsx(Fe,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"px-5 py-4",children:e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.description})}),e.jsx("div",{className:"px-5 pb-3 flex justify-center gap-1.5",children:Array.from({length:r}).map((j,f)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${f===s?"w-6 bg-purple-600":f<s?"w-1.5 bg-purple-300":"w-1.5 bg-gray-200"}`},f))}),e.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between",children:[e.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Skip tour"}),e.jsxs("div",{className:"flex items-center gap-2",children:[!w&&e.jsxs("button",{onClick:l,className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1 text-sm font-medium",children:[e.jsx(Gh,{className:"h-4 w-4"}),"Back"]}),e.jsx("button",{onClick:g?o:a,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center gap-1 text-sm",children:g?e.jsxs(e.Fragment,{children:["Get Started",e.jsx(qe,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(Ts,{className:"h-4 w-4"})]})})]})]})]})]});return Xc.createPortal(v,document.body)}function Bj({onStart:t,onDismiss:s}){return e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl p-6 shadow-lg mb-6 animate-in slide-in-from-top duration-500",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(ye,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl mb-1",children:"New to ScheduleSync? "}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Take a quick 2-minute tour to learn how to set up AI-powered scheduling and start booking meetings effortlessly."})]})]}),e.jsx("button",{onClick:s,className:"text-white/70 hover:text-white flex-shrink-0",children:e.jsx(Fe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4 ml-16",children:[e.jsxs("button",{onClick:t,className:"px-5 py-2.5 bg-white text-purple-600 rounded-lg font-semibold hover:bg-purple-50 transition-colors flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),"Start Tour"]}),e.jsx("button",{onClick:s,className:"px-5 py-2.5 bg-white/20 text-white rounded-lg font-medium hover:bg-white/30 transition-colors",children:"Maybe Later"})]})]})}function Wj({onClick:t,className:s=""}){return e.jsxs("button",{onClick:t,className:`px-3 py-2 bg-purple-100 text-purple-700 rounded-xl hover:bg-purple-200 transition-colors text-sm font-medium flex items-center gap-2 ${s}`,children:[e.jsx(ye,{className:"h-4 w-4"}),"Take a Tour"]})}const om=()=>window.innerWidth<768,Hj=[{id:"welcome",title:"Welcome to ScheduleSync! ",description:"Let's take a quick tour to help you get started with AI-powered scheduling. This will only take about 2 minutes.",target:null,icon:"Calendar",position:"center"},{id:"ai-assistant",title:"Meet Your AI Assistant",description:'Click the chat bubble in the bottom-right corner to talk to your AI scheduler. Just say "Book a meeting with john@email.com tomorrow at 2pm" and it handles everything!',target:'[data-walkthrough="ai-chat"]',icon:"Bot",position:"top-left"},{id:"availability",title:"Set Your Availability",description:"Define when you're free for meetings. Set your working hours, buffer times, and booking limits.",target:'[data-walkthrough="availability-btn"]',icon:"Clock",position:"bottom"},{id:"event-types",title:"Create Event Types",description:'Set up different meeting types like "30-min Call", "1-hour Consultation", or "Quick Chat". Each gets its own booking link!',target:'[data-walkthrough="events-nav"]',icon:"Sparkles",position:"right"},{id:"booking-link",title:"Share Your Booking Link",description:"Copy your personal booking link and share it anywhere. People can book directly on your calendar!",target:'[data-walkthrough="my-links-nav"]',icon:"Link",position:"right"},{id:"calendar-sync",title:"Connect Your Calendar",description:"Sync with Google or Outlook to automatically check for conflicts. Go to Settings  Calendar to connect.",target:'[data-walkthrough="settings-nav"]',icon:"Globe",position:"right"},{id:"teams",title:"Team Scheduling (Team Plan)",description:"Create teams for round-robin booking, collective availability, or weighted distribution. Perfect for sales teams!",target:'[data-walkthrough="teams-nav"]',icon:"Users",position:"right"},{id:"email-templates",title:"Customize Email Templates",description:"Personalize confirmation and reminder emails. Add your branding, custom messages, and AI-generated content.",target:'[data-walkthrough="email-nav"]',icon:"Mail",position:"right"},{id:"complete",title:"You're All Set! ",description:"You now know the basics of ScheduleSync. Start by setting your availability and creating your first event type. Need help? Just ask the AI assistant!",target:null,icon:"CheckCircle",position:"center",isLast:!0}],Gj=[{id:"welcome",title:"Welcome to ScheduleSync! ",description:"Let's take a quick tour to help you get started with AI-powered scheduling.",target:null,icon:"Calendar",position:"center"},{id:"ai-assistant",title:"Meet Your AI Assistant ",description:'Tap the purple chat bubble in the bottom-right corner. Say things like "Book a meeting with john@email.com tomorrow at 2pm" and it handles everything!',target:'[data-walkthrough="ai-chat"]',icon:"Bot",position:"top"},{id:"menu",title:"Open the Menu ",description:"Tap the menu icon in the top-left to access all features: Event Types, My Links, Teams, Email Templates, and Settings.",target:'[data-walkthrough="mobile-menu"]',icon:"Sparkles",position:"bottom"},{id:"features",title:"Key Features ",description:` Event Types - Create different meeting types
 My Links - Get your booking link to share
 Settings - Connect Google/Outlook calendar
 Teams - Set up team scheduling (Team plan)`,target:null,icon:"CheckCircle",position:"center"},{id:"complete",title:"You're All Set! ",description:"Start by setting your availability and creating your first event type. Need help? Just ask the AI assistant!",target:null,icon:"CheckCircle",position:"center",isLast:!0}],wp=m.createContext(null);function qj({children:t}){const[s,r]=m.useState(!1),[n,a]=m.useState(0),[l,i]=m.useState(!0),[o,c]=m.useState(!1),[d,u]=m.useState(!1),x=m.useCallback(()=>d?Gj:Hj,[d]);m.useEffect(()=>{const S=()=>u(om());return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),m.useEffect(()=>{const S=localStorage.getItem("schedulesync_walkthrough_completed"),k=localStorage.getItem("schedulesync_walkthrough_dismissed"),C=!S&&!k;if(i(S==="true"||k==="true"),C){const P=setTimeout(()=>{c(!0)},1500);return()=>clearTimeout(P)}},[]);const y=m.useCallback(()=>{u(om()),c(!1),a(0),r(!0)},[]),w=m.useCallback((S=!1)=>{r(!1),a(0),S&&(localStorage.setItem("schedulesync_walkthrough_completed","true"),i(!0))},[]),g=m.useCallback(()=>{r(!1),c(!1),localStorage.setItem("schedulesync_walkthrough_dismissed","true"),i(!0)},[]),v=m.useCallback(()=>{c(!1),localStorage.setItem("schedulesync_walkthrough_dismissed","true"),i(!0)},[]),j=x(),f=m.useCallback(()=>{n<j.length-1?a(S=>S+1):w(!0)},[n,j.length,w]),b=m.useCallback(()=>{n>0&&a(S=>S-1)},[n]),p=m.useCallback(S=>{S>=0&&S<j.length&&a(S)},[j.length]),h=m.useCallback(()=>{localStorage.removeItem("schedulesync_walkthrough_completed"),localStorage.removeItem("schedulesync_walkthrough_dismissed"),i(!1),c(!0)},[]),N={isActive:s,currentStep:n,totalSteps:j.length,hasCompleted:l,showPrompt:o,currentStepData:j[n],startWalkthrough:y,endWalkthrough:w,dismissWalkthrough:g,dismissPrompt:v,nextStep:f,prevStep:b,goToStep:p,resetWalkthrough:h,isMobileView:d};return e.jsxs(wp.Provider,{value:N,children:[t,e.jsx(zj,{isActive:s,currentStep:n,totalSteps:j.length,currentStepData:j[n],onNext:f,onPrev:b,onDismiss:g,onComplete:()=>w(!0)})]})}function Vj(){const t=m.useContext(wp);if(!t)throw new Error("useWalkthrough must be used within a WalkthroughProvider");return t}var Np="clover",Yj=function(s){return s===3?"v3":s},kp="https://js.stripe.com",Jj="".concat(kp,"/").concat(Np,"/stripe.js"),Kj=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Qj=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Xj=function(s){return Kj.test(s)||Qj.test(s)},Zj=function(){for(var s=document.querySelectorAll('script[src^="'.concat(kp,'"]')),r=0;r<s.length;r++){var n=s[r];if(Xj(n.src))return n}return null},cm=function(s){var r="",n=document.createElement("script");n.src="".concat(Jj).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},ev=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:r})},Cn=null,Wa=null,Ha=null,tv=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},sv=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},rv=function(s){return Cn!==null?Cn:(Cn=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=Zj();if(!(a&&s)){if(!a)a=cm(s);else if(a&&Ha!==null&&Wa!==null){var l;a.removeEventListener("load",Ha),a.removeEventListener("error",Wa),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=cm(s)}}Ha=sv(r,n),Wa=tv(n),a.addEventListener("load",Ha),a.addEventListener("error",Wa)}catch(i){n(i);return}}),Cn.catch(function(r){return Cn=null,Promise.reject(r)}))},nv=function(s,r,n){if(s===null)return null;var a=r[0],l=a.match(/^pk_test/),i=Yj(s.version),o=Np;l&&i!==o&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,r);return ev(c,n),c},_n,Sp=!1,Cp=function(){return _n||(_n=rv(null).catch(function(s){return _n=null,Promise.reject(s)}),_n)};Promise.resolve().then(function(){return Cp()}).catch(function(t){Sp||console.warn(t)});var _p=function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];Sp=!0;var a=Date.now();return Cp().then(function(l){return nv(l,r,a)})},Tp={exports:{}},av="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lv=av,iv=lv;function Ep(){}function Pp(){}Pp.resetWarningCache=Ep;var ov=function(){function t(n,a,l,i,o,c){if(c!==iv){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function s(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Pp,resetWarningCache:Ep};return r.PropTypes=r,r};Tp.exports=ov();var cv=Tp.exports;const Ee=jm(cv);function dm(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function um(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?dm(Object(r),!0).forEach(function(n){Ap(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dm(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dl(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dl=function(s){return typeof s}:dl=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},dl(t)}function Ap(t,s,r){return s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function dv(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function uv(t,s){if(t==null)return{};var r=dv(t,s),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lp(t,s){return mv(t)||xv(t,s)||hv(t,s)||pv()}function mv(t){if(Array.isArray(t))return t}function xv(t,s){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,l=!1,i,o;try{for(r=r.call(t);!(a=(i=r.next()).done)&&(n.push(i.value),!(s&&n.length===s));a=!0);}catch(c){l=!0,o=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(l)throw o}}return n}}function hv(t,s){if(t){if(typeof t=="string")return mm(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(t,s)}}function mm(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,n=new Array(s);r<s;r++)n[r]=t[r];return n}function pv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft=function(s,r,n){var a=!!n,l=Te.useRef(n);Te.useEffect(function(){l.current=n},[n]),Te.useEffect(function(){if(!a||!s)return function(){};var i=function(){l.current&&l.current.apply(l,arguments)};return s.on(r,i),function(){s.off(r,i)}},[a,r,s,l])},sc=function(s){var r=Te.useRef(s);return Te.useEffect(function(){r.current=s},[s]),r.current},an=function(s){return s!==null&&dl(s)==="object"},fv=function(s){return an(s)&&typeof s.then=="function"},gv=function(s){return an(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},xm="[object Object]",yv=function t(s,r){if(!an(s)||!an(r))return s===r;var n=Array.isArray(s),a=Array.isArray(r);if(n!==a)return!1;var l=Object.prototype.toString.call(s)===xm,i=Object.prototype.toString.call(r)===xm;if(l!==i)return!1;if(!l&&!n)return s===r;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(var d={},u=0;u<o.length;u+=1)d[o[u]]=!0;for(var x=0;x<c.length;x+=1)d[c[x]]=!0;var y=Object.keys(d);if(y.length!==o.length)return!1;var w=s,g=r,v=function(f){return t(w[f],g[f])};return y.every(v)},Mp=function(s,r,n){return an(s)?Object.keys(s).reduce(function(a,l){var i=!an(r)||!yv(s[l],r[l]);return n.includes(l)?(i&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),a):i?um(um({},a||{}),{},Ap({},l,s[l])):a},null):null},Rp="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hm=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rp;if(s===null||gv(s))return s;throw new Error(r)},bv=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rp;if(fv(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(a){return hm(a,r)})};var n=hm(s,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},jv=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.0"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},ui=Te.createContext(null);ui.displayName="ElementsContext";var Dp=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},fd=function(s){var r=s.stripe,n=s.options,a=s.children,l=Te.useMemo(function(){return bv(r)},[r]),i=Te.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(n):null}}),o=Lp(i,2),c=o[0],d=o[1];Te.useEffect(function(){var y=!0,w=function(v){d(function(j){return j.stripe?j:{stripe:v,elements:v.elements(n)}})};return l.tag==="async"&&!c.stripe?l.stripePromise.then(function(g){g&&y&&w(g)}):l.tag==="sync"&&!c.stripe&&w(l.stripe),function(){y=!1}},[l,c,n]);var u=sc(r);Te.useEffect(function(){u!==null&&u!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,r]);var x=sc(n);return Te.useEffect(function(){if(c.elements){var y=Mp(n,x,["clientSecret","fonts"]);y&&c.elements.update(y)}},[n,x,c.elements]),Te.useEffect(function(){jv(c.stripe)},[c.stripe]),Te.createElement(ui.Provider,{value:c},a)};fd.propTypes={stripe:Ee.any,options:Ee.object};var vv=function(s){var r=Te.useContext(ui);return Dp(r,s)},Ip=function(){var s=vv("calls useElements()"),r=s.elements;return r};Ee.func.isRequired;var Fp=Te.createContext(null);Fp.displayName="CheckoutContext";Ee.any,Ee.shape({clientSecret:Ee.oneOfType([Ee.string,Ee.instanceOf(Promise)]).isRequired,elementsOptions:Ee.object}).isRequired;var rc=function(s){var r=Te.useContext(Fp),n=Te.useContext(ui);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return Dp(n,s)},wv=["mode"],Nv=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Lt=function(s,r){var n="".concat(Nv(s),"Element"),a=function(c){var d=c.id,u=c.className,x=c.options,y=x===void 0?{}:x,w=c.onBlur,g=c.onFocus,v=c.onReady,j=c.onChange,f=c.onEscape,b=c.onClick,p=c.onLoadError,h=c.onLoaderStart,N=c.onNetworksChange,S=c.onConfirm,k=c.onCancel,C=c.onShippingAddressChange,P=c.onShippingRateChange,I=c.onSavedPaymentMethodRemove,O=c.onSavedPaymentMethodUpdate,M=rc("mounts <".concat(n,">")),E="elements"in M?M.elements:null,z="checkoutState"in M?M.checkoutState:null,K=(z==null?void 0:z.type)==="success"||(z==null?void 0:z.type)==="loading"?z.sdk:null,V=Te.useState(null),D=Lp(V,2),A=D[0],q=D[1],$=Te.useRef(null),X=Te.useRef(null);ft(A,"blur",w),ft(A,"focus",g),ft(A,"escape",f),ft(A,"click",b),ft(A,"loaderror",p),ft(A,"loaderstart",h),ft(A,"networkschange",N),ft(A,"confirm",S),ft(A,"cancel",k),ft(A,"shippingaddresschange",C),ft(A,"shippingratechange",P),ft(A,"savedpaymentmethodremove",I),ft(A,"savedpaymentmethodupdate",O),ft(A,"change",j);var le;v&&(s==="expressCheckout"?le=v:le=function(){v(A)}),ft(A,"ready",le),Te.useLayoutEffect(function(){if($.current===null&&X.current!==null&&(E||K)){var de=null;if(K)switch(s){case"paymentForm":de=K.createPaymentFormElement();break;case"payment":de=K.createPaymentElement(y);break;case"address":if("mode"in y){var L=y.mode,B=uv(y,wv);if(L==="shipping")de=K.createShippingAddressElement(B);else if(L==="billing")de=K.createBillingAddressElement(B);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":de=K.createExpressCheckoutElement(y);break;case"currencySelector":de=K.createCurrencySelectorElement();break;case"taxId":de=K.createTaxIdElement(y);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(de=E.create(s,y));$.current=de,q(de),de&&de.mount(X.current)}},[E,K,y]);var Ne=sc(y);return Te.useEffect(function(){if($.current){var de=Mp(y,Ne,["paymentRequest"]);de&&"update"in $.current&&$.current.update(de)}},[y,Ne]),Te.useLayoutEffect(function(){return function(){if($.current&&typeof $.current.destroy=="function")try{$.current.destroy(),$.current=null}catch{}}},[]),Te.createElement("div",{id:d,className:u,ref:X})},l=function(c){rc("mounts <".concat(n,">"));var d=c.id,u=c.className;return Te.createElement("div",{id:d,className:u})},i=r?l:a;return i.propTypes={id:Ee.string,className:Ee.string,onChange:Ee.func,onBlur:Ee.func,onFocus:Ee.func,onReady:Ee.func,onEscape:Ee.func,onClick:Ee.func,onLoadError:Ee.func,onLoaderStart:Ee.func,onNetworksChange:Ee.func,onConfirm:Ee.func,onCancel:Ee.func,onShippingAddressChange:Ee.func,onShippingRateChange:Ee.func,onSavedPaymentMethodRemove:Ee.func,onSavedPaymentMethodUpdate:Ee.func,options:Ee.object},i.displayName=n,i.__elementType=s,i},Mt=typeof window>"u",kv=Te.createContext(null);kv.displayName="EmbeddedCheckoutProviderContext";var $p=function(){var s=rc("calls useStripe()"),r=s.stripe;return r};Lt("auBankAccount",Mt);var $l=Lt("card",Mt);Lt("cardNumber",Mt);Lt("cardExpiry",Mt);Lt("cardCvc",Mt);Lt("iban",Mt);Lt("payment",Mt);Lt("expressCheckout",Mt);Lt("paymentRequestButton",Mt);Lt("linkAuthentication",Mt);Lt("address",Mt);Lt("shippingAddress",Mt);Lt("paymentMethodMessaging",Mt);Lt("taxId",Mt);const Sv=_p("pk_test_51SVD78CGay7RSh8rPap89NOCEv2kkW49KhZEDurnXpY2sfuKUGulJlbtDFO9jEtJOlbpzQ2GmNgCyh39VZwUW0Hj00GRK3n2Fz"),Cv=({plan:t,onSuccess:s,onCancel:r})=>{const n=$p(),a=Ip(),[l,i]=m.useState(!1),[o,c]=m.useState(null),d=async u=>{u.preventDefault(),i(!0),c(null);try{const x=await fetch("/api/billing/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan:t.id})}),y=await x.json();if(!x.ok)throw new Error(y.error||"Failed to create subscription");if(y.clientSecret){const w=a.getElement($l),g=await n.confirmCardPayment(y.clientSecret,{payment_method:{card:w}});g.error?c(g.error.message):g.paymentIntent.status==="succeeded"&&s(t)}else y.success&&s(t)}catch(x){console.error("Payment error:",x),c(x.message)}finally{i(!1)}};return e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsx("div",{className:"p-4 border border-gray-300 rounded-lg bg-white",children:e.jsx($l,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}},invalid:{color:"#EF4444"}},hidePostalCode:!1}})}),o&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:o}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:!n||l,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${l||!n?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Pay $${t.price}/month`}),e.jsx("button",{type:"button",onClick:r,className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})},gd=({isOpen:t,onClose:s,onSuccess:r,currentTier:n="free"})=>{const[a,l]=m.useState(null),[i,o]=m.useState("select"),d=[{id:"pro",name:"Pro",price:12,description:"Perfect for individuals",features:["UNLIMITED AI queries","Unlimited bookings","Unlimited booking links","AI optimization","Priority support"],color:"blue",popular:!0},{id:"team",name:"Team",price:25,description:"Best for organizations",features:["Everything in Pro","Unlimited team members","Round-robin scheduling","Admin dashboard","Phone support"],color:"purple",popular:!1}].filter(g=>g.id!==n),u=g=>{l(g),o("payment")},x=g=>{o("select"),l(null),s(),r&&r(g)},y=()=>{o("select"),l(null)},w=()=>{o("select"),l(null),s()};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i==="select"?"Upgrade Your Plan":`Subscribe to ${a==null?void 0:a.name}`}),e.jsx("p",{className:"text-gray-600 mt-1",children:i==="select"?"Unlock unlimited AI queries and advanced features":"Complete your payment to upgrade"})]}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:""})]})}),e.jsx("div",{className:"p-6",children:i==="select"?e.jsx("div",{className:`grid gap-6 ${d.length>1?"md:grid-cols-2":"max-w-md mx-auto"}`,children:d.map(g=>e.jsxs("div",{className:`relative border-2 rounded-xl p-6 cursor-pointer transition-all hover:shadow-lg ${g.popular?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>u(g),children:[g.popular&&e.jsx("div",{className:"absolute -top-3 left-6 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:g.name}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",g.price,e.jsx("span",{className:"text-lg text-gray-500",children:"/month"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:g.description})]}),e.jsx("ul",{className:"space-y-2 mb-6",children:g.features.map((v,j)=>e.jsxs("li",{className:"flex items-center text-sm",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v]},j))}),e.jsxs("button",{className:`w-full py-3 rounded-lg font-medium transition-colors ${g.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:["Choose ",g.name]})]},g.id))}):e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("button",{onClick:y,className:"mb-4 text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to plans"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-center",children:[e.jsxs("h3",{className:"font-bold text-lg",children:[a.name," Plan"]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",a.price,"/month"]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]}),e.jsx(fd,{stripe:Sv,children:e.jsx(Cv,{plan:a,onSuccess:x,onCancel:y})})]})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Secure payment powered by Stripe  Cancel anytime  30-day money-back guarantee"})})]})}):null},_v=()=>{const{modalOpen:t,modalFeature:s,closeUpgradeModal:r,currentTier:n,usage:a,refreshUsage:l}=Rs(),[i,o]=m.useState(!1);if(!t&&!i)return null;const c={branding:{title:"Custom Branding",description:"Make your booking pages match your brand",features:["Custom logo on booking pages","Custom brand colors",'Hide "Powered by ScheduleSync"',"Professional appearance"],requiredTier:"pro",ctaText:"Upgrade to Pro"},ai_queries:{title:"AI Query Limit Reached",description:`You've used ${(a==null?void 0:a.ai_queries_used)||0}/${(a==null?void 0:a.ai_queries_limit)||10} AI queries this month.`,icon:qt,color:"purple"},bookings:{title:"Booking Limit Reached",description:`You've used ${(a==null?void 0:a.bookings_used)||0}/${(a==null?void 0:a.bookings_limit)||50} bookings this month.`,icon:oe,color:"blue"},event_types:{title:"Event Type Limit Reached",description:`You've created ${(a==null?void 0:a.event_types_used)||0}/${(a==null?void 0:a.event_types_limit)||2} event types.`,icon:ye,color:"pink"},magic_links:{title:"Magic Link Limit Reached",description:`You've used ${(a==null?void 0:a.magic_links_used)||0}/${(a==null?void 0:a.magic_links_limit)||3} magic links this month.`,icon:mn,color:"indigo"},teams:{title:"Team Features",description:"Create teams, add members, and manage group scheduling.",icon:ze,color:"green"},templates:{title:"Email Templates",description:"Create custom email templates for confirmations, reminders, and follow-ups.",icon:qe,color:"purple"},default:{title:"Upgrade Your Plan",description:"Get unlimited access to all features.",icon:qe,color:"purple"}},d=c[s]||c.default,u=d.icon,x=s==="teams",y=()=>{r(),o(!0)},w=g=>{o(!1),l&&l(),alert(`Successfully upgraded to ${g.name}!`)};return i?e.jsx(gd,{isOpen:!0,onClose:()=>o(!1),onSuccess:w,currentTier:n}):e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-lg w-full shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:`bg-gradient-to-r ${x?"from-green-500 to-emerald-600":"from-purple-500 to-pink-500"} p-6 relative`,children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:e.jsx(Fe,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(u,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:d.title}),e.jsx("p",{className:"text-white/90",children:d.description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[n==="free"&&!x&&e.jsxs("div",{className:"border-2 border-purple-300 bg-purple-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jr,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-bold text-gray-900",children:"Pro Plan"})]}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["$12",e.jsx("span",{className:"text-sm font-normal",children:"/mo"})]})]}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-purple-600"}),"Unlimited AI queries"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-purple-600"}),"Unlimited bookings"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-purple-600"}),"Unlimited event types"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-purple-600"}),"Unlimited magic links"]})]})]}),(x||n==="pro")&&n!=="team"&&e.jsxs("div",{className:"border-2 border-green-300 bg-green-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-bold text-gray-900",children:"Team Plan"})]}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$25",e.jsx("span",{className:"text-sm font-normal",children:"/mo"})]})]}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),"Everything in Pro"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),"Create unlimited teams"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),"Up to 10 team members"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),"Round-robin & collective booking"]})]})]}),n==="team"&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ue,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"You're on the Team Plan!"}),e.jsx("p",{className:"text-gray-600",children:"You have access to all features."})]})]}),n!=="team"&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Maybe Later"}),e.jsxs("button",{onClick:y,className:`flex-1 px-6 py-3 text-white rounded-xl font-semibold transition-all hover:shadow-lg flex items-center justify-center gap-2 ${x||n==="pro"?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-purple-600 to-pink-600"}`,children:[e.jsx(qe,{className:"h-4 w-4"}),"Upgrade Now"]})]}),n==="team"&&e.jsx("button",{onClick:r,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-semibold transition-colors",children:"Close"})]})]})})};function Tv(){var y;const[t,s]=m.useState(!1),r=Xt(),n=_e(),{user:a,logout:l}=si(),i=["jaybersales95@gmail.com"],o=((y=a==null?void 0:a.email)==null?void 0:y.toLowerCase())||"",c=i.includes(o),d=[{name:"Dashboard",path:"/dashboard",icon:My,walkthrough:"dashboard-nav"},{name:"Event Types",path:"/events",icon:Se,walkthrough:"events-nav"},{name:"Teams",path:"/teams",icon:ze,walkthrough:"teams-nav"},{name:"Bookings",path:"/bookings",icon:oe,walkthrough:"bookings-nav"},{name:"My Link",path:"/my-links",icon:ld,walkthrough:"my-links-nav"},{name:"Email Templates",path:"/email-templates",icon:Qe,walkthrough:"email-nav"},{name:"Settings",path:"/settings",icon:is,walkthrough:"settings-nav"}];c&&d.push({name:"Admin Panel",path:"/admin",icon:Jo,walkthrough:"admin-nav"});const u=()=>{l(),n("/")},x=()=>a!=null&&a.name?a.name.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2):a!=null&&a.email?a.email[0].toUpperCase():"U";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:[e.jsx("div",{className:"mx-auto px-3 sm:px-4 lg:px-6",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:e.jsx(et,{to:"/",className:"flex items-center gap-2 sm:gap-3",children:e.jsx("span",{className:"text-base sm:text-lg font-bold tracking-tight text-gray-900",children:"ScheduleSync"})})}),e.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:d.map(w=>{const g=w.icon,v=r.pathname===w.path,j=w.path==="/admin";return e.jsxs(et,{to:w.path,"data-walkthrough":w.walkthrough,className:`flex items-center gap-2 px-3 xl:px-4 py-2 rounded-lg font-medium transition-colors text-sm ${v?j?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600":j?"text-red-600 hover:bg-red-50":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(g,{className:"h-4 w-4 xl:h-5 xl:w-5"}),e.jsx("span",{className:"hidden xl:inline",children:w.name})]},w.name)})}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Pj,{})}),e.jsxs("div",{className:"hidden sm:block text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate max-w-[150px]",children:(a==null?void 0:a.name)||"User"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 truncate max-w-[150px]",children:a==null?void 0:a.email})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-semibold text-xs sm:text-sm",children:x()})}),e.jsxs("button",{onClick:u,className:"hidden lg:flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium text-sm",children:[e.jsx(zu,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xl:inline",children:"Logout"})]}),e.jsx("button",{onClick:()=>s(!t),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t?e.jsx(Fe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"}):e.jsx(Iy,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"})})]})]})}),t&&e.jsx("div",{className:"lg:hidden border-t border-gray-200 bg-white shadow-2xl",children:e.jsxs("div",{className:"px-3 sm:px-4 py-3 space-y-2",children:[e.jsxs("div",{className:"sm:hidden px-4 py-3 bg-gray-50 rounded-lg mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(a==null?void 0:a.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:a==null?void 0:a.email})]}),d.map(w=>{const g=w.icon,v=r.pathname===w.path,j=w.path==="/admin";return e.jsxs(et,{to:w.path,"data-walkthrough":w.walkthrough,onClick:()=>s(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${v?j?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600":j?"text-red-600 hover:bg-red-50":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(g,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:w.name})]},w.name)}),e.jsxs("button",{onClick:()=>{s(!1),u()},className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium mt-2",children:[e.jsx(zu,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Logout"})]})]})})]}),e.jsx("main",{className:"mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 max-w-[1600px]",children:e.jsx(oy,{})})]})}function Hi({children:t}){const{isAuthenticated:s,user:r,loading:n}=si(),a=Xt();if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Checking your session"})]})});if(!s)return e.jsx(ll,{to:"/login",replace:!0,state:{from:a.pathname+a.search}});const l=r?`onboardingCompleted:${r.id||r.email}`:null,i=l&&localStorage.getItem(l)==="true",o=(r==null?void 0:r.hasCompletedOnboarding)===!0||i,c=a.pathname==="/onboarding";return!o&&!c?e.jsx(ll,{to:"/onboarding",replace:!0}):o&&c?e.jsx(ll,{to:"/dashboard",replace:!0}):t}function Ev(){const t=_e(),s=[{icon:qt,title:"AI Scheduling Assistant",description:`Type "Book meeting with john@email.com tomorrow 2pm" and it's done. No forms, no clicks.`,stat:"10x faster",color:"from-purple-500 to-pink-500",demo:'Ask AI: "Book with client@company.com tomorrow"'},{icon:qe,title:"Instant Calendar Sync",description:"Connect Google, Outlook, or Apple Calendar in one click. Auto-detects your availability.",stat:"< 30 seconds",color:"from-blue-500 to-cyan-500",demo:"One-click OAuth connection"},{icon:os,title:"Zero Double-Bookings",description:"Smart conflict detection across all your calendars. Never get overbooked again.",stat:"100% protected",color:"from-green-500 to-emerald-500",demo:"Checks all calendars in real-time"},{icon:ze,title:"Team Scheduling",description:"Round-robin, collective availability, weighted distribution. Perfect for sales teams.",stat:"Team plan",color:"from-orange-500 to-red-500",demo:"Book with entire team instantly"}],r=[{quote:"ScheduleSync's AI assistant saves me 2 hours every week. I just tell it what I need and it books everything.",author:"Sarah Chen",role:"Sales Director",company:"TechCorp",avatar:"SC"},{quote:"We switched from Calendly and saved $180/month while getting better features. The AI is game-changing.",author:"Michael Rodriguez",role:"Founder",company:"StartupXYZ",avatar:"MR"},{quote:"Finally, a scheduling tool that works the way I think. No more copy-pasting links in every email.",author:"Emily Watson",role:"Consultant",company:"Independent",avatar:"EW"}],n=[{name:"Free",price:"$0",period:"forever",description:"Perfect for getting started",features:["50 bookings/month","2 event types","10 AI queries/month","3 magic links/month","Google & Outlook sync","Email reminders","Custom booking URL"],cta:"Get Started Free",popular:!1},{name:"Pro",price:"$12",period:"/month",description:"For busy professionals",features:["Unlimited bookings","Unlimited event types","Unlimited AI queries","Unlimited magic links","Email templates","Priority support","Custom branding"],cta:"Start Pro Trial",popular:!0},{name:"Team",price:"$25",period:"/month",description:"For growing teams",features:["Everything in Pro","Unlimited teams","Round-robin booking","Collective availability","Team booking pages","Admin controls","Up to 10 members"],cta:"Start Team Trial",popular:!1}];return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white font-sans",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[e.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Features"}),e.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Pricing"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>t("/login"),className:"text-sm font-medium text-gray-600 hover:text-gray-900 px-2 sm:px-3 py-2",children:"Log in"}),e.jsxs("button",{onClick:()=>t("/register"),className:"text-xs sm:text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full px-3 sm:px-4 py-2 hover:shadow-lg transition-all",children:[e.jsx("span",{className:"hidden sm:inline",children:"Get Started Free"}),e.jsx("span",{className:"sm:hidden",children:"Sign Up"})]})]})]})})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 overflow-hidden pt-20 pb-32",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 backdrop-blur-sm border border-purple-200 text-sm font-medium text-purple-600 mb-8 shadow-sm",children:[e.jsx(ye,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:"Trusted by 10,000+ professionals"}),e.jsxs("div",{className:"flex items-center gap-1 ml-2 pl-2 border-l border-purple-200",children:[e.jsx(rn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-bold",children:"4.9/5"})]})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 tracking-tight",children:["Schedule meetings",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"in seconds with AI"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-12 leading-relaxed",children:"Say goodbye to back-and-forth emails. Our AI assistant books meetings for you instantlyjust tell it what you need."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[e.jsxs("button",{onClick:()=>t("/register"),className:"group px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105 flex items-center gap-2",children:["Start for Free",e.jsx(Je,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("button",{onClick:()=>t("/demo"),className:"px-8 py-4 bg-white text-gray-900 rounded-full text-lg font-semibold border-2 border-gray-200 hover:border-purple-300 hover:shadow-lg transition-all flex items-center gap-2",children:[e.jsx(Wu,{className:"w-5 h-5"}),"Try Live Demo"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm text-gray-600 mb-16",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[e.jsx(ne,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"No credit card required"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[e.jsx(ne,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Free forever plan"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[e.jsx(ne,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Setup in 30 seconds"})]})]}),e.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[e.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-8 border-white",children:e.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 aspect-video flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-xl p-6 mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:"AI Scheduler"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Always ready to help"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"bg-purple-600 text-white rounded-2xl rounded-tr-sm px-4 py-3 max-w-sm text-sm",children:"Book meeting with john@email.com tomorrow at 2pm"})}),e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 text-gray-900 rounded-2xl rounded-tl-sm px-4 py-3 max-w-sm text-sm",children:" Done! Meeting scheduled with john@email.com for tomorrow at 2:00 PM. Confirmation emails sent."})})]})]})})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-xl px-6 py-4 border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"10x"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Faster booking"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl px-6 py-4 border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-pink-600",children:"95%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Time saved"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl px-6 py-4 border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Double bookings"})]})]})]})]})]}),e.jsx("section",{className:"py-16 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-8",children:"Switching from these platforms daily"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-12 opacity-60",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"Calendly"}),e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"Cal.com"}),e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"HubSpot"}),e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"Chili Piper"}),e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"Acuity"})]})]})})}),e.jsx("section",{id:"features",className:"py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"The only scheduling tool with AI built in"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Stop wasting time on back-and-forth emails. Let AI handle your scheduling."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.map((a,l)=>e.jsxs("div",{className:"group bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-xl hover:border-purple-200 transition-all",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${a.color} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`,children:e.jsx(a.icon,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.title}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm font-bold",children:a.stat})]}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:a.description}),e.jsxs("div",{className:"text-sm text-purple-600 font-medium bg-purple-50 rounded-lg px-4 py-3 border border-purple-100",children:[" ",a.demo]})]},l))})]})}),e.jsx("section",{id:"pricing",className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Simple, transparent pricing"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Start free, upgrade when you need more. No hidden fees."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:n.map((a,l)=>e.jsxs("div",{className:`relative bg-white rounded-2xl p-8 border-2 transition-all ${a.popular?"border-purple-500 shadow-xl scale-105":"border-gray-200 hover:border-purple-200 hover:shadow-lg"}`,children:[a.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-bold rounded-full",children:"Most Popular"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.name}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsx("span",{className:"text-5xl font-extrabold text-gray-900",children:a.price}),e.jsx("span",{className:"text-gray-500",children:a.period})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:a.description})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:a.features.map((i,o)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(ne,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:i})]},o))}),e.jsx("button",{onClick:()=>t("/register"),className:`w-full py-3 rounded-xl font-bold transition-all ${a.popular?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-lg":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:a.cta})]},l))})]})}),e.jsx("section",{className:"py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Everything you need to schedule smarter"}),e.jsx("p",{className:"text-xl text-gray-600",children:"One simple platform. No hidden fees. Cancel anytime."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:e.jsx(ne,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Free Forever"}),e.jsx("p",{className:"text-xs text-gray-600",children:"No credit card needed"})]})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"50 bookings/month"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"10 AI queries/month"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Google & Outlook sync"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Custom booking URL"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Email reminders"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-300 relative",children:[e.jsx("div",{className:"absolute -top-3 right-4 px-3 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold rounded-full",children:" EXCLUSIVE"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"AI Scheduling"}),e.jsx("p",{className:"text-xs text-gray-600",children:"The future of booking"})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:`Type "Book with john@email.com tomorrow 2pm" and it's done. No other tool has this.`}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:e.jsxs("p",{className:"text-xs text-purple-700 font-medium",children:[" Free: 10 queries/month",e.jsx("br",{})," Pro: Unlimited queries"]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:e.jsx(qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Pro Power"}),e.jsx("p",{className:"text-xs text-gray-600",children:"$12/month"})]})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Unlimited"})," bookings"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Unlimited"})," AI queries"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Unlimited"})," event types"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Custom branding"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Priority support"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 border-2 border-amber-200 relative",children:[e.jsx("div",{className:"absolute -top-3 right-4 px-3 py-1 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold rounded-full",children:" UNIQUE"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(ye,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Magic Links"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Instant one-time booking"})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Create a one-time booking link for VIPs. They book instantly without seeing your full calendar."}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:e.jsxs("p",{className:"text-xs text-amber-700 font-medium",children:[" Free: 3/month",e.jsx("br",{})," Pro: Unlimited"]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(ze,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Team Scheduling"}),e.jsx("p",{className:"text-xs text-gray-600",children:"$25/month (up to 10)"})]})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-indigo-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Round-robin distribution"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-indigo-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Collective availability"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-indigo-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Team booking pages"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-indigo-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Admin controls"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-2xl p-6 border-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl flex items-center justify-center",children:e.jsx(os,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Enterprise Ready"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Built for scale"})]})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"99.9% uptime SLA"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"SOC 2 compliant"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"24/7 support"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"GDPR compliant"})]})]})]})]}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105",children:"Start Free  No Credit Card Required"}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:" Free forever plan   Upgrade anytime   Cancel anytime"})]})]})}),e.jsx("section",{className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Loved by busy professionals"}),e.jsx("p",{className:"text-xl text-gray-600",children:"See what people are saying about ScheduleSync"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:r.map((a,l)=>e.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((i,o)=>e.jsx(rn,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},o))}),e.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',a.quote,'"']}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white font-bold",children:a.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:a.author}),e.jsxs("div",{className:"text-sm text-gray-600",children:[a.role," @ ",a.company]})]})]})]},l))})]})}),e.jsx("section",{className:"py-24 bg-gradient-to-br from-purple-600 via-pink-600 to-purple-700 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-6xl font-extrabold mb-6",children:"Ready to save 10 hours a week?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join 10,000+ professionals who've ditched the back-and-forth emails."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-white text-purple-600 rounded-full text-lg font-bold hover:shadow-2xl transition-all transform hover:scale-105",children:"Get Started Free"}),e.jsxs("button",{onClick:()=>t("/demo"),className:"px-8 py-4 bg-purple-500/30 backdrop-blur-sm text-white rounded-full text-lg font-semibold border-2 border-white/30 hover:bg-purple-500/50 transition-all flex items-center gap-2",children:[e.jsx(Wu,{className:"w-5 h-5"}),"Try Live Demo"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 text-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Free forever plan"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"30-second setup"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Cancel anytime"})]})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-white text-lg",children:"ScheduleSync"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"AI-powered scheduling that actually works."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Integrations"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Security"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm",children:[e.jsxs("p",{children:[" ",new Date().getFullYear()," ScheduleSync. All rights reserved."]}),e.jsxs("div",{className:"flex items-center gap-6 mt-4 md:mt-0",children:[e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Twitter"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"LinkedIn"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"GitHub"})]})]})]})})]})}function Gi(){const t=_e(),s=Xt(),r=()=>s.pathname==="/login"?"login":s.pathname==="/register"||s.pathname==="/signup"?"signup":"login",[n,a]=m.useState(r()),[l,i]=m.useState(!1),[o,c]=m.useState(!1),[d,u]=m.useState(""),[x,y]=m.useState(""),[w,g]=m.useState(""),[v,j]=m.useState(""),[f,b]=m.useState(""),[p,h]=m.useState(!1),[N,S]=m.useState(null);m.useEffect(()=>{const M=localStorage.getItem("trucal_lastLoginMethod");M&&S(M)},[]);const k=M=>{localStorage.setItem("trucal_lastLoginMethod",M),S(M)};m.useEffect(()=>{const M=n==="login"?"/login":"/register";s.pathname!==M&&t(M,{replace:!0})},[n,t,s.pathname]),m.useEffect(()=>{a(r())},[s.pathname]);const C=async M=>{var E,z,K,V;M.preventDefault(),u(""),y(""),c(!0);try{if(n==="login"){const D=await _.auth.login(w,v);D.data.success&&D.data.token&&(k("email"),localStorage.setItem("token",D.data.token),localStorage.setItem("user",JSON.stringify(D.data.user)),t("/dashboard"))}else{if(!p){u("Please agree to the Terms of Service and Privacy Policy"),c(!1);return}const D=await _.auth.register(f,w,v);D.data.token?(k("email"),localStorage.setItem("token",D.data.token),localStorage.setItem("user",JSON.stringify(D.data.user)),t("/dashboard")):(y("Account created! Please check your email to verify."),a("login"))}}catch(D){u(((z=(E=D.response)==null?void 0:E.data)==null?void 0:z.error)||((V=(K=D.response)==null?void 0:K.data)==null?void 0:V.message)||"Something went wrong.")}finally{c(!1)}},P=async()=>{var M,E,z,K;try{u(""),c(!0),console.log(" Google login clicked");const V=await _.oauth.getGoogleUrl();if(console.log(" Google OAuth URL response:",V.data),V.data.url)console.log(" Redirecting to:",V.data.url),k("google"),window.location.href=V.data.url;else throw new Error("No URL in response")}catch(V){console.error(" Google auth error:",V),u(((E=(M=V.response)==null?void 0:M.data)==null?void 0:E.error)||((K=(z=V.response)==null?void 0:z.data)==null?void 0:K.message)||"Failed to start Google login"),c(!1)}},I=async()=>{var M,E,z,K,V;try{u(""),c(!0),console.log(" Microsoft login clicked");const D=await _.oauth.getMicrosoftUrl();if(console.log(" Microsoft OAuth URL response:",D.data),D.data.error){u(D.data.message||D.data.error),c(!1);return}if(D.data.url)console.log(" Redirecting to:",D.data.url),k("microsoft"),window.location.href=D.data.url;else throw new Error("No URL in response")}catch(D){console.error(" Microsoft auth error:",D),((M=D.response)==null?void 0:M.status)===503?u(" Microsoft integration is not yet configured. Please use another sign-in method."):u(((z=(E=D.response)==null?void 0:E.data)==null?void 0:z.message)||((V=(K=D.response)==null?void 0:K.data)==null?void 0:V.error)||"Failed to start Microsoft login. Please try again."),c(!1)}},O=["AI-powered scheduling assistant","Google & Outlook calendar sync","Team scheduling & round-robin","Custom booking pages","Email reminders & templates"];return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 lg:px-8 bg-white",children:e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxs(et,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:e.jsx(oe,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"font-bold text-xl text-gray-900",children:"ScheduleSync"})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-8",children:[e.jsx("button",{onClick:()=>a("login"),className:`flex-1 py-2.5 text-sm font-semibold rounded-lg transition-all ${n==="login"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Log in"}),e.jsx("button",{onClick:()=>a("signup"),className:`flex-1 py-2.5 text-sm font-semibold rounded-lg transition-all ${n==="signup"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Sign up"})]}),e.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900 mb-2",children:n==="login"?"Welcome back":"Create your account"}),e.jsx("p",{className:"text-center text-sm text-gray-500 mb-6",children:n==="login"?"Log in to manage your scheduling":"Get started free  no credit card required"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{onClick:P,disabled:o,className:`relative w-full flex items-center justify-center gap-3 px-4 py-3 border rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed ${N==="google"?"border-green-300 bg-green-50/50":"border-gray-200 hover:border-gray-300"}`,children:[N==="google"&&e.jsxs("span",{className:"absolute -top-2 -right-2 flex items-center gap-1 bg-green-500 text-white text-[10px] font-medium px-2 py-0.5 rounded-full",children:[e.jsx(ue,{className:"h-3 w-3"}),"Last used"]}),e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("button",{onClick:I,disabled:o,className:`relative w-full flex items-center justify-center gap-3 px-4 py-3 border rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed ${N==="microsoft"?"border-green-300 bg-green-50/50":"border-gray-200 hover:border-gray-300"}`,children:[N==="microsoft"&&e.jsxs("span",{className:"absolute -top-2 -right-2 flex items-center gap-1 bg-green-500 text-white text-[10px] font-medium px-2 py-0.5 rounded-full",children:[e.jsx(ue,{className:"h-3 w-3"}),"Last used"]}),e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[e.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),e.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),e.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),e.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-3 bg-white text-gray-400 uppercase tracking-wide",children:"Or continue with email"})})]}),d&&e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-red-50 border border-red-100 text-red-600 text-sm",children:d}),x&&e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-green-50 border border-green-100 text-green-600 text-sm",children:x}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[n==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full name"}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:f,onChange:M=>b(M.target.value),placeholder:"John Doe",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:w,onChange:M=>g(M.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),n==="login"&&e.jsx(et,{to:"/forgot-password",className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:l?"text":"password",value:v,onChange:M=>j(M.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(nd,{className:"w-5 h-5"}):e.jsx(ya,{className:"w-5 h-5"})})]})]}),n==="signup"&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:p,onChange:M=>h(M.target.checked),className:"mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-500",children:["I agree to the ",e.jsx(et,{to:"/terms",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Terms of Service"})," and ",e.jsx(et,{to:"/privacy",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-purple-500/25 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[n==="login"?"Log in":"Create account",e.jsx(Je,{className:"w-4 h-4"})]})})]}),e.jsx("p",{className:"mt-6 text-center text-sm text-gray-500",children:n==="login"?e.jsxs(e.Fragment,{children:["Don't have an account? ",e.jsx("button",{onClick:()=>a("signup"),className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Sign up free"})]}):e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx("button",{onClick:()=>a("login"),className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Log in"})]})})]})}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-purple-600 via-purple-700 to-pink-600 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative flex flex-col justify-center px-12 py-16",children:e.jsxs("div",{className:"max-w-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ye,{className:"w-6 h-6 text-pink-300"}),e.jsx("span",{className:"text-pink-200 font-medium text-sm uppercase tracking-wide",children:"AI-Powered Scheduling"})]}),e.jsxs("h1",{className:"text-4xl font-bold text-white mb-4 leading-tight",children:["Scheduling made",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-200 to-white",children:"effortless"})]}),e.jsx("p",{className:"text-lg text-purple-100 mb-8 leading-relaxed",children:"Join thousands of professionals who save hours every week with intelligent scheduling."}),e.jsx("ul",{className:"space-y-4",children:O.map((M,E)=>e.jsxs("li",{className:"flex items-center gap-3 text-white/90",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:e.jsx(ue,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm",children:M})]},E))})]})})]})]})}const Ga=5,Pv=["Book a meeting with john@example.com tomorrow at 2pm","Schedule a 30-minute call with sarah@company.com next Monday","Find me a free slot this Friday afternoon","What's my availability this week?"],Av=t=>{const s=t.toLowerCase();if(s.includes("book")||s.includes("schedule")||s.includes("meeting")||s.includes("call")){const r=t.match(/[\w.-]+@[\w.-]+\.\w+/i),n=r?r[0]:"contact@example.com";let a="tomorrow at 2:00 PM";return s.includes("monday")?a="Monday at 10:00 AM":s.includes("friday")?a="Friday at 3:00 PM":s.includes("next week")?a="next Tuesday at 11:00 AM":s.includes("3pm")||s.includes("3 pm")?a="tomorrow at 3:00 PM":(s.includes("10am")||s.includes("10 am"))&&(a="tomorrow at 10:00 AM"),{type:"booking_confirmed",message:` **Meeting Scheduled!**

I've booked a 30-minute meeting with **${n}** for **${a}**.

 Confirmation emails sent to both parties
 Added to your calendar
 Google Meet link: meet.google.com/abc-defg-hij

*In the full version, this would actually create the booking and send real invites!*`}}if(s.includes("available")||s.includes("availability")||s.includes("free slot")||s.includes("free time"))return{type:"availability",message:` **Your Availability This Week:**

**Tomorrow:**
 9:00 AM - 10:30 AM
 2:00 PM - 5:00 PM

**Wednesday:**
 10:00 AM - 12:00 PM
 3:30 PM - 6:00 PM

**Thursday:**
 All day available

**Friday:**
 9:00 AM - 11:00 AM
 1:00 PM - 4:00 PM

Would you like me to book a specific slot?`};if(s.includes("add")&&(s.includes("attendee")||s.includes("@"))){const r=t.match(/[\w.-]+@[\w.-]+\.\w+/i);return{type:"attendee_added",message:` Done! I've added **${r?r[0]:"newperson@example.com"}** to your meeting.

 Calendar invite sent to the new attendee.

Anyone else you'd like to add?`}}return s.includes("reschedule")||s.includes("move")||s.includes("change time")?{type:"rescheduled",message:` **Meeting Rescheduled!**

I've moved your meeting to **Thursday at 3:00 PM**.

 Updated invites sent to all attendees
 Calendar updated

Is there anything else you need?`}:s.includes("cancel")?{type:"cancelled",message:` **Meeting Cancelled**

I've cancelled the meeting and notified all attendees.

Would you like to reschedule for another time?`}:s.includes("link")||s.includes("booking page")||s.includes("share")?{type:"link",message:` **Your Booking Links:**

**Main booking page:**
schedulesync.com/yourname

**30-min Quick Call:**
schedulesync.com/yourname/quick-call

**1-hour Consultation:**
schedulesync.com/yourname/consultation

Share these links and let people book directly on your calendar!`}:{type:"general",message:`I can help you with:

 **Scheduling** - "Book a meeting with john@email.com tomorrow at 2pm"
 **Availability** - "What's my availability this week?"
 **Links** - "What's my booking link?"
 **Changes** - "Reschedule my meeting to Friday"

Just tell me what you need in plain English!`}};function Lv(){const t=_e(),[s,r]=m.useState([{role:"assistant",content:` **Welcome to the ScheduleSync AI Demo!**

I'm your AI scheduling assistant. Try sending me a message!

**Try these:**
 "Book a meeting with john@example.com tomorrow at 2pm"
 "What's my availability this week?"
 "Create a booking link for Sarah"

This is a demo with simulated responses. Sign up to connect your real calendar!`}]),[n,a]=m.useState(""),[l,i]=m.useState(!1),[o,c]=m.useState(0),[d,u]=m.useState(!1),x=m.useRef(null),y=()=>{var v;(v=x.current)==null||v.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{y()},[s]);const w=async()=>{if(!n.trim())return;if(o>=Ga){u(!0);return}const v={role:"user",content:n};r(b=>[...b,v]);const j=n;a(""),i(!0),c(b=>b+1),await new Promise(b=>setTimeout(b,1e3+Math.random()*1e3));const f=Av(j);r(b=>[...b,{role:"assistant",content:f.message}]),i(!1)},g=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),w())};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[e.jsx("div",{className:"border-b border-white/10 backdrop-blur-sm bg-black/20",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-white/60 text-sm hidden sm:block",children:[Ga-o," demo messages left"]}),e.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-semibold text-sm hover:shadow-lg hover:shadow-purple-500/25 transition-all",children:"Sign Up Free"})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-8",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(qt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"AI Scheduling Assistant"}),e.jsxs("p",{className:"text-white/50 text-xs flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Demo Mode  ",Ga-o," messages remaining"]})]})]}),e.jsxs("div",{className:"h-[400px] sm:h-[450px] overflow-y-auto p-4 space-y-4",children:[s.map((v,j)=>e.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] sm:max-w-[75%] rounded-2xl px-4 py-3 ${v.role==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white/10 text-white border border-white/10"}`,children:e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:v.content.split("**").map((f,b)=>b%2===1?e.jsx("strong",{children:f},b):f)})})},j)),l&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white/10 rounded-2xl px-4 py-3 border border-white/10",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),e.jsx("div",{ref:x})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onKeyPress:g,placeholder:"Type a message...",className:"flex-1 bg-white/10 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",disabled:l}),e.jsx("button",{onClick:w,disabled:!n.trim()||l,className:"p-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:e.jsx(Vh,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-white/50 text-sm mb-3 text-center",children:"Try these examples:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Pv.map((v,j)=>e.jsx("button",{onClick:()=>a(v),className:"px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white/70 text-xs hover:bg-white/10 hover:text-white transition-all",children:v},j))})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx(qe,{className:"w-8 h-8 text-yellow-400 mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Natural Language"}),e.jsx("p",{className:"text-white/50 text-sm",children:'Just type what you need - "Book a meeting with John tomorrow"'})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx(oe,{className:"w-8 h-8 text-blue-400 mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Smart Scheduling"}),e.jsx("p",{className:"text-white/50 text-sm",children:"AI finds the best times based on your calendar"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx(ne,{className:"w-8 h-8 text-green-400 mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Instant Booking"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Meetings created & invites sent automatically"})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsxs("button",{onClick:()=>t("/register"),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold text-lg hover:shadow-xl hover:shadow-purple-500/25 transition-all inline-flex items-center gap-2",children:["Get Started Free",e.jsx(Je,{className:"w-5 h-5"})]}),e.jsx("p",{className:"text-white/40 text-sm mt-3",children:"No credit card required  Connect your real calendar"})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-slate-800 rounded-2xl p-6 max-w-md w-full border border-white/10 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Demo Limit Reached"}),e.jsxs("p",{className:"text-white/60 mb-6",children:["You've used all ",Ga," demo messages. Sign up for free to get unlimited AI scheduling with your real calendar!"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t("/register"),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/25 transition-all",children:"Sign Up Free"}),e.jsx("button",{onClick:()=>u(!1),className:"w-full px-6 py-3 bg-white/10 text-white rounded-xl font-medium hover:bg-white/20 transition-all",children:"Continue Browsing"})]})]})})})]})}function Mv(){const[t,s]=m.useState(""),[r,n]=m.useState("idle"),[a,l]=m.useState(""),i=async o=>{var c,d;o.preventDefault(),n("loading"),l("");try{await ir.forgotPassword(t),n("success"),l("If this email is registered, weve sent a reset link to your inbox.")}catch(u){console.error("Forgot password error:",u),n("error"),l(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.error)||"Something went wrong. Please try again in a moment.")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"bg-white/90 border border-purple-100 shadow-lg rounded-2xl px-6 py-8",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Forgot your password?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Enter the email associated with your account and well send you a reset link."}),r==="success"&&e.jsxs("div",{className:"mb-4 flex items-start gap-2 rounded-xl border border-green-100 bg-green-50 px-3 py-2 text-sm text-green-800",children:[e.jsx(_s,{className:"w-4 h-4 mt-0.5"}),e.jsx("p",{children:a})]}),r==="error"&&e.jsx("div",{className:"mb-4 rounded-xl border border-red-100 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold uppercase tracking-wide text-gray-600",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-400",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:o=>s(o.target.value),placeholder:"you@example.com",className:"w-full rounded-xl border border-gray-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500"})]})]}),e.jsx("button",{type:"submit",disabled:r==="loading",className:"w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:from-blue-600 hover:to-purple-700 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r==="loading"?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 animate-spin"}),"Sending reset link"]}):"Send reset link"})]}),e.jsxs("div",{className:"mt-6 flex justify-between text-xs text-gray-500",children:[e.jsx(et,{to:"/login",className:"hover:text-purple-600 font-medium",children:"Back to login"}),e.jsx(et,{to:"/register",className:"hover:text-purple-600 font-medium",children:"Create an account"})]})]})]})})}function Rv(){const[t]=_r(),s=_e(),r=t.get("token"),[n,a]=m.useState(""),[l,i]=m.useState(""),[o,c]=m.useState(!1),[d,u]=m.useState(""),[x,y]=m.useState(!1),w=async g=>{var v,j;if(g.preventDefault(),u(""),n.length<6){u("Password must be at least 6 characters");return}if(n!==l){u("Passwords do not match");return}if(!r){u("Invalid reset token");return}c(!0);try{await _.post("/auth/reset-password",{token:r,password:n}),y(!0),setTimeout(()=>s("/login"),2e3)}catch(f){u(((j=(v=f.response)==null?void 0:v.data)==null?void 0:j.error)||"Failed to reset password")}finally{c(!1)}};return r?x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(_s,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset. Redirecting to login..."}),e.jsx(se,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(oe,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your new password below"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{id:"password",type:"password",value:n,onChange:g=>a(g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter new password",required:!0,minLength:6,disabled:o}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:g=>i(g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Confirm new password",required:!0,minLength:6,disabled:o})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Resetting Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-5 w-5"}),"Reset Password"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(et,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Back to Login"})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(gs,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),e.jsx(et,{to:"/forgot-password",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Request New Link"})]})})})}function Dv(){const[t]=_r(),[s,r]=m.useState("loading"),[n,a]=m.useState(""),l=t.get("token");return m.useEffect(()=>{(async()=>{var o,c,d;if(!l){r("error"),a("Missing verification token.");return}try{const u=await ir.verifyEmail(l);r("success"),a(((o=u.data)==null?void 0:o.message)||"Your email has been verified successfully.")}catch(u){console.error("Verify error:",u),r("error"),a(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.error)||"We could not verify your email. The link may have expired or already been used.")}})()},[l]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"ScheduleSync"})]}),e.jsxs("div",{className:"bg-white/90 border border-purple-100 shadow-lg rounded-2xl px-6 py-8 text-center",children:[s==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-blue-600 animate-spin"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying your email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we confirm your email address."})]}),s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center",children:e.jsx(_s,{className:"w-6 h-6 text-green-600"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email verified"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n}),e.jsx(et,{to:"/login",className:"inline-flex items-center justify-center w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:from-blue-600 hover:to-purple-700 transition-colors",children:"Continue to login"})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center",children:e.jsx(yt,{className:"w-6 h-6 text-red-600"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification failed"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(et,{to:"/login",className:"inline-flex items-center justify-center w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:from-blue-600 hover:to-purple-700 transition-colors",children:"Go to login"}),e.jsx(et,{to:"/register",className:"inline-flex items-center justify-center w-full rounded-xl border border-gray-200 px-4 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-colors",children:"Create a new account"})]})]})]})]})})}const qa=new Set;let Er=!1;function Tn({onLogin:t}){const s=_e(),[r]=_r(),n=Xt();return m.useEffect(()=>{const a=r.get("code"),l=r.get("state"),i=r.get("error"),o=n.pathname||"";let c="google";if(o.includes("microsoft")?c="microsoft":o.includes("calendly")&&(c="calendly"),console.log("?? OAuthCallback mounted:",{hasCode:!!a,state:l,error:i,provider:c,path:o}),i){console.error("? OAuth error from provider:",i),s("/login?error=oauth_failed",{replace:!0});return}if(!a){console.error("? No OAuth code in URL"),s("/login",{replace:!0});return}if(Er){console.log("?? Already processing a request, ignoring duplicate");return}if(qa.has(a)){console.log("?? This code already processed, redirecting to dashboard"),s("/dashboard",{replace:!0});return}if(Er=!0,qa.add(a),console.log("?? Code marked as processing for provider:",c),window.history.replaceState({},"",n.pathname),l!=null&&l.startsWith("guest-booking:")){console.log("?? Booking OAuth flow");const d=l.split(":"),u=d[1];d[2],Er=!1,s(`/book/${u}?code=${a}&state=${l}`,{replace:!0});return}return console.log("?? Dashboard OAuth flow - processing login for:",c),(async()=>{var d,u,x,y,w,g,v;try{let j;if(c==="google")console.log("?? Calling backend /auth/google/callback ..."),j=await hs.handleGoogleCallback(a);else if(c==="microsoft")console.log("?? Calling backend /auth/microsoft/callback ..."),j=await hs.handleMicrosoftCallback(a);else if(c==="calendly")console.log("?? Calling backend /auth/calendly/callback ..."),j=await hs.handleCalendlyCallback(a);else throw new Error(`Unsupported provider: ${c}`);const f=j.data;console.log("? Raw OAuth backend response:",f);let b=(f==null?void 0:f.token)??(f==null?void 0:f.accessToken)??(f==null?void 0:f.jwt)??((d=f==null?void 0:f.data)==null?void 0:d.token)??null,p=(f==null?void 0:f.user)??((u=f==null?void 0:f.data)==null?void 0:u.user)??(f==null?void 0:f.currentUser)??null;if(!p){console.warn(`?? No user object returned for provider ${c}. Response:`,f),Er=!1,qa.delete(a);const h=(f==null?void 0:f.message)||(f==null?void 0:f.error)||"Authentication failed. Please sign in again.";s(`/login?error=${encodeURIComponent(h)}`,{replace:!0});return}b||console.warn(`?? No token in OAuth response for ${c}, proceeding with user only`),console.log("?? Updating app state via onLogin..."),typeof t=="function"?t(b||"",p):console.warn("?? onLogin prop is not a function"),Er=!1}catch(j){console.error("? OAuth failed:",{message:j.message,response:(x=j.response)==null?void 0:x.data}),Er=!1,qa.delete(a);const f=((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.hint)||((v=(g=j.response)==null?void 0:g.data)==null?void 0:v.error)||"Authentication failed. Please try again.";s(`/login?error=${encodeURIComponent(f)}`,{replace:!0})}})(),()=>{console.log("?? OAuthCallback unmounting")}},[s,r,n,t]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-purple-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-12 w-12 text-white animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg font-medium",children:"Signing you in..."}),e.jsx("p",{className:"text-white text-sm mt-2 opacity-80",children:"This should only take a moment"})]})})}function Iv(){var b;const t=_e(),{updateUser:s,user:r}=si(),[n,a]=m.useState(1),[l,i]=m.useState(!1),[o,c]=m.useState(""),[d,u]=m.useState(!1),[x,y]=m.useState({username:((b=r==null?void 0:r.email)==null?void 0:b.split("@")[0])||"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,availableFrom:"09:00",availableTo:"17:00",workDays:["Mon","Tue","Wed","Thu","Fri"]}),w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=r?`onboardingCompleted:${r.id||r.email}`:null;m.useEffect(()=>{if(!r)return;g&&localStorage.getItem(g)==="true"||r.hasCompletedOnboarding?t("/dashboard",{replace:!0}):u(!0)},[r,g,t]);const v=()=>{n<3&&a(p=>p+1)},j=p=>{y(h=>{const N=h.workDays.includes(p)?h.workDays.filter(S=>S!==p):[...h.workDays,p];return{...h,workDays:N}})},f=async()=>{var p,h;i(!0),c("");try{await _.put("/users/profile",{username:x.username,timezone:x.timezone,availability:{start:x.availableFrom,end:x.availableTo,days:x.workDays},has_completed_onboarding:!0}),s({...r,username:x.username,hasCompletedOnboarding:!0}),g&&localStorage.setItem(g,"true"),t("/dashboard",{replace:!0})}catch(N){console.error("Onboarding failed:",N),c(((h=(p=N==null?void 0:N.response)==null?void 0:p.data)==null?void 0:h.error)||"Failed to save profile. Please try again.")}finally{i(!1)}};return!r||!d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center px-4 font-sans",children:e.jsxs("div",{className:"w-full max-w-lg bg-white/90 backdrop-blur-xl border border-purple-100 shadow-2xl rounded-3xl overflow-hidden transition-all duration-500",children:[e.jsx("div",{className:"bg-gray-100 h-1.5 w-full",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-500 ease-out",style:{width:`${n/3*100}%`}})}),e.jsxs("div",{className:"p-8 sm:p-10",children:[o&&e.jsx("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-sm rounded-xl border border-red-200 text-center",children:o}),n===1&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx(ht,{size:28})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Welcome to TruCal!"}),e.jsx("p",{className:"text-gray-500",children:"Let's claim your unique booking link."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 ml-1",children:"Create your URL"}),e.jsxs("div",{className:"flex rounded-xl shadow-sm ring-1 ring-gray-200 focus-within:ring-2 focus-within:ring-purple-500 transition-all overflow-hidden",children:[e.jsx("span",{className:"inline-flex items-center px-4 bg-gray-50 text-gray-500 sm:text-sm font-medium border-r border-gray-200",children:"trucal.xyz/"}),e.jsx("input",{type:"text",value:x.username,onChange:p=>y({...x,username:p.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"flex-1 min-w-0 block w-full px-4 py-3 bg-white border-0 focus:ring-0 sm:text-sm text-gray-900 placeholder-gray-400",placeholder:"john-doe"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-400 ml-1",children:"This will be your public profile link."})]}),e.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-xl flex items-start gap-3 border border-blue-100",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Kt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Timezone Detected"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-0.5",children:["We've set your timezone to"," ",e.jsx("strong",{children:x.timezone}),"."]})]})]}),e.jsxs("button",{onClick:v,disabled:!x.username,className:"w-full py-4 px-6 bg-gray-900 text-white rounded-xl font-bold text-lg hover:bg-gray-800 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 shadow-lg",children:["Next Step ",e.jsx(Ts,{size:20})]})]}),n===2&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-14 h-14 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx(Se,{size:28})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Set availability"}),e.jsx("p",{className:"text-gray-500",children:"Define your standard working hours."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Start Time"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:x.availableFrom,onChange:p=>y({...x,availableFrom:p.target.value}),className:"block w-full pl-4 pr-10 py-3 text-base border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent sm:text-sm rounded-xl bg-gray-50",children:[e.jsx("option",{value:"08:00",children:"08:00 AM"}),e.jsx("option",{value:"09:00",children:"09:00 AM"}),e.jsx("option",{value:"10:00",children:"10:00 AM"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide",children:"End Time"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:x.availableTo,onChange:p=>y({...x,availableTo:p.target.value}),className:"block w-full pl-4 pr-10 py-3 text-base border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent sm:text-sm rounded-xl bg-gray-50",children:[e.jsx("option",{value:"16:00",children:"04:00 PM"}),e.jsx("option",{value:"17:00",children:"05:00 PM"}),e.jsx("option",{value:"18:00",children:"06:00 PM"})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide",children:"Available Days"}),e.jsx("div",{className:"flex justify-between gap-2",children:w.map(p=>{const h=x.workDays.includes(p);return e.jsx("button",{type:"button",onClick:()=>j(p),className:`w-10 h-10 rounded-full text-xs font-bold transition-all duration-200 ${h?"bg-purple-600 text-white shadow-md transform scale-110":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:p.charAt(0)},p)})})]}),e.jsxs("button",{onClick:v,className:"w-full py-4 px-6 bg-gray-900 text-white rounded-xl font-bold text-lg hover:bg-gray-800 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-2 shadow-lg",children:["Next Step ",e.jsx(Ts,{size:20})]})]}),n===3&&e.jsxs("div",{className:"text-center space-y-8 animate-in fade-in slide-in-from-right-8 duration-500",children:[e.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-green-100 rounded-full animate-ping opacity-25"}),e.jsx("div",{className:"relative w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center shadow-sm",children:e.jsx(_s,{size:48,strokeWidth:2.5})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"You're all set!"}),e.jsx("p",{className:"text-gray-500 max-w-xs mx-auto",children:"We've created your booking page and a default 30-min meeting type."})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl border border-gray-200 transform transition-transform hover:scale-[1.02] cursor-default",children:[e.jsxs("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-bold mb-2 flex items-center justify-center gap-2",children:[e.jsx(ye,{size:12,className:"text-purple-500"})," Your Personal Link"]}),e.jsxs("p",{className:"text-lg font-bold text-purple-600 break-all",children:["trucal.xyz/",x.username]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Share this link to let people book time with you"})]}),e.jsx("button",{onClick:f,disabled:l,className:"w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold text-lg hover:shadow-xl hover:scale-[1.02] transition-all disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-3",children:l?e.jsxs(e.Fragment,{children:[e.jsx(se,{size:20,className:"animate-spin"})," Setting up dashboard..."]}):e.jsxs(e.Fragment,{children:["Go to Dashboard ",e.jsx(Ts,{size:20})]})})]})]})]})})}function Fv(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,l]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState([]),[u,x]=m.useState(!1),y=_e();m.useEffect(()=>{w()},[]);const w=async()=>{var h;try{n(!0);const N=await _.get("/admin/users");s(N.data.users),d([])}catch(N){console.error("Failed to load users:",N),((h=N.response)==null?void 0:h.status)===403?l("Access Denied: You are not an admin."):l("Failed to load user list.")}finally{n(!1)}},g=async(h,N)=>{var S,k;if(window.confirm(`Are you sure you want to PERMANENTLY delete ${N}? This will remove all their teams and bookings. This cannot be undone.`))try{s(C=>C.filter(P=>P.id!==h)),d(C=>C.filter(P=>P!==h)),await _.delete(`/admin/users/${h}`),alert(`User ${N} deleted successfully.`)}catch(C){console.error("Delete failed:",C),alert("Failed to delete user: "+(((k=(S=C.response)==null?void 0:S.data)==null?void 0:k.error)||C.message)),w()}},v=t.filter(h=>h.email.toLowerCase().includes(i.toLowerCase())||h.name&&h.name.toLowerCase().includes(i.toLowerCase())),j=v.length>0&&v.every(h=>c.includes(h.id)),f=h=>{d(N=>N.includes(h)?N.filter(S=>S!==h):[...N,h])},b=()=>{if(j){const h=v.map(N=>N.id);d(N=>N.filter(S=>!h.includes(S)))}else{const h=v.map(N=>N.id);d(N=>Array.from(new Set([...N,...h])))}},p=async()=>{var k,C;if(c.length===0)return;const N=t.filter(P=>c.includes(P.id)).map(P=>P.email).join(`
`);if(window.confirm(`You are about to PERMANENTLY delete ${c.length} user(s).

This will remove all their teams and bookings.
This CANNOT be undone.

Users:
${N}

Continue?`))try{x(!0),s(P=>P.filter(I=>!c.includes(I.id))),await Promise.all(c.map(P=>_.delete(`/admin/users/${P}`))),alert(`Deleted ${c.length} user(s) successfully.`),d([])}catch(P){console.error("Bulk delete failed:",P),alert("Failed to delete some users: "+(((C=(k=P.response)==null?void 0:k.data)==null?void 0:C.error)||P.message)),w()}finally{x(!1)}};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})}):a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md border border-red-100",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Jo,{size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a}),e.jsx("button",{onClick:()=>y("/dashboard"),className:"px-6 py-2 bg-gray-900 text-white rounded-xl hover:bg-gray-800 transition-colors",children:"Back to Dashboard"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6 sm:p-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Jo,{className:"text-blue-600"}),"Admin Panel"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage system users and data."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"bg-white px-4 py-2 rounded-xl border shadow-sm text-sm font-medium text-gray-600",children:["Total Users:"," ",e.jsx("span",{className:"text-gray-900 font-bold",children:t.length})]}),e.jsxs("button",{type:"button",onClick:p,disabled:c.length===0||u,className:`inline-flex items-center justify-center px-4 py-2 rounded-xl text-sm font-semibold border transition-colors ${c.length===0||u?"border-gray-200 text-gray-400 bg-gray-100 cursor-not-allowed":"border-red-200 text-red-700 bg-red-50 hover:bg-red-100"}`,children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),u?"Deleting...":`Delete Selected (${c.length})`]})]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(cd,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:i,onChange:h=>o(h.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm shadow-sm"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:j,onChange:b,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(h=>{var N;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:c.includes(h.id),onChange:()=>f(h.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:((N=h.name)==null?void 0:N[0])||h.email[0].toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name||"No Name"}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Qe,{size:12})," ",h.email]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(ze,{size:12,className:"mr-1"})," ",h.team_count||0," Teams"]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(oe,{size:12,className:"mr-1"})," ",h.booking_count||0," Bookings"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.created_at?new Date(h.created_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:`capitalize px-2 py-1 rounded-md text-xs border ${h.provider==="google"?"bg-white border-gray-200":"bg-gray-100"}`,children:h.provider||"Email"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>g(h.id,h.email),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 p-2 rounded-lg transition-colors",title:"Delete User",children:e.jsx(mt,{size:18})})})]},h.id)})})]})}),v.length===0&&e.jsx("div",{className:"text-center py-10 text-gray-500",children:"No users found matching your search."})]})]})})}function $v(){const{token:t}=vs(),s=_e(),[r,n]=m.useState(!0),[a,l]=m.useState(null),[i,o]=m.useState(null),[c,d]=m.useState(null),[u,x]=m.useState(""),[y,w]=m.useState(""),[g,v]=m.useState(""),[j,f]=m.useState(!1),[b,p]=m.useState(!1),[h,N]=m.useState(!1),[S,k]=m.useState(""),C=!!localStorage.getItem("token");m.useEffect(()=>{P()},[t]);const P=async()=>{var E,z,K,V;try{n(!0);const D=await _.get(`/invitations/${t}`);l(D.data.invitation),x(D.data.invitation.name||"")}catch(D){console.error("Load invitation error:",D),o(((z=(E=D.response)==null?void 0:E.data)==null?void 0:z.error)||"Failed to load invitation"),d((V=(K=D.response)==null?void 0:K.data)==null?void 0:V.code)}finally{n(!1)}},I=async()=>{var E,z;try{f(!0);const K=await _.post(`/invitations/${t}/accept`);N(!0),k(K.data.message||`You've joined ${a.team.name}!`),setTimeout(()=>{s("/dashboard")},2e3)}catch(K){console.error("Accept error:",K),o(((z=(E=K.response)==null?void 0:E.data)==null?void 0:z.error)||"Failed to accept invitation")}finally{f(!1)}},O=async E=>{var z,K,V,D;if(E.preventDefault(),y!==g){o("Passwords do not match");return}if(y.length<6){o("Password must be at least 6 characters");return}try{f(!0),o(null);const A=await _.post(`/invitations/${t}/accept-signup`,{name:u,password:y});localStorage.setItem("token",A.data.token),N(!0),k(A.data.message||`Welcome to ${a.team.name}!`),setTimeout(()=>{s("/dashboard")},2e3)}catch(A){console.error("Signup error:",A),o(((K=(z=A.response)==null?void 0:z.data)==null?void 0:K.error)||"Failed to create account"),((D=(V=A.response)==null?void 0:V.data)==null?void 0:D.code)==="ACCOUNT_EXISTS"&&d("ACCOUNT_EXISTS")}finally{f(!1)}},M=async()=>{if(confirm("Are you sure you want to decline this invitation?"))try{p(!0),await _.post(`/invitations/${t}/decline`),o("Invitation declined"),d("DECLINED")}catch(E){console.error("Decline error:",E)}finally{p(!1)}};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-12 w-12 animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading invitation..."})]})}):i&&!a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c==="EXPIRED"?e.jsx(Se,{className:"h-8 w-8 text-red-600"}):c==="ALREADY_ACCEPTED"?e.jsx(ne,{className:"h-8 w-8 text-green-600"}):e.jsx(yt,{className:"h-8 w-8 text-red-600"})}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:[c==="EXPIRED"&&"Invitation Expired",c==="ALREADY_ACCEPTED"&&"Already Accepted",c==="DECLINED"&&"Invitation Declined",c==="NOT_FOUND"&&"Invitation Not Found",!c&&"Something Went Wrong"]}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsxs(et,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors",children:["Go to Login",e.jsx(Je,{className:"h-4 w-4"})]})]})}):h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ne,{className:"h-10 w-10 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to the Team! "}),e.jsx("p",{className:"text-gray-600 mb-4",children:S}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Redirecting to dashboard..."})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-lg w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-8 text-center text-white",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{className:"h-8 w-8"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"You're Invited!"}),e.jsxs("p",{className:"text-indigo-100",children:["Join ",a.inviter.name,"'s team"]})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"bg-indigo-50 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(ri,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900 text-lg",children:a.team.name}),a.team.description&&e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:a.team.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"h-4 w-4"}),a.team.member_count," members"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Invited by ",a.inviter.name]})]})]})]})}),i&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:i}),c==="ACCOUNT_EXISTS"&&e.jsx(et,{to:`/login?redirect=/invite/${t}`,className:"text-red-600 underline text-sm",children:"Click here to log in"})]})]}),C&&a.has_account&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-center text-gray-600",children:["Click below to join ",e.jsx("strong",{children:a.team.name})," as ",e.jsx("strong",{children:a.email})]}),e.jsx("button",{onClick:I,disabled:j,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Joining..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-5 w-5"}),"Accept & Join Team"]})}),e.jsx("button",{onClick:M,disabled:b,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:b?e.jsx(se,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"h-4 w-4"}),"Decline Invitation"]})})]}),!C&&a.has_account&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-center",children:e.jsxs("p",{className:"text-amber-800",children:["An account exists for ",e.jsx("strong",{children:a.email}),". Please log in to accept this invitation."]})}),e.jsxs(et,{to:`/login?redirect=/invite/${t}`,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:["Log In to Accept",e.jsx(Je,{className:"h-5 w-5"})]}),e.jsxs("button",{onClick:M,disabled:b,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Decline Invitation"]})]}),!a.has_account&&e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("p",{className:"text-center text-gray-600 mb-4",children:["Create your account to join ",e.jsx("strong",{children:a.team.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:u,onChange:E=>x(E.target.value),placeholder:"Enter your name",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Create Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"password",value:y,onChange:E=>w(E.target.value),placeholder:"At least 6 characters",required:!0,minLength:6,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"password",value:g,onChange:E=>v(E.target.value),placeholder:"Confirm your password",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),e.jsx("button",{type:"submit",disabled:j,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-5 w-5"}),"Create Account & Join"]})}),e.jsxs("button",{type:"button",onClick:M,disabled:b,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Decline Invitation"]}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]}),e.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),"Powered by ScheduleSync"]})})]})})}function Uv(){console.log(" AISchedulerChat component is rendering!");const{currentTier:t,hasProFeature:s,hasTeamFeature:r,loading:n,refreshUsage:a,usage:l}=Rs(),i={ai_queries_used:(l==null?void 0:l.ai_queries_used)??0,ai_queries_limit:(l==null?void 0:l.ai_queries_limit)??10},o=(i.ai_queries_limit??0)>=1e3,[c,d]=m.useState(""),u=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"London (GMT)"},{value:"Europe/Paris",label:"Paris (CET)"},{value:"Asia/Singapore",label:"Singapore (SGT)"},{value:"Asia/Tokyo",label:"Tokyo (JST)"},{value:"Asia/Shanghai",label:"Shanghai (CST)"},{value:"Asia/Manila",label:"Manila (PHT)"},{value:"Asia/Dubai",label:"Dubai (GST)"},{value:"Australia/Sydney",label:"Sydney (AEDT)"},{value:"Pacific/Auckland",label:"Auckland (NZDT)"}],x=F=>{const W=u.find(J=>J.value===F);return W?W.label:F},y=()=>{const F=new Date().getHours();let W="Hi there";F<12?W="Good morning":F<17?W="Good afternoon":W="Good evening";let J=`${W}! 

I'm your scheduling assistant, here to make booking meetings a breeze.

Here's what I can do:

 **Bookings**
 Book meetings  just tell me who and when!
 Show your upcoming or past bookings
 Add someone to an existing meeting

 **Links**
 Share your booking link
 Create one-time magic links (Pro)

 **Settings**
 Change your timezone`;return r()&&(J+=`

 **Teams**
 Schedule with your teams
 Get team booking links`),s()&&(J+=`

 **Emails**
 Send meeting reminders
 Draft follow-up emails`),J+=`

What can I help you with?`,J},w=()=>({role:"assistant",content:y(),timestamp:new Date,isGreeting:!0}),[g,v]=m.useState(!1),[j,f]=m.useState(!1),[b,p]=m.useState(""),[h,N]=m.useState(null),[S,k]=m.useState(!1),[C,P]=m.useState(()=>{try{const F=localStorage.getItem("aiChat_history");if(F){const W=JSON.parse(F);if(W&&W.length>0){const J=W.map(ae=>({...ae,timestamp:new Date(ae.timestamp)}));if(J.some(ae=>ae.isGreeting||ae.role==="assistant"&&ae.content.includes("scheduling assistant")))return J}}}catch(F){console.error("Error loading chat history:",F)}return[]}),[I,O]=m.useState(!1),[M,E]=m.useState(()=>{const F=localStorage.getItem("aiChat_pendingBooking");return F?JSON.parse(F):null}),z=m.useRef(null),K=m.useRef(null),V=()=>{var F;(F=z.current)==null||F.scrollIntoView({behavior:"smooth"})},D=async()=>{try{const F=await _.timezone.get();let W="";if(typeof F.data=="string")try{W=JSON.parse(F.data).timezone||F.data}catch{W=F.data}else F.data&&typeof F.data=="object"&&(W=F.data.timezone||"");d(W)}catch(F){console.error("Failed to fetch timezone:",F)}},A=async F=>{O(!0);try{await _.timezone.update(F),d(F),k(!1);const W=x(F);P(J=>[...J,{role:"assistant",content:` Done! Your timezone has been updated to **${W}** (${F}).

All your bookings and availability will now use this timezone. `,timestamp:new Date}])}catch(W){console.error("Failed to update timezone:",W),P(J=>[...J,{role:"assistant",content:" Oops, I couldn't update your timezone. Please try again or go to Settings to change it manually.",timestamp:new Date}])}finally{O(!1)}},q=F=>{navigator.clipboard.writeText(F),N(F),setTimeout(()=>N(null),2e3)};m.useEffect(()=>{if(!n&&C.length===0){const F=w();P([F]),localStorage.setItem("aiChat_history",JSON.stringify([F]))}},[n]),m.useEffect(()=>{if(!n&&C.length>0&&!C.some(W=>W.isGreeting)){const W=w();P(J=>[W,...J])}},[t,n]),m.useEffect(()=>{C.length>0&&localStorage.setItem("aiChat_history",JSON.stringify(C))},[C]),m.useEffect(()=>{M?localStorage.setItem("aiChat_pendingBooking",JSON.stringify(M)):localStorage.removeItem("aiChat_pendingBooking")},[M]),m.useEffect(()=>{V()},[C]),m.useEffect(()=>{g&&(a&&a(),D())},[g]);const $=F=>{const W=F.toLowerCase(),J=[{pattern:/eastern|new york|est|edt/i,value:"America/New_York"},{pattern:/central|chicago|cst|cdt/i,value:"America/Chicago"},{pattern:/mountain|denver|mst|mdt/i,value:"America/Denver"},{pattern:/pacific|los angeles|pst|pdt/i,value:"America/Los_Angeles"},{pattern:/london|uk|gmt|bst/i,value:"Europe/London"},{pattern:/paris|cet|cest|france/i,value:"Europe/Paris"},{pattern:/singapore|sgt/i,value:"Asia/Singapore"},{pattern:/tokyo|japan|jst/i,value:"Asia/Tokyo"},{pattern:/shanghai|china|cst(?!.*central)/i,value:"Asia/Shanghai"},{pattern:/manila|philippines|pht/i,value:"Asia/Manila"},{pattern:/dubai|gst|uae/i,value:"Asia/Dubai"},{pattern:/sydney|australia|aedt|aest/i,value:"Australia/Sydney"},{pattern:/auckland|new zealand|nzdt|nzst/i,value:"Pacific/Auckland"}];for(const{pattern:U,value:ae}of J)if(U.test(W))return ae;return null},X=async()=>{var U,ae,H,xe;if(!b||!b.trim()||I)return;if(!o&&i.ai_queries_used>=i.ai_queries_limit){P(ce=>[...ce,{role:"assistant",content:`Looks like you've used all ${i.ai_queries_limit} AI queries this month! 

Upgrade to Pro for unlimited queries  I'll be here whenever you need me!

[Upgrade to Pro](/billing)`,timestamp:new Date}]);return}const F=b.trim(),W=F.toLowerCase();if(W.includes("timezone")||W.includes("time zone")||W.includes("change my time")||W.includes("set my time")||W.includes("update my time")||W==="tz"||W.match(/^(my )?(current )?time\s*zone?$/i)){p(""),P(ge=>[...ge,{role:"user",content:F,timestamp:new Date}]);const ce=$(F);if(ce)await A(ce);else{const ge=x(c);P(te=>[...te,{role:"assistant",content:` Your current timezone is **${ge}** (${c||"Not set"}).

Select your new timezone below:`,timestamp:new Date,showTimezoneSelector:!0}]),k(!0)}return}if(W.includes("what")&&(W.includes("timezone")||W.includes("time zone"))){p(""),P(ce=>[...ce,{role:"user",content:F,timestamp:new Date},{role:"assistant",content:` Your current timezone is **${x(c)}** (${c||"Not set"}).

Want to change it? Just say "Change my timezone".`,timestamp:new Date}]);return}if(!r()&&(W.includes("create a team")||W.includes("team scheduling")||W.includes("book with team")||W.includes("team booking link")||W.includes("round robin")||W.includes("collective booking"))){P(ce=>[...ce,{role:"user",content:F,timestamp:new Date},{role:"assistant",content:`I'd love to help with team scheduling! 

This is a Team plan feature ($25/month).

[Check out the Team plan](/billing)`,timestamp:new Date}]),p("");return}if(!s()&&(W.includes("send reminder")||W.includes("send email")||W.includes("email template"))){P(ce=>[...ce,{role:"user",content:F,timestamp:new Date},{role:"assistant",content:`Great idea to send emails! 

Email features are part of Pro ($12/month).

[Upgrade to Pro](/billing)`,timestamp:new Date}]),p("");return}p(""),P(ce=>[...ce,{role:"user",content:F,timestamp:new Date}]),O(!0);try{let ce=F;M&&(ce=`[Current pending booking: "${M.title}" on ${M.date} at ${M.time} for ${M.duration} minutes with ${M.attendee_email}]

User says: ${F}`);const te=(await _.ai.schedule(ce,C)).data;if(a&&a(),te.type==="update_pending"&&((U=te.data)!=null&&U.updatedBooking))E(te.data.updatedBooking),P(je=>[...je,{role:"assistant",content:te.message,timestamp:new Date,data:te.data}]);else if(te.type==="confirmation"&&((ae=te.data)!=null&&ae.bookingData)){const je=te.data.bookingData;E({title:je.title||"Meeting",date:je.date,time:je.time,attendees:je.attendees||[je.attendee_email],attendee_email:je.attendee_email||((H=je.attendees)==null?void 0:H[0]),duration:je.duration||30,notes:je.notes||"",team_id:je.team_id||null,team_name:je.team_name||null}),P(st=>[...st,{role:"assistant",content:te.message,timestamp:new Date,data:te.data}])}else{const je=te.message||te.response||"Got it! Let me know if you need anything else.";P(st=>[...st,{role:"assistant",content:je,timestamp:new Date,data:te.data,responseType:te.type}])}}catch(ce){console.error("AI chat error:",ce),a&&a();let ge="Hmm, something went wrong on my end. Mind trying that again? ";((xe=ce==null?void 0:ce.response)==null?void 0:xe.status)===429&&(ge="I'm getting a lot of requests right now!  Please wait 10-15 seconds and try again."),P(te=>[...te,{role:"assistant",content:ge,timestamp:new Date}])}finally{O(!1)}},le=async()=>{if(M){O(!0);try{const F=new Date(`${M.date}T${M.time}`),W=new Date(F.getTime()+M.duration*6e4),J=M.attendees||[M.attendee_email];await _.post("/chatgpt/book-meeting",{title:M.title||"Meeting",start_time:F.toISOString(),end_time:W.toISOString(),attendees:J,attendee_email:J[0],attendee_name:J[0].split("@")[0],notes:M.notes||"",team_id:M.team_id||null});const U=F.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),ae=F.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});P(H=>[...H,{role:"assistant",content:`You're all set! 

 **${M.title||"Meeting"}**
 ${U} at ${ae}
 ${J.join(", ")}${M.team_name?`
 ${M.team_name}`:""}

I've sent calendar invites to everyone. Anything else?`,timestamp:new Date,isConfirmation:!0}]),E(null),a&&a()}catch(F){console.error("Booking error:",F),P(W=>{var J,U;return[...W,{role:"assistant",content:`Oops, I couldn't create that booking. ${((U=(J=F.response)==null?void 0:J.data)==null?void 0:U.error)||"Want to try again?"}`,timestamp:new Date}]})}finally{O(!1)}}},Ne=()=>{E(null),P(F=>[...F,{role:"assistant",content:"No problem, I've cancelled that. What else can I help with?",timestamp:new Date}])},de=()=>{const F=w();P([F]),E(null),k(!1),localStorage.removeItem("aiChat_pendingBooking"),setTimeout(()=>localStorage.setItem("aiChat_history",JSON.stringify([F])),100)},L=F=>{const W=C.filter((J,U)=>U!==F);W.length===0||!W.some(J=>J.isGreeting)?P([w()]):P(W)},B=F=>new Date(F).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),T=F=>F.replace(/\*\*/g,""),ee=({url:F,label:W})=>e.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 rounded-lg px-3 py-2 mt-2",children:[e.jsx(mn,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-purple-700 truncate flex-1 font-mono",children:W||F}),e.jsx("button",{onClick:J=>{J.stopPropagation(),q(F)},className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-all flex-shrink-0 ${h===F?"bg-green-500 text-white":"bg-purple-600 text-white hover:bg-purple-700"}`,children:h===F?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-3 w-3"})," Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-3 w-3"})," Copy"]})})]}),Z=({links:F,labelKey:W="name"})=>e.jsx("div",{className:"space-y-2 mt-3",children:F.map((J,U)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2 border border-gray-200",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:J[W]||J.title||J.name}),e.jsx("p",{className:"text-xs text-gray-500 font-mono truncate",children:J.short_url||"/book/..."})]}),e.jsx("button",{onClick:ae=>{ae.stopPropagation(),q(J.url)},className:`flex items-center gap-1 text-xs px-2 py-1.5 rounded transition-all flex-shrink-0 ${h===J.url?"bg-green-500 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:h===J.url?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-3 w-3"})," Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-3 w-3"})," Copy"]})})]},U))}),he=()=>e.jsx("div",{className:"mt-3 bg-gray-50 rounded-lg p-3 border border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:u.map(F=>e.jsxs("button",{onClick:()=>A(F.value),disabled:I,className:`text-left text-xs p-2 rounded-lg border transition-colors ${c===F.value?"bg-purple-100 border-purple-300 text-purple-800":"bg-white border-gray-200 hover:border-purple-300 hover:bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"font-medium",children:F.label})]}),e.jsx("span",{className:"text-gray-500 ml-5",children:F.value})]},F.value))})}),Y=F=>{var U,ae,H,xe,ce,ge,te,je;const W=T(F.content),J=F.data;if(J!=null&&J.url&&(J!=null&&J.type)){const st=J.short_url||(J.type==="magic"?`/m/${(U=J.token)==null?void 0:U.substring(0,8)}...`:`/book/${((ae=J.token)==null?void 0:ae.substring(0,8))||"..."}...`);return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:W}),e.jsx(ee,{url:J.url,label:st})]})}if(((H=J==null?void 0:J.teams)==null?void 0:H.length)>0&&((xe=J.teams[0])!=null&&xe.url))return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:W}),e.jsx(Z,{links:J.teams,labelKey:"name"})]});if(((ce=J==null?void 0:J.members)==null?void 0:ce.length)>0&&((ge=J.members[0])!=null&&ge.url))return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:W}),e.jsx(Z,{links:J.members,labelKey:"name"})]});if(((te=J==null?void 0:J.event_types)==null?void 0:te.length)>0&&((je=J.event_types[0])!=null&&je.booking_url)){const st=J.event_types.map(Ot=>({...Ot,url:Ot.booking_url,short_url:`/${J.username}/${Ot.slug}`}));return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:W}),e.jsx(Z,{links:st,labelKey:"title"})]})}return F.showTimezoneSelector?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:W}),e.jsx(he,{})]}):e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:W})},fe=["What's my booking link?","Show my upcoming meetings","Change my timezone"];return s()&&fe.push("Create a magic link"),r()&&fe.push("Show my team links"),g?e.jsx("div",{className:"fixed bottom-0 right-0 sm:bottom-6 sm:right-6 z-[99998] w-full sm:w-auto",children:e.jsxs("div",{className:`w-full sm:w-96 bg-white rounded-none sm:rounded-3xl shadow-2xl border-0 sm:border-2 sm:border-purple-200 overflow-hidden transition-all flex flex-col ${j?"h-16":"h-[80vh] sm:h-[600px]"} max-h-screen`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-3 sm:p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(ye,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-sm sm:text-base",children:"AI Assistant"}),e.jsx("p",{className:"text-xs text-purple-200",children:t==="free"?"Free":t==="pro"?"Pro ":"Team "})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded-lg px-2 py-1",children:[e.jsx(qe,{className:"h-3 w-3 text-yellow-300"}),e.jsx("span",{className:"text-xs text-white font-medium",children:o?"":`${i.ai_queries_used}/${i.ai_queries_limit}`})]}),e.jsx("button",{onClick:()=>f(!j),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:j?e.jsx(Dy,{className:"h-4 w-4 text-white"}):e.jsx($y,{className:"h-4 w-4 text-white"})}),e.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Fe,{className:"h-4 w-4 text-white"})})]})]}),!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50",children:[!o&&e.jsx("div",{className:`rounded-lg p-4 mb-4 ${i.ai_queries_used>=i.ai_queries_limit?"bg-red-50 border-2 border-red-300":"bg-yellow-50 border border-yellow-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${i.ai_queries_used>=i.ai_queries_limit?"bg-red-100":"bg-yellow-100"}`,children:e.jsx(qe,{className:`h-5 w-5 ${i.ai_queries_used>=i.ai_queries_limit?"text-red-600":"text-yellow-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-bold mb-2 ${i.ai_queries_used>=i.ai_queries_limit?"text-red-800 text-base":"text-yellow-800 text-sm"}`,children:i.ai_queries_used>=i.ai_queries_limit?`You've used all ${i.ai_queries_limit} queries`:`${i.ai_queries_limit-i.ai_queries_used} queries left`}),i.ai_queries_used>=i.ai_queries_limit?e.jsx("button",{onClick:()=>window.location.href="/billing",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-lg font-semibold text-sm",children:"Get Pro  $12/mo"}):e.jsx("p",{className:"text-xs text-yellow-700",children:"Go Pro for unlimited!"})]})]})}),C.length<=1&&(o||i.ai_queries_used<i.ai_queries_limit)&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Try asking:"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:fe.map((F,W)=>e.jsxs("button",{onClick:()=>p(F),className:"text-left text-sm p-3 bg-white rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors",children:['"',F,'"']},W))})]}),C.length>1&&e.jsxs("div",{className:"flex justify-center mb-4 gap-2 p-2 bg-gray-100 rounded-lg",children:[e.jsxs("button",{onClick:de,className:"text-xs text-red-600 bg-red-50 hover:bg-red-100 flex items-center gap-1 px-3 py-2 rounded-lg border border-red-200",children:[e.jsx(mt,{className:"h-3 w-3"})," Clear"]}),e.jsxs("button",{onClick:de,className:"text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 flex items-center gap-1 px-3 py-2 rounded-lg border border-blue-200",children:[e.jsx(Oy,{className:"h-3 w-3"})," Start Over"]})]}),C.map((F,W)=>e.jsx("div",{className:`flex ${F.role==="user"?"justify-end":"justify-start"} group`,children:e.jsxs("div",{className:`max-w-[85%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 relative ${F.role==="user"?"bg-purple-600 text-white rounded-br-md":"bg-white text-gray-800 border border-gray-200 rounded-bl-md shadow-sm"}`,children:[F.role==="user"?e.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:T(F.content)}):Y(F),e.jsx("p",{className:`text-xs mt-1 ${F.role==="user"?"text-purple-200":"text-gray-400"}`,children:B(F.timestamp)}),W>0&&!F.isGreeting&&e.jsx("button",{onClick:()=>L(W),className:`absolute -top-2 -right-2 w-5 h-5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-xs ${F.role==="user"?"bg-red-500 text-white":"bg-gray-400 hover:bg-red-500 text-white"}`,children:""})]})},W)),I&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white rounded-2xl px-4 py-3 border border-gray-200 shadow-sm flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 animate-spin text-purple-600"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})}),e.jsx("div",{ref:z})]}),M&&e.jsx("div",{className:"p-3 sm:p-4 bg-purple-50 border-t border-purple-200",children:e.jsxs("div",{className:"bg-white rounded-xl p-3 sm:p-4 border-2 border-purple-300 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-purple-600"}),"Ready to book?"]}),e.jsx("button",{onClick:()=>E(null),className:"text-gray-400 hover:text-red-500",children:e.jsx(Fe,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-3 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ad,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:M.title,onChange:F=>E({...M,title:F.target.value}),className:"flex-1 bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm",placeholder:"Meeting title"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:M.date,onChange:F=>E({...M,date:F.target.value}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm"}),e.jsx("input",{type:"time",value:M.time,onChange:F=>E({...M,time:F.target.value}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Attendees"})]}),e.jsxs("div",{className:"space-y-2 pl-6",children:[(M.attendees||[M.attendee_email]).map((F,W)=>{var J;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"email",value:F,onChange:U=>{const ae=[...M.attendees||[M.attendee_email]];ae[W]=U.target.value,E({...M,attendees:ae,attendee_email:ae[0]})},className:"flex-1 bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm",placeholder:"email@example.com"}),((J=M.attendees)==null?void 0:J.length)>1&&e.jsx("button",{onClick:()=>{const U=(M.attendees||[]).filter((ae,H)=>H!==W);E({...M,attendees:U,attendee_email:U[0]})},className:"text-red-500 p-1",children:e.jsx(Fe,{className:"h-4 w-4"})})]},W)}),e.jsx("button",{onClick:()=>E({...M,attendees:[...M.attendees||[M.attendee_email],""]}),className:"text-purple-600 text-sm",children:"+ Add someone"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:M.duration,onChange:F=>E({...M,duration:parseInt(F.target.value)}),className:"bg-gray-50 border border-gray-200 rounded px-2 py-2 text-sm",children:[e.jsx("option",{value:15,children:"15 min"}),e.jsx("option",{value:30,children:"30 min"}),e.jsx("option",{value:45,children:"45 min"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:le,disabled:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:I?e.jsx(se,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4"})," Book it!"]})}),e.jsxs("button",{onClick:Ne,disabled:I,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsx(yt,{className:"h-4 w-4"})," Never mind"]})]})]})}),e.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:K,type:"text",value:b,onChange:F=>p(F.target.value),onKeyPress:F=>F.key==="Enter"&&X(),placeholder:"Type a message...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",disabled:I||!o&&i.ai_queries_used>=i.ai_queries_limit}),e.jsx("button",{onClick:X,disabled:I||!b.trim()||!o&&i.ai_queries_used>=i.ai_queries_limit,className:"p-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-300 text-white rounded-xl transition-colors",children:I?e.jsx(se,{className:"h-5 w-5 animate-spin"}):e.jsx(Vh,{className:"h-5 w-5"})})]})})]})]})}):e.jsxs("button",{onClick:()=>v(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 h-14 w-14 sm:h-16 sm:w-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full shadow-2xl hover:shadow-3xl transition-all hover:scale-110 flex items-center justify-center group animate-bounce",style:{animationDuration:"2s",zIndex:99999},children:[e.jsx(ye,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white group-hover:rotate-12 transition-transform"}),e.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 sm:h-5 sm:w-5 bg-red-500 rounded-full border-2 border-white animate-pulse flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"AI"})})]})}const Ov=()=>{const t=Rs(),{usage:s={ai_queries_used:0,ai_queries_limit:10,bookings_used:0,bookings_limit:50,event_types_used:0,event_types_limit:2,magic_links_used:0,magic_links_limit:3},currentTier:r="free",showUpgradeModal:n=()=>{},isAtLimit:a=()=>!1,hasTeamFeature:l=()=>!1,loading:i=!1}=t||{};if(i)return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 flex items-center justify-center",children:[e.jsx(se,{className:"h-6 w-6 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading usage..."})]});const o=x=>!x||x>=1e3,c=(x,y)=>o(y)?0:Math.min(x/y*100,100),d=[{key:"ai_queries",label:"AI Queries",icon:qt,used:s.ai_queries_used||0,limit:s.ai_queries_limit||10,color:"purple"},{key:"bookings",label:"Bookings",icon:oe,used:s.bookings_used||0,limit:s.bookings_limit||50,color:"blue"},{key:"event_types",label:"Event Types",icon:ye,used:s.event_types_used||0,limit:s.event_types_limit||2,color:"pink"},{key:"magic_links",label:"Magic Links",icon:mn,used:s.magic_links_used||0,limit:s.magic_links_limit||3,color:"indigo"}],u={purple:{bg:"bg-purple-50",border:"border-purple-200",icon:"text-purple-600",bar:"bg-purple-500",barBg:"bg-purple-100"},blue:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",bar:"bg-blue-500",barBg:"bg-blue-100"},pink:{bg:"bg-pink-50",border:"border-pink-200",icon:"text-pink-600",bar:"bg-pink-500",barBg:"bg-pink-100"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",icon:"text-indigo-600",bar:"bg-indigo-500",barBg:"bg-indigo-100"},green:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",bar:"bg-green-500",barBg:"bg-green-100"}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(ja,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Usage This Month"}),e.jsxs("p",{className:"text-sm text-blue-100",children:[e.jsx("span",{className:"capitalize",children:r})," Plan"]})]})]}),r==="free"&&e.jsxs("button",{onClick:()=>n(),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),"Upgrade"]})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[d.map(x=>{const y=x.icon,w=u[x.color],g=o(x.limit),v=c(x.used,x.limit),j=!g&&x.used>=x.limit;return e.jsxs("div",{className:`rounded-xl p-4 border ${j?"bg-red-50 border-red-200":`${w.bg} ${w.border}`}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:`h-5 w-5 ${j?"text-red-600":w.icon}`}),e.jsx("span",{className:`font-medium ${j?"text-red-900":"text-gray-900"}`,children:x.label})]}),e.jsx("span",{className:`font-bold ${j?"text-red-600":g?"text-green-600":"text-gray-900"}`,children:g?" Unlimited":`${x.used}/${x.limit}`})]}),!g&&e.jsx("div",{className:`h-2 rounded-full ${j?"bg-red-100":w.barBg}`,children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${j?"bg-red-500":w.bar}`,style:{width:`${Math.min(v,100)}%`}})}),j&&e.jsxs("button",{onClick:()=>n(x.key),className:"mt-2 text-sm text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:["Upgrade for unlimited ",e.jsx(Je,{className:"h-3 w-3"})]})]},x.key)}),e.jsx("div",{className:`rounded-xl p-4 border ${l()?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:`h-5 w-5 ${l()?"text-green-600":"text-gray-400"}`}),e.jsx("span",{className:"font-medium text-gray-900",children:"Team Features"})]}),l()?e.jsx("span",{className:"text-green-600 font-bold flex items-center gap-1",children:" Enabled"}):e.jsxs("button",{onClick:()=>n("teams"),className:"text-sm text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1",children:["Upgrade ",e.jsx(Je,{className:"h-3 w-3"})]})]})})]}),r==="free"&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4 text-purple-600"}),"Upgrade to Pro"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Unlimited everything for just $12/month"})]}),e.jsx("button",{onClick:()=>n(),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-5 py-2.5 rounded-lg font-semibold hover:shadow-lg transition-all text-sm",children:"Upgrade Now"})]})})}),r==="pro"&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-blue-600"}),"Need Team Features?"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Round-robin, collective booking & more"})]}),e.jsx("button",{onClick:()=>n("teams"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-5 py-2.5 rounded-lg font-semibold hover:shadow-lg transition-all text-sm",children:"Upgrade to Team"})]})})})]})};function zv(){var q,$,X,le,Ne,de;const t=_e(),s=pd(),{showPrompt:r,startWalkthrough:n,dismissPrompt:a}=Vj(),[l,i]=m.useState({totalBookings:0,upcomingBookings:0,activeTeams:0}),[o,c]=m.useState([]),[d,u]=m.useState(!0),[x,y]=m.useState(""),[w,g]=m.useState(null),[v,j]=m.useState(!1),[f,b]=m.useState({tier:"free",current_bookings:0,limits:{soft:50,grace:60,hard:70},status:{withinLimit:!0},upgrade_recommended:!1}),[p,h]=m.useState(!1);m.useEffect(()=>{N()},[]);const N=async()=>{u(!0),await Promise.all([S(),k(),C(),P(),I()]),u(!1)},S=async()=>{try{const L=await _.get("/dashboard/stats");i(L.data.stats||{totalBookings:0,upcomingBookings:0,activeTeams:0}),c(L.data.recentBookings||[])}catch(L){console.error("Dashboard load error:",L),s.error("Failed to load dashboard data")}},k=async()=>{try{const L=await di.get();let B="";if(typeof L.data=="string")try{B=JSON.parse(L.data).timezone||L.data}catch{B=L.data}else L.data&&typeof L.data=="object"&&(B=L.data.timezone||"");y(B)}catch(L){console.error("Timezone load error:",L),y("America/Los_Angeles")}},C=async()=>{try{const B=(await ir.me()).data.user||null;g(B);const T=await _.user.usage();g(ee=>({...ee,usage:{ai_queries_used:T.data.ai_queries_used,ai_queries_limit:T.data.ai_queries_limit,chatgpt_used:T.data.ai_queries_used,chatgpt_limit:T.data.ai_queries_limit,chatgpt_queries_used:T.data.ai_queries_used,chatgpt_queries_limit:T.data.ai_queries_limit}}))}catch(L){console.error("Profile load error:",L),s.error("Failed to load profile")}},P=async()=>{try{const L=await _.user.limits();b(L.data)}catch(L){console.error("Limit status load error:",L),b(B=>({...B,current_bookings:l.totalBookings}))}},I=async()=>{try{const L=await Gn.getToken();h(!!L.data.jwt_token)}catch{h(!1)}},O=L=>({"America/New_York":"Eastern Time (ET)","America/Chicago":"Central Time (CT)","America/Denver":"Mountain Time (MT)","America/Los_Angeles":"Pacific Time (PT)","Europe/London":"London (GMT)","Europe/Paris":"Paris (CET)","Asia/Singapore":"Singapore (SGT)","Asia/Tokyo":"Tokyo (JST)","Asia/Shanghai":"Shanghai (CST)","Asia/Manila":"Manila (PHT)","Australia/Sydney":"Sydney (AEDT)"})[L]||L||"Not set",M=L=>{const B={confirmed:e.jsx(_s,{className:"h-4 w-4"}),pending:e.jsx(Oe,{className:"h-4 w-4"}),cancelled:e.jsx(yt,{className:"h-4 w-4"})};return B[L]||B.confirmed},E=L=>{const B={confirmed:"bg-green-100 text-green-700 border-green-200",pending:"bg-yellow-100 text-yellow-700 border-yellow-200",cancelled:"bg-red-100 text-red-700 border-red-200"};return B[L]||B.confirmed},z=()=>{const{current_bookings:L,limits:B,status:T,tier:ee}=f;return ee!=="free"||T.withinLimit?null:T.overGraceLimit||T.hardBlocked?e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-4 rounded-xl mb-6 border-2 border-red-400 animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg flex items-center gap-2",children:" Account Limited - Immediate Action Required"}),e.jsxs("p",{className:"text-red-100",children:["You've used ",L,"/",B.grace," bookings and exceeded your grace period. New bookings are blocked and AI scheduling is disabled."]})]}),e.jsx("button",{onClick:()=>t("/billing"),className:"bg-white text-red-600 px-4 py-2 rounded-lg font-bold hover:bg-red-50 transition-colors",children:" Upgrade Now"})]})}):T.inGracePeriod?e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-500 text-white p-4 rounded-xl mb-6 border-2 border-orange-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg flex items-center gap-2",children:" Over Booking Limit - Grace Period Active"}),e.jsxs("p",{className:"text-orange-100",children:["You've exceeded your ",B.soft," booking limit (",L,"/",B.grace,"). AI scheduling is now disabled. Only ",B.grace-L," bookings remaining before account suspension."]})]}),e.jsx("button",{onClick:()=>t("/billing"),className:"bg-white text-orange-600 px-4 py-2 rounded-lg font-bold hover:bg-orange-50 transition-colors",children:" Upgrade to Pro"})]})}):null};if(d)return e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your dashboard..."})]})});const K=[{label:"Total Bookings",value:l.totalBookings,icon:oe,color:"text-blue-600",bg:"bg-blue-50"},{label:"Upcoming",value:l.upcomingBookings,icon:Se,color:"text-yellow-600",bg:"bg-yellow-50"},{label:"Active Teams",value:l.activeTeams,icon:ze,color:"text-purple-600",bg:"bg-purple-50"}],V=(f==null?void 0:f.tier)||(w==null?void 0:w.subscription_tier)||(w==null?void 0:w.tier)||"free",D=(w==null?void 0:w.usage)||{ai_queries_limit:10},A=(f==null?void 0:f.current_bookings)||l.totalBookings;return e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx(oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back",w!=null&&w.name?`, ${w.name}`:"","! Here's what's happening today."]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx(Wj,{onClick:n}),e.jsxs("button",{"data-walkthrough":"availability-btn",onClick:()=>t("/availability"),className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold flex items-center gap-2 shadow-sm",children:[e.jsx(Se,{className:"h-4 w-4"}),"Availability"]}),p?e.jsxs("button",{onClick:()=>t("/settings?tab=integrations"),className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-xl hover:bg-purple-200 transition-all text-sm font-medium flex items-center gap-2",children:[e.jsx(qt,{className:"h-4 w-4"}),"ChatGPT "]}):e.jsxs("button",{onClick:()=>t("/settings?tab=integrations"),className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-all text-sm font-medium flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Setup ChatGPT"]}),(V==="pro"||V==="team")&&e.jsxs("button",{onClick:()=>t("/billing"),className:"px-3 py-2 bg-green-100 text-green-700 rounded-xl hover:bg-green-200 transition-all text-sm font-medium flex items-center gap-2",children:[e.jsx(ni,{className:"h-4 w-4"}),V==="pro"?"Pro":"Team"," "]})]})]})})}),e.jsx("main",{className:"w-full",children:e.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 py-8",children:e.jsxs("div",{className:"space-y-6",children:[r&&e.jsx(Bj,{onStart:n,onDismiss:a}),e.jsx(z,{}),e.jsx(Ov,{}),V==="free"&&!((q=f.status)!=null&&q.inGracePeriod)&&!(($=f.status)!=null&&$.overGraceLimit)&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-xl mb-2 flex items-center gap-2",children:[e.jsx(rn,{className:"h-5 w-5"})," Supercharge Your Scheduling"]}),e.jsx("p",{className:"text-purple-100 mb-4",children:"Unlimited AI assistance + unlimited bookings + advanced features for busy professionals"}),e.jsxs("ul",{className:"text-sm text-purple-100 space-y-1 mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-3 w-3"})," Unlimited AI queries (vs ",D.ai_queries_limit||10,"/month)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-3 w-3"})," Unlimited bookings (vs ",((X=f.limits)==null?void 0:X.soft)||50,"/month)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-3 w-3"})," Advanced email templates"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-3 w-3"})," Priority support"]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"$12"}),e.jsx("div",{className:"text-sm text-purple-200",children:"per month"})]})]}),e.jsx("button",{onClick:()=>t("/billing"),className:"w-full bg-white text-purple-600 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors mt-4",children:"Upgrade to Pro - Only $12/month"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Kt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Timezone"}),e.jsx("p",{className:"text-sm text-gray-600",children:(()=>{let L=x;if(typeof L=="string"&&L.includes("{"))try{L=JSON.parse(L).timezone}catch{}else L&&typeof L=="object"&&L.timezone&&(L=L.timezone);return O(L)})()})]})]}),e.jsxs("button",{onClick:()=>t("/settings"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1 hover:gap-2 transition-all",children:["Change",e.jsx(Ts,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map((L,B)=>e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-2 border-gray-100 hover:shadow-xl transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:L.label}),e.jsx("p",{className:`text-3xl font-bold ${L.color}`,children:L.value})]}),e.jsx("div",{className:`${L.bg} h-14 w-14 rounded-xl flex items-center justify-center shadow-md`,children:e.jsx(L.icon,{className:`h-7 w-7 ${L.color}`})})]})},B))}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-2 border-gray-100",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Bookings"}),e.jsxs("button",{onClick:()=>t("/bookings"),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-xl transition-all font-semibold text-sm flex items-center gap-1",children:["View All ",e.jsx(Ts,{className:"h-4 w-4"})]})]}),o.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx(oe,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No bookings yet"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Share your booking link to get started"}),V==="free"&&e.jsx("p",{className:"text-gray-400 text-xs mt-2",children:" Upgrade to Pro for unlimited AI scheduling assistance"})]}):e.jsxs("div",{className:"space-y-3",children:[o.slice(0,5).map(L=>{var B,T;return e.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl border-2 border-gray-100 hover:border-blue-300 transition-all cursor-pointer",onClick:()=>t("/bookings"),children:e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-md",children:((T=(B=L.attendee_name)==null?void 0:B.charAt(0))==null?void 0:T.toUpperCase())||"G"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-gray-900 font-bold truncate",children:L.attendee_name}),e.jsxs("span",{className:`text-xs font-semibold px-2 py-1 rounded-full border flex items-center gap-1 ${E(L.status)}`,children:[M(L.status)," ",L.status]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),new Date(L.start_time).toLocaleDateString()]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{children:new Date(L.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]})]})},L.id)}),V==="free"&&A>=(((le=f.limits)==null?void 0:le.soft)||50)*.6&&!((Ne=f.status)!=null&&Ne.inGracePeriod)&&e.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-800 flex items-center gap-2",children:[e.jsx(ja,{className:"h-4 w-4"})," You're at ",A,"/",((de=f.limits)==null?void 0:de.soft)||50," bookings this month.",e.jsx("button",{onClick:()=>t("/billing"),className:"text-purple-600 underline ml-1 font-medium hover:text-purple-700",children:"Upgrade to Pro"}),"for unlimited bookings + AI queries for just $12/month."]})})]})]})})]})})}),e.jsx(gd,{isOpen:v,onClose:()=>j(!1),currentTier:V}),e.jsx(Uv,{})]})}function Bv(){const t=_e(),[s,r]=m.useState([]),[n,a]=m.useState([]),[l,i]=m.useState(!0),[o,c]=m.useState(""),[d,u]=m.useState("all"),[x,y]=m.useState(null);m.useEffect(()=>{(async()=>{try{const v=await ua.list();r(v.data.bookings||[])}catch(v){console.error("Error loading bookings:",v)}finally{i(!1)}})()},[]),m.useEffect(()=>{let g=[...s];if(o){const v=o.toLowerCase();g=g.filter(j=>{var f,b;return((f=j.attendee_name)==null?void 0:f.toLowerCase().includes(v))||((b=j.attendee_email)==null?void 0:b.toLowerCase().includes(v))})}d!=="all"&&(g=g.filter(v=>v.status===d)),a(g)},[s,o,d]);const w=g=>{const v={confirmed:{bg:"bg-green-100",text:"text-green-800",Icon:ne},cancelled:{bg:"bg-red-100",text:"text-red-800",Icon:yt},pending:{bg:"bg-yellow-100",text:"text-yellow-800",Icon:Oe}},j=v[g]||v.pending,{Icon:f}=j;return e.jsxs("span",{className:`${j.bg} ${j.text} px-3 py-1 rounded-full text-xs font-semibold inline-flex items-center gap-1 whitespace-nowrap`,children:[e.jsx(f,{className:"h-3 w-3"}),(g==null?void 0:g.charAt(0).toUpperCase())+(g==null?void 0:g.slice(1))]})};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsx(se,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Bookings"}),e.jsx("p",{className:"text-gray-600",children:"Manage all your scheduled appointments"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border-2 border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(cd,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:o,onChange:g=>c(g.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ey,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"}),e.jsxs("select",{value:d,onChange:g=>u(g.target.value),className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none text-sm sm:text-base appearance-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),n.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border-2 border-gray-100",children:[e.jsx(oe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:o||d!=="all"?"No bookings match your filters":"No bookings yet"})]}):e.jsx("div",{className:"space-y-4",children:n.map(g=>e.jsx("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all border-2 border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(ht,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:g.attendee_name||"No name"}),e.jsx("p",{className:"text-sm text-gray-600",children:g.attendee_email})]})]}),e.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto",children:[w(g.status),e.jsx("button",{onClick:()=>y(g),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ya,{className:"h-5 w-5 text-gray-600"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:new Date(g.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:new Date(g.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),g.meet_link&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(At,{className:"h-4 w-4"}),e.jsx("a",{href:g.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700",children:"Join Meeting"})]})]}),g.notes&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600 italic",children:g.notes})})]})},g.id))})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-purple-600 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Booking Details"}),e.jsx("button",{onClick:()=>y(null),className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30",children:e.jsx(Fe,{className:"h-5 w-5 text-white"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-xl",children:[e.jsx(ht,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:x.attendee_name}),e.jsx("p",{className:"text-sm text-gray-600",children:x.attendee_email})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-purple-50 rounded-xl",children:[e.jsx(oe,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:new Date(x.start_time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(x.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," ","-"," ",new Date(x.end_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]}),x.meet_link&&e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-green-50 rounded-xl",children:[e.jsx(At,{className:"h-6 w-6 text-green-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Video Conference"}),e.jsx("a",{href:x.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:x.meet_link})]})]}),x.notes&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),e.jsx("p",{className:"text-gray-700",children:x.notes})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:()=>t(`/manage/${x.booking_token}`),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 font-semibold",children:"Manage Booking"})})]})]})})]})}const Wv={google_meet:At,zoom:At,phone:ba,in_person:ri,custom:Kt};function Hv(){const t=_e(),{showUpgradeModal:s,isAtLimit:r,usage:n}=Rs(),[a,l]=m.useState([]),[i,o]=m.useState(!0),[c,d]=m.useState(null),[u,x]=m.useState(null);m.useEffect(()=>{y()},[]);const y=async()=>{o(!0);try{const[p,h]=await Promise.all([ir.me(),ys.getAll()]);d(p.data.user||p.data);const N=h.data.eventTypes||h.data.event_types||h.data||[];l(Array.isArray(N)?N:[])}catch(p){console.error("Failed to load data:",p)}finally{o(!1)}},w=()=>{if(r("event_types")){s("event_types");return}t("/events/new")},g=(p,h)=>{var k;p.stopPropagation();const N=(c==null?void 0:c.username)||((k=c==null?void 0:c.email)==null?void 0:k.split("@")[0])||"user",S=`${window.location.origin}/book/${N}/${h.slug}`;navigator.clipboard.writeText(S),x(h.id),setTimeout(()=>x(null),2e3)},v=p=>{const h={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",red:"bg-red-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",gray:"bg-gray-500"};return h[p]||h.blue},j=async(p,h)=>{p.stopPropagation();try{await ys.toggle(h.id,!h.is_active),l(N=>N.map(S=>S.id===h.id?{...S,is_active:!S.is_active}:S))}catch(N){console.error("Failed to toggle",N),alert("Failed to update status")}},f=async(p,h)=>{if(p.stopPropagation(),!!window.confirm(`Delete event type "${h.title}"? This cannot be undone.`))try{await ys.delete(h.id),l(S=>S.filter(k=>k.id!==h.id))}catch(S){console.error("Failed to delete event type:",S),alert("Failed to delete event type. Please try again.")}},b=p=>Wv[p]||Nr;return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(se,{className:"animate-spin text-blue-600 h-8 w-8"})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(oe,{className:"h-8 w-8 text-blue-600"}),"Event Types"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Create templates to share your availability with different durations and settings."}),n.event_types_limit&&n.event_types_limit<1e3&&e.jsxs("p",{className:`text-sm mt-1 ${r("event_types")?"text-red-600 font-medium":"text-gray-500"}`,children:[n.event_types_used||a.length,"/",n.event_types_limit," event types used",r("event_types")&&e.jsx("button",{onClick:()=>s("event_types"),className:"ml-2 text-purple-600 hover:text-purple-700 underline",children:"Upgrade for unlimited"})]})]}),e.jsxs("button",{onClick:w,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold shadow-lg transition-all ${r("event_types")?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-xl"}`,children:[e.jsx(Qt,{className:"h-5 w-5"})," New Event Type",r("event_types")&&e.jsx("span",{className:"ml-1 text-xs bg-white/20 px-2 py-0.5 rounded",children:"Limit"})]})]}),r("event_types")&&e.jsx("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(ye,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Event Type Limit Reached"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upgrade to Pro for unlimited event types"})]})]}),e.jsx("button",{onClick:()=>s("event_types"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Upgrade to Pro - $12/mo"})]})}),a.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Event Types"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:a.length})]}),e.jsx(ye,{className:"h-8 w-8 text-blue-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:a.filter(p=>p.is_active).length})]}),e.jsx(ja,{className:"h-8 w-8 text-green-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Avg Duration"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[Math.round(a.reduce((p,h)=>p+h.duration,0)/a.length)," min"]})]}),e.jsx(Se,{className:"h-8 w-8 text-purple-600 opacity-50"})]})})]}),a.length===0?e.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[e.jsx(oe,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Event Types Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first event type to start accepting bookings."}),e.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700",children:[e.jsx(Qt,{className:"h-5 w-5"})," Create Event Type"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>{const h=b(p.location_type),N=v(p.color);return e.jsxs("div",{onClick:()=>t(`/events/${p.id}`,{state:{event:p}}),className:`group bg-white rounded-2xl shadow-sm border-2 border-gray-200 overflow-hidden hover:shadow-xl hover:border-blue-300 transition-all cursor-pointer ${p.is_active?"":"opacity-60"}`,children:[e.jsx("div",{className:`h-2 w-full ${N}`}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:p.title}),p.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:p.description})]})}),e.jsxs("div",{className:"space-y-2.5 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[p.duration," minutes"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{children:p.location||"Google Meet"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Tt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-mono text-xs",children:["/",p.slug]})]})]}),(p.buffer_before>0||p.buffer_after>0||p.max_bookings_per_day||p.require_approval)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[p.buffer_before>0&&e.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded",children:[p.buffer_before,"m buffer"]}),p.max_bookings_per_day&&e.jsxs("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded",children:["Max ",p.max_bookings_per_day,"/day"]}),p.require_approval&&e.jsx("span",{className:"px-2 py-1 bg-yellow-50 text-yellow-700 text-xs font-medium rounded",children:"Approval required"})]})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:S=>{S.stopPropagation(),t(`/events/${p.id}/edit`,{state:{event:p}})},className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(od,{className:"h-3.5 w-3.5"}),"Edit"]}),e.jsx("button",{onClick:S=>g(S,p),className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",title:"Copy Booking Link",children:u===p.id?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-3.5 w-3.5 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-3.5 w-3.5"}),"Copy"]})}),e.jsxs("button",{onClick:S=>f(S,p),className:"flex items-center gap-1.5 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[e.jsx(mt,{className:"h-3.5 w-3.5"}),"Delete"]})]}),e.jsx("button",{onClick:S=>j(S,p),className:`text-xs font-semibold px-3 py-1.5 rounded-lg transition-all ${p.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:p.is_active?"Active":"Inactive"})]})]})]},p.id)})})]})}const Gv=[{name:"blue",bg:"bg-blue-500"},{name:"purple",bg:"bg-purple-500"},{name:"green",bg:"bg-green-500"},{name:"red",bg:"bg-red-500"},{name:"orange",bg:"bg-orange-500"},{name:"pink",bg:"bg-pink-500"},{name:"indigo",bg:"bg-indigo-500"},{name:"yellow",bg:"bg-yellow-500"}],pm=[{value:"google_meet",label:"Google Meet",icon:At,auto:!0},{value:"zoom",label:"Zoom",icon:At,auto:!1},{value:"phone",label:"Phone Call",icon:ba,auto:!1},{value:"in_person",label:"In Person",icon:ri,auto:!1},{value:"custom",label:"Custom Link",icon:Kt,auto:!1}],qv=[{name:"15-min Quick Chat",duration:15,slug:"quick-chat",description:"Brief introductory conversation"},{name:"30-min Meeting",duration:30,slug:"meeting",description:"Standard meeting for discussions"},{name:"60-min Consultation",duration:60,slug:"consultation",description:"In-depth consultation session"},{name:"45-min Discovery Call",duration:45,slug:"discovery",description:"Learn about needs and goals"}];function fm(){const t=_e(),s=Xt(),{id:r}=vs(),{showUpgradeModal:n}=Rs(),a=!!r,[l,i]=m.useState(!1),[o,c]=m.useState(!1),[d,u]=m.useState(!1),[x,y]=m.useState({title:"",slug:"",description:"",duration:30,location:"",location_type:"google_meet",color:"blue",is_active:!0,buffer_before:0,buffer_after:0,max_bookings_per_day:null,require_approval:!1,price:0,currency:"USD"});m.useEffect(()=>{var h;a&&((h=s.state)!=null&&h.event?w(s.state.event):g())},[r]);const w=h=>{y({title:h.title||h.name||"",slug:h.slug||"",description:h.description||"",duration:h.duration||30,location:h.location||"",location_type:h.location_type||"google_meet",color:h.color||"blue",is_active:h.is_active!==!1,buffer_before:h.buffer_before||0,buffer_after:h.buffer_after||0,max_bookings_per_day:h.max_bookings_per_day||null,require_approval:h.require_approval||!1,price:h.price||0,currency:h.currency||"USD"}),(h.buffer_before||h.buffer_after||h.max_bookings_per_day||h.require_approval)&&u(!0)},g=async()=>{i(!0);try{const h=await ys.getAll(),S=(h.data.eventTypes||h.data.event_types||h.data||[]).find(k=>String(k.id)===String(r));S?w(S):(alert("Event type not found"),t("/events"))}catch(h){console.error("Failed to load event type:",h),t("/events")}finally{i(!1)}},v=h=>h.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/(^-|-$)/g,""),j=h=>{const N=h.target.value;!x.slug||x.slug===v(x.title)?y(S=>({...S,title:N,slug:v(N)})):y(S=>({...S,title:N}))},f=h=>{window.confirm(`Apply template "${h.name}"? This will overwrite some fields.`)&&y(N=>({...N,title:h.name,slug:h.slug,duration:h.duration,description:h.description}))},b=async h=>{var N,S,k,C,P,I,O;if(h.preventDefault(),!x.title.trim()){alert("Event name is required");return}if(!x.slug.trim()){alert("URL Slug is required");return}c(!0);try{const M={...x,title:x.title.trim(),slug:x.slug.trim(),location:x.location.trim(),buffer_before:parseInt(x.buffer_before)||0,buffer_after:parseInt(x.buffer_after)||0,max_bookings_per_day:x.max_bookings_per_day?parseInt(x.max_bookings_per_day):null,price:parseFloat(x.price)||0};a?await ys.update(r,M):await ys.create(M),t("/events")}catch(M){console.error("Failed to save:",M),((N=M.response)==null?void 0:N.status)===403&&((k=(S=M.response)==null?void 0:S.data)!=null&&k.upgrade)?n("event_types"):alert(((P=(C=M.response)==null?void 0:C.data)==null?void 0:P.message)||((O=(I=M.response)==null?void 0:I.data)==null?void 0:O.error)||"Failed to save event type")}finally{c(!1)}};if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(se,{className:"animate-spin text-blue-600 h-8 w-8"})});const p=pm.find(h=>h.value===x.location_type);return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 overflow-x-hidden",children:[e.jsxs("div",{className:"mb-8 min-w-0",children:[e.jsxs("button",{onClick:()=>t("/events"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(ga,{className:"h-4 w-4"})," Back"]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:a?"Edit Event Type":"Create Event Type"}),e.jsx("p",{className:"text-gray-600 mt-2",children:a?"Update the settings for this meeting template.":"Define a new meeting template with custom settings."})]}),!a&&e.jsxs("div",{className:"bg-blue-50 rounded-2xl border border-blue-200 p-4 sm:p-6 mb-6 overflow-hidden",children:[e.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),"Quick Start Templates"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:qv.map((h,N)=>e.jsxs("button",{type:"button",onClick:()=>f(h),className:"p-3 bg-white border border-blue-200 rounded-xl hover:border-blue-400 hover:shadow-sm transition-all text-left min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm truncate",children:h.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.duration," min"]})]},N))})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6 overflow-hidden",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ad,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:"Event Name *"}),e.jsx("input",{type:"text",value:x.title,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 30-Minute Strategy Session",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(mn,{className:"h-4 w-4 text-gray-400"}),"URL Slug *"]}),e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx("span",{className:"hidden sm:block px-4 py-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-xl text-gray-500 text-sm font-medium whitespace-nowrap",children:"yourname/"}),e.jsx("input",{type:"text",value:x.slug,onChange:h=>y({...x,slug:v(h.target.value)}),className:"flex-1 min-w-0 px-4 py-3 border border-gray-300 rounded-xl sm:rounded-r-xl sm:rounded-l-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"strategy-session",required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"This will be the shareable booking link."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:h=>y({...x,description:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What should invitees know about this meeting?"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3",children:[e.jsx(id,{className:"h-4 w-4 text-gray-400"}),"Event Color"]}),e.jsx("div",{className:"flex flex-wrap gap-3 max-w-full",children:Gv.map(h=>e.jsx("button",{type:"button",onClick:()=>y({...x,color:h.name}),className:`w-10 h-10 rounded-full ${h.bg} transition-all flex-shrink-0 ${x.color===h.name?"ring-4 ring-offset-2 ring-gray-300 scale-110":"hover:scale-105 opacity-70 hover:opacity-100"}`,title:h.name},h.name))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),"Meeting Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Se,{className:"h-4 w-4 text-gray-400"}),"Duration *"]}),e.jsxs("select",{value:x.duration,onChange:h=>y({...x,duration:parseInt(h.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Nr,{className:"h-4 w-4 text-gray-400"}),"Location Type"]}),e.jsx("select",{value:x.location_type,onChange:h=>y({...x,location_type:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:pm.map(h=>e.jsxs("option",{value:h.value,children:[h.label," ",h.auto?"(Auto)":""]},h.value))})]})]}),!(p!=null&&p.auto)&&e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Location Details"}),e.jsx("input",{type:"text",value:x.location,onChange:h=>y({...x,location:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:x.location_type==="phone"?"Phone number or instructions":x.location_type==="zoom"?"Zoom meeting link":x.location_type==="in_person"?"Address or meeting place":"Enter custom location or link"})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Advanced settings"})]}),e.jsx("button",{type:"button",onClick:()=>u(h=>!h),className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:d?"Hide":"Show"})]})]}),d&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),"Advanced Booking Rules"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Buffer Before (minutes)"}),e.jsx("input",{type:"number",min:"0",max:"60",value:x.buffer_before,onChange:h=>y({...x,buffer_before:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Time before the meeting starts."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Buffer After (minutes)"}),e.jsx("input",{type:"number",min:"0",max:"60",value:x.buffer_after,onChange:h=>y({...x,buffer_after:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Time after the meeting ends."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Max Bookings Per Day"}),e.jsx("input",{type:"number",min:"1",value:x.max_bookings_per_day||"",onChange:h=>y({...x,max_bookings_per_day:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"Unlimited"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Leave empty for unlimited bookings."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Booking Approval"}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-xl cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:x.require_approval,onChange:h=>y({...x,require_approval:h.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Require manual approval"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3 mt-5",children:[e.jsx(Oe,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Advanced Settings Info"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Buffer times prevent back-to-back meetings. Booking limits help manage your availability."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/events"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"animate-spin h-5 w-5"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"h-5 w-5"}),a?"Update Event Type":"Create Event Type"]})})]})]})]})}const Vv={google_meet:At,zoom:At,phone:ba,in_person:ri,custom:mn},gm={blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500",red:"bg-red-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",yellow:"bg-yellow-500",gray:"bg-gray-500"};function Yv(){var p,h;const t=_e(),s=Xt(),{id:r}=vs(),[n,a]=m.useState(((p=s.state)==null?void 0:p.event)||null),[l,i]=m.useState(null),[o,c]=m.useState(!((h=s.state)!=null&&h.event)),[d,u]=m.useState(!1);m.useEffect(()=>{var N;x(),(N=s.state)!=null&&N.event||y()},[r]);const x=async()=>{try{const N=await ir.me();i(N.data.user||N.data)}catch(N){console.error("Failed to load user:",N)}},y=async()=>{c(!0);try{const N=await ys.getAll(),k=(N.data.eventTypes||N.data.event_types||N.data||[]).find(C=>String(C.id)===String(r));k?a(k):t("/events")}catch(N){console.error("Failed to load event type:",N),t("/events")}finally{c(!1)}},w=async()=>{var N,S;if(n&&window.confirm(`Delete "${n.title}"? This cannot be undone.`))try{await ys.delete(r),t("/events")}catch(k){console.error("Failed to delete event type:",k),alert("Failed to delete: "+(((S=(N=k.response)==null?void 0:N.data)==null?void 0:S.error)||k.message))}},g=()=>{var k;const N=(l==null?void 0:l.username)||((k=l==null?void 0:l.email)==null?void 0:k.split("@")[0])||"user",S=(n==null?void 0:n.slug)||"";return`${window.location.origin}/book/${N}/${S}`},v=()=>{const N=g();navigator.clipboard.writeText(N),u(!0),setTimeout(()=>u(!1),2e3)},j=async()=>{if(n)try{await ys.update(r,{is_active:!n.is_active}),a({...n,is_active:!n.is_active})}catch(N){console.error("Failed to update status",N),alert("Failed to update status")}},f=n!=null&&n.location_type&&Vv[n.location_type]||Nr;if(o||!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(se,{className:"animate-spin text-blue-600 h-8 w-8"})});const b=gm[n.color]||gm.blue;return e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 overflow-x-hidden",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>t("/events"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(ga,{className:"h-4 w-4"})," Back to Event Types"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${b} flex-shrink-0`}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:n.title}),n.is_active?e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full flex-shrink-0",children:"Active"}):e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs font-semibold rounded-full flex-shrink-0",children:"Inactive"})]}),e.jsx("p",{className:"text-gray-500 mt-2 text-sm break-all",children:e.jsxs("span",{className:"text-gray-400",children:["/",n.slug]})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:j,className:`px-4 py-2 border rounded-xl font-medium transition-colors text-sm ${n.is_active?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-green-200 text-green-700 hover:bg-green-50"}`,children:n.is_active?"Disable":"Enable"}),e.jsxs("button",{onClick:()=>t(`/events/${r}/edit`,{state:{event:n}}),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors text-sm",children:[e.jsx(od,{className:"h-4 w-4"})," Edit"]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 rounded-xl hover:bg-red-50 font-medium transition-colors text-sm",children:[e.jsx(mt,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 min-w-0",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5 text-blue-600"}),"Event Overview"]}),n.description?e.jsx("p",{className:"text-gray-600 mb-6 break-words",children:n.description}):e.jsx("p",{className:"text-gray-400 italic mb-6",children:"No description provided."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Se,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[n.duration," min"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(f,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:n.location||"Auto-generated"})]})]})]})]}),(n.buffer_before>0||n.buffer_after>0||n.max_bookings_per_day||n.require_approval)&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5 text-gray-600"}),"Booking Rules"]}),e.jsxs("div",{className:"space-y-3",children:[n.buffer_before>0&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Buffer before"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[n.buffer_before," min"]})]}),n.buffer_after>0&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Buffer after"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[n.buffer_after," min"]})]}),n.max_bookings_per_day&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Max bookings per day"}),e.jsx("span",{className:"font-medium text-gray-900",children:n.max_bookings_per_day})]}),n.require_approval&&e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Require approval"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded",children:"Yes"})]})]})]})]}),e.jsxs("div",{className:"space-y-6 min-w-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl border border-blue-200 p-4 sm:p-6 overflow-hidden",children:[e.jsxs("h2",{className:"text-lg font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5 flex-shrink-0"})," Share Event"]}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-700 mb-4",children:"Share this link to let people book this specific meeting type."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:v,className:"w-full flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 bg-white border border-blue-200 rounded-xl hover:border-blue-300 transition-all text-blue-800 font-medium shadow-sm text-sm min-w-0",children:[e.jsx("span",{className:"truncate flex-1 text-left",children:d?"Copied!":"Copy Link"}),d?e.jsx(ue,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0 ml-2"}):e.jsx(Jt,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 ml-2"})]}),e.jsxs("a",{href:g(),target:"_blank",rel:"noreferrer",className:"w-full flex items-center justify-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium shadow-md transition-colors text-sm",children:[e.jsx(Tt,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 flex-shrink-0"}),e.jsx("span",{children:"Preview Page"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200 min-w-0",children:e.jsx("div",{className:"bg-white rounded-lg p-2 overflow-hidden",children:e.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 leading-relaxed",style:{wordBreak:"break-all",overflowWrap:"anywhere",hyphens:"auto"},children:g()})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5 text-gray-600"}),"Booking Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Bookings"}),e.jsx("span",{className:"font-bold text-2xl text-gray-900",children:"0"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"This month"}),e.jsx("span",{className:"font-semibold text-gray-700",children:"0"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-4 italic",children:"Coming soon: View detailed booking analytics"})]})]})]})]})}const ym=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];function Jv(){const[t,s]=m.useState(!0),[r,n]=m.useState(!1),[a,l]=m.useState(!1),[i,o]=m.useState(null),[c,d]=m.useState({name:"",email:"",timezone:"America/New_York"}),[u,x]=m.useState({workingHours:{monday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},tuesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},wednesday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},thursday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},friday:{enabled:!0,slots:[{start:"09:00",end:"17:00"}]},saturday:{enabled:!1,slots:[{start:"09:00",end:"17:00"}]},sunday:{enabled:!1,slots:[{start:"09:00",end:"17:00"}]}},bufferTime:0});m.useEffect(()=>{y()},[]);const y=async()=>{try{const h=(await ir.me()).data.user;d({name:h.name,email:h.email,timezone:h.timezone||"America/New_York"});const S=(await _.get("/teams")).data.teams.find(k=>k.name.includes("Personal Bookings"));if(S){const C=(await _.get(`/teams/${S.id}/members`)).data.members.find(P=>P.user_id===h.id);if(C){o(C.id);const I=(await _.get(`/team-members/${C.id}/availability`)).data.member;if(I!=null&&I.working_hours){const O={};Object.keys(I.working_hours).forEach(M=>{const E=I.working_hours[M];E!=null&&E.slots?O[M]=E:O[M]={enabled:(E==null?void 0:E.enabled)??!1,slots:[{start:(E==null?void 0:E.start)||"09:00",end:(E==null?void 0:E.end)||"17:00"}]}}),ym.forEach(({key:M})=>{O[M]||(O[M]=u.workingHours[M])}),x({workingHours:O,bufferTime:I.buffer_time||0})}}}}catch(p){console.error("Error loading availability:",p)}finally{s(!1)}},w=async()=>{n(!0);try{await di.update({timezone:c.timezone}),i&&await _.put(`/team-members/${i}/availability`,{working_hours:u.workingHours,buffer_time:u.bufferTime}),l(!0),setTimeout(()=>l(!1),2e3)}catch(p){console.error("Error saving availability:",p),alert("Failed to save changes")}finally{n(!1)}},g=p=>{x(h=>({...h,workingHours:{...h.workingHours,[p]:{...h.workingHours[p],enabled:!h.workingHours[p].enabled}}}))},v=(p,h,N,S)=>{const k=[...u.workingHours[p].slots];k[h]={...k[h],[N]:S},x(C=>({...C,workingHours:{...C.workingHours,[p]:{...C.workingHours[p],slots:k}}}))},j=p=>{const h=[...u.workingHours[p].slots,{start:"09:00",end:"17:00"}];x(N=>({...N,workingHours:{...N.workingHours,[p]:{...N.workingHours[p],slots:h}}}))},f=(p,h)=>{const N=u.workingHours[p].slots.filter((S,k)=>k!==h);x(S=>({...S,workingHours:{...S.workingHours,[p]:{...S.workingHours[p],slots:N}}}))};if(t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50/30",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})});return e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Availability"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 max-w-xl",children:"Configure your weekly schedule. You can add multiple time blocks per day (e.g., 9am12pm and 2pm5pm)."})]}),e.jsxs("button",{onClick:w,disabled:r,className:"bg-blue-600 text-white px-6 py-2.5 rounded-full hover:bg-blue-700 transition-all flex items-center gap-2 font-semibold text-sm shadow-sm disabled:opacity-70",children:[r?e.jsx(se,{className:"h-4 w-4 animate-spin"}):a?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(lr,{className:"h-4 w-4"}),r?"Saving...":a?"Saved":"Save changes"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-semibold text-gray-900 uppercase tracking-wide flex items-center gap-2 mb-1",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-400"})," Timezone"]}),e.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Your availability is stored in this timezone and automatically converted for guests."})]}),e.jsxs("div",{className:"w-full sm:w-72 relative",children:[e.jsx(Kt,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:c.timezone,onChange:p=>d({...c,timezone:p.target.value}),className:"w-full pl-9 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-sm",children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx("option",{value:"Europe/London",children:"London"}),e.jsx("option",{value:"Asia/Singapore",children:"Singapore"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-5 sm:p-6 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Weekly working hours"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set your start and end times for each day."})]}),e.jsxs("button",{onClick:()=>b(),className:"inline-flex items-center gap-1.5 rounded-full border border-gray-200 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-50",children:[e.jsx(Jt,{className:"h-3 w-3"})," Copy Monday to weekdays"]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:ym.map(p=>{const h=u.workingHours[p.key],N=["saturday","sunday"].includes(p.key);return e.jsxs("div",{className:`flex flex-col md:flex-row items-start gap-4 px-6 py-4 ${N?"bg-gray-50/50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 w-32 flex-shrink-0",children:[e.jsx("input",{type:"checkbox",checked:h.enabled,onChange:()=>g(p.key),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:p.label})]}),e.jsx("div",{className:"flex-1 w-full",children:h.enabled?e.jsxs("div",{className:"space-y-3 w-full",children:[h.slots.map((S,k)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-lg px-2 py-1 shadow-sm",children:[e.jsx("input",{type:"time",value:S.start,onChange:C=>v(p.key,k,"start",C.target.value),className:"border-none outline-none text-sm font-medium text-gray-700 w-24"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"time",value:S.end,onChange:C=>v(p.key,k,"end",C.target.value),className:"border-none outline-none text-sm font-medium text-gray-700 w-24"})]}),e.jsx("button",{type:"button",onClick:()=>f(p.key,k),className:"p-1.5 hover:bg-red-50 text-red-500 rounded-md transition-colors",title:"Remove slot",children:e.jsx(mt,{className:"h-4 w-4"})})]},k)),e.jsxs("button",{type:"button",onClick:()=>j(p.key),className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 mt-1",children:[e.jsx(Qt,{className:"h-3 w-3"}),e.jsx("span",{children:"Add time block"})]})]}):e.jsx("span",{className:"text-sm text-gray-400 italic",children:"Unavailable"})})]},p.key)})})]})]})});function b(){const p=[...u.workingHours.monday.slots],h={...u.workingHours};Object.keys(h).forEach(N=>{["saturday","sunday"].includes(N)||(h[N]={enabled:!0,slots:JSON.parse(JSON.stringify(p))})}),x(N=>({...N,workingHours:h}))}}function Kv(){const t=_e(),[s,r]=m.useState(1),[n,a]=m.useState(""),[l,i]=m.useState(!1),[o,c]=m.useState(null),[d,u]=m.useState(""),x=async()=>{var w,g;if(!n.trim()){u("Please enter your Calendly API key");return}i(!0),u("");try{const v=await _.post("/import/calendly",{api_key:n,import_event_types:!0,import_availability:!0,import_bookings_days:90});c(v.data),r(3)}catch(v){console.error("Import error:",v),u(((g=(w=v.response)==null?void 0:w.data)==null?void 0:g.error)||"Failed to import from Calendly. Please check your API key and try again.")}finally{i(!1)}},y=()=>{t("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl mb-6 shadow-lg",children:e.jsx(Il,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Migrate from Calendly"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Import your event types, availability settings, and booking history in minutes"})]}),e.jsx("div",{className:"flex items-center justify-center mb-12",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s>=1?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=1?"bg-purple-600 text-white":"bg-gray-200"}`,children:"1"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Setup"})]}),e.jsx(Je,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=2?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=2?"bg-purple-600 text-white":"bg-gray-200"}`,children:"2"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Import"})]}),e.jsx(Je,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=3?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=3?"bg-purple-600 text-white":"bg-gray-200"}`,children:"3"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Review"})]}),e.jsx(Je,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=4?"text-purple-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${s>=4?"bg-purple-600 text-white":"bg-gray-200"}`,children:"4"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Complete"})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-100 p-8",children:[s===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Get Your Calendly API Key"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Follow these steps to get your Calendly API key. Don't worry, it's safe and read-only!"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Visit Calendly Integrations"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Go to your Calendly account  Integrations  API & Webhooks"}),e.jsxs("a",{href:"https://calendly.com/integrations/api_webhooks",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700 font-medium",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Open Calendly Settings"]})]})]}),e.jsxs("div",{className:"flex gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Generate Personal Access Token"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Click "Create Token" and copy it. Make sure to select "Read" permissions.'})]})]}),e.jsxs("div",{className:"flex gap-4 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Paste Below & Import"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Paste your token below and we'll import everything automatically."})]})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Security Note:"}),e.jsx("p",{children:"We only use your API key once to import your data. We don't store it. After import, you can revoke the token in Calendly if you wish."})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:()=>r(2),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold flex items-center gap-2",children:["Next: Enter API Key",e.jsx(Je,{className:"h-5 w-5"})]})})]}),s===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Enter Your Calendly API Key"}),e.jsx("p",{className:"text-gray-600",children:"Paste your Calendly Personal Access Token below to begin the import."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Calendly API Key"}),e.jsx("input",{type:"text",value:n,onChange:w=>a(w.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none transition-all font-mono text-sm"})]}),d&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:d})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What we'll import:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-blue-600"}),"Event types (meeting durations, descriptions, settings)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-blue-600"}),"Availability schedule (weekly hours)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-blue-600"}),"Past bookings (last 90 days for analytics)"]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{onClick:()=>r(1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-semibold",children:"Back"}),e.jsx("button",{onClick:x,disabled:l||!n.trim(),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rd,{className:"h-5 w-5"}),"Start Import"]})})]})]}),s===3&&o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(ne,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Import Complete! "}),e.jsx("p",{className:"text-gray-600",children:"We've successfully imported your Calendly data into ScheduleSync."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-6 bg-purple-50 rounded-xl border border-purple-200 text-center",children:[e.jsx(oe,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900 mb-1",children:o.event_types||0}),e.jsx("p",{className:"text-sm text-purple-700",children:"Event Types"})]}),e.jsxs("div",{className:"p-6 bg-blue-50 rounded-xl border border-blue-200 text-center",children:[e.jsx(Se,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mb-1",children:o.availability_rules||0}),e.jsx("p",{className:"text-sm text-blue-700",children:"Availability Rules"})]}),e.jsxs("div",{className:"p-6 bg-green-50 rounded-xl border border-green-200 text-center",children:[e.jsx(ze,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 mb-1",children:o.bookings||0}),e.jsx("p",{className:"text-sm text-green-700",children:"Past Bookings"})]})]}),o.warnings&&o.warnings.length>0&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Import Notes:"}),e.jsx("ul",{className:"space-y-1 text-sm text-yellow-800",children:o.warnings.map((w,g)=>e.jsxs("li",{children:[" ",w]},g))})]})]})}),e.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5 text-purple-600"}),"What's Next?"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Review your imported event types in the dashboard"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Customize your availability settings if needed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Update your booking links on your website/social media"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"font-medium",children:"Optional: Cancel your Calendly subscription and delete your account"})]})]})]}),e.jsx("div",{className:"flex justify-center pt-4",children:e.jsxs("button",{onClick:y,className:"px-10 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition-all font-bold text-lg flex items-center gap-2",children:["Go to Dashboard",e.jsx(Je,{className:"h-6 w-6"})]})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help?"," ",e.jsx("a",{href:"mailto:support@schedulesync.com",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Contact Support"})]})})]})})}const Va=[{id:"reminder",label:"Reminder",emoji:""},{id:"confirmation",label:"Confirmation",emoji:""},{id:"follow_up",label:"Follow-up",emoji:""},{id:"reschedule",label:"Reschedule",emoji:""},{id:"cancellation",label:"Cancellation",emoji:""},{id:"other",label:"Other",emoji:""}],Qv=[{key:"guestName",label:"Guest Name"},{key:"guestEmail",label:"Guest Email"},{key:"organizerName",label:"Your Name"},{key:"meetingDate",label:"Meeting Date"},{key:"meetingTime",label:"Meeting Time"},{key:"meetingLink",label:"Meeting Link"},{key:"bookingLink",label:"Booking Link"}],Xv=[{id:"professional",label:"Professional",emoji:""},{id:"professional but friendly",label:"Professional & Friendly",emoji:""},{id:"casual",label:"Casual",emoji:""},{id:"warm",label:"Warm",emoji:""},{id:"formal",label:"Formal",emoji:""}],En=[{id:"default_1",name:"Friendly Reminder",type:"reminder",subject:"Reminder: Our meeting is tomorrow",body:`Hi {{guestName}},

Just a friendly reminder that we're scheduled to meet tomorrow.

Date: {{meetingDate}}
Time: {{meetingTime}}
Meeting link: {{meetingLink}}

Looking forward to speaking with you.

{{organizerName}}`,is_default:!0,is_favorite:!0,usage_count:23,effectiveness:87},{id:"default_2",name:"Professional Reminder",type:"reminder",subject:"Reminder: Upcoming meeting on {{meetingDate}}",body:`Dear {{guestName}},

This is a reminder about your upcoming meeting.

Date: {{meetingDate}}
Time: {{meetingTime}}
Meeting link: {{meetingLink}}

Best regards,
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:15,effectiveness:82},{id:"default_3",name:"Thank You Follow-up",type:"follow_up",subject:"Thank you for meeting with me",body:`Hi {{guestName}},

Thank you for taking the time to meet with me today. I really appreciated our conversation.

If you need anything else, you can easily book another time here: {{bookingLink}}

Talk soon,
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:31,effectiveness:91},{id:"default_4",name:"Meeting Confirmed",type:"confirmation",subject:"Your meeting is confirmed",body:`Hi {{guestName}},

Your meeting has been confirmed.

Date: {{meetingDate}}
Time: {{meetingTime}}
Meeting link: {{meetingLink}}

If you need to make changes, you can update your booking at any time.

See you soon,
{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:45,effectiveness:94},{id:"default_5",name:"Need to Reschedule",type:"reschedule",subject:"Can we reschedule our meeting?",body:`Hi {{guestName}},

I'm sorry, but I need to reschedule our meeting on {{meetingDate}}.

Please pick a new time that works best for you using this link:
{{bookingLink}}

Apologies for any inconvenience this may cause.

{{organizerName}}`,is_default:!0,is_favorite:!1,usage_count:8,effectiveness:78}];function Zv(){const{showUpgradeModal:t,hasProFeature:s,currentTier:r,loading:n}=Rs(),[a,l]=m.useState([]),[i,o]=m.useState(!0),[c,d]=m.useState(!1),[u,x]=m.useState(""),[y,w]=m.useState("all"),[g,v]=m.useState(!1),[j,f]=m.useState(null),[b,p]=m.useState(!1),[h,N]=m.useState(null),[S,k]=m.useState(!1),[C,P]=m.useState(!1),[I,O]=m.useState({description:"",type:"other",tone:"professional but friendly"}),[M,E]=m.useState([]);if(m.useEffect(()=>{s()?(z(),K()):o(!1)},[s]),n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})});if(!s())return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-12 text-center border-2 border-purple-200",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Qe,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Email Templates"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Create beautiful, personalized email templates for confirmations, reminders, follow-ups, and more."}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-4",children:"What you get with Pro:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Unlimited custom email templates"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"AI-powered template generation"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Smart personalization variables"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Template analytics & effectiveness tracking"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Works with AI scheduling assistant"]})]})]}),e.jsxs("button",{onClick:()=>t("templates"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all font-semibold text-lg flex items-center gap-2 mx-auto",children:[e.jsx(Jr,{className:"h-5 w-5"}),"Upgrade to Pro - $12/month"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Currently on: ",e.jsx("span",{className:"font-medium capitalize",children:r})," plan"]})]})})});const z=async()=>{try{const ee=(await _.get("/email-templates")).data.templates||[],Z=[...En,...ee.map(he=>({...he,is_default:!1}))];l(Z)}catch(T){console.error("Failed to load templates:",T),l(En)}finally{o(!1)}},K=async()=>{try{const T=new Date().getHours(),ee=new Date().getDay(),Z=[];(T>17||ee===5)&&Z.push({template:En.find(Y=>Y.type==="follow_up"),reason:"Popular for end-of-day follow-ups"}),T>=9&&T<=11&&Z.push({template:En.find(Y=>Y.type==="reminder"),reason:"Perfect timing for meeting reminders"});const he=En.reduce((Y,fe)=>(fe.effectiveness||0)>(Y.effectiveness||0)?fe:Y);Z.find(Y=>{var fe;return((fe=Y.template)==null?void 0:fe.id)===he.id})||Z.push({template:he,reason:`${he.effectiveness}% effectiveness rate`}),E(Z.slice(0,3))}catch(T){console.error("Failed to load smart suggestions:",T)}},V=async()=>{var T,ee;if(!I.description.trim()){alert("Please describe the template you want to create");return}P(!0);try{const he=(await _.post("/ai/generate-template",I)).data.template;f({...he,id:null,is_default:!1,is_favorite:!1,generated_by_ai:!0}),k(!1),v(!0),O({description:"",type:"other",tone:"professional but friendly"})}catch(Z){console.error("AI generation failed:",Z),alert(((ee=(T=Z.response)==null?void 0:T.data)==null?void 0:ee.error)||"Failed to generate template")}finally{P(!1)}},A=[...a.filter(T=>{const ee=u===""||T.name.toLowerCase().includes(u.toLowerCase()),Z=y==="all"||T.type===y;return ee&&Z})].sort((T,ee)=>T.is_favorite&&!ee.is_favorite?-1:!T.is_favorite&&ee.is_favorite?1:T.effectiveness&&ee.effectiveness?ee.effectiveness-T.effectiveness:T.name.localeCompare(ee.name)),q=async T=>{const ee=a.find(Z=>Z.id===T);if(l(Z=>Z.map(he=>he.id===T?{...he,is_favorite:!he.is_favorite}:he)),ee&&!ee.is_default)try{await _.patch(`/email-templates/${T}/favorite`)}catch(Z){console.error("Failed to update favorite:",Z)}},$=(T=null)=>{f(T?{...T,id:T.is_default?null:T.id,name:T.is_default?`${T.name} (My Version)`:T.name,is_default:!1}:{id:null,name:"",type:"other",subject:"",body:"",is_favorite:!1}),v(!0)},X=async()=>{if(!j.name||!j.subject||!j.body){alert("Please fill in all fields");return}d(!0);try{j.id?await _.put(`/email-templates/${j.id}`,j):await _.post("/email-templates",j),await z(),v(!1)}catch(T){console.error("Save failed:",T),alert("Failed to save template")}finally{d(!1)}},le=async T=>{if(confirm("Delete this template?"))try{await _.delete(`/email-templates/${T}`),await z()}catch(ee){console.error("Delete failed:",ee)}},Ne=T=>{const ee=document.getElementById("template-body");if(!ee||!j)return;const Z=ee.selectionStart,he=ee.selectionEnd,Y=j.body,fe=Y.substring(0,Z)+`{{${T}}}`+Y.substring(he);f({...j,body:fe}),setTimeout(()=>{ee.focus();const F=Z+T.length+4;ee.setSelectionRange(F,F)},0)},de=T=>{var ee;return((ee=Va.find(Z=>Z.id===T))==null?void 0:ee.emoji)||""},L=T=>T>=90?"text-green-600 bg-green-50":T>=80?"text-blue-600 bg-blue-50":T>=70?"text-yellow-600 bg-yellow-50":"text-gray-600 bg-gray-50",B=T=>{const ee={guestName:"John Smith",guestEmail:"john@example.com",organizerName:"You",meetingDate:"Monday, Jan 20, 2025",meetingTime:"2:00 PM",meetingLink:"https://meet.google.com/abc-xyz",bookingLink:"https://schedulesync.app/book/you"};let Z=T.subject,he=T.body;Object.entries(ee).forEach(([Y,fe])=>{const F=new RegExp(`\\{\\{${Y}\\}\\}`,"g");Z=Z.replace(F,fe),he=he.replace(F,fe)}),N({...T,subject:Z,body:he}),p(!0)};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Qe,{className:"h-8 w-8 text-blue-600"}),"Email Templates"]}),e.jsxs("p",{className:"text-gray-600 mt-1 flex items-center gap-2",children:[e.jsx(qt,{className:"h-4 w-4"}),"Your AI assistant uses these when sending emails"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>k(!0),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 flex items-center gap-2 font-semibold shadow-sm",children:[e.jsx(ye,{className:"h-5 w-5"}),"AI Generate"]}),e.jsxs("button",{onClick:()=>$(),className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 flex items-center gap-2 font-semibold shadow-sm",children:[e.jsx(Qt,{className:"h-5 w-5"}),"New Template"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[M.length>0&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(By,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-900 mb-2",children:" Recommended for you:"}),e.jsx("div",{className:"space-y-2",children:M.map((T,ee)=>{var Z;return e.jsx("div",{className:"bg-white p-2 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:(Z=T.template)==null?void 0:Z.name}),e.jsx("p",{className:"text-xs text-green-700",children:T.reason})]}),e.jsx("button",{onClick:()=>$(T.template),className:"text-green-600 hover:text-green-700",children:e.jsx(Bu,{className:"h-4 w-4"})})]})},ee)})})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ye,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-purple-900",children:"How it works with AI"}),e.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Say:"," ",e.jsx("span",{className:"font-mono bg-white px-2 py-0.5 rounded",children:'"Send John a friendly reminder"'}),e.jsx("br",{}),"Your AI picks the best template automatically!"]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(cd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search templates...",value:u,onChange:T=>x(T.target.value),className:"w-full pl-10 pr-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),e.jsxs("select",{value:y,onChange:T=>w(T.target.value),className:"px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none bg-white",children:[e.jsx("option",{value:"all",children:"All Types"}),Va.map(T=>e.jsxs("option",{value:T.id,children:[T.emoji," ",T.label]},T.id))]})]}),A.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border-2 border-dashed border-gray-200",children:[e.jsx(ad,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No templates found"}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium",children:" Generate with AI"}),e.jsx("button",{onClick:()=>$(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium",children:"Create Manual"})]})]}):e.jsx("div",{className:"space-y-3",children:A.map(T=>e.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-100 hover:border-blue-200 transition-all overflow-hidden",children:e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"text-2xl",children:de(T.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:T.name}),T.is_default&&e.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full",children:"Built-in"}),T.generated_by_ai&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full flex items-center gap-1",children:[e.jsx(Hu,{className:"h-3 w-3"}),"AI"]})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate mb-1",children:T.subject}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[T.usage_count&&e.jsxs("span",{className:"text-gray-600",children:[" Used ",T.usage_count," times"]}),T.effectiveness&&e.jsxs("span",{className:`px-2 py-0.5 rounded-full ${L(T.effectiveness)}`,children:[T.effectiveness,"% effective"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>q(T.id),className:"p-2 hover:bg-gray-100 rounded-lg",title:T.is_favorite?"Remove from favorites":"Add to favorites",children:e.jsx(rn,{className:`h-5 w-5 ${T.is_favorite?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})}),e.jsx("button",{onClick:()=>B(T),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Preview",children:e.jsx(ya,{className:"h-5 w-5 text-gray-500"})}),e.jsx("button",{onClick:()=>$(T),className:"p-2 hover:bg-gray-100 rounded-lg",title:T.is_default?"Duplicate & Edit":"Edit",children:e.jsx(Bu,{className:"h-5 w-5 text-gray-500"})}),!T.is_default&&e.jsx("button",{onClick:()=>le(T.id),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:e.jsx(mt,{className:"h-5 w-5 text-red-500"})})]})]})},T.id))})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between text-white rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{className:"h-6 w-6"}),e.jsx("h2",{className:"text-lg font-bold",children:"AI Template Generator"})]}),e.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-white/20 rounded-lg",children:e.jsx(Fe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Describe your template *"}),e.jsx("textarea",{value:I.description,onChange:T=>O({...I,description:T.target.value}),placeholder:"e.g., Professional follow-up for sales meetings with warm tone",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 outline-none resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be specific about purpose, tone, and style"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Va.map(T=>e.jsxs("button",{onClick:()=>O({...I,type:T.id}),className:`px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${I.type===T.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[T.emoji," ",T.label]},T.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tone"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Xv.map(T=>e.jsxs("button",{onClick:()=>O({...I,tone:T.id}),className:`px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${I.tone===T.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[T.emoji," ",T.label]},T.id))})]})]}),e.jsxs("div",{className:"bg-gray-50 border-t px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-5 py-2.5 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:V,disabled:C||!I.description.trim(),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 flex items-center gap-2",children:[C?e.jsx(se,{className:"h-4 w-4 animate-spin"}):e.jsx(ye,{className:"h-4 w-4"}),C?"Generating...":"Generate Template"]})]})]})}),g&&j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[j.generated_by_ai&&e.jsx(Hu,{className:"h-5 w-5 text-purple-600"}),j.id?"Edit Template":"New Template"]}),e.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Fe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[j.generated_by_ai&&e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Generated by AI - Feel free to customize as needed!"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Name *"}),e.jsx("input",{type:"text",value:j.name,onChange:T=>f({...j,name:T.target.value}),placeholder:"e.g., Friendly Reminder",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Va.map(T=>e.jsxs("button",{onClick:()=>f({...j,type:T.id}),className:`px-4 py-2 rounded-lg border-2 text-sm font-medium transition-all ${j.type===T.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[T.emoji," ",T.label]},T.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Subject *"}),e.jsx("input",{type:"text",value:j.subject,onChange:T=>f({...j,subject:T.target.value}),placeholder:"e.g., Reminder about our meeting tomorrow",className:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Body *"}),e.jsx("textarea",{id:"template-body",value:j.body,onChange:T=>f({...j,body:T.target.value}),rows:8,placeholder:"Write your email here...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none resize-none"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(Ry,{className:"h-4 w-4"}),"Insert Variables (click to add)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Qv.map(T=>e.jsxs("button",{onClick:()=>Ne(T.key),className:"px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-300 transition-all",children:[e.jsx("span",{className:"font-mono text-blue-600",children:`{{${T.key}}}`}),e.jsxs("span",{className:"text-gray-400 ml-1",children:["(",T.label,")"]})]},T.key))})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-5 py-2.5 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:X,disabled:c,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[c?e.jsx(se,{className:"h-4 w-4 animate-spin"}):e.jsx(lr,{className:"h-4 w-4"}),c?"Saving...":"Save Template"]})]})]})}),b&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-xl w-full shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-100 px-6 py-4 flex items-center justify-between border-b",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Preview"}),e.jsx("p",{className:"font-semibold text-gray-900",children:h.name})]}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-200 rounded-lg",children:e.jsx(Fe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"SUBJECT"}),e.jsx("p",{className:"text-gray-900 font-medium",children:h.subject})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"BODY"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 whitespace-pre-wrap text-gray-800 text-sm",children:h.body})]})]}),e.jsx("div",{className:"bg-gray-50 border-t px-6 py-4 flex justify-end",children:e.jsx("button",{onClick:()=>{p(!1);const T=a.find(ee=>ee.id===h.id||ee.name===h.name);T&&$(T)},className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:"Edit This Template"})})]})})]})}function ew(){_e();const t=pd(),{showUpgradeModal:s}=Rs(),[r,n]=m.useState(null),[a,l]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState(""),[u,x]=m.useState(!1),[y,w]=m.useState([]),[g,v]=m.useState(!1),[j,f]=m.useState(!0),[b,p]=m.useState(!1),[h,N]=m.useState(""),[S,k]=m.useState(""),[C,P]=m.useState(""),[I,O]=m.useState("collective"),[M,E]=m.useState("1"),[z,K]=m.useState("7"),[V,D]=m.useState([]),[A,q]=m.useState([]),[$,X]=m.useState([]),[le,Ne]=m.useState(!1);m.useEffect(()=>{de()},[]);const de=async()=>{f(!0);try{await Promise.all([L(),B(),T(),ee()])}catch(U){console.error("Error loading data:",U)}finally{f(!1)}},L=async()=>{try{const U=await _.get("/auth/me"),ae=U.data.user||U.data;n(ae)}catch(U){console.error("Failed to load profile:",U)}},B=async()=>{try{const U=await _.get("/my-booking-link");U.data.bookingUrl&&(l(U.data.bookingUrl),o(U.data.bookingToken))}catch(U){console.error("Failed to load booking link:",U)}},T=async()=>{try{const U=await _.get("/magic-links");w(U.data.links||[])}catch(U){console.error("Load magic links error:",U)}},ee=async()=>{try{const U=await _.get("/magic-links/available-members");D(U.data.teams||[]),q(U.data.members||[])}catch(U){console.error("Load available members error:",U)}},Z=async()=>{x(!0);try{const U=await _.get("/my-booking-link");U.data.bookingUrl&&(l(U.data.bookingUrl),o(U.data.bookingToken),t.success("Booking link ready! "))}catch(U){console.error("Generate link error:",U),t.error("Could not generate booking link")}finally{x(!1)}},he=(U,ae="permanent")=>{navigator.clipboard.writeText(U),d(ae),t.success("Link copied to clipboard! "),setTimeout(()=>d(""),2e3)},Y=async()=>{var ae,H;if(((r==null?void 0:r.subscription_tier)||"free")==="free"){s("magic_links");return}v(!0);try{const xe={name:h.trim()||null,attendee_email:S.trim()||null,attendee_name:C.trim()||null,member_ids:$.map(ce=>ce.id),scheduling_mode:I,usage_limit:M==="unlimited"?null:parseInt(M),expires_in_days:parseInt(z)};await _.post("/magic-links",xe),N(""),k(""),P(""),X([]),O("collective"),E("1"),K("7"),p(!1),await T(),t.success("Magic link created! ")}catch(xe){console.error("Generate magic link error:",xe),t.error(((H=(ae=xe.response)==null?void 0:ae.data)==null?void 0:H.error)||"Could not generate magic link")}finally{v(!1)}},fe=async U=>{if(confirm("Are you sure you want to delete this magic link?"))try{await _.delete(`/magic-links/${U}`),await T(),t.success("Magic link deleted")}catch{t.error("Could not delete magic link")}},F=U=>{const ae=$.some(H=>H.id===U.id);X(ae?$.filter(H=>H.id!==U.id):[...$,U])},W=U=>{const ae=new Date,H=new Date(U.expires_at);if(U.is_used&&U.usage_limit===1)return{label:"Used",color:"bg-gray-100 text-gray-600",icon:_s};if(U.is_exhausted)return{label:"Exhausted",color:"bg-gray-100 text-gray-600",icon:_s};if(U.is_expired||H<ae)return{label:"Expired",color:"bg-red-100 text-red-600",icon:yt};const xe=Math.ceil((H-ae)/(1e3*60*60*24)),ce=U.usage_limit?`${U.usage_count}/${U.usage_limit}`:"";return{label:`Active (${xe}d, ${ce})`,color:"bg-green-100 text-green-600",icon:Se}},J=()=>{const U=(r==null?void 0:r.subscription_tier)||"free";return U==="pro"||U==="team"};return j?e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your links..."})]})}):e.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50/30",children:e.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Links"}),e.jsx("p",{className:"text-gray-600",children:"Manage your booking links and share them with clients"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-200 p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-blue-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(ld,{className:"h-5 w-5 text-blue-600"})}),"My Booking Link"]}),e.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"Share this link anywhere - email signatures, social media, websites"}),a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white border border-blue-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Your personal booking page"}),e.jsx("p",{className:"font-mono text-sm text-blue-700 break-all",children:a})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>he(a,"permanent"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all shadow-sm ${c==="permanent"?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c==="permanent"?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4"}),"Copy Link"]})}),e.jsx("button",{onClick:()=>window.open(a,"_blank"),className:"px-4 py-3 bg-white text-blue-600 border border-blue-300 rounded-xl hover:bg-blue-50 transition-colors",title:"Preview booking page",children:e.jsx(Tt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[e.jsx(_s,{className:"h-4 w-4"}),e.jsx("span",{children:"Unlimited uses, never expires"})]})]}):e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"You don't have a personal booking link yet. Create one to start accepting bookings!"}),e.jsx("button",{onClick:Z,disabled:u,className:"w-full px-6 py-3 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:u?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"animate-spin h-5 w-5"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-5 w-5"}),"Create My Booking Link"]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border border-purple-200 p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-purple-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(ye,{className:"h-5 w-5 text-purple-600"})}),"Magic Links",!J()&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-200 text-purple-700 text-xs font-bold rounded-full",children:"PRO"})]}),e.jsx("p",{className:"text-purple-700 text-sm mb-4",children:"Create custom booking links with team members and expiration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Link name (e.g., 'Sales Demo with John')",value:h,onChange:U=>N(U.target.value),className:"w-full px-4 py-3 bg-white border border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",maxLength:100}),e.jsxs("button",{onClick:()=>p(!b),className:"flex items-center gap-2 text-purple-700 hover:text-purple-900 text-sm font-medium transition-colors",children:[b?e.jsx(_y,{className:"h-4 w-4"}):e.jsx(Ou,{className:"h-4 w-4"}),b?"Hide options":"More options"]}),b&&e.jsxs("div",{className:"space-y-4 p-4 bg-white/50 rounded-xl border border-purple-100",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(ht,{className:"h-3 w-3 inline mr-1"}),"Pre-fill Name"]}),e.jsx("input",{type:"text",placeholder:"John Smith",value:C,onChange:U=>P(U.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(Qe,{className:"h-3 w-3 inline mr-1"}),"Pre-fill Email"]}),e.jsx("input",{type:"email",placeholder:"john@company.com",value:S,onChange:U=>k(U.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-2",children:[e.jsx(ze,{className:"h-3 w-3 inline mr-1"}),"Team Members in Meeting"]}),$.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:$.map(U=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:[U.name,e.jsx("button",{onClick:()=>F(U),className:"hover:text-purple-900",children:e.jsx(Fe,{className:"h-3 w-3"})})]},U.id))}),e.jsxs("button",{onClick:()=>Ne(!le),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm text-left text-purple-600 hover:bg-purple-50 flex items-center justify-between",children:[e.jsx("span",{children:$.length===0?"+ Add team members":"+ Add more members"}),e.jsx(Ou,{className:`h-4 w-4 transition-transform ${le?"rotate-180":""}`})]}),le&&A.length>0&&e.jsx("div",{className:"mt-2 max-h-64 overflow-y-auto bg-white border border-purple-200 rounded-lg divide-y divide-purple-100",children:V.map(U=>{const ae=A.filter(ge=>ge.team_id===U.id),H=ae.every(ge=>$.some(te=>te.id===ge.id)),xe=ae.some(ge=>$.some(te=>te.id===ge.id)),ce=()=>{if(H)X($.filter(ge=>!ae.some(te=>te.id===ge.id)));else{const ge=[...$];ae.forEach(te=>{ge.some(je=>je.id===te.id)||ge.push(te)}),X(ge)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"px-3 py-2 bg-purple-50 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-purple-800",children:U.name}),e.jsx("button",{onClick:ce,className:`text-xs px-2 py-1 rounded transition-colors ${H?"bg-purple-600 text-white":xe?"bg-purple-200 text-purple-700":"bg-purple-100 text-purple-600 hover:bg-purple-200"}`,children:H?" All":"Select All"})]}),ae.map(ge=>{const te=$.some(je=>je.id===ge.id);return e.jsxs("button",{onClick:()=>F(ge),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-3 hover:bg-purple-50 ${te?"bg-purple-100":""}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${te?"bg-purple-600 border-purple-600":"border-gray-300"}`,children:te&&e.jsx(ue,{className:"h-3 w-3 text-white"})}),e.jsx("span",{className:"flex-1",children:ge.name})]},ge.id)})]},U.id)})}),A.length===0&&e.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"No team members available. Create a team first."})]}),$.length>1&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-2",children:[e.jsx(zy,{className:"h-3 w-3 inline mr-1"}),"Scheduling Mode"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>O("collective"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${I==="collective"?"bg-purple-600 text-white":"bg-white border border-purple-200 text-purple-700 hover:bg-purple-50"}`,children:["Collective",e.jsx("p",{className:"text-xs opacity-75",children:"All must be free"})]}),e.jsxs("button",{onClick:()=>O("round_robin"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${I==="round_robin"?"bg-purple-600 text-white":"bg-white border border-purple-200 text-purple-700 hover:bg-purple-50"}`,children:["Round Robin",e.jsx("p",{className:"text-xs opacity-75",children:"Any one available"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(Py,{className:"h-3 w-3 inline mr-1"}),"Usage Limit"]}),e.jsxs("select",{value:M,onChange:U=>E(U.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"1",children:"Single use"}),e.jsx("option",{value:"5",children:"5 bookings"}),e.jsx("option",{value:"10",children:"10 bookings"}),e.jsx("option",{value:"unlimited",children:"Unlimited"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:[e.jsx(oe,{className:"h-3 w-3 inline mr-1"}),"Expires In"]}),e.jsxs("select",{value:z,onChange:U=>K(U.target.value),className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"1",children:"1 day"}),e.jsx("option",{value:"7",children:"7 days"}),e.jsx("option",{value:"14",children:"14 days"}),e.jsx("option",{value:"30",children:"30 days"}),e.jsx("option",{value:"90",children:"90 days"})]})]})]})]}),e.jsx("button",{onClick:Y,disabled:g,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:g?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"animate-spin h-5 w-5"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-5 w-5"}),"Create Magic Link"]})}),!J()&&e.jsx("div",{className:"p-3 bg-purple-100/50 rounded-xl text-center",children:e.jsxs("p",{className:"text-sm text-purple-700",children:[e.jsx(ye,{className:"h-4 w-4 inline mr-1"}),"Upgrade to Pro for unlimited magic links"]})})]})]})]}),y.length>0&&e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Magic Links"}),e.jsx("button",{onClick:T,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh",children:e.jsx(bs,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"space-y-3",children:y.map(U=>{const ae=W(U),H=ae.icon,xe=!U.is_used&&!U.is_expired&&!U.is_exhausted;return e.jsx("div",{className:`p-4 rounded-xl border ${xe?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`px-2 py-0.5 rounded-lg ${ae.color} text-xs font-medium flex items-center gap-1`,children:[e.jsx(H,{className:"h-3 w-3"}),ae.label]}),U.scheduling_mode&&U.scheduling_mode!=="collective"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium",children:U.scheduling_mode})]}),e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:U.link_name||`Magic Link ${U.token.substring(0,8)}...`}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500 mt-1",children:[U.attendee_email&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"h-3 w-3"}),U.attendee_email]}),U.members&&U.members.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"h-3 w-3"}),U.members.map(ce=>ce.name).join(", ")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"h-3 w-3"}),new Date(U.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[xe&&e.jsx("button",{onClick:()=>he(U.url,U.token),className:`px-3 py-2 rounded-lg font-medium text-sm transition-colors flex items-center gap-1 ${c===U.token?"bg-green-600 text-white":"bg-purple-600 text-white hover:bg-purple-700"}`,children:c===U.token?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4"}),"Copy"]})}),e.jsx("button",{onClick:()=>fe(U.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete link",children:e.jsx(mt,{className:"h-4 w-4"})})]})]})},U.id)})})]}),y.length===0&&e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300 p-8 text-center",children:[e.jsx(ye,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-700 mb-1",children:"No magic links yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create your first magic link above for specific clients or team meetings"})]})]})})}const tw=()=>{var C;const[t,s]=m.useState(null),[r,n]=m.useState([]),[a,l]=m.useState(!0),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[u,x]=m.useState(null);m.useEffect(()=>{y()},[]);const y=async()=>{l(!0),x(null);try{const P=await fetch("/api/billing/subscription",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(P.ok)s(await P.json());else throw new Error("Failed to fetch subscription");const I=await fetch("/api/billing/invoices",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(I.ok){const O=await I.json();n(O.invoices||[])}}catch(P){console.error("Billing fetch error:",P),x("Failed to load billing information")}finally{l(!1)}},w=async()=>{if(confirm(`Are you sure you want to cancel?

You'll keep access until the end of your billing period.`)){o(!0);try{const P=await fetch("/api/billing/cancel",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),I=await P.json();P.ok&&I.success?(s(O=>({...O,status:"cancelled",cancel_at:I.cancel_at})),alert("Subscription cancelled. Access continues until "+new Date(I.cancel_at).toLocaleDateString())):alert(I.error||"Failed to cancel subscription")}catch{alert("Failed to cancel subscription")}finally{o(!1)}}},g=async()=>{o(!0);try{const P=await fetch("/api/billing/reactivate",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),I=await P.json();P.ok&&I.success?(s(O=>({...O,status:"active",cancel_at:null})),alert("Subscription reactivated!")):alert(I.error||"Failed to reactivate")}catch{alert("Failed to reactivate subscription")}finally{o(!1)}},v=P=>{d(!1),y(),alert(`Successfully upgraded to ${P.name}!`)},j=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",f=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P);if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-center h-64",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading billing information..."})]})});if(u)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(Oe,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error Loading Billing"}),e.jsx("p",{className:"text-red-600 mb-4",children:u}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"})]})});const b=(t==null?void 0:t.plan)||"free",p=b!=="free",h=(t==null?void 0:t.status)==="cancelled",N={free:{name:"Free",price:0,icon:is,features:["10 AI queries/month","50 bookings/month","1 booking link","Email support"]},pro:{name:"Pro",price:12,icon:qe,features:["Unlimited AI queries","Unlimited bookings","Unlimited links","Priority support"]},team:{name:"Team",price:25,icon:ze,features:["Everything in Pro","Unlimited team members","Admin dashboard","Phone support"]}},S=N[b]||N.free,k=S.icon;return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Billing & Subscription"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your plan and billing information"})]}),e.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Refresh",children:e.jsx(bs,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 ${h?"border-yellow-300":p?"border-purple-200":"border-gray-200"} overflow-hidden`,children:[e.jsx("div",{className:`p-6 ${p?"bg-gradient-to-r from-purple-50 to-blue-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${p?"bg-purple-100":"bg-gray-200"}`,children:e.jsx(k,{className:`h-8 w-8 ${p?"text-purple-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[S.name," Plan"]}),p&&!h&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Active"}),h&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:"Cancelling"})]}),e.jsx("p",{className:"text-gray-600",children:S.price===0?"Free forever":`$${S.price}/month`})]})]}),b!=="team"&&!h&&e.jsxs("button",{onClick:()=>d(!0),className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[e.jsx(Jr,{className:"h-4 w-4"}),b==="free"?"Upgrade":"Upgrade to Team"]})]})}),e.jsxs("div",{className:"p-6 border-t border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Features"}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:S.features.map((P,I)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ne,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),P]},I))}),b!=="team"&&!h&&e.jsxs("button",{onClick:()=>d(!0),className:"sm:hidden w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[e.jsx(Jr,{className:"h-4 w-4"}),b==="free"?"Upgrade Now":"Upgrade to Team"]})]})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"AI Queries"}),e.jsx(qe,{className:"h-5 w-5 text-purple-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p?" Unlimited":"10/month"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Bookings"}),e.jsx(oe,{className:"h-5 w-5 text-blue-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p?" Unlimited":"50/month"})]})]}),p&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Subscription Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:`font-medium flex items-center gap-2 ${h?"text-yellow-600":"text-green-600"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-4 w-4"})," Cancelled"]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4"})," Active"]})})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Price"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",S.price,"/month"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:h?"Access ends":"Next billing"}),e.jsx("span",{className:"font-medium text-gray-900",children:j((t==null?void 0:t.current_period_end)||(t==null?void 0:t.next_billing_date))})]}),(t==null?void 0:t.payment_method)&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Payment method"}),e.jsxs("span",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(ni,{className:"h-4 w-4"}),(C=t.payment_method.brand)==null?void 0:C.toUpperCase(),"  ",t.payment_method.last4,e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",t.payment_method.exp_month,"/",t.payment_method.exp_year,")"]})]})]})]}),h&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Subscription Cancelled"}),e.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:["Your subscription will end on ",j((t==null?void 0:t.cancel_at)||(t==null?void 0:t.current_period_end)),". You'll keep access to all features until then."]})]})]})}),e.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:h?e.jsx("button",{onClick:g,disabled:i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:i?e.jsx(se,{className:"h-5 w-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(bs,{className:"h-5 w-5"})," Reactivate Subscription"]})}):e.jsx("button",{onClick:w,disabled:i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 disabled:opacity-50",children:i?e.jsx(se,{className:"h-5 w-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-5 w-5"})," Cancel Subscription"]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ui,{className:"h-5 w-5"}),"Billing History"]}),r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ui,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No billing history yet"}),!p&&e.jsxs("button",{onClick:()=>d(!0),className:"mt-4 text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1 mx-auto",children:["Upgrade to Pro ",e.jsx(Je,{className:"h-4 w-4"})]})]}):e.jsx("div",{className:"space-y-3",children:r.map((P,I)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${P.status==="paid"?"bg-green-100":"bg-yellow-100"}`,children:e.jsx(Ui,{className:`h-5 w-5 ${P.status==="paid"?"text-green-600":"text-yellow-600"}`})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[f(P.amount)," - ",P.description]}),e.jsx("p",{className:"text-sm text-gray-500",children:j(P.date)})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P.status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:P.status==="paid"?"Paid":"Pending"})]},P.id||I))})]}),!p&&e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:"Ready to unlock more?"}),e.jsx("p",{className:"text-purple-100",children:"Get unlimited AI queries, unlimited bookings, and priority support."})]}),e.jsxs("button",{onClick:()=>d(!0),className:"w-full sm:w-auto px-6 py-3 bg-white text-purple-600 font-semibold rounded-lg hover:bg-gray-100 flex items-center justify-center gap-2",children:[e.jsx(Jr,{className:"h-5 w-5"}),"Upgrade to Pro - $12/month"]})]})}),e.jsxs("div",{className:"text-center text-sm text-gray-500 py-4",children:[e.jsxs("p",{children:["Need help? Contact us at ",e.jsx("a",{href:"mailto:support@trucal.xyz",className:"text-purple-600 hover:underline",children:"support@trucal.xyz"})]}),e.jsx("p",{className:"mt-1",children:" All payments secured by Stripe  Cancel anytime"})]})]}),e.jsx(gd,{isOpen:c,onClose:()=>d(!1),onSuccess:v,currentTier:b})]})};function sw(){const t=_e(),{showUpgradeModal:s,hasTeamFeature:r,currentTier:n,loading:a}=Rs(),[l,i]=m.useState([]),[o,c]=m.useState(!0),[d,u]=m.useState(!1),[x,y]=m.useState(null),[w,g]=m.useState({name:"",description:""}),[v,j]=m.useState(null),[f,b]=m.useState(null),[p,h]=m.useState(null),[N,S]=m.useState(!1),k=m.useRef(null),C=D=>{if(!D)return!1;if(D.is_personal===!0)return!0;const A=(D.name||"").toLowerCase();return!!(A.includes("personal")&&A.includes("booking"))},P=async()=>{try{const $=[...((await Ht.getAll()).data.teams||[]).filter(X=>!C(X))].sort((X,le)=>(X.name||"").localeCompare(le.name||""));i($)}catch(D){console.error(" Error loading teams:",D)}finally{c(!1)}},I=D=>C(D)?D.booking_token?{url:`${window.location.origin}/book/${D.booking_token}`,token:D.booking_token}:null:D.team_booking_token?{url:`${window.location.origin}/book/${D.team_booking_token}`,token:D.team_booking_token}:null,O=D=>{const A=I(D);if(!A){alert(" Booking link not available. Please refresh the page or contact support.");return}navigator.clipboard.writeText(A.url).then(()=>{y(A.token),setTimeout(()=>y(null),2e3)}).catch(q=>{console.error(" Failed to copy:",q),alert("Failed to copy link. Please try again.")})},M=async D=>{D.preventDefault();try{await Ht.create(w),u(!1),g({name:"",description:""}),P()}catch(A){console.error(" Error creating team:",A),alert("Failed to create team. Please try again.")}},E=async D=>{if(D.preventDefault(),!!f){S(!0);try{await Ht.update(f.id,{name:f.name,description:f.description}),b(null),P()}catch(A){console.error(" Error updating team:",A),alert("Failed to update team. Please try again.")}finally{S(!1)}}},z=async D=>{S(!0);try{await Ht.delete(D),h(null),P()}catch(A){console.error(" Error deleting team:",A),alert("Failed to delete team. Please try again.")}finally{S(!1)}},K=D=>{const A=I(D);A&&window.open(A.url,"_blank"),j(null)};if(m.useEffect(()=>{P()},[]),m.useEffect(()=>{const D=A=>{k.current&&!k.current.contains(A.target)&&j(null)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),!r())return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-12 text-center border-2 border-purple-200",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ze,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Team Features"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Create teams, add members, and manage group scheduling with round-robin and collective booking modes."}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-4",children:"What you get with Team plan:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Create unlimited teams"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Up to 10 team members per team"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Round-robin booking mode"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Collective team scheduling"]}),e.jsxs("li",{className:"flex items-center gap-3 text-purple-800",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-600"}),"Team booking links"]})]})]}),e.jsx("button",{onClick:()=>s("teams"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all font-semibold text-lg",children:"Upgrade to Team Plan - $25/month"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Currently on: ",e.jsx("span",{className:"font-medium capitalize",children:n})," plan"]})]})})});const V=({team:D})=>{const A=C(D),q=I(D),$=v===D.id;return e.jsxs("div",{className:"relative",ref:$?k:null,children:[e.jsx("button",{onClick:X=>{X.stopPropagation(),j($?null:D.id)},className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors",children:e.jsx(Uy,{className:"h-4 w-4 text-white"})}),$&&e.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsxs("button",{onClick:()=>{t(`/teams/${D.id}/settings`),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(is,{className:"h-4 w-4 text-gray-500"}),"Team Settings"]}),!A&&e.jsxs("button",{onClick:()=>{b({...D}),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(od,{className:"h-4 w-4 text-gray-500"}),"Edit Team"]}),q&&e.jsxs("button",{onClick:()=>K(D),className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Open Booking Page"]}),q&&e.jsxs("button",{onClick:()=>{O(D),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(Jt,{className:"h-4 w-4 text-gray-500"}),"Copy Booking Link"]}),!A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 my-2"}),e.jsxs("button",{onClick:()=>{h(D),j(null)},className:"w-full px-4 py-2.5 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),"Delete Team"]})]})]})]})};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading teams..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Teams"}),e.jsx("p",{className:"text-gray-600",children:"Manage your scheduling teams and members"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all flex items-center gap-2 font-semibold",children:[e.jsx(Qt,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Create Team"})]})]}),l.length===0?e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center border-2 border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ze,{className:"h-10 w-10 text-blue-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No teams yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create your first team to start managing group bookings"}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Create Your First Team"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(D=>{var X;const A=C(D),q=I(D),$=!!q;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all border-2 border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:`p-6 relative ${A?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:[A&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"bg-white/30 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(rn,{className:"h-3 w-3 fill-white"}),"Personal"]})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(V,{team:D})}),e.jsx("div",{className:`w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 ${A?"mt-8":""}`,children:e.jsx(ze,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:D.name}),e.jsx("p",{className:`text-sm line-clamp-2 ${A?"text-green-100":"text-blue-100"}`,children:D.description||"No description"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.member_count||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.booking_count||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bookings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((X=D.booking_mode)==null?void 0:X.substring(0,2).toUpperCase())||"RR"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Mode"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>t(`/teams/${D.id}/members`),className:"w-full bg-blue-600 text-white px-4 py-3 rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-semibold",children:[e.jsx(is,{className:"h-4 w-4"}),"Manage Team"]}),e.jsx("button",{onClick:()=>O(D),disabled:!$,className:`w-full px-4 py-3 rounded-xl transition-all flex items-center justify-center gap-2 font-semibold ${$?x===(q==null?void 0:q.token)?"bg-green-100 text-green-700 border-2 border-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:$?x===(q==null?void 0:q.token)?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4"}),"Copy ",A?"Link":"Team Link"]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4"}),"No Link"]})})]})]})]},D.id)})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Team"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Fe,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name *"}),e.jsx("input",{type:"text",required:!0,value:w.name,onChange:D=>g({...w,name:D.target.value}),placeholder:"Sales Team",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:w.description,onChange:D=>g({...w,description:D.target.value}),placeholder:"Book time with our sales team",rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all",children:"Create"})]})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Team"}),e.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Fe,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name *"}),e.jsx("input",{type:"text",required:!0,value:f.name,onChange:D=>b({...f,name:D.target.value}),placeholder:"Sales Team",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:f.description||"",onChange:D=>b({...f,description:D.target.value}),placeholder:"Book time with our sales team",rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>b(null),disabled:N,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delete Team?"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:p.name}),"? This action cannot be undone. All team members will be removed."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(null),disabled:N,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:()=>z(p.id),disabled:N,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"h-4 w-4"}),"Delete Team"]})})]})]})})})]})}function rw(){const{teamId:t}=vs(),s=_e(),[r,n]=m.useState(!0),[a,l]=m.useState(!1),[i,o]=m.useState(!1),[c,d]=m.useState({name:"",description:"",duration:30,mode:"round-robin",bufferTime:0,leadTime:60});m.useEffect(()=>{u()},[t]);const u=async()=>{try{const g=(await Ht.getAll()).data.teams.find(v=>v.id===parseInt(t));d(g||c)}catch(w){console.error("Error loading team:",w)}finally{n(!1)}},x=async()=>{try{l(!0),await Ht.update(t,c),o(!0),setTimeout(()=>o(!1),2e3)}catch(w){console.error("Error saving team:",w)}finally{l(!1)}},y=async()=>{if(confirm("Are you sure you want to delete this team? This cannot be undone."))try{await Ht.delete(t),s("/teams")}catch(w){console.error("Error deleting team:",w)}};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsx(se,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>s("/teams"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 font-semibold",children:[e.jsx(ga,{className:"h-4 w-4"}),"Back to Teams"]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Team Settings"}),e.jsx("p",{className:"text-gray-600",children:"Configure your team's booking preferences"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:e.jsx(is,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:c.name}),e.jsx("p",{className:"text-blue-100",children:c.description})]})]})}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Team Name"}),e.jsx("input",{type:"text",value:c.name,onChange:w=>d({...c,name:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Sales Team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:w=>d({...c,description:w.target.value}),rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none resize-none transition-all",placeholder:"Book time with our sales team"})]})]}),e.jsxs("div",{className:"space-y-6 pt-6 border-t-2 border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-purple-600"}),"Scheduling Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Meeting Duration (minutes)"}),e.jsx("input",{type:"number",value:c.duration,onChange:w=>d({...c,duration:parseInt(w.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Scheduling Mode"}),e.jsxs("select",{value:c.mode,onChange:w=>d({...c,mode:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"round-robin",children:"Round Robin"}),e.jsx("option",{value:"collective",children:"Collective"}),e.jsx("option",{value:"first-available",children:"First Available"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Buffer Time (minutes)"}),e.jsx("input",{type:"number",value:c.bufferTime,onChange:w=>d({...c,bufferTime:parseInt(w.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Lead Time (minutes)"}),e.jsx("input",{type:"number",value:c.leadTime,onChange:w=>d({...c,leadTime:parseInt(w.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-100 rounded-xl p-6",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),"Scheduling Mode Explained"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"Round Robin:"}),e.jsx("span",{children:"Distributes bookings evenly among team members."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"Collective:"}),e.jsx("span",{children:"All team members must be available for the meeting."})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"First Available:"}),e.jsx("span",{children:"Books with the first available team member."})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:x,disabled:a,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:a?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Saving..."]}):i?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-5 w-5"}),"Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"h-5 w-5"}),"Save Changes"]})}),e.jsxs("button",{onClick:y,className:"bg-white border-2 border-red-500 text-red-600 px-8 py-4 rounded-xl hover:bg-red-50 transition-all flex items-center justify-center gap-2 font-bold",children:[e.jsx(mt,{className:"h-5 w-5"}),"Delete Team"]})]})]})})}function nw({isOpen:t,onClose:s,member:r,teamId:n,onSave:a}){var u,x;const[l,i]=m.useState({name:"",role:"member",priority:1,is_active:!0}),[o,c]=m.useState(!1);m.useEffect(()=>{r&&i({name:r.user_name||r.name||"",role:r.role||"member",priority:r.priority||1,is_active:r.is_active!==!1})},[r]);const d=async y=>{var w,g;if(y.preventDefault(),!!r){c(!0);try{const v=await _.patch(`/teams/${n}/members/${r.id}`,{name:l.name||null,role:l.role,priority:parseInt(l.priority,10),is_active:l.is_active});a&&a(v.data.member),alert("Member updated successfully!"),s()}catch(v){console.error("Error updating member:",v),alert(((g=(w=v.response)==null?void 0:w.data)==null?void 0:g.error)||"Failed to update member")}finally{c(!1)}}};return!t||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Member Settings"}),e.jsx("p",{className:"text-blue-100 text-sm",children:r.user_name||r.name||r.email})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Fe,{className:"h-5 w-5 text-white"})})]})}),e.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:((u=r.user_name)==null?void 0:u.charAt(0))||((x=r.name)==null?void 0:x.charAt(0))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:r.user_name||r.name||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:r.user_email||r.email})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"h-4 w-4"}),"Display Name (Optional)"]})}),e.jsx("input",{type:"text",value:l.name,onChange:y=>i({...l,name:y.target.value}),placeholder:"Leave empty to use account name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Override the name from their account for this team"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"}),"Role"]})}),e.jsxs("select",{value:l.role,onChange:y=>i({...l,role:y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Admins can manage team settings and members"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ja,{className:"h-4 w-4"}),"Priority"]})}),e.jsx("input",{type:"number",min:"1",max:"100",value:l.priority,onChange:y=>i({...l,priority:y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority members get bookings first in round-robin mode"})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.is_active,onChange:y=>i({...l,is_active:y.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Active Member"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Inactive members won't receive bookings"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,disabled:o,className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"h-4 w-4"}),"Save Changes"]})})]})]})]})})}function aw(){const{teamId:t}=vs(),s=_e(),[r,n]=m.useState(!0),[a,l]=m.useState(null),[i,o]=m.useState([]),[c,d]=m.useState(!1),[u,x]=m.useState(!1),[y,w]=m.useState(null),[g,v]=m.useState({email:"",name:"",role:"member"});m.useEffect(()=>{j()},[t]);const j=async()=>{try{const[k,C]=await Promise.all([Ht.getAll(),Ht.getMembers(t)]),P=k.data.teams.find(I=>I.id===parseInt(t,10));l(P||null),o(C.data.members||[])}catch(k){console.error("Error loading team members:",k)}finally{n(!1)}},f=async k=>{var C,P;if(k.preventDefault(),!g.email){alert("Email is required");return}try{const I=await _.post(`/teams/${t}/members`,{email:g.email,name:g.name||null,role:g.role});d(!1),v({email:"",name:"",role:"member"}),alert(" Invitation sent to "+g.email+"! They will appear as a member once they accept.")}catch(I){console.error("Error adding member:",I);const O=((P=(C=I.response)==null?void 0:C.data)==null?void 0:P.error)||"Failed to add member";O.includes("already exists")?alert(" This member already exists in the team!"):alert(`Error: ${O}`)}},b=async k=>{if(window.confirm("Remove this member from the team?"))try{await Ht.removeMember(t,k),j()}catch(C){console.error("Error removing member:",C)}},p=async(k,C)=>{try{await Ht.updateMemberStatus(t,k,!C),j()}catch(P){console.error("Error updating member:",P)}},h=k=>{if(!k)return;const C=`${window.location.origin}/book/${k}`;navigator.clipboard.writeText(C),alert("Booking link copied to clipboard!")},N=k=>{w(k),x(!0)},S=k=>{o(i.map(C=>C.id===k.id?{...C,...k}:C))};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsx(se,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>s("/teams"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 font-semibold",children:[e.jsx(ga,{className:"h-4 w-4"}),"Back to Teams"]}),e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Team Members"}),e.jsxs("p",{className:"text-gray-600",children:[(a==null?void 0:a.name)||"Team","  Manage your team members"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>s(`/teams/${t}/settings`),className:"bg-white border-2 border-gray-300 text-gray-700 px-5 py-2.5 rounded-xl hover:bg-gray-50 transition-all flex items-center gap-2 font-semibold",children:[e.jsx(is,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Team Settings"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-5 py-2.5 rounded-xl hover:shadow-lg transition-all flex items-center gap-2 font-semibold",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Add Member"]})]})]})]}),i.length===0?e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center border-2 border-gray-100",children:[e.jsx(ze,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No members yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add team members to start scheduling"}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Add Your First Member"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(k=>{var C,P;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow border-2 border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:((C=k.user_name)==null?void 0:C.charAt(0))||((P=k.name)==null?void 0:P.charAt(0))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 truncate",children:k.user_name||k.name||"Unknown"}),k.role==="admin"&&e.jsx(Jr,{className:"h-4 w-4 text-yellow-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:k.user_email||k.email})]})]})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[k.is_active?e.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2.5 py-1 rounded-full text-xs font-semibold",children:[e.jsx(ne,{className:"h-3 w-3"}),"Active"]}):e.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 text-gray-600 px-2.5 py-1 rounded-full text-xs font-semibold",children:[e.jsx(yt,{className:"h-3 w-3"}),"Inactive"]}),e.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2.5 py-1 rounded-full text-xs font-semibold capitalize",children:[e.jsx(os,{className:"h-3 w-3"}),k.role||"member"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:k.booking_count||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Bookings"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:k.priority||1}),e.jsx("p",{className:"text-xs text-gray-500",children:"Priority"})]})]}),e.jsx("div",{className:"mb-4",children:k.booking_token?e.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("span",{className:"text-xs text-blue-700 font-mono truncate",children:["/book/",k.booking_token.substring(0,12),"..."]}),e.jsxs("button",{onClick:()=>h(k.booking_token),className:"flex items-center gap-1 text-xs bg-blue-600 text-white px-2.5 py-1 rounded-lg hover:bg-blue-700 transition-colors font-medium flex-shrink-0",children:[e.jsx(Jt,{className:"h-3 w-3"}),"Copy"]})]})}):e.jsx("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:"No booking link yet"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>N(k),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2.5 rounded-xl hover:shadow-lg transition-all text-sm font-semibold flex items-center justify-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Member Settings"]}),e.jsxs("button",{onClick:()=>s(`/teams/${t}/members/${k.id}/availability`),className:"w-full bg-blue-50 text-blue-700 px-4 py-2 rounded-xl hover:bg-blue-100 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Availability"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(k.id,k.is_active),className:`flex-1 px-4 py-2 rounded-xl transition-colors text-sm font-semibold ${k.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:k.is_active?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>b(k.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors",title:"Remove member",children:e.jsx(mt,{className:"h-4 w-4"})})]})]})]})]},k.id)})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Add Team Member"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Email Address"]})}),e.jsx("input",{type:"email",required:!0,value:g.email,onChange:k=>v({...g,email:k.target.value}),placeholder:"member@example.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"}),"Role"]})}),e.jsxs("select",{value:g.role,onChange:k=>v({...g,role:k.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-semibold transition-all",children:"Add Member"})]})]})]})}),e.jsx(nw,{isOpen:u,onClose:()=>{x(!1),w(null)},member:y,teamId:parseInt(t,10),onSave:S})]})}const qi=[{value:"America/New_York",label:"Eastern Time (ET)",offset:"UTC-5"},{value:"America/Chicago",label:"Central Time (CT)",offset:"UTC-6"},{value:"America/Denver",label:"Mountain Time (MT)",offset:"UTC-7"},{value:"America/Los_Angeles",label:"Pacific Time (PT)",offset:"UTC-8"},{value:"America/Anchorage",label:"Alaska Time (AKT)",offset:"UTC-9"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",offset:"UTC-10"},{value:"Europe/London",label:"London (GMT)",offset:"UTC+0"},{value:"Europe/Paris",label:"Paris (CET)",offset:"UTC+1"},{value:"Europe/Berlin",label:"Berlin (CET)",offset:"UTC+1"},{value:"Europe/Madrid",label:"Madrid (CET)",offset:"UTC+1"},{value:"Europe/Rome",label:"Rome (CET)",offset:"UTC+1"},{value:"Europe/Athens",label:"Athens (EET)",offset:"UTC+2"},{value:"Europe/Moscow",label:"Moscow (MSK)",offset:"UTC+3"},{value:"Asia/Dubai",label:"Dubai (GST)",offset:"UTC+4"},{value:"Asia/Kolkata",label:"India (IST)",offset:"UTC+5:30"},{value:"Asia/Bangkok",label:"Bangkok (ICT)",offset:"UTC+7"},{value:"Asia/Singapore",label:"Singapore (SGT)",offset:"UTC+8"},{value:"Asia/Manila",label:"Manila (PHT)",offset:"UTC+8"},{value:"Asia/Hong_Kong",label:"Hong Kong (HKT)",offset:"UTC+8"},{value:"Asia/Shanghai",label:"Shanghai (CST)",offset:"UTC+8"},{value:"Asia/Tokyo",label:"Tokyo (JST)",offset:"UTC+9"},{value:"Asia/Seoul",label:"Seoul (KST)",offset:"UTC+9"},{value:"Australia/Perth",label:"Perth (AWST)",offset:"UTC+8"},{value:"Australia/Adelaide",label:"Adelaide (ACST)",offset:"UTC+9:30"},{value:"Australia/Brisbane",label:"Brisbane (AEST)",offset:"UTC+10"},{value:"Australia/Sydney",label:"Sydney (AEDT)",offset:"UTC+11"},{value:"Australia/Melbourne",label:"Melbourne (AEDT)",offset:"UTC+11"},{value:"Pacific/Auckland",label:"Auckland (NZDT)",offset:"UTC+13"},{value:"Pacific/Fiji",label:"Fiji (FJT)",offset:"UTC+12"}],lw=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return console.error("Failed to detect timezone:",t),"America/New_York"}};function iw({value:t,onChange:s,showLabel:r=!0}){var x;const[n,a]=m.useState(!1),[l,i]=m.useState(""),[o,c]=m.useState(null);m.useEffect(()=>{const y=lw();c(y),!t&&s&&s(y)},[]);const d=qi.filter(y=>y.label.toLowerCase().includes(l.toLowerCase())||y.value.toLowerCase().includes(l.toLowerCase())),u=qi.find(y=>y.value===t);return e.jsxs("div",{className:"relative",children:[r&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Kt,{className:"inline h-4 w-4 mr-1"}),"Timezone"]}),e.jsx("button",{type:"button",onClick:()=>a(!n),className:"w-full px-4 py-3 text-left bg-white border-2 border-gray-300 rounded-xl hover:border-blue-500 focus:border-blue-500 focus:outline-none transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:(u==null?void 0:u.label)||"Select timezone"}),e.jsx("p",{className:"text-xs text-gray-500",children:(u==null?void 0:u.offset)||"Choose your timezone"})]})]}),e.jsx("svg",{className:`h-5 w-5 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),e.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-96 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Search timezones...",value:l,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})}),o&&o!==t&&e.jsx("div",{className:"p-2 bg-blue-50 border-b border-blue-100",children:e.jsx("button",{type:"button",onClick:()=>{s(o),a(!1)},className:"w-full text-left px-3 py-2 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nr,{className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Use detected timezone"}),e.jsx("p",{className:"text-xs text-blue-700",children:(x=qi.find(y=>y.value===o))==null?void 0:x.label})]})]})})}),e.jsx("div",{className:"overflow-y-auto max-h-80",children:d.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No timezones found"}):d.map(y=>e.jsx("button",{type:"button",onClick:()=>{s(y.value),a(!1),i("")},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0 ${t===y.value?"bg-blue-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium ${t===y.value?"text-blue-600":"text-gray-900"}`,children:y.label}),e.jsx("p",{className:"text-xs text-gray-500",children:y.offset})]}),t===y.value&&e.jsx(ue,{className:"h-5 w-5 text-blue-600"})]})},y.value))})]})]})]})}function ow(){const{teamId:t,memberId:s}=vs(),r=_e(),[n,a]=m.useState(!0),[l,i]=m.useState(!1),[o,c]=m.useState(null),[d,u]=m.useState("America/New_York"),[x,y]=m.useState(0),[w,g]=m.useState(0),[v,j]=m.useState(30),[f,b]=m.useState(null),[p,h]=m.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[N,S]=m.useState([]),[k,C]=m.useState(null),P=[{key:"monday",label:"Mon",full:"Monday"},{key:"tuesday",label:"Tue",full:"Tuesday"},{key:"wednesday",label:"Wed",full:"Wednesday"},{key:"thursday",label:"Thu",full:"Thursday"},{key:"friday",label:"Fri",full:"Friday"},{key:"saturday",label:"Sat",full:"Saturday"},{key:"sunday",label:"Sun",full:"Sunday"}],I=[{value:0,label:"None",desc:"Back-to-back OK"},{value:5,label:"5min",desc:"Quick break"},{value:10,label:"10min",desc:"Short buffer"},{value:15,label:"15min",desc:"Standard"},{value:30,label:"30min",desc:"Extended"},{value:60,label:"1hr",desc:"Full hour"}],O=[{value:0,label:"None",desc:"Instant booking"},{value:2,label:"2hrs",desc:"Same day OK"},{value:4,label:"4hrs",desc:"Half day notice"},{value:24,label:"24hrs",desc:"1 day notice"},{value:48,label:"48hrs",desc:"2 days notice"},{value:168,label:"1wk",desc:"Weekly planning"}],M=[{value:7,label:"1wk",desc:"Short term"},{value:14,label:"2wks",desc:"Biweekly"},{value:30,label:"1mo",desc:"Monthly"},{value:60,label:"2mo",desc:"Quarterly"},{value:90,label:"3mo",desc:"Long term"},{value:180,label:"6mo",desc:"Extended"}],E=[{value:null,label:"Unlimited",desc:"No limit"},{value:1,label:"1",desc:"One per day"},{value:2,label:"2",desc:"Two max"},{value:3,label:"3",desc:"Three max"},{value:5,label:"5",desc:"Five max"},{value:10,label:"10",desc:"Ten max"}],z=(L,B="success")=>{C({message:L,type:B}),setTimeout(()=>C(null),2e3)},K=L=>{if(!L)return"";const B=new Date(L),T=B.getFullYear(),ee=String(B.getMonth()+1).padStart(2,"0"),Z=String(B.getDate()).padStart(2,"0"),he=String(B.getHours()).padStart(2,"0"),Y=String(B.getMinutes()).padStart(2,"0");return`${T}-${ee}-${Z}T${he}:${Y}`};m.useEffect(()=>{V()},[s]);const V=async()=>{try{a(!0);const B=(await _.availability.getSettings(t,s)).data;c(B.member),y(B.member.buffer_time||0),g(B.member.lead_time_hours||0),j(B.member.booking_horizon_days||30),b(B.member.daily_booking_cap||null),B.member.working_hours&&h(B.member.working_hours);const T=(B.blocked_times||[]).map(ee=>({...ee,start_time:K(ee.start_time),end_time:K(ee.end_time)}));S(T);try{const ee=await _.timezone.getMemberTimezone(s);ee.data.timezone&&u(ee.data.timezone)}catch{console.warn("Timezone load failed (Backend 404 likely). Using default.")}}catch(L){console.error("Error loading availability:",L),z("Failed to load settings","error")}finally{a(!1)}},D=async()=>{var L,B;try{i(!0);const T=N.filter(Z=>Z.start_time&&Z.end_time).map(Z=>({start_time:new Date(Z.start_time).toISOString(),end_time:new Date(Z.end_time).toISOString(),reason:Z.reason||null})),ee={buffer_time:x,lead_time_hours:w,booking_horizon_days:v,daily_booking_cap:f,working_hours:p,blocked_times:T};console.log(" Saving availability to",`/team-members/${s}/availability`,ee),await _.availability.updateSettings(t,s,ee);try{console.log(" Saving member timezone to",`/team-members/${s}/timezone`,d),await _.timezone.updateMemberTimezone(s,d)}catch(Z){console.warn(" Timezone save failed (non-fatal):",(L=Z==null?void 0:Z.response)==null?void 0:L.status,((B=Z==null?void 0:Z.response)==null?void 0:B.data)||Z.message)}z(" Availability saved!")}catch(T){console.error(" Error saving availability:",T),T.response&&(console.error(" Status:",T.response.status),console.error(" Response data:",T.response.data)),z("Save failed","error")}finally{i(!1)}},A=L=>{h({...p,[L]:{...p[L],enabled:!p[L].enabled}})},q=(L,B,T)=>{h({...p,[L]:{...p[L],[B]:T}})},$=()=>{S([...N,{id:`temp-${Date.now()}`,start_time:"",end_time:"",reason:""}])},X=L=>{S(N.filter((B,T)=>T!==L))},le=(L,B,T)=>{const ee=[...N];ee[L][B]=T,S(ee)},Ne=()=>{const L={...p};Object.keys(L).forEach(B=>L[B].enabled=!0),h(L)},de=()=>{const L={...p};L.saturday.enabled=!1,L.sunday.enabled=!1,Object.keys(L).forEach(B=>{B!=="saturday"&&B!=="sunday"&&(L[B].enabled=!0)}),h(L)};return n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center",children:e.jsx(se,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 p-4 sm:p-8",children:[k&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:e.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl shadow-2xl font-semibold ${k.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:[k.type==="error"?e.jsx(Oe,{className:"h-5 w-5"}):e.jsx(ne,{className:"h-5 w-5"}),k.message]})}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(ga,{className:"h-4 w-4"})," Back"]}),e.jsxs("button",{onClick:D,disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[l?e.jsx(se,{className:"h-4 w-4 animate-spin"}):e.jsx(lr,{className:"h-4 w-4"}),"Save"]})]}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:e.jsx(iw,{value:d,onChange:u})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center gap-3",children:[e.jsx(Se,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Buffer Time"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Gap between meetings"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:I.map(L=>e.jsxs("button",{onClick:()=>y(L.value),className:`p-3 rounded-xl border-2 text-left transition-all ${x===L.value?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900",children:L.label}),e.jsx("p",{className:"text-xs text-gray-600",children:L.desc})]},L.value))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 px-6 py-4 flex items-center gap-3",children:[e.jsx(qe,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Lead Time"}),e.jsx("p",{className:"text-green-100 text-sm",children:"Minimum notice required"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:O.map(L=>e.jsxs("button",{onClick:()=>g(L.value),className:`p-3 rounded-xl border-2 text-left transition-all ${w===L.value?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-green-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900",children:L.label}),e.jsx("p",{className:"text-xs text-gray-600",children:L.desc})]},L.value))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 px-6 py-4 flex items-center gap-3",children:[e.jsx(ja,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Booking Window"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"How far in advance guests can book"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:M.map(L=>e.jsxs("button",{onClick:()=>j(L.value),className:`p-3 rounded-xl border-2 text-left transition-all ${v===L.value?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900",children:L.label}),e.jsx("p",{className:"text-xs text-gray-600",children:L.desc})]},L.value))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-6 py-4 flex items-center gap-3",children:[e.jsx(os,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Daily Limit"}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Prevent burnout by capping meetings"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:E.map(L=>e.jsxs("button",{onClick:()=>b(L.value),className:`w-full p-3 rounded-xl border-2 text-left transition-all ${f===L.value?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 bg-white hover:border-orange-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-900 break-words",children:L.label}),e.jsx("p",{className:"text-xs text-gray-600",children:L.desc})]},L.label))})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-4 py-2.5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-white",children:"Working Hours"}),e.jsx("p",{className:"text-indigo-100 text-xs",children:"When you're available"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Ne,className:"px-2.5 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg text-xs font-medium",children:"All Days"}),e.jsx("button",{onClick:de,className:"px-2.5 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-lg text-xs font-medium",children:"Weekdays"})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-2",children:P.map(L=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",checked:p[L.key].enabled,onChange:()=>A(L.key),className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium w-24",children:L.full})]}),p[L.key].enabled?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"time",value:p[L.key].start,onChange:B=>q(L.key,"start",B.target.value),className:"w-24 border border-gray-300 rounded-lg px-2 py-1 text-sm"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("input",{type:"time",value:p[L.key].end,onChange:B=>q(L.key,"end",B.target.value),className:"w-24 border border-gray-300 rounded-lg px-2 py-1 text-sm"})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Unavailable"})]},L.key))})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Blocked times"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Periods when you are never bookable (vacation, breaks, events)."})]})]}),e.jsxs("button",{type:"button",onClick:$,className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700",children:[e.jsx(Qt,{className:"h-4 w-4"}),"Add block"]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[N.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:"No blocked times yet. Add one to keep certain periods unavailable."}),N.map((L,B)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start"}),e.jsx("input",{type:"datetime-local",value:L.start_time||"",onChange:T=>le(B,"start_time",T.target.value),className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End"}),e.jsx("input",{type:"datetime-local",value:L.end_time||"",onChange:T=>le(B,"end_time",T.target.value),className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Reason (optional)"}),e.jsx("input",{type:"text",value:L.reason||"",onChange:T=>le(B,"reason",T.target.value),placeholder:"Vacation, lunch, focus time...",className:"w-full border border-gray-300 rounded-lg px-2 py-1.5 text-sm"})]}),e.jsx("button",{type:"button",onClick:()=>X(B),className:"self-start sm:self-auto px-2 py-2 text-red-500 hover:text-red-600",children:e.jsx(mt,{className:"h-4 w-4"})})]},L.id||B))]})]})]})]})}function cw(){const{hasProFeature:t,showUpgradeModal:s,currentTier:r,loading:n}=Rs(),[a,l]=m.useState({brand_logo_url:"",brand_primary_color:"#8B5CF6",brand_accent_color:"#EC4899",hide_powered_by:!1}),[i,o]=m.useState(!0),[c,d]=m.useState(!1),[u,x]=m.useState(!1),[y,w]=m.useState(""),[g,v]=m.useState(!1),[j,f]=m.useState(""),[b,p]=m.useState("event-select"),h=m.useRef(null);m.useEffect(()=>{N()},[]);const N=async()=>{try{const O=await _.get("/user/branding");O.data&&l({brand_logo_url:O.data.brand_logo_url||"",brand_primary_color:O.data.brand_primary_color||"#8B5CF6",brand_accent_color:O.data.brand_accent_color||"#EC4899",hide_powered_by:O.data.hide_powered_by||!1})}catch(O){console.error("Failed to fetch branding:",O)}finally{o(!1)}},S=async O=>{var z,K,V;const M=(z=O.target.files)==null?void 0:z[0];if(!M)return;if(!["image/png","image/jpeg","image/jpg","image/svg+xml","image/webp"].includes(M.type)){f("Please upload a PNG, JPG, SVG, or WebP image");return}if(M.size>2*1024*1024){f("Image must be less than 2MB");return}v(!0),f("");try{const D=new FormData;D.append("logo",M);const A=await _.post("/user/branding/logo",D,{headers:{"Content-Type":"multipart/form-data"}});A.data.logo_url&&l(q=>({...q,brand_logo_url:A.data.logo_url}))}catch(D){console.error("Failed to upload logo:",D),f(((V=(K=D.response)==null?void 0:K.data)==null?void 0:V.error)||"Failed to upload logo")}finally{v(!1),h.current&&(h.current.value="")}},k=()=>{l(O=>({...O,brand_logo_url:""}))},C=async()=>{var O,M;d(!0),w(""),x(!1);try{await _.put("/user/branding",a),x(!0),setTimeout(()=>x(!1),3e3)}catch(E){console.error("Failed to save branding:",E),w(((M=(O=E.response)==null?void 0:O.data)==null?void 0:M.error)||"Failed to save branding settings")}finally{d(!1)}},P=()=>{l({brand_logo_url:"",brand_primary_color:"#8B5CF6",brand_accent_color:"#EC4899",hide_powered_by:!1})},I=[{primary:"#8B5CF6",accent:"#EC4899",name:"Purple Pink"},{primary:"#3B82F6",accent:"#06B6D4",name:"Blue Cyan"},{primary:"#10B981",accent:"#34D399",name:"Green"},{primary:"#F59E0B",accent:"#F97316",name:"Orange"},{primary:"#EF4444",accent:"#F43F5E",name:"Red Rose"},{primary:"#6366F1",accent:"#8B5CF6",name:"Indigo"},{primary:"#000000",accent:"#374151",name:"Monochrome"}];return n||i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-purple-600"})}):t()?e.jsxs("div",{className:"max-w-6xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(id,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Branding"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Personalize your booking pages"})]})]}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold",children:r==="team"?"Team":"Pro"})]}),y&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl text-sm flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4 flex-shrink-0"}),y]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[e.jsx(Ay,{className:"h-4 w-4 inline mr-2"}),"Logo"]}),a.brand_logo_url?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-xl border-2 border-gray-200 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:a.brand_logo_url,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Logo uploaded"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{var O;return(O=h.current)==null?void 0:O.click()},className:"px-3 py-1.5 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Change"}),e.jsx("button",{onClick:k,className:"px-3 py-1.5 bg-red-50 border border-red-200 rounded-lg text-sm font-medium text-red-600 hover:bg-red-100 transition-colors",children:"Remove"})]})]})]}):e.jsx("div",{onClick:()=>{var O;return(O=h.current)==null?void 0:O.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50/50 transition-all",children:g?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-purple-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Il,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Click to upload logo"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, SVG or WebP (max 2MB)"})]})}),e.jsx("input",{ref:h,type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",onChange:S,className:"hidden"}),j&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Oe,{className:"h-4 w-4"}),j]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"Recommended: Square image, at least 200x200px. Transparent background works best."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[e.jsx(ye,{className:"h-4 w-4 inline mr-2"}),"Color Presets"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:I.map((O,M)=>e.jsxs("button",{onClick:()=>l({...a,brand_primary_color:O.primary,brand_accent_color:O.accent}),className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${a.brand_primary_color===O.primary&&a.brand_accent_color===O.accent?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"w-5 h-5 rounded-full flex-shrink-0",style:{background:`linear-gradient(135deg, ${O.primary}, ${O.accent})`}}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:O.name})]},M))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Primary Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:a.brand_primary_color,onChange:O=>l({...a,brand_primary_color:O.target.value}),className:"w-10 h-10 rounded-lg border border-gray-200 cursor-pointer"}),e.jsx("input",{type:"text",value:a.brand_primary_color,onChange:O=>l({...a,brand_primary_color:O.target.value}),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm focus:ring-2 focus:ring-purple-500",placeholder:"#8B5CF6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Accent Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:a.brand_accent_color,onChange:O=>l({...a,brand_accent_color:O.target.value}),className:"w-10 h-10 rounded-lg border border-gray-200 cursor-pointer"}),e.jsx("input",{type:"text",value:a.brand_accent_color,onChange:O=>l({...a,brand_accent_color:O.target.value}),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg font-mono text-sm focus:ring-2 focus:ring-purple-500",placeholder:"#EC4899"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a.hide_powered_by?e.jsx(nd,{className:"h-5 w-5 text-gray-400"}):e.jsx(ya,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:'Hide "Powered by ScheduleSync"'}),e.jsx("p",{className:"text-xs text-gray-500",children:"Remove branding from your booking pages"})]})]}),e.jsx("button",{onClick:()=>l({...a,hide_powered_by:!a.hide_powered_by}),className:`relative w-12 h-7 rounded-full transition-colors ${a.hide_powered_by?"bg-purple-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 bg-white rounded-full shadow transition-transform ${a.hide_powered_by?"translate-x-5":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm",children:[e.jsx(bs,{className:"h-4 w-4"}),"Reset to Default"]}),e.jsx("button",{onClick:C,disabled:c,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-semibold transition-all text-sm ${u?"bg-green-500 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-lg"} disabled:opacity-50`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):u?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4"}),"Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Live Preview"}),e.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>p("event-select"),className:`px-2 py-1 text-xs font-medium rounded transition-colors ${b==="event-select"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Step 1"}),e.jsx("button",{onClick:()=>p("form"),className:`px-2 py-1 text-xs font-medium rounded transition-colors ${b==="form"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Step 2"})]})]}),e.jsxs("div",{className:"bg-slate-100 rounded-xl p-3 sticky top-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden flex min-h-[380px] border border-slate-100",children:[e.jsxs("div",{className:"w-[38%] bg-slate-50 border-r border-slate-200 p-4 flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[a.brand_logo_url?e.jsx("div",{className:"w-12 h-12 rounded-2xl overflow-hidden shadow-lg mb-3 bg-white border border-slate-200",children:e.jsx("img",{src:a.brand_logo_url,alt:"Logo",className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-lg mb-3",style:{background:`linear-gradient(135deg, ${a.brand_primary_color}, ${a.brand_accent_color})`},children:"Y"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"Book a meeting with"}),e.jsx("h2",{className:"text-base font-bold text-slate-900",children:"Your Name"}),e.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Your Team"}),b==="form"&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-1",children:"30 Minute Meeting"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 text-xs",children:[e.jsx(Se,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:"30 min"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"A quick call to discuss your needs and answer questions."})]}),b==="event-select"&&e.jsx("div",{className:"mt-4 p-3 rounded-xl border text-xs",style:{backgroundColor:a.brand_primary_color+"10",borderColor:a.brand_primary_color+"30",color:a.brand_primary_color},children:"Select a meeting type to continue."})]}),!a.hide_powered_by&&e.jsx("div",{className:"pt-4 text-[10px] text-slate-300 font-medium",children:"Powered by ScheduleSync"})]}),e.jsxs("div",{className:"w-[62%] bg-white p-4 overflow-hidden",children:[b==="event-select"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-1",children:"Select a Meeting Type"}),e.jsx("p",{className:"text-slate-500 text-xs mb-4",children:"Choose the type of meeting you'd like to schedule."}),e.jsx("div",{className:"space-y-2",children:["30 Minute Meeting","Quick Chat","Consultation"].map((O,M)=>e.jsxs("div",{className:"group flex items-center gap-3 p-3 rounded-xl border border-slate-200 transition-all cursor-pointer hover:shadow-md",style:{borderColor:M===0?a.brand_primary_color:"#e2e8f0"},children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110",style:{backgroundColor:a.brand_primary_color+"20",color:a.brand_primary_color},children:e.jsx(Se,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-slate-900 text-xs",children:O}),e.jsxs("p",{className:"text-slate-500 text-[10px]",children:[M===0?"30":M===1?"15":"60"," minutes"]})]}),e.jsx(Ts,{className:"h-4 w-4 transition-transform group-hover:translate-x-1",style:{color:a.brand_primary_color}})]},M))})]}),b==="form"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-3",children:"Finalize Booking"}),e.jsxs("div",{className:"rounded-xl p-3 mb-4 flex justify-between items-center border",style:{backgroundColor:a.brand_primary_color+"15",borderColor:a.brand_primary_color+"30"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wide",style:{color:a.brand_primary_color},children:"Selected Time"}),e.jsx("p",{className:"font-semibold text-xs mt-0.5",style:{color:a.brand_primary_color},children:"Monday, January 15"}),e.jsx("p",{className:"text-[10px]",style:{color:a.brand_primary_color+"cc"},children:"10:00 AM - 10:30 AM"})]}),e.jsx("button",{className:"text-[10px] font-medium underline",style:{color:a.brand_primary_color},children:"Change"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-slate-700 mb-1",children:"Your Name"}),e.jsx("div",{className:"w-full px-3 py-2 rounded-lg border border-slate-300 bg-slate-50 text-xs text-slate-400",children:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-slate-700 mb-1",children:"Email Address"}),e.jsx("div",{className:"w-full px-3 py-2 rounded-lg border border-slate-300 bg-slate-50 text-xs text-slate-400",children:"john@example.com"})]})]}),e.jsx("button",{className:"w-full mt-4 text-white py-2.5 rounded-xl font-bold text-xs cursor-default",style:{backgroundColor:a.brand_primary_color},children:"Confirm Booking"})]})]})]}),e.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"This preview matches your actual booking page layout"})]})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gs,{className:"h-8 w-8 text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Custom Branding"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:'Make your booking pages match your brand with custom logos, colors, and remove the "Powered by" badge.'}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6 max-w-sm mx-auto text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Pro features include:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500"}),"Custom logo on booking pages"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500"}),"Custom brand colors"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500"}),'Hide "Powered by ScheduleSync"']}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-green-500"}),"Professional appearance"]})]})]}),e.jsx("button",{onClick:()=>s("branding"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Upgrade to Pro - $12/month"})]})}function dw(){const[t]=_r(),s=pd(),[r,n]=m.useState(!0),[a,l]=m.useState(!1),[i,o]=m.useState(!1),[c,d]=m.useState(t.get("tab")||"profile"),[u,x]=m.useState({name:"",email:"",timezone:"America/New_York"}),[y,w]=m.useState(null),[g,v]=m.useState({enabled:!0,hoursBefore:24,sendToHost:!0,sendToGuest:!0}),[j,f]=m.useState(!1),[b,p]=m.useState({google:{connected:!1,email:null,lastSync:null},microsoft:{connected:!1,email:null,lastSync:null}}),[h,N]=m.useState(!1),[S,k]=m.useState(!1),[C,P]=m.useState(""),[I,O]=m.useState(""),[M,E]=m.useState(null),[z,K]=m.useState(!1),[V,D]=m.useState(!1),[A,q]=m.useState(!1),[$,X]=m.useState(!1),[le,Ne]=m.useState(!1);m.useEffect(()=>{de()},[]),m.useEffect(()=>{const H=t.get("tab");H&&d(H)},[t]);const de=async()=>{var H;try{const ce=(await ir.me()).data.user;x({name:ce.name,email:ce.email,timezone:ce.timezone||"America/New_York"});const te=(await _.get("/teams")).data.teams.find(je=>je.name.includes("Personal Bookings"));if(te){w(te.id);try{f(!0);const je=await tc.getSettings(te.id),st=((H=je.data)==null?void 0:H.settings)||je.data||{};v({enabled:st.enabled??!0,hoursBefore:st.hours_before??24,sendToHost:st.send_to_host??!0,sendToGuest:st.send_to_guest??!0})}catch(je){console.error("Error loading reminder settings:",je)}finally{f(!1)}}await L(),c==="integrations"&&await B()}catch(xe){console.error("Error loading settings:",xe)}finally{n(!1)}},L=async()=>{var H,xe,ce,ge,te,je;try{N(!0);const Ot=(await Rn.getStatus()).data;p({google:{connected:((H=Ot.google)==null?void 0:H.connected)||!1,email:((xe=Ot.google)==null?void 0:xe.email)||null,lastSync:((ce=Ot.google)==null?void 0:ce.last_sync)||null},microsoft:{connected:((ge=Ot.microsoft)==null?void 0:ge.connected)||!1,email:((te=Ot.microsoft)==null?void 0:te.email)||null,lastSync:((je=Ot.microsoft)==null?void 0:je.last_sync)||null}})}catch(st){console.error("Error loading calendar status:",st)}finally{N(!1)}},B=async()=>{K(!0);try{const H=await Gn.getToken();H.data.jwt_token&&(P(H.data.jwt_token),O(H.data.expires_in||"90 days"),E(H.data.setup_status))}catch(H){console.error("ChatGPT token load error:",H)}finally{K(!1)}},T=async()=>{try{await navigator.clipboard.writeText(C),D(!0),s.success("ChatGPT token copied to clipboard! "),setTimeout(()=>D(!1),2e3)}catch(H){console.error("Error copying ChatGPT token:",H),s.error("Could not copy token. Please select and copy manually.")}},ee=async()=>{q(!0);try{const H=await Gn.refreshToken();H.data.jwt_token&&(P(H.data.jwt_token),O(H.data.expires_in||"90 days"),s.success("ChatGPT token refreshed successfully! "))}catch(H){console.error("Error refreshing ChatGPT token:",H),s.error("Could not refresh ChatGPT token")}finally{q(!1)}},Z=async()=>{X(!0);try{const H=await Gn.testConnection();H.data.connection_status==="READY"?s.success(" ChatGPT connection ready! All tests passed."):(s.warning(" Some issues found. Check your ScheduleSync setup."),console.log("Test results:",H.data.tests))}catch(H){console.error("Error testing ChatGPT connection:",H),s.error(" Connection test failed")}finally{X(!1)}},he=async()=>{try{const xe=await(await fetch("/api/user/chatgpt-openapi-schema")).json(),ce=new Blob([JSON.stringify(xe,null,2)],{type:"application/json"}),ge=URL.createObjectURL(ce),te=document.createElement("a");te.href=ge,te.download="schedulesync-chatgpt-api-schema.json",document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(ge),s.success(" API schema downloaded!")}catch(H){console.error("Error downloading schema:",H),s.error("Could not download API schema")}},Y=async()=>{try{const xe=(await Rn.connectGoogle()).data.url;window.location.href=xe}catch(H){console.error("Error connecting Google:",H),alert("Failed to connect Google Calendar")}},fe=async()=>{try{const xe=(await _.oauth.getMicrosoftUrl()).data.url;window.location.href=xe}catch(H){console.error("Error connecting Microsoft:",H),alert("Failed to connect Microsoft Calendar")}},F=async()=>{if(confirm("Disconnect Google Calendar? This will stop syncing your events."))try{await Rn.disconnectGoogle(),await L(),alert("Google Calendar disconnected successfully!")}catch(H){console.error("Error disconnecting Google:",H),alert("Failed to disconnect Google Calendar")}},W=async()=>{try{k(!0),await Rn.syncEvents(),await L(),alert("Calendar synced successfully!")}catch(H){console.error("Error syncing calendar:",H),alert("Failed to sync calendar")}finally{k(!1)}},J=async()=>{l(!0);try{await di.update(u.timezone),y&&await tc.updateSettings(y,{enabled:g.enabled,hours_before:g.hoursBefore,send_to_host:g.sendToHost,send_to_guest:g.sendToGuest}),o(!0),setTimeout(()=>o(!1),2e3)}catch(H){console.error("Error saving:",H),alert("Failed to save settings")}finally{l(!1)}},U=H=>{if(!H)return"Never";const xe=new Date(H),ge=new Date-xe,te=Math.floor(ge/6e4);return te<1?"Just now":te<60?`${te}m ago`:te<1440?`${Math.floor(te/60)}h ago`:xe.toLocaleDateString()},ae=async H=>{d(H),H==="integrations"&&!C&&await B()};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-500 mt-1 text-sm sm:text-base",children:"Manage your profile, calendars, integrations and notifications"})]}),c!=="calendars"&&c!=="integrations"&&c!=="branding"&&e.jsxs("button",{onClick:J,disabled:a,className:"bg-blue-600 text-white px-4 sm:px-6 py-2.5 rounded-full hover:bg-blue-700 transition-all flex items-center justify-center gap-2 font-bold text-sm shadow-sm disabled:opacity-70 w-full sm:w-auto",children:[a?e.jsx(se,{className:"h-4 w-4 animate-spin"}):i?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(lr,{className:"h-4 w-4"}),a?"Saving...":i?"Saved":"Save Changes"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:e.jsxs("nav",{className:"flex md:flex-col gap-1 overflow-x-auto md:overflow-x-visible pb-2 md:pb-0",children:[e.jsxs("button",{onClick:()=>ae("profile"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${c==="profile"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(ht,{size:18})," Profile"]}),e.jsxs("button",{onClick:()=>ae("calendars"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${c==="calendars"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(oe,{size:18})," Calendars"]}),e.jsxs("button",{onClick:()=>ae("integrations"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${c==="integrations"?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(ld,{size:18})," Integrations",C&&e.jsx("div",{className:"ml-auto w-2 h-2 bg-green-500 rounded-full"})]}),e.jsxs("button",{onClick:()=>ae("notifications"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${c==="notifications"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(Qe,{size:18})," Notifications"]}),e.jsxs("button",{onClick:()=>ae("branding"),className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${c==="branding"?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(id,{size:18})," Branding",e.jsx("span",{className:"ml-auto text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-semibold",children:"PRO"})]}),e.jsxs(et,{to:"/billing",className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors text-gray-600 hover:bg-gray-50 whitespace-nowrap",children:[e.jsx(ni,{size:18,className:"text-gray-400"}),e.jsx("span",{children:"Billing"})]})]})}),e.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm min-h-[400px] overflow-hidden",children:[c==="profile"&&e.jsxs("div",{className:"p-4 sm:p-8 max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Profile Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:u.email,disabled:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timezone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Kt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:u.timezone,onChange:H=>x({...u,timezone:H.target.value}),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx("option",{value:"Europe/London",children:"London"}),e.jsx("option",{value:"Asia/Singapore",children:"Singapore"}),e.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"}),e.jsx("option",{value:"Australia/Sydney",children:"Sydney"})]})]})]})]})]}),c==="integrations"&&e.jsxs("div",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Integrations"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect external services to enhance your scheduling workflow"})]}),e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-2xl border-2 border-indigo-200 p-4 sm:p-6 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(qt,{className:"h-5 w-5 sm:h-7 sm:w-7 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center gap-2",children:["ChatGPT Integration",e.jsx(ye,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Connect ScheduleSync to ChatGPT"})]})]}),(M==null?void 0:M.has_booking_setup)&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg border border-green-200 self-start sm:self-auto",children:[e.jsx(ne,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap",children:"Ready for ChatGPT"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl border border-white/50 p-4 sm:p-5 mb-5 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-3",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ly,{className:"h-5 w-5 text-indigo-600"}),"Your API Token"]}),e.jsxs("button",{onClick:ee,disabled:A,className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center gap-1 transition-all disabled:opacity-50 self-start sm:self-auto",children:[A?e.jsx(se,{className:"h-4 w-4 animate-spin"}):e.jsx(bs,{className:"h-4 w-4"}),"Refresh"]})]}),z?e.jsxs("div",{className:"flex items-center gap-2 p-4",children:[e.jsx(se,{className:"h-4 w-4 animate-spin text-indigo-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Loading token..."})]}):C?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gray-900 text-gray-100 p-3 sm:p-4 rounded-lg font-mono text-xs break-all border overflow-x-auto",children:C}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-xs text-gray-500 flex flex-wrap items-center gap-2 sm:gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"h-3 w-3"}),"Expires: ",I]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(os,{className:"h-3 w-3"}),"Bearer Token"]})]}),e.jsx("button",{onClick:T,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center justify-center gap-2 transition-all shadow-sm w-full sm:w-auto",children:V?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4"}),"Copy Token"]})})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(qt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"ChatGPT integration not available"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 mb-5",children:[e.jsx("button",{onClick:Z,disabled:$||!C,className:"px-4 py-2.5 sm:py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:$?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yh,{className:"h-4 w-4"}),"Test Connection"]})}),e.jsxs("button",{onClick:he,disabled:!C,className:"px-4 py-2.5 sm:py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",children:[e.jsx(rd,{className:"h-4 w-4"}),"Download Schema"]}),e.jsxs("button",{onClick:()=>Ne(!0),className:"px-4 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-all shadow-sm text-sm",children:[e.jsx(Cy,{className:"h-4 w-4"}),"Setup Guide"]})]}),e.jsxs("div",{className:"p-3 sm:p-4 bg-white/60 backdrop-blur-sm rounded-lg border border-white/50",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(qe,{className:"h-4 w-4 text-yellow-500"}),"Quick Setup"]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:"1"}),e.jsx("span",{className:"text-gray-700",children:"Copy token"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:"2"}),e.jsx("span",{className:"text-gray-700",children:"Create GPT"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:"3"}),e.jsx("span",{className:"text-gray-700",children:"Import schema"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-700",children:"Done!"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Qe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-700 text-sm sm:text-base",children:"Slack Integration"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full font-semibold",children:"Coming Soon"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Schedule meetings directly from Slack channels"})]}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(oe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-700 text-sm sm:text-base",children:"Microsoft Teams"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full font-semibold",children:"Coming Soon"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Enterprise-grade Teams integration"})]})]})]})]}),c==="calendars"&&e.jsxs("div",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Calendar Connections"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect your calendars to prevent double bookings."})]}),h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"space-y-4 max-w-2xl",children:[e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(oe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:"Google Calendar"}),b.google.connected?e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:b.google.email}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Last synced: ",U(b.google.lastSync)]})]}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not connected"})]})]}),e.jsx("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:b.google.connected?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:W,disabled:S,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 w-full sm:w-auto",children:[e.jsx(bs,{className:`h-4 w-4 ${S?"animate-spin":""}`}),"Sync Now"]}),e.jsxs("button",{onClick:F,className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(Wy,{className:"h-4 w-4"}),"Disconnect"]})]}):e.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Connect"]})})]})}),e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(oe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:"Microsoft Outlook"}),b.microsoft.connected?e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:b.microsoft.email}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Last synced: ",U(b.microsoft.lastSync)]})]}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not connected"})]})]}),e.jsx("div",{className:"w-full sm:w-auto",children:b.microsoft.connected?e.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-400 rounded-lg text-sm font-medium cursor-not-allowed w-full sm:w-auto",disabled:!0,children:"Connected"}):e.jsxs("button",{onClick:fe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Connect"]})})]})}),e.jsx("div",{className:"rounded-lg border border-blue-100 bg-blue-50 px-4 py-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"How calendar sync works:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" We check your calendar for conflicts before showing available slots"}),e.jsx("li",{children:" Your calendar data stays private - we only check busy/free status"}),e.jsx("li",{children:" Sync happens automatically every 15 minutes"}),e.jsx("li",{children:' You can manually sync anytime using "Sync Now"'})]})]})]})}),e.jsx("div",{className:"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 sm:p-6 hover:border-purple-400 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Il,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg",children:"Import from Calendly"}),e.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded-full font-semibold",children:"NEW"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-700 mb-2",children:"Migrate your event types, availability, and booking history"}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-purple-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),"Events"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),"Availability"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),"Bookings"]})]})]})]}),e.jsxs("button",{onClick:()=>window.location.href="/import/calendly",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(Il,{className:"h-4 w-4"}),"Start Import"]})]})})]})]}),c==="notifications"&&e.jsxs("div",{className:"p-4 sm:p-8 max-w-xl space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Email reminders"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Control reminder emails sent before each meeting."})]}),e.jsx("button",{type:"button",onClick:()=>v(H=>({...H,enabled:!H.enabled})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors flex-shrink-0 ${g.enabled?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${g.enabled?"translate-x-5":"translate-x-1"}`})})]}),j&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Loading reminder settings"]}),e.jsxs("div",{className:`space-y-6 mt-4 ${g.enabled?"":"opacity-60 pointer-events-none"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"When should we send the reminder?"}),e.jsxs("select",{value:g.hoursBefore,onChange:H=>v(xe=>({...xe,hoursBefore:Number(H.target.value)})),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white text-sm",children:[e.jsx("option",{value:1,children:"1 hour before"}),e.jsx("option",{value:3,children:"3 hours before"}),e.jsx("option",{value:6,children:"6 hours before"}),e.jsx("option",{value:24,children:"24 hours before"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Applies to all upcoming meetings booked through your personal link."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Who should receive reminders?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:g.sendToHost,onChange:H=>v(xe=>({...xe,sendToHost:H.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"Send to me (host)"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:g.sendToGuest,onChange:H=>v(xe=>({...xe,sendToGuest:H.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"Send to guest"})]})]})]}),e.jsxs("div",{className:"rounded-lg border border-blue-50 bg-blue-50/50 px-4 py-3 text-xs text-blue-800 flex gap-2",children:[e.jsx(Oe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Reminders will only be sent for future bookings that have a valid guest email and are not cancelled."})]})]})]}),c==="branding"&&e.jsx("div",{className:"p-4 sm:p-8",children:e.jsx(cw,{})})]})]}),le&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-4 sm:p-6 relative",children:[e.jsx("button",{onClick:()=>Ne(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Fe,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(qt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600"}),"ChatGPT Setup Guide"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Follow these steps to connect ScheduleSync to ChatGPT"})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Copy Your JWT Token"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:'Use the token from the section above. Click "Copy Token" to copy it.'}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," This token expires in 90 days."]})})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Create ChatGPT Custom GPT"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Go to ChatGPT and create a new custom GPT."}),e.jsxs("a",{href:"https://chat.openai.com/gpts/discovery",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors text-sm",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Open ChatGPT GPTs"]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Configure Your GPT"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Name:"}),e.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-xs sm:text-sm",children:"AI Meeting Booker"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Description:"}),e.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-xs sm:text-sm",children:"The fastest way to a confirmed meeting"})]})]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:"4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Add API Actions"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Import our API schema and configure authentication."}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-600",children:[e.jsx("li",{children:'Click "Actions" in your GPT configuration'}),e.jsx("li",{children:'Click "Create new action"'}),e.jsx("li",{children:"Download and import our API schema"}),e.jsx("li",{children:'Set Authentication to "Bearer"'}),e.jsx("li",{children:"Paste your JWT token as the Bearer token"})]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Test Your Integration"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Try these commands in your ChatGPT:"}),e.jsx("div",{className:"space-y-2",children:[`"What's my booking link?"`,'"Create a temp link for John"','"Find meeting times for next week"'].map((H,xe)=>e.jsx("div",{className:"bg-gray-50 p-2 rounded font-mono text-xs sm:text-sm",children:H},xe))})]})]})})]}),e.jsx("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 text-center sm:text-left",children:"Need help? Test your connection above or contact support."}),e.jsx("button",{onClick:()=>Ne(!1),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors w-full sm:w-auto",children:"Got it!"})]})})]})})]})}function uw(){const[t,s]=m.useState(!0),[r,n]=m.useState([]),[a,l]=m.useState(!1);m.useEffect(()=>{i()},[]);const i=async()=>{try{const x=await(await fetch("https://schedulesync-web-production.up.railway.app/api/calendars",{credentials:"include"})).json();n(x.calendars||[])}catch(u){console.error("Error loading calendars:",u)}finally{s(!1)}},o=()=>{window.location.href="https://schedulesync-web-production.up.railway.app/api/auth/google/calendar"},c=async u=>{try{l(!0),await fetch(`https://schedulesync-web-production.up.railway.app/api/calendars/${u}/sync`,{method:"POST",credentials:"include"}),i()}catch(x){console.error("Error syncing calendar:",x)}finally{l(!1)}},d=async u=>{if(confirm("Disconnect this calendar? Your availability will no longer sync."))try{await fetch(`https://schedulesync-web-production.up.railway.app/api/calendars/${u}`,{method:"DELETE",credentials:"include"}),i()}catch(x){console.error("Error disconnecting calendar:",x)}};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsx(se,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Calendar Settings"}),e.jsx("p",{className:"text-gray-600",children:"Connect and manage your calendar integrations"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(oe,{className:"h-6 w-6"}),"Connected Calendars"]})}),e.jsx("div",{className:"p-8",children:r.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[e.jsx(oe,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"No calendars connected"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Connect your calendar to sync availability"}),e.jsxs("button",{onClick:o,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-xl hover:shadow-lg transition-all inline-flex items-center gap-2 font-semibold text-sm sm:text-base",children:[e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect Google Calendar"]})]}):e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.map(u=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 sm:p-6 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[u.calendar_name||"Primary Calendar",u.is_primary&&e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-semibold",children:"Primary"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:u.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.sync_status==="active"?e.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(ne,{className:"h-3 w-3"}),"Synced"]}):e.jsxs("span",{className:"flex items-center gap-1 text-xs text-yellow-600",children:[e.jsx(Oe,{className:"h-3 w-3"}),"Sync pending"]}),u.last_sync&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Last sync: ",new Date(u.last_sync).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[e.jsx("button",{onClick:()=>c(u.id),disabled:a,className:"p-2 sm:p-2.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",title:"Sync now",children:e.jsx(bs,{className:`h-5 w-5 ${a?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>d(u.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Disconnect",children:e.jsx(mt,{className:"h-5 w-5"})})]})]},u.id)),e.jsxs("button",{onClick:o,className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-gray-600 hover:text-blue-600 font-semibold flex items-center justify-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Add Another Calendar"]})]})})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-100 rounded-2xl p-6",children:[e.jsxs("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5"}),"How Calendar Sync Works"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"We only check if you're free or busy - event details stay private"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Bookings are automatically synced to your calendar"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Changes update in real-time to prevent double-booking"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ne,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"You can disconnect at any time from this page"})]})]})]})]})})}function mw({slots:t,onSelectDate:s,onClose:r,selectedDate:n}){const[a,l]=m.useState(new Date),[i,o]=m.useState({});m.useEffect(()=>{console.log(" Normalizing slots for calendar modal..."),console.log(" Original slot keys (first 5):",Object.keys(t).slice(0,5));const j={};let f=0,b=0;for(const[p,h]of Object.entries(t))try{const N=new Date(p);if(isNaN(N.getTime())){console.warn(" Invalid date:",p),b++;continue}const S=N.getFullYear(),k=String(N.getMonth()+1).padStart(2,"0"),C=String(N.getDate()).padStart(2,"0"),P=`${S}-${k}-${C}`;j[P]=h,f<5&&console.log(` Converted: "${p}"  "${P}" (${h.length} slots)`),f++}catch(N){console.error(" Error normalizing date:",p,N),b++}console.log(` Normalization complete: Success: ${f} dates, Failed: ${b} dates`),o(j)},[t]),m.useEffect(()=>{if(Object.keys(i).length===0)return;const j=Object.keys(i).filter(N=>{const S=i[N];return S&&S.some(k=>k.status==="available")}).sort();if(j.length===0)return;const f=j[0],[b,p]=f.split("-").map(Number),h=new Date(b,p-1,1);l(h)},[i]);const c=j=>{const f=j.getFullYear(),b=String(j.getMonth()+1).padStart(2,"0"),p=String(j.getDate()).padStart(2,"0");return`${f}-${b}-${p}`},d=j=>{const f=i[j];return f?f.filter(b=>b.status==="available").length:0},u=j=>{const f=new Date;return j.getDate()===f.getDate()&&j.getMonth()===f.getMonth()&&j.getFullYear()===f.getFullYear()},x=j=>{const f=new Date;f.setHours(0,0,0,0);const b=new Date(j);return b.setHours(0,0,0,0),b<f},y=j=>{console.log(" Date clicked in modal:",j),s(j),r()},w=()=>{const j=a.getFullYear(),f=a.getMonth(),b=new Date(j,f,1),h=new Date(j,f+1,0).getDate(),N=b.getDay(),S=[];for(let k=0;k<N;k++)S.push(e.jsx("div",{className:"h-16 sm:h-20"},`empty-${k}`));for(let k=1;k<=h;k++){const C=new Date(j,f,k),P=c(C),I=d(P),O=I>0,M=u(C),E=x(C),z=n===P;S.push(e.jsxs("div",{onClick:()=>{!E&&O&&y(P)},className:`h-16 sm:h-20 rounded-lg border-2 transition-all relative group ${z?"border-blue-500 bg-blue-50 shadow-md ring-2 ring-blue-200":O&&!E?"border-gray-200 hover:border-blue-300 hover:bg-blue-50 hover:shadow-md cursor-pointer active:scale-95":"border-gray-100 bg-gray-50 cursor-not-allowed opacity-50"}`,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-1 pointer-events-none",children:[e.jsx("span",{className:`text-base sm:text-lg font-semibold ${M?"text-blue-600":O&&!E?"text-gray-900":"text-gray-400"}`,children:k}),O&&!E&&e.jsxs("div",{className:"flex items-center gap-0.5 mt-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${z?"bg-blue-500":"bg-green-500"}`}),e.jsx("span",{className:`text-[10px] font-medium ${z?"text-blue-600":"text-green-600"}`,children:I})]}),M&&e.jsx("span",{className:"text-[9px] text-blue-600 font-bold uppercase mt-0.5",children:"Today"}),z&&e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),O&&!E&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 shadow-lg",children:[I," slot",I!==1?"s":""," available",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-gray-900"})})]})]},k))}return S},g=Object.values(i).reduce((j,f)=>j+f.filter(b=>b.status==="available").length,0),v=Object.keys(i).filter(j=>{const[f,b]=j.split("-").map(Number);return f===a.getFullYear()&&b===a.getMonth()+1&&d(j)>0}).length;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-[9999]",onClick:r,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 rounded-t-2xl z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Select a Date"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:[g," total slots available"]})]})]}),e.jsx("div",{onClick:r,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors cursor-pointer",children:e.jsx(Fe,{className:"h-5 w-5 text-gray-500"})})]}),v>0&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 sm:p-3 flex items-start gap-2",children:[e.jsx(qh,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs sm:text-sm text-green-800",children:[e.jsxs("span",{className:"font-semibold",children:[v," day",v!==1?"s":""]})," with available slots in ",a.toLocaleDateString("en-US",{month:"long"})]})]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{onClick:()=>l(new Date(a.getFullYear(),a.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Gh,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("div",{onClick:()=>l(new Date(a.getFullYear(),a.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Ts,{className:"h-5 w-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>e.jsx("div",{className:"text-center text-xs font-semibold text-gray-500 py-2",children:j},j))}),e.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:w()}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Legend:"}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Available slots"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Selected date"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"No slots"})]})]})]})]})]})})}function xw(t){return Xc.createPortal(e.jsx(mw,{...t}),document.body)}function hw({bookingToken:t,guestCalendar:s=null,duration:r=30,onSlotSelected:n,timezone:a="UTC"}){var I,O,M;const[l,i]=m.useState({}),[o,c]=m.useState({}),[d,u]=m.useState(null),[x,y]=m.useState(null),[w,g]=m.useState(!0),[v,j]=m.useState(null),[f,b]=m.useState(!1),[p,h]=m.useState(!1),N=(s==null?void 0:s.signedIn)===!0;m.useEffect(()=>{if(!l||Object.keys(l).length===0){c({});return}const E={};for(const[z,K]of Object.entries(l))try{const V=new Date(z);if(!isNaN(V.getTime())){const D=V.getFullYear(),A=String(V.getMonth()+1).padStart(2,"0"),q=String(V.getDate()).padStart(2,"0"),$=`${D}-${A}-${q}`;E[$]=K}}catch(V){console.warn("Error normalizing date:",z,V)}c(E)},[l]),m.useEffect(()=>{if(Object.keys(o).length!==0)if(d){if(!o[d]){const E=Object.keys(o).sort().find(z=>o[z].some(K=>K.status==="available"));E&&u(E)}}else{const E=Object.keys(o).sort().find(z=>o[z].some(K=>K.status==="available"));E&&(console.log(" Auto-selecting first available date:",E),u(E))}},[o]),m.useEffect(()=>{S()},[t,s,r,a]);const S=async()=>{try{g(!0),console.log(" Using timezone:",a);const z=(await ua.getSlots(t,{guestAccessToken:s==null?void 0:s.accessToken,guestRefreshToken:s==null?void 0:s.refreshToken,duration:r,timezone:a})).data;console.log(" Loaded slots:",{totalDates:Object.keys(z.slots).length,availableSlots:z.summary.availableSlots,hasGuestCalendar:N}),i(z.slots),j(z.summary)}catch(E){console.error(" Error loading slots:",E)}finally{g(!1)}},k=(E,z)=>{if(z)return{button:"border-blue-600 bg-blue-600",text:"text-white",badge:"bg-white/20 text-white",icon:"text-white"};if(!N)return{button:"border-gray-300 bg-white hover:bg-gray-50 hover:border-gray-400 hover:shadow-md",text:"text-gray-900",badge:"bg-gray-500 text-white",icon:"text-gray-600"};const K={green:{button:"border-green-500 bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 hover:shadow-md",text:"text-green-900",badge:"bg-green-500 text-white",icon:"text-green-600"},blue:{button:"border-blue-500 bg-gradient-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 hover:shadow-md",text:"text-blue-900",badge:"bg-blue-500 text-white",icon:"text-blue-600"},purple:{button:"border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 hover:shadow-md",text:"text-purple-900",badge:"bg-purple-500 text-white",icon:"text-purple-600"},yellow:{button:"border-yellow-500 bg-gradient-to-br from-yellow-50 to-orange-50 hover:from-yellow-100 hover:to-orange-100 hover:shadow-md",text:"text-yellow-900",badge:"bg-yellow-500 text-white",icon:"text-yellow-600"},gray:{button:"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:shadow-md",text:"text-gray-900",badge:"bg-gray-500 text-white",icon:"text-gray-600"}};return K[E]||K.gray},C=E=>E>=90?e.jsx(rn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-current"}):E>=80?e.jsx(ye,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):E>=70?e.jsx(qe,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):e.jsx(ue,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),P=E=>{console.log(" SmartSlotPicker: Date received:",E);try{let z;if(/^\d{4}-\d{2}-\d{2}$/.test(E))z=E;else{const K=new Date(E);if(isNaN(K.getTime()))return console.error(" Invalid date format:",E),!1;{const V=K.getFullYear(),D=String(K.getMonth()+1).padStart(2,"0"),A=String(K.getDate()).padStart(2,"0");z=`${V}-${D}-${A}`}}console.log(" Normalized date:",z),u(z),y(null)}catch(z){console.error(" Error normalizing date:",z)}return!1};return w?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[e.jsx(se,{className:"h-8 w-8 sm:h-10 sm:w-10 animate-spin text-blue-600 mb-3"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:N?"Finding best times for both of you...":"Loading availability..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("div",{className:`flex items-center gap-2 ${d?"text-green-600":"text-blue-600 font-semibold"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-green-100":"bg-blue-100"}`,children:d?e.jsx(ue,{className:"h-4 w-4"}):e.jsx("span",{className:"text-xs font-bold",children:"1"})}),e.jsx("span",{children:"Pick a date"})]}),e.jsx(Je,{className:"h-4 w-4 text-slate-300"}),e.jsxs("div",{className:`flex items-center gap-2 ${d?"text-blue-600 font-semibold":"text-slate-400"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-blue-100":"bg-slate-100"}`,children:e.jsx("span",{className:"text-xs font-bold",children:"2"})}),e.jsx("span",{children:"Choose a time"})]})]}),v&&v.availableSlots>0&&e.jsx("div",{className:`border-2 rounded-xl p-4 ${N?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${N?"bg-green-500":"bg-blue-500"}`,children:e.jsx(oe,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:`text-base font-bold ${N?"text-green-900":"text-blue-900"}`,children:[v.availableSlots," available slot",v.availableSlots!==1?"s":""," found"]}),N?e.jsx("p",{className:"text-sm text-green-700 mt-0.5",children:" Showing mutual availability with AI-ranked suggestions"}):e.jsx("p",{className:"text-sm text-blue-700 mt-0.5",children:"Showing all available times. Connect your calendar next time for personalized suggestions!"})]})]})}),v&&v.availableSlots===0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-yellow-900",children:["No available slots in the next ",((I=v.settings)==null?void 0:I.horizonDays)||30," days"]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Try connecting your calendar or contact the organizer directly"})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),"Select a date"]}),d&&o[d]&&e.jsxs("span",{className:"text-sm text-green-600 font-medium flex items-center gap-1",children:[e.jsx(ue,{className:"h-4 w-4"}),new Date((O=o[d][0])==null?void 0:O.start).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),e.jsx("button",{type:"button",onClick:E=>{E.preventDefault(),E.stopPropagation(),h(!0)},className:"w-full p-6 border-2 border-dashed border-blue-300 rounded-2xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(oe,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-700",children:d?"Change Date":"Open Calendar"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Browse available dates in calendar view"})]})]})})]}),d&&o[d]&&e.jsxs("div",{className:"pt-6 border-t-2 border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"2"})}),"Choose your time"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:[r," min slots"]}),e.jsx("button",{type:"button",onClick:()=>b(!f),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:f?e.jsxs(e.Fragment,{children:[e.jsx(nd,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Hide unavailable"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ya,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Show all"})]})})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-semibold",children:new Date((M=o[d][0])==null?void 0:M.start).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),e.jsxs("span",{className:"text-blue-600 ml-2",children:[" ",o[d].filter(E=>E.status==="available").length," times available"]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 max-h-[60vh] overflow-y-auto",children:o[d].filter(E=>E.status==="available"?!0:f).map((E,z)=>{const K=(x==null?void 0:x.start)===E.start;if(E.status==="available"){const D=k(E.matchColor,K),A=()=>C(E.matchScore);return e.jsxs("button",{type:"button",onClick:q=>{q.preventDefault(),q.stopPropagation(),y(E),n(E),console.log(" Slot selected:",E.time,"Match score:",E.matchScore)},className:`relative p-4 rounded-lg border-2 text-left transition-all min-h-[100px] active:scale-95 ${D.button}`,children:[N&&E.matchScore&&E.matchScore>=70&&!K&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full ${D.badge} shadow-sm`,children:[e.jsx(A,{}),e.jsxs("span",{className:"text-[10px] font-bold",children:[E.matchScore,"%"]})]})}),e.jsxs("div",{className:"flex items-start justify-between gap-1 mb-2",children:[e.jsx("span",{className:`text-lg font-bold ${D.text}`,children:E.time}),K&&e.jsx(ue,{className:"h-5 w-5 text-white flex-shrink-0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:`text-xs font-bold ${K?"text-white":D.text}`,children:K?"Selected":N&&E.matchLabel?E.matchLabel:"Available"}),!K&&N&&E.matchScore&&e.jsxs("div",{className:`flex items-center gap-1 ${D.icon}`,children:[E.matchScore>=90&&e.jsx("span",{className:"text-[10px] font-medium",children:"Excellent time!"}),E.matchScore>=80&&E.matchScore<90&&e.jsx("span",{className:"text-[10px] font-medium",children:"Great choice"}),E.matchScore>=70&&E.matchScore<80&&e.jsx("span",{className:"text-[10px] font-medium",children:"Good option"}),E.matchScore<70&&E.matchScore>=60&&e.jsx("span",{className:"text-[10px] font-medium",children:"Fair match"})]})]})]},z)}else return e.jsxs("button",{type:"button",disabled:!0,className:"p-3 rounded-lg border border-gray-200 bg-gray-50 text-left opacity-60 cursor-not-allowed min-h-[100px]",title:E.details,children:[e.jsx("div",{className:"flex items-center justify-between gap-1",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:E.time})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 truncate",children:[E.reason==="organizer_busy"&&" Busy",E.reason==="guest_busy"&&" You're busy",E.reason==="outside_hours"&&" Off hours",E.reason==="lead_time"&&" Too soon",E.reason==="buffer"&&" Buffer",E.reason==="daily_cap"&&" Daily limit",E.reason==="blocked"&&" Blocked"]})]},z)})})]}),p&&e.jsx(xw,{slots:l,onSelectDate:P,onClose:()=>h(!1),selectedDate:d})]})}const Vi=({children:t,className:s=""})=>e.jsx("div",{className:`animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-forwards ${s}`,children:t});function Yi(){var vd;const t=vs(),[s,r]=_r(),n=_e(),a=t.username&&t.eventSlug,l=t.token,i=t.username,o=t.eventSlug,[c,d]=m.useState(!0),[u,x]=m.useState(!1),[y,w]=m.useState(!1),[g,v]=m.useState(!1),[j,f]=m.useState(!1),[b,p]=m.useState(!1),[h,N]=m.useState(null),[S,k]=m.useState(!1),[C,P]=m.useState(null),[I,O]=m.useState([]),[M,E]=m.useState(null),[z,K]=m.useState(null),[V,D]=m.useState(null),[A,q]=m.useState([]),[$,X]=m.useState(null),[le,Ne]=m.useState(""),[de,L]=m.useState(null),[B,T]=m.useState({logo_url:null,primary_color:"#3B82F6",accent_color:"#6366F1",hide_powered_by:!1}),[ee,Z]=m.useState("loading"),[he,Y]=m.useState(null),[fe,F]=m.useState(!1),[W,J]=m.useState({attendee_name:"",attendee_email:"",notes:""}),[U,ae]=m.useState([]),[H,xe]=m.useState(""),[ce,ge]=m.useState(""),[te,je]=m.useState(null);m.useEffect(()=>{try{const ie=Intl.DateTimeFormat().resolvedOptions().timeZone;ge(ie)}catch{ge("UTC")}},[]),m.useEffect(()=>{if(a)return;const ie=s.get("reschedule");ie&&(p(!0),N(ie))},[l,a]),m.useEffect(()=>{st()},[]),m.useEffect(()=>{if(a)return;const ie=s.get("code"),ve=s.get("state");!ie||!(ve!=null&&ve.startsWith("guest-booking:"))||!l||fe||(F(!0),(async()=>{try{Ne("");const rt=ve.split(":")[2]||"google";let Re;rt==="microsoft"?Re=await hs.guestMicrosoftAuth(ie,l):Re=await hs.guestGoogleAuth(ie,l);const pt=Re.data;Y({signedIn:!0,hasCalendarAccess:pt.hasCalendarAccess||!1,provider:rt,email:pt.email||"",name:pt.name||"",accessToken:pt.accessToken,refreshToken:pt.refreshToken}),J(Zt=>({...Zt,attendee_name:Zt.attendee_name||pt.name||"",attendee_email:Zt.attendee_email||pt.email||""}));const Xe=s.get("type"),or=s.get("reschedule");let wt=`/book/${l}`;const we=new URLSearchParams;Xe&&we.set("type",Xe),or&&we.set("reschedule",or),we.toString()&&(wt+=`?${we.toString()}`),n(wt,{replace:!0})}catch{Ne("Failed to connect calendar. Please try again."),Z("calendar-choice");const Re=new URLSearchParams(s);Re.delete("code"),Re.delete("state"),n(`/book/${l}?${Re.toString()}`,{replace:!0})}})())},[s,l,n,fe,a]),m.useEffect(()=>{if(a||!(he!=null&&he.signedIn)||A.length===0)return;const ie=localStorage.getItem("schedulesync_oauth_return");if(ie)try{const ve=JSON.parse(ie);if(Date.now()-ve.timestamp>5*60*1e3){localStorage.removeItem("schedulesync_oauth_return");return}if(ve.eventTypeId){const rt=A.find(Re=>Re.id===ve.eventTypeId);if(rt){X(rt);const Re=new URLSearchParams(s);Re.set("type",ve.eventTypeSlug),r(Re,{replace:!0})}}ve.step&&Z(ve.step),localStorage.removeItem("schedulesync_oauth_return")}catch{localStorage.removeItem("schedulesync_oauth_return")}},[he==null?void 0:he.signedIn,A,s,r,a]);const st=async()=>{var ie,ve,rt,Re,pt,Xe,or;try{if(d(!0),a){const it=await fetch(`/api/public/booking/${i}/${o}`);if(!it.ok)throw new Error("Event type not found");const Ve=await it.json();E(Ve.host),Ve.branding&&T({logo_url:Ve.branding.logo_url||null,primary_color:Ve.branding.primary_color||"#3B82F6",accent_color:Ve.branding.accent_color||"#6366F1",hide_powered_by:Ve.branding.hide_powered_by||!1}),D({name:Ve.host.name,user_name:Ve.host.username,id:Ve.host.username}),K({name:`${Ve.host.name}'s Events`,id:"public"}),X(Ve.eventType),q([Ve.eventType]),Z("form"),d(!1);return}const wt=await ua.getByToken(l),we=((ie=wt.data)==null?void 0:ie.data)||wt.data||{};if(!we.team||!we.member)throw new Error("Missing info");if(we.member.external_booking_link&&!b){w(!0),D(we.member),setTimeout(()=>{window.location.href=we.member.external_booking_link},1500);return}if(K(we.team),D(we.member),we.isMagicLink&&(k(!0),we.magicLinkData&&P(we.magicLinkData),we.participants&&we.participants.length>0&&O(we.participants)),(ve=we.member)!=null&&ve.user_id)try{const it=await fetch(`/api/user/${we.member.user_id}/branding`);if(it.ok){const Ve=await it.json();T({logo_url:Ve.brand_logo_url||null,primary_color:Ve.brand_primary_color||"#3B82F6",accent_color:Ve.brand_accent_color||"#6366F1",hide_powered_by:Ve.hide_powered_by||!1})}}catch{}const Zt=we.isDirectLink===!0||we.skipEventTypes===!0||we.linkType==="member"||b;if(f(Zt),we.prefill&&J(it=>({...it,attendee_name:we.prefill.attendee_name||it.attendee_name,attendee_email:we.prefill.attendee_email||it.attendee_email})),we.bookingToken&&L(we.bookingToken),we.selectedEventType&&(X(we.selectedEventType),q(we.eventTypes||[we.selectedEventType])),Zt){we.selectedEventType||(q([]),X(null)),Z("calendar-choice");return}let pn=we.eventTypes||[];pn.length===0&&!Zt&&(pn=(await xd.getAll()).data.eventTypes||[]);const Is=pn.filter(it=>it.is_active!==!1);q(Is);const wd=s.get("type");if(wd){const it=Is.find(Ve=>Ve.slug===wd);it?(X(it),Z("calendar-choice")):Z(Is.length>0?"event-select":"calendar-choice")}else Is.length===1?(X(Is[0]),Z("calendar-choice")):Is.length>1?Z("event-select"):Z("calendar-choice")}catch(wt){if(((rt=wt.response)==null?void 0:rt.status)===410||((pt=(Re=wt.response)==null?void 0:Re.data)==null?void 0:pt.code)==="LINK_USED"){v(!0),d(!1);return}Ne(wt.message||((or=(Xe=wt.response)==null?void 0:Xe.data)==null?void 0:or.error)||"Invalid booking link")}finally{d(!1)}},Ot=ie=>{X(ie);const ve=new URLSearchParams(s);ve.set("type",ie.slug),r(ve),Z("calendar-choice")},yd=async ie=>{try{if($){const Re={token:l,eventTypeId:$.id,eventTypeSlug:$.slug,step:"form",timestamp:Date.now()};localStorage.setItem("schedulesync_oauth_return",JSON.stringify(Re))}let ve;ie==="google"?ve=await hs.getGoogleGuestUrl(l):ie==="microsoft"&&(ve=await hs.getMicrosoftGuestUrl(l));const rt=ve.data.url;window.location.href=rt}catch{Ne("Failed to connect calendar. Please try again.")}},bd=()=>{if(!H.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H)){alert("Please enter a valid email address");return}if(U.includes(H)||H===W.attendee_email){alert("This email is already added");return}ae([...U,H]),xe("")},Up=ie=>{ae(U.filter(ve=>ve!==ie))},Op=async ie=>{var ve,rt,Re;if(ie.preventDefault(),!!te)try{if(x(!0),a){const wt=await fetch("/api/public/booking/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,event_slug:o,start_time:te.start,end_time:te.end,attendee_name:W.attendee_name,attendee_email:W.attendee_email,notes:W.notes,additional_attendees:U,guest_timezone:ce})});if(!wt.ok){const Is=await wt.json();throw new Error(Is.error||"Failed to create booking")}const Zt=(await wt.json()).booking,pn={id:Zt.id,start_time:te.start,end_time:te.end,attendee_name:W.attendee_name,attendee_email:W.attendee_email,additional_attendees:U,guest_timezone:ce,organizer_name:M.name,team_name:z.name,event_type:$.title,duration:$.duration,notes:W.notes,meet_link:Zt.meet_link,manage_token:Zt.manage_token,is_reschedule:!1};n(`/booking-confirmation?data=${encodeURIComponent(JSON.stringify(pn))}`);return}const Xe=(await ua.create({token:l,slot:te,...W,additional_attendees:U,guest_timezone:ce,event_type_id:$==null?void 0:$.id,event_type_slug:$==null?void 0:$.slug,reschedule_token:h,is_magic_link:S,magic_link_token:S?l:null,magic_link_id:(C==null?void 0:C.id)||null})).data.booking,or={id:Xe==null?void 0:Xe.id,start_time:te.start,end_time:te.end,attendee_name:W.attendee_name,attendee_email:W.attendee_email,additional_attendees:U,guest_timezone:ce,organizer_name:(V==null?void 0:V.name)||(V==null?void 0:V.user_name),team_name:z==null?void 0:z.name,event_type:($==null?void 0:$.title)||($==null?void 0:$.name),duration:($==null?void 0:$.duration)||30,notes:W.notes,meet_link:Xe==null?void 0:Xe.meet_link,booking_token:(Xe==null?void 0:Xe.booking_token)||l,manage_token:Xe==null?void 0:Xe.manage_token,is_reschedule:b};n(`/booking-confirmation?data=${encodeURIComponent(JSON.stringify(or))}`)}catch(pt){((ve=pt.response)==null?void 0:ve.status)===410?v(!0):alert(pt.message||((Re=(rt=pt.response)==null?void 0:rt.data)==null?void 0:Re.error)||"Failed to create booking.")}finally{x(!1)}},jd=($==null?void 0:$.duration)||(V==null?void 0:V.default_duration)||30,Ds=(M==null?void 0:M.name)||(V==null?void 0:V.name)||(V==null?void 0:V.user_name),zp=((vd=Ds==null?void 0:Ds[0])==null?void 0:vd.toUpperCase())||"U",Bp=a?`public:${i}:${o}`:de||l;return c||y?e.jsx(pw,{redirecting:y,memberName:Ds,branding:B}):g?e.jsx(fw,{}):le&&!z?e.jsx(gw,{error:le}):e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 md:p-6 font-sans",children:e.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] border border-slate-100",children:[e.jsxs("div",{className:"md:w-1/3 bg-slate-50 border-r border-slate-200 p-8 flex flex-col relative",children:[b&&e.jsxs("div",{className:"mb-6 bg-amber-50 border border-amber-200 rounded-xl p-3 flex gap-3 items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-amber-800 uppercase tracking-wide mb-1",children:"Rescheduling"}),e.jsx("p",{className:"text-sm text-amber-700 leading-tight",children:"Your original booking will be cancelled once you confirm a new time."})]})]}),S&&e.jsxs("div",{className:"mb-6 bg-purple-50 border border-purple-200 rounded-xl p-3 flex gap-3 items-start",children:[e.jsx(ye,{className:"h-5 w-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-purple-800 uppercase tracking-wide mb-1",children:(C==null?void 0:C.name)||"Magic Link"}),e.jsx("p",{className:"text-sm text-purple-700 leading-tight",children:(C==null?void 0:C.scheduling_mode)==="collective"?"Group meeting - all participants required":"Single-use booking link"})]})]}),I.length>1&&e.jsxs("div",{className:"mb-6 bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[e.jsxs("p",{className:"text-xs font-bold text-indigo-800 uppercase tracking-wide mb-3",children:[e.jsx(ht,{className:"h-3 w-3 inline mr-1"}),"Meeting Participants"]}),e.jsx("div",{className:"space-y-2",children:I.map((ie,ve)=>{var rt,Re;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold",style:{background:`linear-gradient(135deg, ${B.primary_color}, ${B.accent_color})`},children:((Re=(rt=ie.name)==null?void 0:rt[0])==null?void 0:Re.toUpperCase())||"U"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("p",{className:"text-sm font-medium text-indigo-900 truncate",children:[ie.name,ie.is_host&&e.jsx("span",{className:"ml-2 text-xs bg-indigo-200 text-indigo-700 px-1.5 py-0.5 rounded",children:"Host"})]})})]},ie.id)})}),(C==null?void 0:C.scheduling_mode)==="collective"&&e.jsx("p",{className:"text-xs text-indigo-600 mt-3",children:"All participants' calendars will be checked"})]}),e.jsxs("div",{className:"flex-1 mt-8",children:[e.jsxs("div",{className:"mb-6",children:[B.logo_url?e.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-lg mb-4 bg-white border border-slate-200",children:e.jsx("img",{src:B.logo_url,alt:"Logo",className:"w-full h-full object-contain",onError:ie=>{ie.target.parentElement.style.display="none"}})}):e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shadow-lg mb-4",style:{background:`linear-gradient(135deg, ${B.primary_color}, ${B.accent_color})`},children:zp}),e.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Book a meeting with"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:Ds}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:z==null?void 0:z.name})]}),$?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4 duration-500",children:[e.jsx("div",{className:"h-px bg-slate-200 w-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:$.title}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[jd," min"]})]}),$.location&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(Nr,{className:"h-4 w-4"}),e.jsx("span",{children:$.location})]})]})]}),$.description&&e.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:$.description})]}):e.jsx("div",{className:"mt-8 p-4 rounded-xl border",style:{backgroundColor:B.primary_color+"10",borderColor:B.primary_color+"30"},children:e.jsx("p",{className:"text-sm",style:{color:B.primary_color},children:"Please select a meeting type from the list to continue."})})]}),!B.hide_powered_by&&e.jsx("div",{className:"mt-auto pt-6 text-xs text-slate-300 font-medium",children:"Powered by ScheduleSync"})]}),e.jsxs("div",{className:"md:w-2/3 bg-white p-6 md:p-10 overflow-y-auto relative",children:[ee==="event-select"&&!a&&e.jsxs(Vi,{className:"max-w-xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Select a Meeting Type"}),e.jsx("p",{className:"text-slate-500 mb-8",children:"Choose the type of meeting you'd like to schedule."}),e.jsx("div",{className:"grid gap-4",children:A.map(ie=>e.jsxs("button",{onClick:()=>Ot(ie),className:"group relative flex items-center gap-4 p-5 rounded-2xl border border-slate-200 hover:shadow-lg transition-all text-left bg-white",onMouseEnter:ve=>{ve.currentTarget.style.borderColor=B.primary_color},onMouseLeave:ve=>{ve.currentTarget.style.borderColor="#e2e8f0"},children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",style:{backgroundColor:B.primary_color+"20",color:B.primary_color},children:e.jsx(Se,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:ie.title}),e.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[ie.duration," minutes"]})]}),e.jsx(Ts,{className:"h-5 w-5 group-hover:translate-x-1 transition-all",style:{color:B.primary_color}})]},ie.id))})]}),ee==="calendar-choice"&&!a&&e.jsxs(Vi,{className:"max-w-lg mx-auto py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:B.primary_color+"15"},children:e.jsx(ye,{className:"h-8 w-8",style:{color:B.primary_color}})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Check for conflicts?"}),e.jsxs("p",{className:"text-slate-500 mt-2",children:["Sign in to overlay your calendar availability on top of ",Ds==null?void 0:Ds.split(" ")[0],"'s schedule."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>yd("google"),className:"w-full flex items-center p-4 rounded-xl border border-slate-200 hover:border-red-200 hover:bg-red-50/30 transition-all group",children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"",className:"h-6 w-6 mr-4"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"block font-semibold text-slate-900",children:"Connect Google Calendar"}),e.jsx("span",{className:"block text-xs text-slate-500",children:"We'll only read your busy times"})]}),e.jsx(Je,{className:"h-5 w-5 text-slate-300 group-hover:text-red-500 transition-colors"})]}),e.jsxs("button",{onClick:()=>yd("microsoft"),className:"w-full flex items-center p-4 rounded-xl border border-slate-200 hover:border-blue-200 hover:bg-blue-50/30 transition-all group",children:[e.jsxs("div",{className:"h-6 w-6 mr-4 grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"bg-[#f35325]"}),e.jsx("div",{className:"bg-[#81bc06]"}),e.jsx("div",{className:"bg-[#05a6f0]"}),e.jsx("div",{className:"bg-[#ffba08]"})]}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"block font-semibold text-slate-900",children:"Connect Outlook / Office 365"}),e.jsx("span",{className:"block text-xs text-slate-500",children:"We'll only read your busy times"})]}),e.jsx(Je,{className:"h-5 w-5 text-slate-300 group-hover:text-blue-500 transition-colors"})]}),e.jsxs("div",{className:"relative py-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-100"})}),e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"bg-white px-2 text-xs text-slate-400 uppercase tracking-wide",children:"Or"})})]}),e.jsx("button",{onClick:()=>Z("form"),className:"w-full py-4 text-slate-600 font-medium hover:text-slate-900 hover:bg-slate-50 rounded-xl transition-colors",children:"Skip and select time manually"})]})]}),ee==="form"&&e.jsxs(Vi,{className:"h-full flex flex-col",children:[(he==null?void 0:he.signedIn)&&e.jsxs("div",{className:"mb-3 inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-medium self-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Using your calendar: ",he.email]}),ce&&e.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium self-start",style:{backgroundColor:B.primary_color+"15",color:B.primary_color},children:[e.jsx(Se,{className:"h-4 w-4"}),"Your timezone: ",ce]}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:te?"Finalize Booking":"Select a Time"}),!te&&e.jsx("div",{className:"flex-1",children:e.jsx(hw,{bookingToken:Bp,guestCalendar:he,onSlotSelected:je,duration:jd,timezone:ce})}),te&&e.jsxs("div",{className:"max-w-lg mx-auto w-full animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"rounded-xl p-4 mb-6 flex justify-between items-center border",style:{backgroundColor:B.primary_color+"15",borderColor:B.primary_color+"30"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-wide",style:{color:B.primary_color},children:"Selected Time"}),e.jsx("p",{className:"font-semibold mt-1",style:{color:B.primary_color},children:new Date(te.start).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-sm",style:{color:B.primary_color+"cc"},children:[new Date(te.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(te.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("button",{onClick:()=>je(null),className:"text-sm font-medium underline",style:{color:B.primary_color},children:"Change"})]}),e.jsxs("form",{onSubmit:Op,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Name"}),e.jsx("input",{type:"text",required:!0,value:W.attendee_name,onChange:ie=>J({...W,attendee_name:ie.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:border-transparent outline-none transition-all",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",required:!0,value:W.attendee_email,onChange:ie=>J({...W,attendee_email:ie.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:border-transparent outline-none transition-all",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Additional Notes"}),e.jsx("textarea",{value:W.notes,onChange:ie=>J({...W,notes:ie.target.value}),rows:"3",className:"w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:border-transparent outline-none transition-all resize-none",placeholder:"Anything specific you want to discuss?"})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Invite Others to This Meeting"}),U.length>0&&e.jsx("div",{className:"space-y-2 mb-3",children:U.map((ie,ve)=>e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 px-3 py-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-700",children:ie})]}),e.jsx("button",{type:"button",onClick:()=>Up(ie),className:"text-slate-400 hover:text-red-600 transition-colors",children:e.jsx(Fe,{className:"h-4 w-4"})})]},ve))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:H,onChange:ie=>xe(ie.target.value),onKeyPress:ie=>{ie.key==="Enter"&&(ie.preventDefault(),bd())},className:"flex-1 px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:border-transparent outline-none transition-all text-sm",placeholder:"colleague@example.com"}),e.jsxs("button",{type:"button",onClick:bd,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors font-medium text-sm flex items-center gap-1",children:[e.jsx(Qt,{className:"h-4 w-4"}),"Add"]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Additional attendees will receive calendar invites and meeting details"})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full mt-4 text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 hover:shadow-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",style:{backgroundColor:B.primary_color},children:u?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),b?"Confirming...":"Booking..."]}):e.jsx(e.Fragment,{children:b?"Confirm Reschedule":"Confirm Booking"})})]})]})]})]})]})})}function pw({redirecting:t,memberName:s,branding:r}){const n=(r==null?void 0:r.primary_color)||"#3B82F6";return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center animate-pulse",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:n+"20"},children:t?e.jsx(Tt,{className:"h-8 w-8",style:{color:n}}):e.jsx(se,{className:"h-8 w-8 animate-spin",style:{color:n}})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:t?`Redirecting to ${s}...`:"Loading availability..."})]})})}function fw(){return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center border border-slate-100",children:[e.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Sy,{className:"h-10 w-10 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link Already Used"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This single-use booking link has already been used or has expired."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please request a new link from the organizer if you need to book another time."})]})})}function gw({error:t}){return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center border border-slate-100",children:[e.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Hh,{className:"h-10 w-10 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:t||"This booking link is invalid or has expired."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You can safely close this page."})]})})}function yw(){const{token:t}=vs(),s=_e(),[r,n]=m.useState(!0),[a,l]=m.useState(null),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[u,x]=m.useState("");m.useEffect(()=>{y()},[t]);const y=async()=>{try{const N=await(await fetch(`https://schedulesync-web-production.up.railway.app/api/bookings/manage/${t}`)).json();console.log(" Booking data loaded:",N),l(N.booking)}catch(h){console.error("Error loading booking:",h)}finally{n(!1)}},w=async()=>{try{o(!0),await fetch(`https://schedulesync-web-production.up.railway.app/api/bookings/manage/${t}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:u||"Cancelled by guest"})}),d(!1),await y()}catch(h){console.error("Error cancelling booking:",h),alert("Failed to cancel booking. Please try again.")}finally{o(!1)}},g=()=>{const h=a.member_booking_token||a.booking_token||a.team_member_token;h?s(`/book/${h}?reschedule=${t}`):alert("Unable to reschedule online. Please contact the organizer directly.")},v=h=>new Date(h).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),j=h=>new Date(h).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),f=()=>{if(!a)return"";const h=new Date(a.start_time),N=new Date(a.end_time);return`${Math.round((N-h)/(1e3*60))} min`};if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your booking..."})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 text-center max-w-md border-2 border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(yt,{className:"h-10 w-10 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This booking link is invalid or has expired. Please check your email for the correct link or contact the organizer."}),e.jsx("p",{className:"text-sm text-gray-400",children:"You can safely close this page."})]})});const b=a.status==="cancelled",p=new Date(a.start_time)<new Date;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-12 px-4",children:[e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Manage Your Booking"}),e.jsx("p",{className:"text-gray-600",children:"View details or make changes to your scheduled meeting"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-2 border-gray-100 mb-6",children:[e.jsxs("div",{className:`p-6 ${b?"bg-red-500":p?"bg-gray-500":"bg-gradient-to-r from-blue-500 to-purple-600"}`,children:[e.jsx("div",{className:"flex items-center justify-center gap-3 text-white",children:b?e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-7 w-7"}),e.jsx("span",{className:"text-2xl font-bold",children:"Cancelled"})]}):p?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-7 w-7"}),e.jsx("span",{className:"text-2xl font-bold",children:"Completed"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-7 w-7"}),e.jsx("span",{className:"text-2xl font-bold",children:"Confirmed"})]})}),!b&&!p&&e.jsx("p",{className:"text-center text-blue-100 mt-2 text-sm",children:"Your meeting is scheduled and ready"})]}),e.jsxs("div",{className:"p-8 space-y-5",children:[e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-blue-50 rounded-2xl",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(oe,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Date & Time"}),e.jsx("p",{className:"text-gray-700 font-medium",children:v(a.start_time)}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-gray-600",children:[j(a.start_time)," - ",j(a.end_time)]}),e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(Se,{className:"h-3 w-3"}),f()]})]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-purple-50 rounded-2xl",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(ht,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Meeting With"}),e.jsx("p",{className:"text-gray-700 font-medium",children:a.organizer_name}),a.organizer_email&&e.jsx("p",{className:"text-gray-500 text-sm",children:a.organizer_email})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-green-50 rounded-2xl",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Qe,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-1",children:"Your Information"}),e.jsx("p",{className:"text-gray-700 font-medium",children:a.attendee_name}),e.jsx("p",{className:"text-gray-500 text-sm",children:a.attendee_email})]})]}),a.meet_link&&!b&&e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-amber-50 rounded-2xl",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(At,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Video Conference"}),e.jsxs("a",{href:a.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-amber-100 hover:bg-amber-200 text-amber-800 px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:[e.jsx(At,{className:"h-4 w-4"}),"Join Google Meet"]})]})]}),a.notes&&e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Notes"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.notes})]})]})]}),!b&&!p&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Need to make changes?"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:g,disabled:i,className:"bg-blue-600 text-white px-6 py-4 rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:[e.jsx(bs,{className:"h-5 w-5"}),"Reschedule Meeting"]}),e.jsxs("button",{onClick:()=>d(!0),disabled:i,className:"bg-white border-2 border-red-200 text-red-600 px-6 py-4 rounded-xl hover:bg-red-50 transition-colors flex items-center justify-center gap-2 font-bold disabled:opacity-50",children:[e.jsx(yt,{className:"h-5 w-5"}),"Cancel Meeting"]})]})]}),b&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Oe,{className:"h-6 w-6 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-800 mb-1",children:"This meeting has been cancelled"}),e.jsx("p",{className:"text-red-700 text-sm",children:"If you'd like to schedule a new meeting, please contact the organizer for a new booking link."})]})]})}),p&&!b&&e.jsx("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ne,{className:"h-6 w-6 text-gray-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"This meeting has already taken place"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Thank you for attending! If you need to schedule another meeting, please contact the organizer."})]})]})}),e.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[e.jsx("p",{children:"You can safely close this page."}),e.jsxs("p",{className:"mt-2",children:["Powered by ",e.jsx("span",{className:"font-semibold text-blue-600",children:"ScheduleSync"})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(yt,{className:"h-8 w-8 text-red-500"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cancel Meeting?"}),e.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to cancel your meeting with ",a.organizer_name,"?"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation (optional)"}),e.jsx("textarea",{value:u,onChange:h=>x(h.target.value),placeholder:"Let them know why you're cancelling...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500 outline-none transition-colors resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>d(!1),disabled:i,className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors disabled:opacity-50",children:"Keep Meeting"}),e.jsx("button",{onClick:w,disabled:i,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-semibold transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),"Cancelling..."]}):"Yes, Cancel"})]})]})})]})}function bw(){const[t]=_r(),s=_e(),[r,n]=m.useState("processing"),a=t.get("redirect_status");return m.useEffect(()=>{a==="succeeded"?(n("success"),setTimeout(()=>s("/booking-success"),3e3)):n(a==="failed"?"failed":"processing")},[a,s]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-xl rounded-2xl p-8 text-center",children:[r==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Redirecting you to your booking confirmation..."})]}),r==="failed"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong with your payment. Please try again."}),e.jsx("button",{onClick:()=>s(-1),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700",children:"Go Back"})]}),r==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Payment..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your transaction."})]})]})})}function jw({plan:t,onSuccess:s,onCancel:r}){const n=$p(),a=Ip(),[l,i]=m.useState(!1),[o,c]=m.useState(null),d=async x=>{if(x.preventDefault(),!n||!a){c("Stripe is not loaded. Please refresh the page.");return}i(!0),c(null);try{console.log(" Creating subscription for plan:",t.id);const y=await fetch("/api/subscriptions/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan_id:t.id})}),w=await y.json();if(console.log(" Backend response:",w),!y.ok)throw new Error(w.error||"Subscription creation failed");if(w.client_secret&&w.client_secret!=="simulated_success"){console.log(" Processing Stripe payment...");const g=a.getElement($l),{error:v,paymentIntent:j}=await n.confirmCardPayment(w.client_secret,{payment_method:{card:g,billing_details:{name:"Subscription User"}}});if(v)throw new Error(v.message);j.status==="succeeded"&&(console.log(" Payment successful!"),s(t))}else console.log(" Simulated payment success"),s(t)}catch(y){console.error(" Subscription error:",y),c(y.message)}finally{i(!1)}},u={style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"},fontFamily:"system-ui, -apple-system, sans-serif"},invalid:{color:"#ef4444"}},hidePostalCode:!1};return e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(ye,{className:"h-5 w-5 text-blue-600"}),e.jsxs("h3",{className:"font-bold text-blue-900",children:[t.name," Plan"]})]}),e.jsxs("p",{className:"text-3xl font-black text-gray-900 mb-1",children:["$",t.price,e.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"What you'll get:"}),e.jsx("ul",{className:"space-y-1",children:t.features.slice(0,3).map((x,y)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("span",{className:"text-green-500 mr-2 text-xs",children:""}),x]},y))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Yh,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-yellow-800 font-bold text-sm",children:"Test Mode Active"})]}),e.jsx("p",{className:"text-yellow-800 text-sm font-medium mb-1",children:"This is a demo payment form"}),e.jsxs("div",{className:"text-yellow-700 text-xs space-y-1",children:[e.jsxs("p",{children:["Use test card: ",e.jsx("span",{className:"font-mono bg-yellow-100 px-2 py-1 rounded",children:"4242 4242 4242 4242"})]}),e.jsx("p",{children:"Expiry: Any future date | CVC: Any 3 digits"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-300 p-5",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(ni,{className:"h-5 w-5 text-blue-600"}),"Payment Information"]}),e.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-lg bg-gray-50 min-h-[50px] flex items-center",children:e.jsx($l,{options:u,className:"w-full"})}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-gray-500",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:"Secured by Stripe  Cancel anytime"})]})]}),o&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-900 text-sm",children:"Payment Error"}),e.jsx("p",{className:"text-red-800 text-sm mt-1",children:o})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:r,disabled:l,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!n||l,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-5 w-5"}),"Pay $",t.price,"/month"]})})]}),e.jsxs("div",{className:"text-center pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:"SSL Encrypted"})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{children:"Powered by Stripe"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" 30-day money-back guarantee  Cancel anytime"})]})]})})}console.log("LOADING PURPLE UI VERSION - BUILD 2024-11-22-V3");function vw(){var ee,Z,he;const{token:t}=vs(),s=_e(),[r,n]=m.useState(!0),[a,l]=m.useState(null),[i,o]=m.useState(null),[c,d]=m.useState(null),[u,x]=m.useState({}),[y,w]=m.useState({name:"",email:"",phone:"",notes:""}),[g,v]=m.useState(!1),[j,f]=m.useState(!1),[b,p]=m.useState(!1),[h,N]=m.useState(null),[S,k]=m.useState(!1),[C,P]=m.useState(""),[I,O]=m.useState(!1),[M,E]=m.useState(null),[z,K]=m.useState(null),[V,D]=m.useState(!1),[A,q]=m.useState(null);m.useEffect(()=>{t&&($(),X())},[t]),m.useEffect(()=>{a&&!S&&le()},[a,M]);const $=async()=>{try{n(!0),N(null);const Y=await _.get(`/book/${t}`);l(Y.data.data)}catch(Y){console.error("Error loading booking data:",Y),N("Failed to load booking page. Invalid or expired link.")}finally{n(!1)}},X=async()=>{try{const fe=await(await fetch(`/api/book/${t}/pricing`)).json();if(K(fe),fe.paymentRequired&&fe.price>0){const W=await(await fetch("/api/payments/config")).json();q(_p(W.publishableKey))}}catch(Y){console.error("Error loading pricing:",Y)}},le=async()=>{try{k(!0);const Y=await _.post(`/book/${t}/slots-with-status`,{guestAccessToken:M,guestRefreshToken:null,duration:30,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone});x(Y.data.slots||{});const fe=Object.keys(Y.data.slots||{});fe.length>0&&!i&&o(fe[0])}catch(Y){console.error("Error loading slots:",Y)}finally{k(!1)}},Ne=async Y=>{try{f(!0),(await _.post("/api/payments/confirm-booking",{paymentIntentId:Y,bookingToken:t,slot:c,attendeeName:y.name,attendeeEmail:y.email,notes:y.notes})).data.success&&(p(!0),D(!1))}catch(fe){console.error("Booking error:",fe),alert("Failed to create booking after payment. Please contact support.")}finally{f(!1)}},de=async Y=>{if(Y.preventDefault(),!c||!g){alert("Please select a time slot and agree to terms");return}if(z!=null&&z.paymentRequired&&(z==null?void 0:z.price)>0){D(!0);return}try{f(!0),(await _.post("/api/bookings",{token:t,slot:c,attendee_name:y.name,attendee_email:y.email,notes:y.notes})).data.success&&p(!0)}catch(fe){console.error("Booking error:",fe),alert("Failed to create booking")}finally{f(!1)}},L=Object.keys(u).slice(0,7).map(Y=>{var F;const fe=new Date((F=u[Y][0])==null?void 0:F.start);return{key:Y,label:Y.split(",")[0],day:fe.getDate(),month:fe.toLocaleDateString("en-US",{month:"short"})}}),B=Y=>({USD:"$",EUR:"",GBP:"",AUD:"A$",CAD:"C$"})[Y]||Y;if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading booking page..."})]})});if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full border-2 border-red-200",children:[e.jsx(Oe,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:h}),e.jsx("button",{onClick:()=>s("/"),className:"w-full px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700",children:"Go to Homepage"})]})});if(b)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full border-2 border-green-200",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ue,{className:"h-10 w-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-3",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Check your email for confirmation and calendar invite."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold",children:"Done"})]})});if(!a)return null;const T=new URLSearchParams(window.location.search).has("reschedule");return(ee=a==null?void 0:a.member)!=null&&ee.external_booking_link&&!T?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[e.jsx(Tt,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"External Booking"}),e.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["This member uses ",a.member.external_booking_platform," for bookings."]}),e.jsxs("a",{href:a.member.external_booking_link,target:"_blank",rel:"noopener noreferrer",className:"w-full px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2",children:["Continue to Booking",e.jsx(Tt,{className:"h-4 w-4"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 py-12 px-4",children:[e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center text-white text-2xl font-bold",children:((he=(Z=a.member.name)==null?void 0:Z[0])==null?void 0:he.toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"text-gray-900 text-xl font-bold",children:a.member.name}),(z==null?void 0:z.paymentRequired)&&e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(ye,{className:"h-3 w-3"}),"Premium"]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.team.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"30 min"}),(z==null?void 0:z.paymentRequired)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{className:"text-purple-600 font-semibold",children:[B(z.currency),z.price]})]})]})]})]})}),L.length>0&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-8 w-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(_s,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-green-900 mb-1 font-semibold",children:"Availability Confirmed"}),e.jsx("p",{className:"text-green-700 text-sm",children:I?"Great! We found times that work for both calendars.":"Multiple time slots are available for booking."})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(oe,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-gray-900 font-bold",children:"Select a Date"})]}),S?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Loading available dates..."})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:L.map(Y=>e.jsxs("button",{onClick:()=>o(Y.key),className:`p-4 rounded-xl border-2 transition-all text-center ${i===Y.key?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50"}`,children:[e.jsx("div",{className:`text-2xl mb-1 font-bold ${i===Y.key?"text-purple-600":"text-gray-900"}`,children:Y.day}),e.jsx("div",{className:`text-xs ${i===Y.key?"text-purple-600":"text-gray-600"}`,children:Y.label})]},Y.key))})]}),i&&u[i]&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-gray-900 font-bold",children:"Available Times"})]}),e.jsxs("span",{className:"text-xs bg-gray-100 px-3 py-1 rounded-full",children:[u[i].filter(Y=>Y.status==="available").length," slots"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-80 overflow-y-auto pr-2",children:u[i].map((Y,fe)=>e.jsxs("button",{onClick:()=>Y.status==="available"&&d(Y),disabled:Y.status!=="available",className:`p-4 rounded-xl border-2 transition-all ${Y.status!=="available"?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":c===Y?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-green-400 hover:bg-green-50/50"}`,children:[e.jsx("div",{className:`mb-1 font-semibold ${Y.status!=="available"?"text-gray-400":c===Y?"text-green-700":"text-gray-900"}`,children:Y.time}),Y.matchScore&&Y.status==="available"&&e.jsx("div",{className:`text-xs ${Y.matchScore>=80?"text-green-600":Y.matchScore>=60?"text-blue-600":"text-gray-600"}`,children:Y.matchLabel}),Y.status!=="available"&&e.jsx("div",{className:"text-xs text-gray-400",children:Y.details||"Unavailable"})]},fe))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ht,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-gray-900 font-bold",children:"Your Information"})]}),e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"John Doe",value:y.name,onChange:Y=>w({...y,name:Y.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"email",placeholder:"john@example.com",value:y.email,onChange:Y=>w({...y,email:Y.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"tel",placeholder:"+1 (555) 000-0000",value:y.phone,onChange:Y=>w({...y,phone:Y.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Additional Notes"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fy,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{placeholder:"Any specific topics or questions?",value:y.notes,onChange:Y=>w({...y,notes:Y.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none min-h-24 resize-none"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:g,onChange:Y=>v(Y.target.checked),className:"mt-1 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-relaxed cursor-pointer",children:"I agree to the terms and conditions. I will receive a confirmation email after booking."})]}),e.jsx("button",{type:"submit",disabled:!c||!g||j,className:"w-full h-14 bg-gradient-to-r from-purple-500 via-purple-600 to-pink-500 hover:from-purple-600 hover:via-purple-700 hover:to-pink-600 text-white rounded-xl font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):z!=null&&z.paymentRequired?e.jsxs(e.Fragment,{children:["Pay ",B(z.currency),z.price," & Book",e.jsx(Je,{className:"h-5 w-5"})]}):e.jsxs(e.Fragment,{children:["Schedule Booking",e.jsx(Je,{className:"h-5 w-5"})]})})]})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" Your information is secure and will never be shared"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Powered by ScheduleSync"})]})]})}),V&&z&&A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full",children:e.jsx(fd,{stripe:A,children:e.jsx(jw,{amount:z.price,currency:z.currency,onPaymentSuccess:Ne,onCancel:()=>D(!1),bookingDetails:{token:t,slot:c,attendee_name:y.name,attendee_email:y.email,notes:y.notes}})})})})]})}function bm(){const[t]=_r(),[s,r]=m.useState(null),[n,a]=m.useState(!0),[l,i]=m.useState(!1);m.useEffect(()=>{const g=t.get("data");if(g)try{const j=JSON.parse(decodeURIComponent(g));r(j),console.log(" Booking data:",j)}catch(j){console.error("Failed to parse booking data:",j)}const v=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(v)},[t]);const o=g=>{const v=new Date(g);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(v)},c=g=>{const v=new Date(g);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(v)},d=g=>{const v=new Date(g);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).format(v)},u=()=>{if(!s)return"";const g=new Date(s.start_time),v=new Date(s.end_time);return`${Math.round((v-g)/(1e3*60))} minutes`},x=()=>{if(!s)return;const g=new Date(s.start_time),v=new Date(s.end_time),j=b=>b.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",f=new URLSearchParams({action:"TEMPLATE",text:`Meeting with ${s.organizer_name||"Team"}`,dates:`${j(g)}/${j(v)}`,details:s.notes||"Meeting scheduled via ScheduleSync",location:s.meet_link||"Google Meet (link in calendar invite)"});window.open(`https://calendar.google.com/calendar/render?${f.toString()}`,"_blank")},y=()=>{if(!s)return;const g=new Date(s.start_time),v=new Date(s.end_time),j=new URLSearchParams({path:"/calendar/action/compose",rru:"addevent",subject:`Meeting with ${s.organizer_name||"Team"}`,startdt:g.toISOString(),enddt:v.toISOString(),body:s.notes||"Meeting scheduled via ScheduleSync",location:s.meet_link||"Google Meet (link in calendar invite)"});window.open(`https://outlook.live.com/calendar/0/deeplink/compose?${j.toString()}`,"_blank")},w=()=>{if(!s)return;const g=`
Meeting Confirmation

Date: ${o(s.start_time)}
Time: ${c(s.start_time)} - ${c(s.end_time)}
Duration: ${u()}
With: ${s.organizer_name||"Team"}
${s.meet_link?`
Google Meet: ${s.meet_link}`:""}
${s.notes?`
Notes: ${s.notes}`:""}
    `.trim();navigator.clipboard.writeText(g),i(!0),setTimeout(()=>i(!1),2e3)};return s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[n&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((g,v)=>e.jsx("div",{className:"absolute w-3 h-3 animate-confetti",style:{left:`${Math.random()*100}%`,top:"-20px",animationDelay:`${Math.random()*3}s`,backgroundColor:["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B"][Math.floor(Math.random()*5)],transform:`rotate(${Math.random()*360}deg)`}},v))}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8 animate-fadeInUp",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl animate-scaleIn",children:e.jsx(ne,{className:"h-14 w-14 text-white"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:"You're All Set! "}),e.jsx("p",{className:"text-xl text-gray-600",children:"Your meeting has been confirmed"})]}),s.meet_link&&e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 rounded-3xl shadow-2xl p-8 mb-6 text-white animate-fadeInUp",style:{animationDelay:"0.05s"},children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-4",children:e.jsx(At,{className:"h-10 w-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your Meeting Link"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"Join via Google Meet at the scheduled time"}),e.jsxs("a",{href:s.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-white text-purple-600 px-8 py-4 rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg",children:[e.jsx(At,{className:"h-6 w-6"}),e.jsx("span",{children:"Join Google Meet"}),e.jsx(Tt,{className:"h-5 w-5"})]}),e.jsx("p",{className:"text-sm text-blue-100 mt-4",children:" This link is also in your calendar invite and email"})]})}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Meeting Details"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Confirmation sent to ",s.attendee_email]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(oe,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Date"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o(s.start_time)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Se,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Time"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c(s.start_time)," - ",c(s.end_time)]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[u(),"  ",d(s.start_time)]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ht,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Organizer"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.organizer_name||"Team Member"}),s.team_name&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.team_name})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Qe,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Your Email"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.attendee_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.attendee_email})]})]})]})]}),s.notes&&e.jsx("div",{className:"mt-6 pt-6 border-t-2 border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ye,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Meeting Notes"}),e.jsx("p",{className:"text-gray-900",children:s.notes})]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Qt,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Add to Calendar"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:x,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"h-6 w-6"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Google Calendar"})]}),e.jsx(Tt,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),e.jsxs("button",{onClick:y,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{className:"h-6 w-6",viewBox:"0 0 23 23",fill:"none",children:[e.jsx("path",{d:"M0 0h10.93v10.93H0z",fill:"#F35325"}),e.jsx("path",{d:"M12.07 0H23v10.93H12.07z",fill:"#81BC06"}),e.jsx("path",{d:"M0 12.07h10.93V23H0z",fill:"#05A6F0"}),e.jsx("path",{d:"M12.07 12.07H23V23H12.07z",fill:"#FFBA08"})]}),e.jsx("span",{className:"font-medium text-gray-900",children:"Outlook Calendar"})]}),e.jsx(Tt,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-fadeInUp",style:{animationDelay:"0.3s"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ye,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Actions"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:w,className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(ue,{className:"h-5 w-5 text-green-600"}):e.jsx(Jt,{className:"h-5 w-5 text-gray-600 group-hover:text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:l?"Copied!":"Copy Details"})]})}),e.jsx("button",{onClick:()=>window.print(),className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rd,{className:"h-5 w-5 text-gray-600 group-hover:text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Print / Save as PDF"})]})})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 rounded-2xl border-2 border-blue-200 p-6 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"What Happens Next?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Check Your Email"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a calendar invite with a Google Meet link to"," ",e.jsx("span",{className:"font-semibold",children:s.attendee_email})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Add to Your Calendar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use the buttons above to add this meeting to your preferred calendar app"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-pink-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Join at Scheduled Time"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.meet_link?"Click the Google Meet link above or in your calendar to join":"Click the Google Meet link in your calendar invite to join the meeting"})]})]})]})]})]}),e.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes scaleIn {
          from {
            transform: scale(0.5);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes confettiFall {
          0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }

        .animate-fadeInUp {
          animation: fadeInUp 0.6s ease-out;
        }

        .animate-scaleIn {
          animation: scaleIn 0.5s ease-out;
        }

        .animate-confetti {
          animation: confettiFall 3s linear forwards;
        }

        @media print {
          .fixed {
            display: none;
          }
        }
      `})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(oe,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Booking Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find your booking information."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You can safely close this page."})]})})}function ww(){const{username:t}=vs(),s=_e(),[r,n]=m.useState(!0),[a,l]=m.useState(null),[i,o]=m.useState(null),[c,d]=m.useState([]),[u,x]=m.useState({logo_url:null,primary_color:"#8B5CF6",accent_color:"#EC4899",hide_powered_by:!1});m.useEffect(()=>{y()},[t]);const y=async()=>{n(!0),l(null);try{const f=await fetch(`/api/book/user/${t}`),b=await f.json();if(console.log(" RAW DATA:",b),console.log(" BRANDING:",b.branding),!f.ok)throw new Error(b.error||"User not found");o(b.user),d(b.eventTypes||[]),b.branding&&(console.log(" Setting branding to:",b.branding),x({logo_url:b.branding.logo_url||null,primary_color:b.branding.primary_color||"#8B5CF6",accent_color:b.branding.accent_color||"#EC4899",hide_powered_by:b.branding.hide_powered_by||!1}))}catch(f){console.error("Failed to fetch user profile:",f),l(f.message||"Failed to load booking page")}finally{n(!1)}},w=f=>{s(`/book/${t}/${f.slug}`)},g=f=>{switch(f){case"video":case"google_meet":case"zoom":return e.jsx(At,{className:"h-4 w-4"});case"phone":return e.jsx(ba,{className:"h-4 w-4"});case"in_person":return e.jsx(Nr,{className:"h-4 w-4"});default:return e.jsx(At,{className:"h-4 w-4"})}},v=f=>{switch(f){case"video":case"google_meet":return"Google Meet";case"zoom":return"Zoom";case"phone":return"Phone call";case"in_person":return"In person";default:return"Video call"}},j={background:`linear-gradient(135deg, ${u.primary_color}, ${u.accent_color})`};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:`linear-gradient(135deg, ${u.primary_color}15, ${u.accent_color}15)`},children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-12 w-12 animate-spin mx-auto mb-4",style:{color:u.primary_color}}),e.jsx("p",{className:"text-gray-600",children:"Loading booking page..."})]})}):a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-12 text-center max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Oe,{className:"h-8 w-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a==="User not found"?`We couldn't find a user with the username "${t}".`:a}),e.jsx("button",{onClick:()=>s("/"),className:"px-6 py-3 text-white rounded-xl font-semibold transition-colors",style:j,children:"Go to Homepage"})]})}):e.jsxs("div",{className:"min-h-screen",style:{background:`linear-gradient(135deg, ${u.primary_color}10, ${u.accent_color}10, white)`},children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u.logo_url?e.jsx("img",{src:u.logo_url,alt:"Logo",className:"h-8 w-8 object-contain rounded-lg",onError:f=>{f.target.style.display="none"}}):e.jsx("div",{className:"h-8 w-8 rounded-lg flex items-center justify-center",style:j,children:e.jsx(oe,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"font-bold text-gray-900",children:(i==null?void 0:i.name)||t})]}),e.jsx("a",{href:"/",className:"text-sm font-medium hover:opacity-80 transition-opacity",style:{color:u.primary_color},children:"Create your own "})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-8",children:[e.jsxs("div",{className:"px-8 py-12 text-center",style:j,children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:i!=null&&i.avatar_url?e.jsx("img",{src:i.avatar_url,alt:i.name,className:"w-24 h-24 rounded-full object-cover"}):u.logo_url?e.jsx("img",{src:u.logo_url,alt:"Logo",className:"w-16 h-16 object-contain"}):e.jsx(ht,{className:"h-12 w-12",style:{color:u.primary_color}})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:(i==null?void 0:i.name)||(i==null?void 0:i.username)||t}),(i==null?void 0:i.bio)&&e.jsx("p",{className:"text-white/90 max-w-md mx-auto",children:i.bio})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5",style:{color:u.primary_color}}),"Select a Meeting Type"]}),c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No meeting types available"})]}):e.jsx("div",{className:"space-y-4",children:c.map(f=>e.jsx("button",{onClick:()=>w(f),className:"w-full text-left p-6 rounded-2xl border-2 border-gray-100 hover:shadow-lg transition-all group",onMouseEnter:b=>{b.currentTarget.style.borderColor=u.primary_color+"50",b.currentTarget.style.backgroundColor=u.primary_color+"08"},onMouseLeave:b=>{b.currentTarget.style.borderColor="#f3f4f6",b.currentTarget.style.backgroundColor="transparent"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:f.color||u.primary_color}}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:opacity-90 transition-colors",children:f.name})]}),f.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:f.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"h-4 w-4"}),f.duration," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[g(f.location_type),v(f.location_type)]}),f.price>0&&e.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:["$",f.price]})]})]}),e.jsx("div",{className:"ml-4 flex items-center",children:e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center transition-colors",style:{backgroundColor:u.primary_color+"20"},children:e.jsx(Je,{className:"h-5 w-5",style:{color:u.primary_color}})})})]})},f.id))})]})]}),!u.hide_powered_by&&e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Powered by"," ",e.jsx("a",{href:"/",className:"font-medium hover:opacity-80 transition-opacity",style:{color:u.primary_color},children:"ScheduleSync"})]})})]})]})}function Ji({Component:t}){const{login:s}=si(),r=_e(),n=(a,l)=>{console.log(" LoginWrapper received:",{token:(a==null?void 0:a.substring(0,20))+"...",user:l==null?void 0:l.email}),s(a,l),r("/dashboard",{replace:!0})};return e.jsx(t,{onLogin:n})}function Nw(){return e.jsx(wy,{children:e.jsx(Tj,{children:e.jsx(Lj,{children:e.jsx(Ij,{children:e.jsxs(qj,{children:[e.jsxs(dy,{children:[e.jsx(me,{path:"/",element:e.jsx(Ev,{})}),e.jsx(me,{path:"/login",element:e.jsx(Gi,{})}),e.jsx(me,{path:"/register",element:e.jsx(Gi,{})}),e.jsx(me,{path:"/signup",element:e.jsx(Gi,{})}),e.jsx(me,{path:"/demo",element:e.jsx(Lv,{})}),e.jsx(me,{path:"/forgot-password",element:e.jsx(Mv,{})}),e.jsx(me,{path:"/reset-password/:token",element:e.jsx(Rv,{})}),e.jsx(me,{path:"/verify-email",element:e.jsx(Dv,{})}),e.jsx(me,{path:"/oauth/callback",element:e.jsx(Ji,{Component:Tn})}),e.jsx(me,{path:"/oauth/callback/microsoft",element:e.jsx(Ji,{Component:Tn})}),e.jsx(me,{path:"/oauth/callback/calendly",element:e.jsx(Ji,{Component:Tn})}),e.jsx(me,{path:"/oauth/callback/google/guest",element:e.jsx(Tn,{})}),e.jsx(me,{path:"/oauth/callback/microsoft/guest",element:e.jsx(Tn,{})}),e.jsx(me,{path:"/onboarding",element:e.jsx(Hi,{children:e.jsx(Iv,{})})}),e.jsx(me,{path:"/admin",element:e.jsx(Hi,{children:e.jsx(Fv,{})})}),e.jsx(me,{path:"/book/:username/:eventSlug",element:e.jsx(Yi,{})}),e.jsx(me,{path:"/book/:token",element:e.jsx(Yi,{})}),e.jsx(me,{path:"/m/:token",element:e.jsx(Yi,{})}),e.jsx(me,{path:"/book",element:e.jsx(vw,{})}),e.jsx(me,{path:"/manage/:token",element:e.jsx(yw,{})}),e.jsx(me,{path:"/payment/status",element:e.jsx(bw,{})}),e.jsx(me,{path:"/booking-success",element:e.jsx(bm,{})}),e.jsx(me,{path:"/booking-confirmation",element:e.jsx(bm,{})}),e.jsx(me,{path:"/import/calendly",element:e.jsx(Kv,{})}),e.jsxs(me,{element:e.jsx(Hi,{children:e.jsx(Tv,{})}),children:[e.jsx(me,{path:"/dashboard",element:e.jsx(zv,{})}),e.jsx(me,{path:"/bookings",element:e.jsx(Bv,{})}),e.jsx(me,{path:"/availability",element:e.jsx(Jv,{})}),e.jsx(me,{path:"/email-templates",element:e.jsx(Zv,{})}),e.jsx(me,{path:"/my-links",element:e.jsx(ew,{})}),e.jsx(me,{path:"/billing",element:e.jsx(tw,{})}),e.jsx(me,{path:"/events",element:e.jsx(Hv,{})}),e.jsx(me,{path:"/events/new",element:e.jsx(fm,{})}),e.jsx(me,{path:"/events/:id",element:e.jsx(Yv,{})}),e.jsx(me,{path:"/events/:id/edit",element:e.jsx(fm,{})}),e.jsx(me,{path:"/teams",element:e.jsx(sw,{})}),e.jsx(me,{path:"/teams/:teamId/settings",element:e.jsx(rw,{})}),e.jsx(me,{path:"/teams/:teamId/members",element:e.jsx(aw,{})}),e.jsx(me,{path:"/teams/:teamId/members/:memberId/availability",element:e.jsx(ow,{})}),e.jsx(me,{path:"/invite/:token",element:e.jsx($v,{})}),e.jsx(me,{path:"/settings",element:e.jsx(dw,{})}),e.jsx(me,{path:"/settings/calendar",element:e.jsx(uw,{})})]}),e.jsx(me,{path:"/:username",element:e.jsx(ww,{})}),e.jsx(me,{path:"*",element:e.jsx(ll,{to:"/",replace:!0})})]}),e.jsx(_v,{})]})})})})})}function kw(){return e.jsx(yy,{children:e.jsx(Nw,{})})}Ki.createRoot(document.getElementById("root")).render(e.jsx(Te.StrictMode,{children:e.jsx(kw,{})}));
